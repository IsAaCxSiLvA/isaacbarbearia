var $N=Object.defineProperty,zN=Object.defineProperties;var qN=Object.getOwnPropertyDescriptors;var Qu=Object.getOwnPropertySymbols;var Sw=Object.prototype.hasOwnProperty,Aw=Object.prototype.propertyIsEnumerable;var Tw=(n,e,t)=>e in n?$N(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,N=(n,e)=>{for(var t in e||={})Sw.call(e,t)&&Tw(n,t,e[t]);if(Qu)for(var t of Qu(e))Aw.call(e,t)&&Tw(n,t,e[t]);return n},$=(n,e)=>zN(n,qN(e));var jp=(n,e)=>{var t={};for(var r in n)Sw.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Qu)for(var r of Qu(n))e.indexOf(r)<0&&Aw.call(n,r)&&(t[r]=n[r]);return t};var Ct=null,Yu=!1,$p=1,GN=null,xt=Symbol("SIGNAL");function Q(n){let e=Ct;return Ct=n,e}function Zu(){return Ct}var Da={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ba(n){if(Yu)throw new Error("");if(Ct===null)return;Ct.consumerOnSignalRead(n);let e=Ct.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=Ct.recomputing;if(r&&(t=e!==void 0?e.nextProducer:Ct.producers,t!==void 0&&t.producer===n)){Ct.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===Ct&&(!r||KN(i,Ct)))return;let o=Bo(Ct),s={producer:n,consumer:Ct,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};Ct.producersTail=s,e!==void 0?e.nextProducer=s:Ct.producers=s,o&&xw(n,s)}function Rw(){$p++}function zp(n){if(!(Bo(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===$p)){if(!n.producerMustRecompute(n)&&!el(n)){Hp(n);return}n.producerRecomputeValue(n),Hp(n)}}function qp(n){if(n.consumers===void 0)return;let e=Yu;Yu=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||WN(r)}}finally{Yu=e}}function Gp(){return Ct?.consumerAllowSignalWrites!==!1}function WN(n){n.dirty=!0,qp(n),n.consumerMarkedDirty?.(n)}function Hp(n){n.dirty=!1,n.lastCleanEpoch=$p}function Ca(n){return n&&Mw(n),Q(n)}function Mw(n){n.producersTail=void 0,n.recomputing=!0}function Xu(n,e){Q(e),n&&Nw(n)}function Nw(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(Bo(n))do t=Wp(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function el(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(zp(t),r!==t.version))return!0}return!1}function Ta(n){if(Bo(n)){let e=n.producers;for(;e!==void 0;)e=Wp(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function xw(n,e){let t=n.consumersTail,r=Bo(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)xw(i.producer,i)}function Wp(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Bo(e)){let o=e.producers;for(;o!==void 0;)o=Wp(o)}return t}function Bo(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Kp(n){GN?.(n)}function KN(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Qp(n,e){return Object.is(n,e)}function tl(n,e){let t=Object.create(QN);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(zp(t),ba(t),t.value===Ju)throw t.error;return t.value};return r[xt]=t,Kp(t),r}var Up=Symbol("UNSET"),Bp=Symbol("COMPUTING"),Ju=Symbol("ERRORED"),QN=$(N({},Da),{value:Up,dirty:!0,error:null,equal:Qp,kind:"computed",producerMustRecompute(n){return n.value===Up||n.value===Bp},producerRecomputeValue(n){if(n.value===Bp)throw new Error("");let e=n.value;n.value=Bp;let t=Ca(n),r,i=!1;try{r=n.computation(),Q(null),i=e!==Up&&e!==Ju&&r!==Ju&&n.equal(e,r)}catch(o){r=Ju,n.error=o}finally{Xu(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function YN(){throw new Error}var Pw=YN;function Ow(n){Pw(n)}function Yp(n){Pw=n}var JN=null;function Jp(n,e){let t=Object.create(nl);t.value=n,e!==void 0&&(t.equal=e);let r=()=>kw(t);return r[xt]=t,Kp(t),[r,s=>Sa(t,s),s=>Fw(t,s)]}function kw(n){return ba(n),n.value}function Sa(n,e){Gp()||Ow(n),n.equal(n.value,e)||(n.value=e,ZN(n))}function Fw(n,e){Gp()||Ow(n),Sa(n,e(n.value))}var nl=$(N({},Da),{equal:Qp,value:void 0,kind:"signal"});function ZN(n){n.version++,Rw(),qp(n),JN?.(n)}function Zp(n){let e=Q(null);try{return n()}finally{Q(e)}}function te(n){return typeof n=="function"}function Ho(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var rl=Ho(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Aa(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var mt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(te(r))try{r()}catch(o){e=o instanceof rl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Lw(o)}catch(s){e=e??[],s instanceof rl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new rl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Lw(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Aa(t,e)}remove(e){let{_finalizers:t}=this;t&&Aa(t,e),e instanceof n&&e._removeParent(this)}};mt.EMPTY=(()=>{let n=new mt;return n.closed=!0,n})();var Xp=mt.EMPTY;function il(n){return n instanceof mt||n&&"closed"in n&&te(n.remove)&&te(n.add)&&te(n.unsubscribe)}function Lw(n){te(n)?n():n.unsubscribe()}var pn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var $o={setTimeout(n,e,...t){let{delegate:r}=$o;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=$o;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ol(n){$o.setTimeout(()=>{let{onUnhandledError:e}=pn;if(e)e(n);else throw n})}function Ra(){}var Vw=eg("C",void 0,void 0);function jw(n){return eg("E",void 0,n)}function Uw(n){return eg("N",n,void 0)}function eg(n,e,t){return{kind:n,value:e,error:t}}var xi=null;function zo(n){if(pn.useDeprecatedSynchronousErrorHandling){let e=!xi;if(e&&(xi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=xi;if(xi=null,t)throw r}}else n()}function Bw(n){pn.useDeprecatedSynchronousErrorHandling&&xi&&(xi.errorThrown=!0,xi.error=n)}var Pi=class extends mt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,il(e)&&e.add(this)):this.destination=tx}static create(e,t,r){return new qo(e,t,r)}next(e){this.isStopped?ng(Uw(e),this):this._next(e)}error(e){this.isStopped?ng(jw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ng(Vw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},XN=Function.prototype.bind;function tg(n,e){return XN.call(n,e)}var rg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){sl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){sl(r)}else sl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){sl(t)}}},qo=class extends Pi{constructor(e,t,r){super();let i;if(te(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&pn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&tg(e.next,o),error:e.error&&tg(e.error,o),complete:e.complete&&tg(e.complete,o)}):i=e}this.destination=new rg(i)}};function sl(n){pn.useDeprecatedSynchronousErrorHandling?Bw(n):ol(n)}function ex(n){throw n}function ng(n,e){let{onStoppedNotification:t}=pn;t&&$o.setTimeout(()=>t(n,e))}var tx={closed:!0,next:Ra,error:ex,complete:Ra};var Go=typeof Symbol=="function"&&Symbol.observable||"@@observable";function gn(n){return n}function ig(...n){return og(n)}function og(n){return n.length===0?gn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var me=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=rx(t)?t:new qo(t,r,i);return zo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Hw(r),new r((i,o)=>{let s=new qo({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Go](){return this}pipe(...t){return og(t)(this)}toPromise(t){return t=Hw(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Hw(n){var e;return(e=n??pn.Promise)!==null&&e!==void 0?e:Promise}function nx(n){return n&&te(n.next)&&te(n.error)&&te(n.complete)}function rx(n){return n&&n instanceof Pi||nx(n)&&il(n)}function ix(n){return te(n?.lift)}function Ie(n){return e=>{if(ix(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function we(n,e,t,r,i){return new sg(n,e,t,r,i)}var sg=class extends Pi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var $w=Ho(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var it=(()=>{class n extends me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new al(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new $w}next(t){zo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){zo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){zo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Xp:(this.currentObservers=null,o.push(t),new mt(()=>{this.currentObservers=null,Aa(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new me;return t.source=this,t}}return n.create=(e,t)=>new al(e,t),n})(),al=class extends it{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Xp}};var yt=class extends it{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var vt=new me(n=>n.complete());function zw(n){return n&&te(n.schedule)}function qw(n){return n[n.length-1]}function cl(n){return te(qw(n))?n.pop():void 0}function Gr(n){return zw(qw(n))?n.pop():void 0}function Ww(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function Gw(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Oi(n){return this instanceof Oi?(this.v=n,this):new Oi(n)}function Kw(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(I){return Promise.resolve(I).then(y,p)}}function a(y,I){r[y]&&(i[y]=function(S){return new Promise(function(P,j){o.push([y,S,P,j])>1||u(y,S)})},I&&(i[y]=I(i[y])))}function u(y,I){try{l(r[y](I))}catch(S){g(o[0][3],S)}}function l(y){y.value instanceof Oi?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,I){y(I),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Qw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Gw=="function"?Gw(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var ul=n=>n&&typeof n.length=="number"&&typeof n!="function";function ll(n){return te(n?.then)}function dl(n){return te(n[Go])}function hl(n){return Symbol.asyncIterator&&te(n?.[Symbol.asyncIterator])}function fl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ox(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var pl=ox();function gl(n){return te(n?.[pl])}function ml(n){return Kw(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Oi(t.read());if(i)return yield Oi(void 0);yield yield Oi(r)}}finally{t.releaseLock()}})}function yl(n){return te(n?.getReader)}function Ge(n){if(n instanceof me)return n;if(n!=null){if(dl(n))return sx(n);if(ul(n))return ax(n);if(ll(n))return cx(n);if(hl(n))return Yw(n);if(gl(n))return ux(n);if(yl(n))return lx(n)}throw fl(n)}function sx(n){return new me(e=>{let t=n[Go]();if(te(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ax(n){return new me(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function cx(n){return new me(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ol)})}function ux(n){return new me(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Yw(n){return new me(e=>{dx(n,e).catch(t=>e.error(t))})}function lx(n){return Yw(ml(n))}function dx(n,e){var t,r,i,o;return Ww(this,void 0,void 0,function*(){try{for(t=Qw(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Lt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function vl(n,e=0){return Ie((t,r)=>{t.subscribe(we(r,i=>Lt(r,n,()=>r.next(i),e),()=>Lt(r,n,()=>r.complete(),e),i=>Lt(r,n,()=>r.error(i),e)))})}function _l(n,e=0){return Ie((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Jw(n,e){return Ge(n).pipe(_l(e),vl(e))}function Zw(n,e){return Ge(n).pipe(_l(e),vl(e))}function Xw(n,e){return new me(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function eD(n,e){return new me(t=>{let r;return Lt(t,e,()=>{r=n[pl](),Lt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}function El(n,e){if(!n)throw new Error("Iterable cannot be null");return new me(t=>{Lt(t,e,()=>{let r=n[Symbol.asyncIterator]();Lt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function tD(n,e){return El(ml(n),e)}function nD(n,e){if(n!=null){if(dl(n))return Jw(n,e);if(ul(n))return Xw(n,e);if(ll(n))return Zw(n,e);if(hl(n))return El(n,e);if(gl(n))return eD(n,e);if(yl(n))return tD(n,e)}throw fl(n)}function We(n,e){return e?nD(n,e):Ge(n)}function fe(...n){let e=Gr(n);return We(n,e)}function ag(n,e){let t=te(n)?n:()=>n,r=i=>i.error(t());return new me(e?i=>e.schedule(r,0,i):r)}function Il(n){return!!n&&(n instanceof me||te(n.lift)&&te(n.subscribe))}var ki=Ho(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Pe(n,e){return Ie((t,r)=>{let i=0;t.subscribe(we(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:hx}=Array;function fx(n,e){return hx(e)?n(...e):n(e)}function wl(n){return Pe(e=>fx(n,e))}var{isArray:px}=Array,{getPrototypeOf:gx,prototype:mx,keys:yx}=Object;function Dl(n){if(n.length===1){let e=n[0];if(px(e))return{args:e,keys:null};if(vx(e)){let t=yx(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function vx(n){return n&&typeof n=="object"&&gx(n)===mx}function bl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function cg(...n){let e=Gr(n),t=cl(n),{args:r,keys:i}=Dl(n);if(r.length===0)return We([],e);let o=new me(_x(r,e,i?s=>bl(i,s):gn));return t?o.pipe(wl(t)):o}function _x(n,e,t=gn){return r=>{rD(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)rD(e,()=>{let l=We(n[u],e),h=!1;l.subscribe(we(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function rD(n,e,t){n?Lt(t,n,e):e()}function iD(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=S=>l<r?I(S):u.push(S),I=S=>{o&&e.next(S),l++;let P=!1;Ge(t(S,h++)).subscribe(we(e,j=>{i?.(j),o?y(j):e.next(j)},()=>{P=!0},void 0,()=>{if(P)try{for(l--;u.length&&l<r;){let j=u.shift();s?Lt(e,s,()=>I(j)):I(j)}g()}catch(j){e.error(j)}}))};return n.subscribe(we(e,y,()=>{p=!0,g()})),()=>{a?.()}}function Pt(n,e,t=1/0){return te(e)?Pt((r,i)=>Pe((o,s)=>e(r,o,i,s))(Ge(n(r,i))),t):(typeof e=="number"&&(t=e),Ie((r,i)=>iD(r,i,n,t)))}function oD(n=1/0){return Pt(gn,n)}function sD(){return oD(1)}function Wo(...n){return sD()(We(n,Gr(n)))}function Ma(n){return new me(e=>{Ge(n()).subscribe(e)})}function ug(...n){let e=cl(n),{args:t,keys:r}=Dl(n),i=new me(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Ge(t[h]).subscribe(we(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?bl(r,a):a),o.complete())}))}});return e?i.pipe(wl(e)):i}function cr(n,e){return Ie((t,r)=>{let i=0;t.subscribe(we(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Na(n){return Ie((e,t)=>{let r=null,i=!1,o;r=e.subscribe(we(t,void 0,void 0,s=>{o=Ge(n(s,Na(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Cl(n,e){return te(e)?Pt(n,e,1):Pt(n,1)}function aD(n){return Ie((e,t)=>{let r=!1;e.subscribe(we(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ur(n){return n<=0?()=>vt:Ie((e,t)=>{let r=0;e.subscribe(we(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function cD(n=Ex){return Ie((e,t)=>{let r=!1;e.subscribe(we(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Ex(){return new ki}function lg(n){return Ie((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function lr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?cr((i,o)=>n(i,o,r)):gn,ur(1),t?aD(e):cD(()=>new ki))}function Tl(n){return n<=0?()=>vt:Ie((e,t)=>{let r=[];e.subscribe(we(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function dg(...n){let e=Gr(n);return Ie((t,r)=>{(e?Wo(n,t,e):Wo(n,t)).subscribe(r)})}function dr(n,e){return Ie((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(we(r,u=>{i?.unsubscribe();let l=0,h=o++;Ge(n(u,h)).subscribe(i=we(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function xa(n){return Ie((e,t)=>{Ge(n).subscribe(we(t,()=>t.complete(),Ra)),!t.closed&&e.subscribe(t)})}function On(n,e,t){let r=te(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ie((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(we(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):gn}var hg;function Sl(){return hg}function kn(n){let e=hg;return hg=n,e}var uD=Symbol("NotFound");function Ko(n){return n===uD||n?.name==="\u0275NotFound"}var xl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",H=class extends Error{code;constructor(e,t){super(Bi(e,t)),this.code=e}};function Dx(n){return`NG0${Math.abs(n)}`}function Bi(n,e){return`${Dx(n)}${e?": "+e:""}`}function De(n){for(let e in n)if(n[e]===De)return e;throw Error("")}function pD(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function fr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(fr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Sg(n,e){return n?e?`${n} ${e}`:n:e||""}var bx=De({__forward_ref__:De});function gr(n){return n.__forward_ref__=gr,n.toString=function(){return fr(this())},n}function _t(n){return Ag(n)?n():n}function Ag(n){return typeof n=="function"&&n.hasOwnProperty(bx)&&n.__forward_ref__===gr}function G(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function mr(n){return{providers:n.providers||[],imports:n.imports||[]}}function Va(n){return Cx(n,Pl)}function Rg(n){return Va(n)!==null}function Cx(n,e){return n.hasOwnProperty(e)&&n[e]||null}function Tx(n){let e=n?.[Pl]??null;return e||null}function pg(n){return n&&n.hasOwnProperty(Rl)?n[Rl]:null}var Pl=De({\u0275prov:De}),Rl=De({\u0275inj:De}),z=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=G({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Mg(n){return n&&!!n.\u0275providers}var Ng=De({\u0275cmp:De}),xg=De({\u0275dir:De}),Pg=De({\u0275pipe:De}),Og=De({\u0275mod:De}),Oa=De({\u0275fac:De}),Hi=De({__NG_ELEMENT_ID__:De}),lD=De({__NG_ENV_ID__:De});function kg(n){return Ol(n,"@NgModule"),n[Og]||null}function Kr(n){return Ol(n,"@Component"),n[Ng]||null}function Fg(n){return Ol(n,"@Directive"),n[xg]||null}function gD(n){return Ol(n,"@Pipe"),n[Pg]||null}function Ol(n,e){if(n==null)throw new H(-919,!1)}function Jo(n){return typeof n=="string"?n:n==null?"":String(n)}var mD=De({ngErrorCode:De}),Sx=De({ngErrorMessage:De}),Ax=De({ngTokenPath:De});function Lg(n,e){return yD("",-200,e)}function kl(n,e){throw new H(-201,!1)}function yD(n,e,t){let r=new H(e,n);return r[mD]=e,r[Sx]=n,t&&(r[Ax]=t),r}function Rx(n){return n[mD]}var gg;function vD(){return gg}function zt(n){let e=gg;return gg=n,e}function Vg(n,e,t){let r=Va(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;kl(n,"")}var Mx={},Fi=Mx,Nx="__NG_DI_FLAG__",mg=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Li(t)||0;try{return this.injector.get(e,r&8?null:Fi,r)}catch(i){if(Ko(i))return i;throw i}}};function xx(n,e=0){let t=Sl();if(t===void 0)throw new H(-203,!1);if(t===null)return Vg(n,void 0,e);{let r=Px(e),i=t.retrieve(n,r);if(Ko(i)){if(r.optional)return null;throw i}return i}}function oe(n,e=0){return(vD()||xx)(_t(n),e)}function L(n,e){return oe(n,Li(e))}function Li(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Px(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function yg(n){let e=[];for(let t=0;t<n.length;t++){let r=_t(n[t]);if(Array.isArray(r)){if(r.length===0)throw new H(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=Ox(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(oe(i,o))}else e.push(oe(r))}return e}function Ox(n){return n[Nx]}function Vi(n,e){let t=n.hasOwnProperty(Oa);return t?n[Oa]:null}function Fl(n,e){n.forEach(t=>Array.isArray(t)?Fl(t,e):e(t))}function jg(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ja(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function _D(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function ED(n,e,t){let r=Zo(n,e);return r>=0?n[r|1]=t:(r=~r,_D(n,r,e,t)),r}function Ll(n,e){let t=Zo(n,e);if(t>=0)return n[t|1]}function Zo(n,e){return kx(n,e,1)}function kx(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Qr={},qt=[],Xo=new z(""),Ug=new z("",-1),Bg=new z(""),ka=class{get(e,t=Fi){if(t===Fi){let i=yD("",-201);throw i.name="\u0275NotFound",i}return t}};function Ua(n){return{\u0275providers:n}}function ID(...n){return{\u0275providers:Hg(!0,n),\u0275fromNgModule:!0}}function Hg(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Fl(e,s=>{let a=s;Ml(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&wD(i,o),t}function wD(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];$g(i,o=>{e(o,r)})}}function Ml(n,e,t,r){if(n=_t(n),!n)return!1;let i=null,o=pg(n),s=!o&&Kr(n);if(!o&&!s){let u=n.ngModule;if(o=pg(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Ml(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;Fl(o.imports,h=>{Ml(h,e,t,r)&&(l||=[],l.push(h))}),l!==void 0&&wD(l,e)}if(!a){let l=Vi(i)||(()=>new i);e({provide:i,useFactory:l,deps:qt},i),e({provide:Bg,useValue:i,multi:!0},i),e({provide:Xo,useValue:()=>oe(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;$g(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function $g(n,e){for(let t of n)Mg(t)&&(t=t.\u0275providers),Array.isArray(t)?$g(t,e):e(t)}var Fx=De({provide:String,useValue:De});function DD(n){return n!==null&&typeof n=="object"&&Fx in n}function Lx(n){return!!(n&&n.useExisting)}function Vx(n){return!!(n&&n.useFactory)}function ji(n){return typeof n=="function"}function bD(n){return!!n.useClass}var Ba=new z(""),Al={},dD={},fg;function Ha(){return fg===void 0&&(fg=new ka),fg}var et=class{},Ui=class extends et{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,_g(e,s=>this.processProvider(s)),this.records.set(Ug,Qo(void 0,this)),i.has("environment")&&this.records.set(et,Qo(void 0,this));let o=this.records.get(Ba);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Bg,qt,{self:!0}))}retrieve(e,t){let r=Li(t)||0;try{return this.get(e,Fi,r)}catch(i){if(Ko(i))return i;throw i}}destroy(){Pa(this),this._destroyed=!0;let e=Q(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Q(e)}}onDestroy(e){return Pa(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Pa(this);let t=kn(this),r=zt(void 0),i;try{return e()}finally{kn(t),zt(r)}}get(e,t=Fi,r){if(Pa(this),e.hasOwnProperty(lD))return e[lD](this);let i=Li(r),o,s=kn(this),a=zt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=$x(e)&&Va(e);h&&this.injectableDefInScope(h)?l=Qo(vg(e),Al):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Ha():this.parent;return t=i&8&&t===Fi?null:t,u.get(e,t)}catch(u){let l=Rx(u);throw l===-200||l===-201?new H(l,null):u}finally{zt(a),kn(s)}}resolveInjectorInitializers(){let e=Q(null),t=kn(this),r=zt(void 0),i;try{let o=this.get(Xo,qt,{self:!0});for(let s of o)s()}finally{kn(t),zt(r),Q(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(fr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=_t(e);let t=ji(e)?e:_t(e&&e.provide),r=Ux(e);if(!ji(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Qo(void 0,Al,!0),i.factory=()=>yg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Q(null);try{if(t.value===dD)throw Lg(fr(e));return t.value===Al&&(t.value=dD,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&Hx(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Q(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=_t(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function vg(n){let e=Va(n),t=e!==null?e.factory:Vi(n);if(t!==null)return t;if(n instanceof z)throw new H(204,!1);if(n instanceof Function)return jx(n);throw new H(204,!1)}function jx(n){if(n.length>0)throw new H(204,!1);let t=Tx(n);return t!==null?()=>t.factory(n):()=>new n}function Ux(n){if(DD(n))return Qo(void 0,n.useValue);{let e=zg(n);return Qo(e,Al)}}function zg(n,e,t){let r;if(ji(n)){let i=_t(n);return Vi(i)||vg(i)}else if(DD(n))r=()=>_t(n.useValue);else if(Vx(n))r=()=>n.useFactory(...yg(n.deps||[]));else if(Lx(n))r=(i,o)=>oe(_t(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=_t(n&&(n.useClass||n.provide));if(Bx(n))r=()=>new i(...yg(n.deps));else return Vi(i)||vg(i)}return r}function Pa(n){if(n.destroyed)throw new H(205,!1)}function Qo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Bx(n){return!!n.deps}function Hx(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function $x(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function _g(n,e){for(let t of n)Array.isArray(t)?_g(t,e):t&&Mg(t)?_g(t.\u0275providers,e):e(t)}function Tt(n,e){let t;n instanceof Ui?(Pa(n),t=n):t=new mg(n);let r,i=kn(t),o=zt(void 0);try{return e()}finally{kn(i),zt(o)}}function CD(){return vD()!==void 0||Sl()!=null}var mn=0,J=1,ne=2,ot=3,nn=4,rn=5,es=6,ts=7,Ue=8,yr=9,Fn=10,Fe=11,ns=12,qg=13,$i=14,Wt=15,zi=16,qi=17,Gi=18,vr=19,Gg=20,hr=21,Vl=22,$a=23,Kt=24,jl=25,Wi=26,Et=27,TD=1,Wg=6,Yr=7,za=8,qa=9,Be=10;function Ln(n){return Array.isArray(n)&&typeof n[TD]=="object"}function yn(n){return Array.isArray(n)&&n[TD]===!0}function Kg(n){return(n.flags&4)!==0}function Jr(n){return n.componentOffset>-1}function Ga(n){return(n.flags&1)===1}function Vn(n){return!!n.template}function rs(n){return(n[ne]&512)!==0}function Ki(n){return(n[ne]&256)===256}var Qg="svg",SD="math";function on(n){for(;Array.isArray(n);)n=n[mn];return n}function Yg(n,e){return on(e[n])}function vn(n,e){return on(e[n.index])}function Wa(n,e){return n.data[e]}function sn(n,e){let t=e[n];return Ln(t)?t:t[mn]}function Ul(n){return(n[ne]&128)===128}function AD(n){return yn(n[ot])}function jn(n,e){return e==null?null:n[e]}function Jg(n){n[qi]=0}function Zg(n){n[ne]&1024||(n[ne]|=1024,Ul(n)&&Qa(n))}function RD(n,e){for(;n>0;)e=e[$i],n--;return e}function Ka(n){return!!(n[ne]&9216||n[Kt]?.dirty)}function Bl(n){n[Fn].changeDetectionScheduler?.notify(8),n[ne]&64&&(n[ne]|=1024),Ka(n)&&Qa(n)}function Qa(n){n[Fn].changeDetectionScheduler?.notify(0);let e=Wr(n);for(;e!==null&&!(e[ne]&8192||(e[ne]|=8192,!Ul(e)));)e=Wr(e)}function Xg(n,e){if(Ki(n))throw new H(911,!1);n[hr]===null&&(n[hr]=[]),n[hr].push(e)}function MD(n,e){if(n[hr]===null)return;let t=n[hr].indexOf(e);t!==-1&&n[hr].splice(t,1)}function Wr(n){let e=n[ot];return yn(e)?e[ot]:e}function ND(n){return n[ts]??=[]}function xD(n){return n.cleanup??=[]}var se={lFrame:QD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Eg=!1;function PD(){return se.lFrame.elementDepthCount}function OD(){se.lFrame.elementDepthCount++}function kD(){se.lFrame.elementDepthCount--}function em(){return se.bindingsEnabled}function FD(){return se.skipHydrationRootTNode!==null}function LD(n){return se.skipHydrationRootTNode===n}function VD(){se.skipHydrationRootTNode=null}function pe(){return se.lFrame.lView}function St(){return se.lFrame.tView}function Se(n){return se.lFrame.contextLView=n,n[Ue]}function Ae(n){return se.lFrame.contextLView=null,n}function Qt(){let n=tm();for(;n!==null&&n.type===64;)n=n.parent;return n}function tm(){return se.lFrame.currentTNode}function jD(){let n=se.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function is(n,e){let t=se.lFrame;t.currentTNode=n,t.isParent=e}function nm(){return se.lFrame.isParent}function UD(){se.lFrame.isParent=!1}function rm(){return Eg}function im(n){let e=Eg;return Eg=n,e}function BD(){let n=se.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function HD(){return se.lFrame.bindingIndex}function $D(n){return se.lFrame.bindingIndex=n}function Qi(){return se.lFrame.bindingIndex++}function om(n){let e=se.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function zD(){return se.lFrame.inI18n}function qD(n,e){let t=se.lFrame;t.bindingIndex=t.bindingRootIndex=n,Hl(e)}function GD(){return se.lFrame.currentDirectiveIndex}function Hl(n){se.lFrame.currentDirectiveIndex=n}function WD(n){let e=se.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function sm(n){se.lFrame.currentQueryIndex=n}function zx(n){let e=n[J];return e.type===2?e.declTNode:e.type===1?n[rn]:null}function am(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=zx(o),i===null||(o=o[$i],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=se.lFrame=KD();return r.currentTNode=e,r.lView=n,!0}function $l(n){let e=KD(),t=n[J];se.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function KD(){let n=se.lFrame,e=n===null?null:n.child;return e===null?QD(n):e}function QD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function YD(){let n=se.lFrame;return se.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var cm=YD;function zl(){let n=YD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function JD(n){return(se.lFrame.contextLView=RD(n,se.lFrame.contextLView))[Ue]}function _r(){return se.lFrame.selectedIndex}function Zr(n){se.lFrame.selectedIndex=n}function ql(){let n=se.lFrame;return Wa(n.tView,n.selectedIndex)}function He(){se.lFrame.currentNamespace=Qg}function Un(){qx()}function qx(){se.lFrame.currentNamespace=null}function ZD(){return se.lFrame.currentNamespace}var XD=!0;function Gl(){return XD}function Wl(n){XD=n}function Ig(n,e=null,t=null,r){let i=um(n,e,t,r);return i.resolveInjectorInitializers(),i}function um(n,e=null,t=null,r,i=new Set){let o=[t||qt,ID(n)];return r=r||(typeof n=="object"?void 0:fr(n)),new Ui(o,e||Ha(),r||null,i)}var Gt=class n{static THROW_IF_NOT_FOUND=Fi;static NULL=new ka;static create(e,t){if(Array.isArray(e))return Ig({name:""},t,e,"");{let r=e.name??"";return Ig({name:r},e.parent,e.providers,r)}}static \u0275prov=G({token:n,providedIn:"any",factory:()=>oe(Ug)});static __NG_ELEMENT_ID__=-1},tt=new z(""),Bn=(()=>{class n{static __NG_ELEMENT_ID__=Gx;static __NG_ENV_ID__=t=>t}return n})(),wg=class extends Bn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Ki(this._lView)}onDestroy(e){let t=this._lView;return Xg(t,e),()=>MD(t,e)}};function Gx(){return new wg(pe())}var e0=!1,t0=new z(""),Xr=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new yt(!1);debugTaskTracker=L(t0,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new me(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),this.debugTaskTracker?.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.debugTaskTracker?.remove(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})(),Dg=class extends it{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,CD()&&(this.destroyRef=L(Bn,{optional:!0})??void 0,this.pendingTasks=L(Xr,{optional:!0})??void 0)}emit(e){let t=Q(null);try{super.next(e)}finally{Q(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof mt&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ke=Dg;function Nl(...n){}function lm(n){let e,t;function r(){n=Nl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function n0(n){return queueMicrotask(()=>n()),()=>{n=Nl}}var dm="isAngularZone",Fa=dm+"_ID",Wx=0,Ot=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ke(!1);onMicrotaskEmpty=new Ke(!1);onStable=new Ke(!1);onError=new Ke(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=e0}=e;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Yx(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(dm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new H(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Kx,Nl,Nl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Kx={};function hm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Qx(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){lm(()=>{n.callbackScheduled=!1,bg(n),n.isCheckStableRunning=!0,hm(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),bg(n)}function Yx(n){let e=()=>{Qx(n)},t=Wx++;n._inner=n._inner.fork({name:"angular",properties:{[dm]:!0,[Fa]:t,[Fa+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(Jx(u))return r.invokeTask(o,s,a,u);try{return hD(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),fD(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return hD(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Zx(u)&&e(),fD(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,bg(n),hm(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function bg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function hD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function fD(n){n._nesting--,hm(n)}var La=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ke;onMicrotaskEmpty=new Ke;onStable=new Ke;onError=new Ke;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function Jx(n){return r0(n,"__ignore_ng_zone__")}function Zx(n){return r0(n,"__scheduler_tick__")}function r0(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var pr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Hn=new z("",{factory:()=>{let n=L(Ot),e=L(et),t;return r=>{n.runOutsideAngular(()=>{e.destroyed&&!t?setTimeout(()=>{throw r}):(t??=e.get(pr),t.handleError(r))})}}}),i0={provide:Xo,useValue:()=>{let n=L(pr,{optional:!0})},multi:!0};function de(n,e){let[t,r,i]=Jp(n,e?.equal),o=t,s=o[xt];return o.set=r,o.update=i,o.asReadonly=o0.bind(o),o}function o0(){let n=this[xt];if(n.readonlyFn===void 0){let e=()=>this();e[xt]=n,n.readonlyFn=e}return n.readonlyFn}var Yo=class{},Ya=new z("",{factory:()=>!0});var fm=new z("");var pm=(()=>{class n{static \u0275prov=G({token:n,providedIn:"root",factory:()=>new Cg})}return n})(),Cg=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}},Tg=class{[xt];constructor(e){this[xt]=e}destroy(){this[xt].destroy()}};function st(n){return Zp(n)}function oc(n){return{toString:n}.toString()}function a1(n){return typeof n=="function"}function F0(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Zl=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}},Ir=(()=>{let n=()=>L0;return n.ngInherit=!0,n})();function L0(n){return n.type.prototype.ngOnChanges&&(n.setInput=u1),c1}function c1(){let n=j0(this),e=n?.current;if(e){let t=n.previous;if(t===Qr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function u1(n,e,t,r,i){let o=this.declaredInputs[r],s=j0(n)||l1(n,{previous:Qr,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Zl(l&&l.currentValue,t,u===Qr),F0(n,e,i,t)}var V0="__ngSimpleChanges__";function j0(n){return n[V0]||null}function l1(n,e){return n[V0]=e}var s0=[];var Ce=function(n,e=null,t){for(let r=0;r<s0.length;r++){let i=s0[r];i(n,e,t)}},ve=(function(n){return n[n.TemplateCreateStart=0]="TemplateCreateStart",n[n.TemplateCreateEnd=1]="TemplateCreateEnd",n[n.TemplateUpdateStart=2]="TemplateUpdateStart",n[n.TemplateUpdateEnd=3]="TemplateUpdateEnd",n[n.LifecycleHookStart=4]="LifecycleHookStart",n[n.LifecycleHookEnd=5]="LifecycleHookEnd",n[n.OutputStart=6]="OutputStart",n[n.OutputEnd=7]="OutputEnd",n[n.BootstrapApplicationStart=8]="BootstrapApplicationStart",n[n.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",n[n.BootstrapComponentStart=10]="BootstrapComponentStart",n[n.BootstrapComponentEnd=11]="BootstrapComponentEnd",n[n.ChangeDetectionStart=12]="ChangeDetectionStart",n[n.ChangeDetectionEnd=13]="ChangeDetectionEnd",n[n.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",n[n.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",n[n.AfterRenderHooksStart=16]="AfterRenderHooksStart",n[n.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",n[n.ComponentStart=18]="ComponentStart",n[n.ComponentEnd=19]="ComponentEnd",n[n.DeferBlockStateStart=20]="DeferBlockStateStart",n[n.DeferBlockStateEnd=21]="DeferBlockStateEnd",n[n.DynamicComponentStart=22]="DynamicComponentStart",n[n.DynamicComponentEnd=23]="DynamicComponentEnd",n[n.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",n[n.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",n})(ve||{});function d1(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=L0(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function U0(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Ql(n,e,t){B0(n,e,3,t)}function Yl(n,e,t,r){(n[ne]&3)===t&&B0(n,e,t,r)}function gm(n,e){let t=n[ne];(t&3)===e&&(t&=16383,t+=1,n[ne]=t)}function B0(n,e,t,r){let i=r!==void 0?n[qi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[qi]+=65536),(a<o||o==-1)&&(h1(n,t,e,u),n[qi]=(n[qi]&4294901760)+u+2),u++}function a0(n,e){Ce(ve.LifecycleHookStart,n,e);let t=Q(null);try{e.call(n)}finally{Q(t),Ce(ve.LifecycleHookEnd,n,e)}}function h1(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ne]>>14<n[qi]>>16&&(n[ne]&3)===e&&(n[ne]+=16384,a0(a,o)):a0(a,o)}var ss=-1,Ji=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function f1(n){return(n.flags&8)!==0}function p1(n){return(n.flags&16)!==0}function g1(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];y1(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function m1(n){return n===3||n===4||n===6}function y1(n){return n.charCodeAt(0)===64}function Xa(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?c0(n,t,i,null,e[++r]):c0(n,t,i,null,null))}}return n}function c0(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function H0(n){return n!==ss}function Xl(n){return n&32767}function v1(n){return n>>16}function ed(n,e){let t=v1(n),r=e;for(;t>0;)r=r[$i],t--;return r}var Tm=!0;function u0(n){let e=Tm;return Tm=n,e}var _1=256,$0=_1-1,z0=5,E1=0,$n={};function I1(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Hi)&&(r=t[Hi]),r==null&&(r=t[Hi]=E1++);let i=r&$0,o=1<<i;e.data[n+(i>>z0)]|=o}function td(n,e){let t=q0(n,e);if(t!==-1)return t;let r=e[J];r.firstCreatePass&&(n.injectorIndex=e.length,mm(r.data,n),mm(e,null),mm(r.blueprint,null));let i=Wm(n,e),o=n.injectorIndex;if(H0(i)){let s=Xl(i),a=ed(i,e),u=a[J].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function mm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function q0(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Wm(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=Y0(i),r===null)return ss;if(t++,i=i[$i],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ss}function Sm(n,e,t){I1(n,e,t)}function G0(n,e,t){if(t&8||n!==void 0)return n;kl(e,"NodeInjector")}function W0(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[yr],o=zt(void 0);try{return i?i.get(e,r,t&8):Vg(e,r,t&8)}finally{zt(o)}}return G0(r,e,t)}function K0(n,e,t,r=0,i){if(n!==null){if(e[ne]&2048&&!(r&2)){let s=T1(n,e,t,r,$n);if(s!==$n)return s}let o=Q0(n,e,t,r,$n);if(o!==$n)return o}return W0(e,t,r,i)}function Q0(n,e,t,r,i){let o=b1(t);if(typeof o=="function"){if(!am(e,n,r))return r&1?G0(i,t,r):W0(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))kl(t);else return s}finally{cm()}}else if(typeof o=="number"){let s=null,a=q0(n,e),u=ss,l=r&1?e[Wt][rn]:null;for((a===-1||r&4)&&(u=a===-1?Wm(n,e):e[a+8],u===ss||!d0(r,!1)?a=-1:(s=e[J],a=Xl(u),e=ed(u,e)));a!==-1;){let h=e[J];if(l0(o,a,h.data)){let p=w1(a,e,t,s,r,l);if(p!==$n)return p}u=e[a+8],u!==ss&&d0(r,e[J].data[a+8]===l)&&l0(o,a,e)?(s=h,a=Xl(u),e=ed(u,e)):a=-1}}return i}function w1(n,e,t,r,i,o){let s=e[J],a=s.data[n+8],u=r==null?Jr(a)&&Tm:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=D1(a,s,t,u,l);return h!==null?nd(e,s,h,a,i):$n}function D1(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let I=s[y];if(y<u&&t===I||y>=u&&I.type===t)return y}if(i){let y=s[u];if(y&&Vn(y)&&y.type===t)return u}return null}function nd(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Ji){let a=o;if(a.resolving)throw Lg("");let u=u0(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],h,p=a.injectImpl?zt(a.injectImpl):null,g=am(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&d1(t,s[t],e)}finally{p!==null&&zt(p),u0(u),a.resolving=!1,cm()}}return o}function b1(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Hi)?n[Hi]:void 0;return typeof e=="number"?e>=0?e&$0:C1:e}function l0(n,e,t){let r=1<<n;return!!(t[e+(n>>z0)]&r)}function d0(n,e){return!(n&2)&&!(n&1&&e)}var Yi=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return K0(this._tNode,this._lView,e,Li(r),t)}};function C1(){return new Yi(Qt(),pe())}function no(n){return oc(()=>{let e=n.prototype.constructor,t=e[Oa]||Am(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Oa]||Am(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Am(n){return Ag(n)?()=>{let e=Am(_t(n));return e&&e()}:Vi(n)}function T1(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ne]&2048&&!rs(s);){let a=Q0(o,s,t,r|2,$n);if(a!==$n)return a;let u=o.parent;if(!u){let l=s[Gg];if(l){let h=l.get(t,$n,r);if(h!==$n)return h}u=Y0(s),s=s[$i]}o=u}return i}function Y0(n){let e=n[J],t=e.type;return t===2?e.declTNode:t===1?n[rn]:null}function S1(){return pd(Qt(),pe())}function pd(n,e){return new ti(vn(n,e))}var ti=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=S1}return n})();function J0(n){return(n.flags&128)===128}var Km=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(Km||{}),Z0=new Map,A1=0;function R1(){return A1++}function M1(n){Z0.set(n[vr],n)}function Rm(n){Z0.delete(n[vr])}var h0="__ngContext__";function as(n,e){Ln(e)?(n[h0]=e[vr],M1(e)):n[h0]=e}function X0(n){return tb(n[ns])}function eb(n){return tb(n[nn])}function tb(n){for(;n!==null&&!yn(n);)n=n[nn];return n}var N1;function Qm(n){N1=n}var gd=new z("",{factory:()=>x1}),x1="ng";var md=new z(""),sc=new z("",{providedIn:"platform",factory:()=>"unknown"});var yd=new z("",{factory:()=>L(tt).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),vd={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},_d=new z("",{factory:()=>vd});var nb="r";var rb="di";var ib=!1,ob=new z("",{factory:()=>ib});var P1=(n,e,t,r)=>{};function O1(n,e,t,r){P1(n,e,t,r)}function Ym(n){return(n.flags&32)===32}var k1=()=>null;function sb(n,e,t=!1){return k1(n,e,t)}function ab(n,e){let t=n.contentQueries;if(t!==null){let r=Q(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];sm(o),a.contentQueries(2,e[s],s)}}}finally{Q(r)}}}function Mm(n,e,t){sm(0);let r=Q(null);try{e(n,t)}finally{Q(r)}}function cb(n,e,t){if(Kg(e)){let r=Q(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{Q(r)}}}var En=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n[n.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",n})(En||{});var rd=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xl})`}};function ac(n){return n instanceof rd?n.changingThisBreaksApplicationSecurity:n}function ub(n,e){let t=lb(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${xl})`)}return t===e}function lb(n){return n instanceof rd&&n.getTypeName()||null}var F1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function db(n){return n=String(n),n.match(F1)?n:"unsafe:"+n}function L1(n,e){return n.createText(e)}function V1(n,e,t){n.setValue(e,t)}function hb(n,e,t){return n.createElement(e,t)}function id(n,e,t,r,i){n.insertBefore(e,t,r,i)}function fb(n,e,t){n.appendChild(e,t)}function f0(n,e,t,r,i){r!==null?id(n,e,t,r,i):fb(n,e,t)}function pb(n,e,t,r){n.removeChild(null,e,t,r)}function j1(n,e,t){n.setAttribute(e,"style",t)}function U1(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function gb(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&g1(n,e,r),i!==null&&U1(n,e,i),o!==null&&j1(n,e,o)}var Jm=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Jm||{});function In(n){let e=B1();return e?e.sanitize(Jm.URL,n)||"":ub(n,"URL")?ac(n):db(Jo(n))}function B1(){let n=pe();return n&&n[Fn].sanitizer}function mb(n){return n instanceof Function?n():n}function H1(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var yb="ng-template";function $1(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&H1(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Zm(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Zm(n){return n.type===4&&n.value!==yb}function z1(n,e,t){let r=n.type===4&&!t?yb:n.value;return e===r}function q1(n,e,t){let r=4,i=n.attrs,o=i!==null?K1(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!_n(r)&&!_n(u))return!1;if(s&&_n(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!z1(n,u,t)||u===""&&e.length===1){if(_n(r))return!1;s=!0}}else if(r&8){if(i===null||!$1(n,i,u,t)){if(_n(r))return!1;s=!0}}else{let l=e[++a],h=G1(u,i,Zm(n),t);if(h===-1){if(_n(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(_n(r))return!1;s=!0}}}}return _n(r)||s}function _n(n){return(n&1)===0}function G1(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Q1(e,n)}function W1(n,e,t=!1){for(let r=0;r<e.length;r++)if(q1(n,e[r],t))return!0;return!1}function K1(n){for(let e=0;e<n.length;e++){let t=n[e];if(m1(t))return e}return n.length}function Q1(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function p0(n,e){return n?":not("+e.trim()+")":e}function Y1(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!_n(s)&&(e+=p0(o,i),i=""),r=s,o=o||!_n(r);t++}return i!==""&&(e+=p0(o,i)),e}function J1(n){return n.map(Y1).join(",")}function Z1(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!_n(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var an={};function Xm(n,e,t,r,i,o,s,a,u,l,h){let p=Et+r,g=p+i,y=X1(p,g),I=typeof l=="function"?l():l;return y[J]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:I,incompleteFirstPass:!1,ssrId:h}}function X1(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:an);return t}function eP(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Xm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function ey(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[mn]=i,p[ne]=r|4|128|8|64|1024,(l!==null||n&&n[ne]&2048)&&(p[ne]|=2048),Jg(p),p[ot]=p[$i]=n,p[Ue]=t,p[Fn]=s||n&&n[Fn],p[Fe]=a||n&&n[Fe],p[yr]=u||n&&n[yr]||null,p[rn]=o,p[vr]=R1(),p[es]=h,p[Gg]=l,p[Wt]=e.type==2?n[Wt]:p,p}function tP(n,e,t){let r=vn(e,n),i=eP(t),o=n[Fn].rendererFactory,s=ty(n,ey(n,i,null,vb(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function vb(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function _b(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function ty(n,e){return n[ns]?n[qg][nn]=e:n[ns]=e,n[qg]=e,e}function x(n=1){Eb(St(),pe(),_r()+n,!1)}function Eb(n,e,t,r){if(!r)if((e[ne]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Ql(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Yl(e,o,0,t)}Zr(t)}var Ed=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Ed||{});function Nm(n,e,t,r){let i=Q(null);try{let[o,s,a]=n.inputs[t],u=null;(s&Ed.SignalBased)!==0&&(u=e[o][xt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):F0(e,u,o,r)}finally{Q(i)}}var zn=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(zn||{}),nP;function ny(n,e){return nP(n,e)}var Zi=new Set,ry=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(ry||{}),cc=new z(""),g0=new Set;function qn(n){g0.has(n)||(g0.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Ib=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})();var wb=new z("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:L(et)})});function Db(n,e,t){let r=n.get(wb);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function rP(n,e){let t=n.get(wb);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)t.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function iP(n,e){for(let[t,r]of e)Db(n,r.animateFns)}function m0(n,e,t,r){let i=n?.[Wi]?.enter;e!==null&&i&&i.has(t.index)&&iP(r,i)}function os(n,e,t,r,i,o,s,a){if(i!=null){let u,l=!1;yn(i)?u=i:Ln(i)&&(l=!0,i=i[mn]);let h=on(i);n===0&&r!==null?(m0(a,r,o,t),s==null?fb(e,r,h):id(e,r,h,s||null,!0)):n===1&&r!==null?(m0(a,r,o,t),id(e,r,h,s||null,!0)):n===2?y0(a,o,t,p=>{pb(e,h,l,p)}):n===3&&y0(a,o,t,()=>{e.destroyNode(h)}),u!=null&&yP(e,n,t,u,o,r,s)}}function oP(n,e){bb(n,e),e[mn]=null,e[rn]=null}function sP(n,e,t,r,i,o){r[mn]=i,r[rn]=e,wd(n,r,t,1,i,o)}function bb(n,e){e[Fn].changeDetectionScheduler?.notify(9),wd(n,e,e[Fe],2,null,null)}function aP(n){let e=n[ns];if(!e)return ym(n[J],n);for(;e;){let t=null;if(Ln(e))t=e[ns];else{let r=e[Be];r&&(t=r)}if(!t){for(;e&&!e[nn]&&e!==n;)Ln(e)&&ym(e[J],e),e=e[ot];e===null&&(e=n),Ln(e)&&ym(e[J],e),t=e&&e[nn]}e=t}}function iy(n,e){let t=n[qa],r=t.indexOf(e);t.splice(r,1)}function Id(n,e){if(Ki(e))return;let t=e[Fe];t.destroyNode&&wd(n,e,t,3,null,null),aP(e)}function ym(n,e){if(Ki(e))return;let t=Q(null);try{e[ne]&=-129,e[ne]|=256,e[Kt]&&Ta(e[Kt]),lP(n,e),uP(n,e),e[J].type===1&&e[Fe].destroy();let r=e[zi];if(r!==null&&yn(e[ot])){r!==e[ot]&&iy(r,e);let i=e[Gi];i!==null&&i.detachView(n)}Rm(e)}finally{Q(t)}}function y0(n,e,t,r){let i=n?.[Wi];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&Zi.add(n[vr]),Db(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:h}=l();a.push(h)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),cP(n,r)}else n&&Zi.delete(n[vr]),r(!1)},i)}function cP(n,e){let t=n[Wi]?.running;if(t){t.then(()=>{n[Wi].running=void 0,Zi.delete(n[vr]),e(!0)});return}e(!1)}function uP(n,e){let t=n.cleanup,r=e[ts];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[ts]=null);let i=e[hr];if(i!==null){e[hr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[$a];if(o!==null){e[$a]=null;for(let s of o)s.destroy()}}function lP(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Ji)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Ce(ve.LifecycleHookStart,a,u);try{u.call(a)}finally{Ce(ve.LifecycleHookEnd,a,u)}}else{Ce(ve.LifecycleHookStart,i,o);try{o.call(i)}finally{Ce(ve.LifecycleHookEnd,i,o)}}}}}function dP(n,e,t){return hP(n,e.parent,t)}function hP(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[mn];if(Jr(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===En.None||i===En.Emulated)return null}return vn(r,t)}function fP(n,e,t){return gP(n,e,t)}function pP(n,e,t){return n.type&40?vn(n,t):null}var gP=pP,v0;function oy(n,e,t,r){let i=dP(n,r,e),o=e[Fe],s=r.parent||e[rn],a=fP(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)f0(o,i,t[u],a,!1);else f0(o,i,t,a,!1);v0!==void 0&&v0(o,r,e,t,i)}function Ja(n,e){if(e!==null){let t=e.type;if(t&3)return vn(e,n);if(t&4)return xm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Ja(n,r);{let i=n[e.index];return yn(i)?xm(-1,i):on(i)}}else{if(t&128)return Ja(n,e.next);if(t&32)return ny(e,n)()||on(n[e.index]);{let r=Cb(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Wr(n[Wt]);return Ja(i,r)}else return Ja(n,e.next)}}}return null}function Cb(n,e){if(e!==null){let r=n[Wt][rn],i=e.projection;return r.projection[i]}return null}function xm(n,e){let t=Be+n+1;if(t<e.length){let r=e[t],i=r[J].firstChild;if(i!==null)return Ja(r,i)}return e[Yr]}function sy(n,e,t,r,i,o,s){for(;t!=null;){let a=r[yr];if(t.type===128){t=t.next;continue}let u=r[t.index],l=t.type;if(s&&e===0&&(u&&as(on(u),r),t.flags|=2),!Ym(t))if(l&8)sy(n,e,t.child,r,i,o,!1),os(e,n,a,i,u,t,o,r);else if(l&32){let h=ny(t,r),p;for(;p=h();)os(e,n,a,i,p,t,o,r);os(e,n,a,i,u,t,o,r)}else l&16?mP(n,e,r,t,i,o):os(e,n,a,i,u,t,o,r);t=s?t.projectionNext:t.next}}function wd(n,e,t,r,i,o){sy(t,r,n.firstChild,e,i,o,!1)}function mP(n,e,t,r,i,o){let s=t[Wt],u=s[rn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];os(e,n,t[yr],i,h,r,o,t)}else{let l=u,h=s[ot];J0(r)&&(l.flags|=128),sy(n,e,l,h,i,o,!0)}}function yP(n,e,t,r,i,o,s){let a=r[Yr],u=on(r);a!==u&&os(e,n,t,o,a,i,s);for(let l=Be;l<r.length;l++){let h=r[l];wd(h[J],h,n,e,o,a)}}function vP(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:zn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=zn.Important),n.setStyle(t,r,i,o))}}function Tb(n,e,t,r,i){let o=_r(),s=r&2;try{Zr(-1),s&&e.length>Et&&Eb(n,e,Et,!1);let a=s?ve.TemplateUpdateStart:ve.TemplateCreateStart;Ce(a,i,t),t(r,i)}finally{Zr(o);let a=s?ve.TemplateUpdateEnd:ve.TemplateCreateEnd;Ce(a,i,t)}}function ay(n,e,t){CP(n,e,t),(t.flags&64)===64&&TP(n,e,t)}function cy(n,e,t=vn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function _P(n,e,t,r){let o=r.get(ob,ib)||t===En.ShadowDom||t===En.ExperimentalIsolatedShadowDom,s=n.selectRootElement(e,o);return EP(s),s}function EP(n){IP(n)}var IP=()=>null;function wP(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Sb(n,e,t,r,i,o){let s=e[J];if(uy(n,s,e,t,r)){Jr(n)&&bP(e,n.index);return}n.type&3&&(t=wP(t)),DP(n,e,t,r,i,o)}function DP(n,e,t,r,i,o){if(n.type&3){let s=vn(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function bP(n,e){let t=sn(e,n);t[ne]&16||(t[ne]|=64)}function CP(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Jr(t)&&tP(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||td(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=nd(e,n,s,t);if(as(u,e),o!==null&&MP(e,s-r,u,a,t,o),Vn(a)){let l=sn(t.index,e);l[Ue]=nd(e,n,s,t)}}}function TP(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=GD();try{Zr(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Hl(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&SP(u,l)}}finally{Zr(-1),Hl(s)}}function SP(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Ab(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];W1(e,o.selectors,!1)&&(r??=[],Vn(o)?r.unshift(o):r.push(o))}return r}function AP(n,e,t,r,i,o){let s=vn(n,e);RP(e[Fe],s,o,n.value,t,r,i)}function RP(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Jo(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function MP(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Nm(r,t,u,l)}}function NP(n,e,t,r,i){let o=Et+t,s=e[J],a=i(s,e,n,r,t);e[o]=a,is(n,!0);let u=n.type===2;return u?(gb(e[Fe],a,n),(PD()===0||Ga(n))&&as(a,e),OD()):as(a,e),Gl()&&(!u||!Ym(n))&&oy(s,e,a,n),n}function xP(n){let e=n;return nm()?UD():(e=e.parent,is(e,!1)),e}function PP(n,e){let t=n[yr];if(!t)return;let r;try{r=t.get(Hn,null)}catch{r=null}r?.(e)}function uy(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Nm(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];Nm(h,l,r,i),a=!0}return a}function OP(n,e){let t=sn(e,n),r=t[J];kP(r,t);let i=t[mn];i!==null&&t[es]===null&&(t[es]=sb(i,t[yr])),Ce(ve.ComponentStart);try{ly(r,t,t[Ue])}finally{Ce(ve.ComponentEnd,t[Ue])}}function kP(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function ly(n,e,t){$l(e);try{let r=n.viewQuery;r!==null&&Mm(1,r,t);let i=n.template;i!==null&&Tb(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Gi]?.finishViewCreation(n),n.staticContentQueries&&ab(n,e),n.staticViewQueries&&Mm(2,n.viewQuery,t);let o=n.components;o!==null&&FP(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ne]&=-5,zl()}}function FP(n,e){for(let t=0;t<e.length;t++)OP(n,e[t])}function Dd(n,e,t,r){let i=Q(null);try{let o=e.tView,a=n[ne]&4096?4096:16,u=ey(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[zi]=l;let h=n[Gi];return h!==null&&(u[Gi]=h.createEmbeddedView(o)),ly(o,u,t),u}finally{Q(i)}}function ec(n,e){return!e||e.firstChild===null||J0(n)}function tc(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(on(o)),yn(o)&&Rb(o,r);let s=t.type;if(s&8)tc(n,e,t.child,r);else if(s&32){let a=ny(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=Cb(e,t);if(Array.isArray(a))r.push(...a);else{let u=Wr(e[Wt]);tc(u[J],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Rb(n,e){for(let t=Be;t<n.length;t++){let r=n[t],i=r[J].firstChild;i!==null&&tc(r[J],r,i,e)}n[Yr]!==n[mn]&&e.push(n[Yr])}function Mb(n){if(n[jl]!==null){for(let e of n[jl])e.impl.addSequence(e);n[jl].length=0}}var Nb=[];function LP(n){return n[Kt]??VP(n)}function VP(n){let e=Nb.pop()??Object.create(UP);return e.lView=n,e}function jP(n){n.lView[Kt]!==n&&(n.lView=null,Nb.push(n))}var UP=$(N({},Da),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Qa(n.lView)},consumerOnSignalRead(){this.lView[Kt]=this}});function BP(n){let e=n[Kt]??Object.create(HP);return e.lView=n,e}var HP=$(N({},Da),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Wr(n.lView);for(;e&&!xb(e[J]);)e=Wr(e);e&&Zg(e)},consumerOnSignalRead(){this.lView[Kt]=this}});function xb(n){return n.type!==2}function Pb(n){if(n[$a]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[$a])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ne]&8192)}}var $P=100;function Ob(n,e=0){let r=n[Fn].rendererFactory,i=!1;i||r.begin?.();try{zP(n,e)}finally{i||r.end?.()}}function zP(n,e){let t=rm();try{im(!0),Pm(n,e);let r=0;for(;Ka(n);){if(r===$P)throw new H(103,!1);r++,Pm(n,1)}}finally{im(t)}}function qP(n,e,t,r){if(Ki(e))return;let i=e[ne],o=!1,s=!1;$l(e);let a=!0,u=null,l=null;o||(xb(n)?(l=LP(e),u=Ca(l)):Zu()===null?(a=!1,l=BP(e),u=Ca(l)):e[Kt]&&(Ta(e[Kt]),e[Kt]=null));try{Jg(e),$D(n.bindingStartIndex),t!==null&&Tb(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&Ql(e,y,null)}else{let y=n.preOrderHooks;y!==null&&Yl(e,y,0,null),gm(e,0)}if(s||GP(e),Pb(e),kb(e,0),n.contentQueries!==null&&ab(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&Ql(e,y)}else{let y=n.contentHooks;y!==null&&Yl(e,y,1),gm(e,1)}KP(n,e);let p=n.components;p!==null&&Lb(e,p,0);let g=n.viewQuery;if(g!==null&&Mm(2,g,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&Ql(e,y)}else{let y=n.viewHooks;y!==null&&Yl(e,y,2),gm(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Vl]){for(let y of e[Vl])y();e[Vl]=null}o||(Mb(e),e[ne]&=-73)}catch(h){throw o||Qa(e),h}finally{l!==null&&(Xu(l,u),a&&jP(l)),zl()}}function kb(n,e){for(let t=X0(n);t!==null;t=eb(t))for(let r=Be;r<t.length;r++){let i=t[r];Fb(i,e)}}function GP(n){for(let e=X0(n);e!==null;e=eb(e)){if(!(e[ne]&2))continue;let t=e[qa];for(let r=0;r<t.length;r++){let i=t[r];Zg(i)}}}function WP(n,e,t){Ce(ve.ComponentStart);let r=sn(e,n);try{Fb(r,t)}finally{Ce(ve.ComponentEnd,r[Ue])}}function Fb(n,e){Ul(n)&&Pm(n,e)}function Pm(n,e){let r=n[J],i=n[ne],o=n[Kt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&el(o)),s||=!1,o&&(o.dirty=!1),n[ne]&=-9217,s)qP(r,n,r.template,n[Ue]);else if(i&8192){let a=Q(null);try{Pb(n),kb(n,1);let u=r.components;u!==null&&Lb(n,u,1),Mb(n)}finally{Q(a)}}}function Lb(n,e,t){for(let r=0;r<e.length;r++)WP(n,e[r],t)}function KP(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Zr(~i);else{let o=i,s=t[++r],a=t[++r];qD(s,o);let u=e[o];Ce(ve.HostBindingsUpdateStart,u);try{a(2,u)}finally{Ce(ve.HostBindingsUpdateEnd,u)}}}}finally{Zr(-1)}}function dy(n,e){let t=rm()?64:1088;for(n[Fn].changeDetectionScheduler?.notify(e);n;){n[ne]|=t;let r=Wr(n);if(rs(n)&&!r)return n;n=r}return null}function Vb(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function jb(n,e){let t=Be+e;if(t<n.length)return n[t]}function bd(n,e,t,r=!0){let i=e[J];if(QP(i,e,n,t),r){let s=xm(t,n),a=e[Fe],u=a.parentNode(n[Yr]);u!==null&&sP(i,n[rn],a,e,u,s)}let o=e[es];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ub(n,e){let t=nc(n,e);return t!==void 0&&Id(t[J],t),t}function nc(n,e){if(n.length<=Be)return;let t=Be+e,r=n[t];if(r){let i=r[zi];i!==null&&i!==n&&iy(i,r),e>0&&(n[t-1][nn]=r[nn]);let o=ja(n,Be+e);oP(r[J],r);let s=o[Gi];s!==null&&s.detachView(o[J]),r[ot]=null,r[nn]=null,r[ne]&=-129}return r}function QP(n,e,t,r){let i=Be+r,o=t.length;r>0&&(t[i-1][nn]=e),r<o-Be?(e[nn]=t[i],jg(t,Be+r,e)):(t.push(e),e[nn]=null),e[ot]=t;let s=e[zi];s!==null&&t!==s&&Bb(s,e);let a=e[Gi];a!==null&&a.insertView(n),Bl(e),e[ne]|=128}function Bb(n,e){let t=n[qa],r=e[ot];if(Ln(r))n[ne]|=2;else{let i=r[ot][Wt];e[Wt]!==i&&(n[ne]|=2)}t===null?n[qa]=[e]:t.push(e)}var ei=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[J];return tc(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Ue]}set context(e){this._lView[Ue]=e}get destroyed(){return Ki(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ot];if(yn(e)){let t=e[za],r=t?t.indexOf(this):-1;r>-1&&(nc(e,r),ja(t,r))}this._attachedToViewContainer=!1}Id(this._lView[J],this._lView)}onDestroy(e){Xg(this._lView,e)}markForCheck(){dy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ne]&=-129}reattach(){Bl(this._lView),this._lView[ne]|=128}detectChanges(){this._lView[ne]|=1024,Ob(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=rs(this._lView),t=this._lView[zi];t!==null&&!e&&iy(t,this._lView),bb(this._lView[J],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e;let t=rs(this._lView),r=this._lView[zi];r!==null&&!t&&Bb(r,this._lView),Bl(this._lView)}};var uc=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=YP;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=Dd(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new ei(o)}}return n})();function YP(){return JP(Qt(),pe())}function JP(n,e){return n.type&4?new uc(e,n,pd(n,e)):null}function Cd(n,e,t,r,i){let o=n.data[e];if(o===null)o=ZP(n,e,t,r,i),zD()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=jD();o.injectorIndex=s===null?-1:s.injectorIndex}return is(o,!0),o}function ZP(n,e,t,r,i){let o=tm(),s=nm(),a=s?o:o&&o.parent,u=n.data[e]=eO(n,a,t,e,r,i);return XP(n,u,o,s),u}function XP(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function eO(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return FD()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function tO(n){let e=n[Wg]??[],r=n[ot][Fe],i=[];for(let o of e)o.data[rb]!==void 0?i.push(o):nO(o,r);n[Wg]=i}function nO(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[nb];for(;t<i;){let o=r.nextSibling;pb(e,r,!1),r=o,t++}}}var rO=()=>null,iO=()=>null;function Om(n,e){return rO(n,e)}function Hb(n,e,t){return iO(n,e,t)}var $b=class{},Td=class{},km=class{resolveComponentFactory(e){throw new H(917,!1)}},lc=class{static NULL=new km},Xi=class{},ro=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>oO()}return n})();function oO(){let n=pe(),e=Qt(),t=sn(e.index,n);return(Ln(t)?t:n)[Fe]}var zb=(()=>{class n{static \u0275prov=G({token:n,providedIn:"root",factory:()=>null})}return n})();var Jl={},Fm=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Jl,r);return i!==Jl||t===Jl?i:this.parentInjector.get(e,t,r)}};function _0(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Sg(i,a);else if(o==2){let u=a,l=e[++s];r=Sg(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function he(n,e=0){let t=pe();if(t===null)return oe(n,e);let r=Qt();return K0(r,t,_t(n),e)}function qb(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}cO(n,e,t,a,o,u,l)}o!==null&&r!==null&&sO(t,r,o)}function sO(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new H(-301,!1);r.push(e[i],o)}}function aO(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function cO(n,e,t,r,i,o,s){let a=r.length,u=null;for(let g=0;g<a;g++){let y=r[g];u===null&&Vn(y)&&(u=y,aO(n,t,g)),Sm(td(t,e),n,y.type)}pO(t,n.data.length,a),u?.viewProvidersResolver&&u.viewProvidersResolver(u);for(let g=0;g<a;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=_b(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let y=r[g];if(t.mergedAttrs=Xa(t.mergedAttrs,y.hostAttrs),lO(n,t,e,p,y),fO(p,y,i),s!==null&&s.has(y)){let[S,P]=s.get(y);t.directiveToIndex.set(y.type,[p,S+t.directiveStart,P+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let I=y.type.prototype;!l&&(I.ngOnChanges||I.ngOnInit||I.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(I.ngOnChanges||I.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}uO(n,t,o)}function uO(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))E0(0,e,i,r),E0(1,e,i,r),w0(e,r,!1);else{let o=t.get(i);I0(0,e,o,r),I0(1,e,o,r),w0(e,r,!0)}}}function E0(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),Gb(e,o)}}function I0(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Gb(e,s)}}function Gb(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function w0(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Zm(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function lO(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Vi(i.type,!0)),s=new Ji(o,Vn(i),he,null);n.blueprint[r]=s,t[r]=s,dO(n,e,r,_b(n,t,i.hostVars,an),i)}function dO(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;hO(s)!=a&&s.push(a),s.push(t,r,o)}}function hO(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function fO(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Vn(e)&&(t[""]=n)}}function pO(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Wb(n,e,t,r,i,o,s,a){let u=e[J],l=u.consts,h=jn(l,s),p=Cd(u,n,t,r,h);return o&&qb(u,e,p,jn(l,a),i),p.mergedAttrs=Xa(p.mergedAttrs,p.attrs),p.attrs!==null&&_0(p,p.attrs,!1),p.mergedAttrs!==null&&_0(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function Kb(n,e){U0(n,e),Kg(e)&&n.queries.elementEnd(e)}function hy(n){return Yb(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function Qb(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function Yb(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function gO(n,e,t){return n[e]=t}function mO(n,e){return n[e]}function Er(n,e,t){if(t===an)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function yO(n,e,t,r){let i=Er(n,e,t);return Er(n,e+1,r)||i}function vm(n,e,t){return function r(i){let o=Jr(n)?sn(n.index,e):e;dy(o,5);let s=e[Ue],a=D0(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=D0(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function D0(n,e,t,r){let i=Q(null);try{return Ce(ve.OutputStart,e,t),t(r)!==!1}catch(o){return PP(n,o),!1}finally{Ce(ve.OutputEnd,e,t),Q(i)}}function vO(n,e,t,r,i,o,s,a){let u=Ga(n),l=!1,h=null;if(!r&&u&&(h=EO(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=vn(n,t),g=r?r(p):p;O1(t,g,o,a);let y=i.listen(g,o,a);if(!_O(o)){let I=r?S=>r(on(S[n.index])):n.index;Jb(I,e,t,o,a,y,!1)}}return l}function _O(n){return n.startsWith("animation")||n.startsWith("transition")}function EO(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[ts],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function Jb(n,e,t,r,i,o,s){let a=e.firstCreatePass?xD(e):null,u=ND(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function b0(n,e,t,r,i,o){let s=e[t],a=e[J],l=a.data[t].outputs[r],p=s[l].subscribe(o);Jb(n.index,a,e,i,o,p,!0)}var Lm=Symbol("BINDING");var od=class extends lc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Kr(e);return new cs(t,this.ngModule)}};function IO(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Ed.SignalBased)!==0};return i&&(o.transform=i),o})}function wO(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function DO(n,e,t){let r=e instanceof et?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Fm(t,r):t}function bO(n){let e=n.get(Xi,null);if(e===null)throw new H(407,!1);let t=n.get(zb,null),r=n.get(Yo,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function CO(n,e){let t=Zb(n);return hb(e,t,t==="svg"?Qg:t==="math"?SD:null)}function Zb(n){return(n.selectors[0][0]||"div").toLowerCase()}var cs=class extends Td{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=IO(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=wO(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=J1(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Ce(ve.DynamicComponentStart);let a=Q(null);try{let u=this.componentDef,l=TO(r,u,s,o),h=DO(u,i||this.ngModule,e),p=bO(h),g=p.rendererFactory.createRenderer(null,u),y=r?_P(g,r,u.encapsulation,h):CO(u,g),I=s?.some(C0)||o?.some(j=>typeof j!="function"&&j.bindings.some(C0)),S=ey(null,l,null,512|vb(u),null,null,p,g,h,null,sb(y,h,!0));S[Et]=y,$l(S);let P=null;try{let j=Wb(Et,S,2,"#host",()=>l.directiveRegistry,!0,0);gb(g,y,j),as(y,S),ay(l,S,j),cb(l,j,S),Kb(l,j),t!==void 0&&AO(j,this.ngContentSelectors,t),P=sn(j.index,S),S[Ue]=P[Ue],ly(l,S,null)}catch(j){throw P!==null&&Rm(P),Rm(S),j}finally{Ce(ve.DynamicComponentEnd),zl()}return new sd(this.componentType,S,!!I)}finally{Q(a)}}};function TO(n,e,t,r){let i=n?["ng-version","21.1.2"]:Z1(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[Lm].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let g of p.bindings){a+=g[Lm].requiredVars;let y=h+1;g.create&&(g.targetIdx=y,(o??=[]).push(g)),g.update&&(g.targetIdx=y,(s??=[]).push(g))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,g=Fg(p);u.push(g)}return Xm(0,null,SO(o,s),1,a,u,null,null,null,[i],null)}function SO(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function C0(n){let e=n[Lm].kind;return e==="input"||e==="twoWay"}var sd=class extends $b{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Wa(t[J],Et),this.location=pd(this._tNode,t),this.instance=sn(this._tNode.index,t)[Ue],this.hostView=this.changeDetectorRef=new ei(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=uy(r,i[J],i,e,t);this.previousInputValues.set(e,t);let s=sn(r.index,i);dy(s,1)}get injector(){return new Yi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function AO(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var io=(()=>{class n{static __NG_ELEMENT_ID__=RO}return n})();function RO(){let n=Qt();return NO(n,pe())}var MO=io,Xb=class extends MO{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return pd(this._hostTNode,this._hostLView)}get injector(){return new Yi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Wm(this._hostTNode,this._hostLView);if(H0(e)){let t=ed(e,this._hostLView),r=Xl(e),i=t[J].data[r+8];return new Yi(i,t)}else return new Yi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=T0(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Be}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Om(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,ec(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!a1(e),l;if(u)l=t;else{let P=t||{};l=P.index,r=P.injector,i=P.projectableNodes,o=P.environmentInjector||P.ngModuleRef,s=P.directives,a=P.bindings}let h=u?e:new cs(Kr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let j=(u?p:this.parentInjector).get(et,null);j&&(o=j)}let g=Kr(h.componentType??{}),y=Om(this._lContainer,g?.id??null),I=y?.firstChild??null,S=h.create(p,i,I,o,s,a);return this.insertImpl(S.hostView,l,ec(this._hostTNode,y)),S}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(AD(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[ot],l=new Xb(u,u[rn],u[ot]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return bd(s,i,o,r),e.attachToViewContainerRef(),jg(_m(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=T0(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=nc(this._lContainer,t);r&&(ja(_m(this._lContainer),t),Id(r[J],r))}detach(e){let t=this._adjustIndex(e,-1),r=nc(this._lContainer,t);return r&&ja(_m(this._lContainer),t)!=null?new ei(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function T0(n){return n[za]}function _m(n){return n[za]||(n[za]=[])}function NO(n,e){let t,r=e[n.index];return yn(r)?t=r:(t=Vb(r,e,null,n),e[n.index]=t,ty(e,t)),PO(t,e,n,r),new Xb(t,n,e)}function xO(n,e){let t=n[Fe],r=t.createComment(""),i=vn(e,n),o=t.parentNode(i);return id(t,o,r,t.nextSibling(i),!1),r}var PO=FO,OO=()=>!1;function kO(n,e,t){return OO(n,e,t)}function FO(n,e,t,r){if(n[Yr])return;let i;t.type&8?i=on(r):i=xO(e,t),n[Yr]=i}var eo=class{},Sd=class{};var ad=class extends eo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new od(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=kg(e);this._bootstrapComponents=mb(o.bootstrap),this._r3Injector=um(e,t,[{provide:eo,useValue:this},{provide:lc,useValue:this.componentFactoryResolver},...r],fr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},cd=class extends Sd{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new ad(this.moduleType,e,[])}};var rc=class extends eo{injector;componentFactoryResolver=new od(this);instance=null;constructor(e){super();let t=new Ui([...e.providers,{provide:eo,useValue:this},{provide:lc,useValue:this.componentFactoryResolver}],e.parent||Ha(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function dc(n,e,t=null){return new rc({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var LO=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Hg(!1,t.type),i=r.length>0?dc([r],this._injector,""):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=G({token:n,providedIn:"environment",factory:()=>new n(oe(et))})}return n})();function wn(n){return oc(()=>{let e=eC(n),t=$(N({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Km.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(LO).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||En.Emulated,styles:n.styles||qt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&qn("NgStandalone"),tC(t);let r=n.dependencies;return t.directiveDefs=S0(r,VO),t.pipeDefs=S0(r,gD),t.id=BO(t),t})}function VO(n){return Kr(n)||Fg(n)}function ni(n){return oc(()=>({type:n.type,bootstrap:n.bootstrap||qt,declarations:n.declarations||qt,imports:n.imports||qt,exports:n.exports||qt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function jO(n,e){if(n==null)return Qr;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Ed.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function UO(n){if(n==null)return Qr;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function nt(n){return oc(()=>{let e=eC(n);return tC(e),e})}function eC(n){let e={};return{type:n.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Qr,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||qt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:jO(n.inputs,e),outputs:UO(n.outputs),debugInfo:null}}function tC(n){n.features?.forEach(e=>e(n))}function S0(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function BO(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function HO(n){return Object.getPrototypeOf(n.prototype).constructor}function Gn(n){let e=HO(n.type),t=!0,r=[n];for(;e;){let i;if(Vn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new H(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Em(n.inputs),s.declaredInputs=Em(n.declaredInputs),s.outputs=Em(n.outputs);let a=i.hostBindings;a&&WO(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&qO(n,u),l&&GO(n,l),$O(n,i),pD(n.outputs,i.outputs),Vn(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Gn&&(t=!1)}}e=Object.getPrototypeOf(e)}zO(r)}function $O(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function zO(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Xa(i.hostAttrs,t=Xa(t,i.hostAttrs))}}function Em(n){return n===Qr?{}:n===qt?[]:n}function qO(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function GO(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function WO(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function nC(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=Xa(n.mergedAttrs,n.attrs);let h=n.tView=Xm(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),is(n,!1);let u=QO(t,e,n,r);Gl()&&oy(t,e,u,n),as(u,e);let l=Vb(u,e,u,n);e[r+Et]=l,ty(e,l),kO(l,n,e)}function KO(n,e,t,r,i,o,s,a,u,l,h){let p=t+Et,g;return e.firstCreatePass?(g=Cd(e,p,4,s||null,a||null),em()&&qb(e,n,g,jn(e.consts,l),Ab),U0(e,g)):g=e.data[p],nC(g,n,e,t,r,i,o,u),Ga(g)&&ay(e,n,g),l!=null&&cy(n,g,h),g}function ud(n,e,t,r,i,o,s,a,u,l,h){let p=t+Et,g;if(e.firstCreatePass){if(g=Cd(e,p,4,s||null,a||null),l!=null){let y=jn(e.consts,l);g.localNames=[];for(let I=0;I<y.length;I+=2)g.localNames.push(y[I],-1)}}else g=e.data[p];return nC(g,n,e,t,r,i,o,u),l!=null&&cy(n,g,h),g}function Wn(n,e,t,r,i,o,s,a){let u=pe(),l=St(),h=jn(l.consts,o);return KO(u,l,n,e,t,r,i,h,void 0,s,a),Wn}var QO=YO;function YO(n,e,t,r){return Wl(!0),e[Fe].createComment("")}var fy=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function rC(n){return typeof n=="function"&&n[xt]!==void 0}function py(n){return rC(n)&&typeof n.set=="function"}var gy=new z("");function ri(n){return!!n&&typeof n.then=="function"}function my(n){return!!n&&typeof n.subscribe=="function"}var iC=new z("");var yy=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=L(iC,{optional:!0})??[];injector=L(Gt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Tt(this.injector,i);if(ri(o))t.push(o);else if(my(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ad=new z("");function oC(){Yp(()=>{let n="";throw new H(600,n)})}function sC(n){return n.isBoundToModule}var JO=10;var oo=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=L(Hn);afterRenderManager=L(Ib);zonelessEnabled=L(Ya);rootEffectScheduler=L(pm);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new it;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=L(Xr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Pe(t=>!t))}constructor(){L(cc,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=L(et);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Gt.NULL){return this._injector.get(Ot).run(()=>{Ce(ve.BootstrapComponentStart);let s=t instanceof Td;if(!this._injector.get(yy).done){let I="";throw new H(405,I)}let u;s?u=t:u=this._injector.get(lc).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=sC(u)?void 0:this._injector.get(eo),h=r||u.selector,p=u.create(i,[],h,l),g=p.location.nativeElement,y=p.injector.get(gy,null);return y?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),Za(this.components,p),y?.unregisterApplication(g)}),this._loadComponent(p),Ce(ve.BootstrapComponentEnd,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ce(ve.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(ry.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw Ce(ve.ChangeDetectionEnd),new H(101,!1);let t=Q(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Q(t),this.afterTick.next(),Ce(ve.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Xi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<JO;){Ce(ve.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{Ce(ve.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Ka(i))continue;let o=r&&!this.zonelessEnabled?0:1;Ob(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Ka(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Za(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Ad,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Za(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new H(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Za(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Rd(n,e,t,r){let i=pe(),o=Qi();if(Er(i,o,e)){let s=St(),a=ql();AP(a,i,n,e,t,r)}return Rd}var sq=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Vm=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function Im(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function ZO(n,e,t,r){let i,o,s=0,a=n.length-1,u=void 0;if(Array.isArray(e)){Q(r);let l=e.length-1;for(Q(null);s<=a&&s<=l;){let h=n.at(s),p=e[s],g=Im(s,h,s,p,t);if(g!==0){g<0&&n.updateValue(s,p),s++;continue}let y=n.at(a),I=e[l],S=Im(a,y,l,I,t);if(S!==0){S<0&&n.updateValue(a,I),a--,l--;continue}let P=t(s,h),j=t(a,y),ee=t(s,p);if(Object.is(ee,j)){let ye=t(l,I);Object.is(ye,P)?(n.swap(s,a),n.updateValue(a,I),l--,a--):n.move(a,s),n.updateValue(s,p),s++;continue}if(i??=new ld,o??=R0(n,s,a,t),jm(n,i,s,ee))n.updateValue(s,p),s++,a++;else if(o.has(ee))i.set(P,n.detach(s)),a--;else{let ye=n.create(s,e[s]);n.attach(s,ye),s++,a++}}for(;s<=l;)A0(n,i,t,s,e[s]),s++}else if(e!=null){Q(r);let l=e[Symbol.iterator]();Q(null);let h=l.next();for(;!h.done&&s<=a;){let p=n.at(s),g=h.value,y=Im(s,p,s,g,t);if(y!==0)y<0&&n.updateValue(s,g),s++,h=l.next();else{i??=new ld,o??=R0(n,s,a,t);let I=t(s,g);if(jm(n,i,s,I))n.updateValue(s,g),s++,a++,h=l.next();else if(!o.has(I))n.attach(s,n.create(s,g)),s++,a++,h=l.next();else{let S=t(s,p);i.set(S,n.detach(s)),a--}}}for(;!h.done;)A0(n,i,t,n.length,h.value),h=l.next()}for(;s<=a;)n.destroy(n.detach(a--));i?.forEach(l=>{n.destroy(l)})}function jm(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function A0(n,e,t,r,i){if(jm(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function R0(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var ld=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function Re(n,e,t,r,i,o,s,a){qn("NgControlFlow");let u=pe(),l=St(),h=jn(l.consts,o);return ud(u,l,n,e,t,r,i,h,256,s,a),vy}function vy(n,e,t,r,i,o,s,a){qn("NgControlFlow");let u=pe(),l=St(),h=jn(l.consts,o);return ud(u,l,n,e,t,r,i,h,512,s,a),vy}function Me(n,e){qn("NgControlFlow");let t=pe(),r=Qi(),i=t[r]!==an?t[r]:-1,o=i!==-1?dd(t,Et+i):void 0,s=0;if(Er(t,r,n)){let a=Q(null);try{if(o!==void 0&&Ub(o,s),n!==-1){let u=Et+n,l=dd(t,u),h=$m(t[J],u),p=Hb(l,h,t),g=Dd(t,h,e,{dehydratedView:p});bd(l,g,s,ec(h,p))}}finally{Q(a)}}else if(o!==void 0){let a=jb(o,s);a!==void 0&&(a[Ue]=e)}}var Um=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Be}};function Md(n){return n}function hc(n,e){return e}var Bm=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function Yt(n,e,t,r,i,o,s,a,u,l,h,p,g){qn("NgControlFlow");let y=pe(),I=St(),S=u!==void 0,P=pe(),j=a?s.bind(P[Wt][Ue]):s,ee=new Bm(S,j);P[Et+n]=ee,ud(y,I,n+1,e,t,r,i,jn(I.consts,o),256),S&&ud(y,I,n+2,u,l,h,p,jn(I.consts,g),512)}var Hm=class extends Vm{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-Be}at(e){return this.getLView(e)[Ue].$implicit}attach(e,t){let r=t[es];this.needsIndexUpdate||=e!==this.length,bd(this.lContainer,t,e,ec(this.templateTNode,r)),XO(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,ek(this.lContainer,e),tk(this.lContainer,e)}create(e,t){let r=Om(this.lContainer,this.templateTNode.tView.ssrId);return Dd(this.hostLView,this.templateTNode,new Um(this.lContainer,t,e),{dehydratedView:r})}destroy(e){Id(e[J],e)}updateValue(e,t){this.getLView(e)[Ue].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ue].$index=e}getLView(e){return nk(this.lContainer,e)}};function Jt(n){let e=Q(null),t=_r();try{let r=pe(),i=r[J],o=r[t],s=t+1,a=dd(r,s);if(o.liveCollection===void 0){let l=$m(i,s);o.liveCollection=new Hm(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(ZO(u,n,o.trackByFn,e),u.updateIndexes(),o.hasEmptyBlock){let l=Qi(),h=u.length===0;if(Er(r,l,h)){let p=t+2,g=dd(r,p);if(h){let y=$m(i,p),I=Hb(g,y,r),S=Dd(r,y,void 0,{dehydratedView:I});bd(g,S,0,ec(y,I))}else i.firstUpdatePass&&tO(g),Ub(g,0)}}}finally{Q(e)}}function dd(n,e){return n[e]}function XO(n,e){if(n.length<=Be)return;let t=Be+e,r=n[t],i=r?r[Wi]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[yr];rP(o,i),Zi.delete(r[vr]),i.detachedLeaveAnimationFns=void 0}}function ek(n,e){if(n.length<=Be)return;let t=Be+e,r=n[t],i=r?r[Wi]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function tk(n,e){return nc(n,e)}function nk(n,e){return jb(n,e)}function $m(n,e){return Wa(n,e)}function Le(n,e,t){let r=pe(),i=Qi();if(Er(r,i,e)){let o=St(),s=ql();Sb(s,r,n,e,r[Fe],t)}return Le}function M0(n,e,t,r,i){uy(e,n,t,i?"class":"style",r)}function T(n,e,t,r){let i=pe(),o=i[J],s=n+Et,a=o.firstCreatePass?Wb(s,i,2,e,Ab,em(),t,r):o.data[s];if(NP(a,i,n,e,rk),Ga(a)){let u=i[J];ay(u,i,a),cb(u,a,i)}return r!=null&&cy(i,a),T}function R(){let n=St(),e=Qt(),t=xP(e);return n.firstCreatePass&&Kb(n,t),LD(t)&&VD(),kD(),t.classesWithoutHost!=null&&f1(t)&&M0(n,t,pe(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&p1(t)&&M0(n,t,pe(),t.stylesWithoutHost,!1),R}function ae(n,e,t,r){return T(n,e,t,r),R(),ae}var rk=(n,e,t,r,i)=>(Wl(!0),hb(e[Fe],r,ZD()));function Vt(){return pe()}var fc="en-US";var ik=fc;function aC(n){typeof n=="string"&&(ik=n.toLowerCase().replace(/_/g,"-"))}function xe(n,e,t){let r=pe(),i=St(),o=Qt();return cC(i,r,r[Fe],o,n,e,t),xe}function cC(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=vm(r,e,o),vO(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let g=h[p],y=h[p+1];u??=vm(r,e,o),b0(r,e,g,y,i,u)}if(l&&l.length)for(let p of l)u??=vm(r,e,o),b0(r,e,p,i,i,u)}}function W(n=1){return JD(n)}function Kl(n,e){return n<<17|e<<2}function to(n){return n>>17&32767}function ok(n){return(n&2)==2}function sk(n,e){return n&131071|e<<17}function zm(n){return n|2}function us(n){return(n&131068)>>2}function wm(n,e){return n&-131069|e<<2}function ak(n){return(n&1)===1}function qm(n){return n|1}function ck(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=to(s),u=us(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Zo(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let g=to(n[a+1]);n[r+1]=Kl(g,a),g!==0&&(n[g+1]=wm(n[g+1],r)),n[a+1]=sk(n[a+1],r)}else n[r+1]=Kl(a,0),a!==0&&(n[a+1]=wm(n[a+1],r)),a=r;else n[r+1]=Kl(u,0),a===0?a=r:n[u+1]=wm(n[u+1],r),u=r;l&&(n[r+1]=zm(n[r+1])),N0(n,h,r,!0),N0(n,h,r,!1),uk(e,h,n,r,o),s=Kl(a,u),o?e.classBindings=s:e.styleBindings=s}function uk(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Zo(o,e)>=0&&(t[r+1]=qm(t[r+1]))}function N0(n,e,t,r){let i=n[t+1],o=e===null,s=r?to(i):us(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];lk(u,e)&&(a=!0,n[s+1]=r?qm(l):zm(l)),s=r?to(l):us(l)}a&&(n[t+1]=r?zm(i):qm(i))}function lk(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Zo(n,e)>=0:!1}function Kn(n,e,t){return uC(n,e,t,!1),Kn}function $e(n,e){return uC(n,e,null,!0),$e}function uC(n,e,t,r){let i=pe(),o=St(),s=om(2);if(o.firstUpdatePass&&hk(o,n,s,r),e!==an&&Er(i,s,e)){let a=o.data[_r()];yk(o,a,i,i[Fe],n,i[s+1]=vk(e,t),r,s)}}function dk(n,e){return e>=n.expandoStartIndex}function hk(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[_r()],s=dk(n,t);_k(o,r)&&e===null&&!s&&(e=!1),e=fk(i,o,e,r),ck(i,o,e,t,s,r)}}function fk(n,e,t,r){let i=WD(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Dm(null,n,e,t,r),t=ic(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Dm(i,n,e,t,r),o===null){let u=pk(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Dm(null,n,e,u[1],r),u=ic(u,e.attrs,r),gk(n,e,r,u))}else o=mk(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function pk(n,e,t){let r=t?e.classBindings:e.styleBindings;if(us(r)!==0)return n[to(r)]}function gk(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[to(i)]=r}function mk(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=ic(r,s,t)}return ic(r,e.attrs,t)}function Dm(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=ic(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function ic(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),ED(n,s,t?!0:e[++o]))}return n===void 0?null:n}function yk(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=ak(l)?x0(u,e,t,i,us(l),s):void 0;if(!hd(h)){hd(o)||ok(l)&&(o=x0(u,null,t,i,a,s));let p=Yg(_r(),t);vP(r,s,p,i,o)}}function x0(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=t[i+1];g===an&&(g=p?qt:void 0);let y=p?Ll(g,r):h===r?g:void 0;if(l&&!hd(y)&&(y=Ll(u,r)),hd(y)&&(a=y,s))return a;let I=n[i+1];i=s?to(I):us(I)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Ll(u,r))}return a}function hd(n){return n!==void 0}function vk(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=fr(ac(n)))),n}function _k(n,e){return(n.flags&(e?8:16))!==0}function k(n,e=""){let t=pe(),r=St(),i=n+Et,o=r.firstCreatePass?Cd(r,i,1,e,null):r.data[i],s=Ek(r,t,o,e);t[i]=s,Gl()&&oy(r,t,s,o),is(o,!1)}var Ek=(n,e,t,r)=>(Wl(!0),L1(e[Fe],r));function Ik(n,e,t,r=""){return Er(n,Qi(),t)?e+Jo(t)+r:an}function wk(n,e,t,r,i,o=""){let s=HD(),a=yO(n,s,t,i);return om(2),a?e+Jo(t)+r+Jo(i)+o:an}function _e(n){return at("",n),_e}function at(n,e,t){let r=pe(),i=Ik(r,n,e,t);return i!==an&&lC(r,_r(),i),at}function Nd(n,e,t,r,i){let o=pe(),s=wk(o,n,e,t,r,i);return s!==an&&lC(o,_r(),s),Nd}function lC(n,e,t){let r=Yg(e,n);V1(n[Fe],r,t)}function ct(n,e,t){py(e)&&(e=e());let r=pe(),i=Qi();if(Er(r,i,e)){let o=St(),s=ql();Sb(s,r,n,e,r[Fe],t)}return ct}function It(n,e){let t=py(n);return t&&n.set(e),t}function ut(n,e){let t=pe(),r=St(),i=Qt();return cC(r,t,t[Fe],i,n,e),ut}function P0(n,e,t){let r=St();r.firstCreatePass&&dC(e,r.data,r.blueprint,Vn(n),t)}function dC(n,e,t,r,i){if(n=_t(n),Array.isArray(n))for(let o=0;o<n.length;o++)dC(n[o],e,t,r,i);else{let o=St(),s=pe(),a=Qt(),u=ji(n)?n:_t(n.provide),l=zg(n),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(ji(n)||!n.multi){let y=new Ji(l,i,he,null),I=Cm(u,e,i?h:h+g,p);I===-1?(Sm(td(a,s),o,u),bm(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[I]=y,s[I]=y)}else{let y=Cm(u,e,h+g,p),I=Cm(u,e,h,h+g),S=y>=0&&t[y],P=I>=0&&t[I];if(i&&!P||!i&&!S){Sm(td(a,s),o,u);let j=Ck(i?bk:Dk,t.length,i,r,l,n);!i&&P&&(t[I].providerFactory=j),bm(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(j),s.push(j)}else{let j=hC(t[i?I:y],l,!i&&r);bm(o,n,y>-1?y:I,j)}!i&&r&&P&&t[I].componentProviders++}}}function bm(n,e,t,r){let i=ji(e),o=bD(e);if(i||o){let u=(o?_t(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function hC(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Cm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Dk(n,e,t,r,i){return Gm(this.multi,[])}function bk(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=nd(r,r[J],this.providerFactory.index,i);s=u.slice(0,a),Gm(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],Gm(o,s);return s}function Gm(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function Ck(n,e,t,r,i,o){let s=new Ji(n,t,he,null);return s.multi=[],s.index=e,s.componentProviders=0,hC(s,i,r&&!t),s}function ls(n,e){return t=>{t.providersResolver=(r,i)=>P0(r,i?i(n):n,!1),e&&(t.viewProvidersResolver=(r,i)=>P0(r,i?i(e):e,!0))}}function pc(n,e){let t=BD()+n,r=pe();return r[t]===an?gO(r,t,e()):mO(r,t)}var fd=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},_y=(()=>{class n{compileModuleSync(t){return new cd(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=kg(t),o=mb(i.declarations).reduce((s,a)=>{let u=Kr(a);return u&&s.push(new cs(u)),s},[]);return new fd(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var fC=(()=>{class n{applicationErrorHandler=L(Hn);appRef=L(oo);taskService=L(Xr);ngZone=L(Ot);zonelessEnabled=L(Ya);tracing=L(cc,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new mt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Fa):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(L(fm,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let t=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(t);return}this.switchToMicrotaskScheduler(),this.taskService.remove(t)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let t=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})})}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?n0:lm;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Fa+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.applicationErrorHandler(r)}finally{this.taskService.remove(t),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ey(){return qn("NgZoneless"),Ua([...Iy(),[]])}function Iy(){return[{provide:Yo,useExisting:fC},{provide:Ot,useClass:La},{provide:Ya,useValue:!0}]}function Tk(){return typeof $localize<"u"&&$localize.locale||fc}var xd=new z("",{factory:()=>L(xd,{optional:!0,skipSelf:!0})||Tk()});function so(n,e){return tl(n,e?.equal)}var vC=Symbol("InputSignalNode#UNSET"),zk=$(N({},nl),{transformFn:void 0,applyValueToInputSignal(n,e){Sa(n,e)}});function _C(n,e){let t=Object.create(zk);t.value=n,t.transformFn=e?.transform;function r(){if(ba(t),t.value===vC){let i=null;throw new H(-950,i)}return t.value}return r[xt]=t,r}function pC(n,e){return _C(n,e)}function qk(n){return _C(vC,n)}var EC=(pC.required=qk,pC);var wy=new z(""),Gk=new z("");function gc(n){return!n.moduleRef}function Wk(n){let e=gc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ot);return t.run(()=>{gc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Hn),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),gc(n)){let o=()=>e.destroy(),s=n.platformInjector.get(wy);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(wy);s.add(o),n.moduleRef.onDestroy(()=>{Za(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return Qk(r,t,()=>{let o=e.get(Xr),s=o.add(),a=e.get(yy);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(xd,fc);if(aC(u||fc),!e.get(Gk,!0))return gc(n)?e.get(oo):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(gc(n)){let h=e.get(oo);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return Kk?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>{o.remove(s)})})})}var Kk;function Qk(n,e,t){try{let r=t();return ri(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Pd=null;function Yk(n=[],e){return Gt.create({name:e,providers:[{provide:Ba,useValue:"platform"},{provide:wy,useValue:new Set([()=>Pd=null])},...n]})}function Jk(n=[]){if(Pd)return Pd;let e=Yk(n);return Pd=e,oC(),Zk(e),e}function Zk(n){let e=n.get(md,null);Tt(n,()=>{e?.forEach(t=>t())})}var Xk=1e4;var RY=Xk-1e3;var ao=(()=>{class n{static __NG_ELEMENT_ID__=eF}return n})();function eF(n){return tF(Qt(),pe(),(n&16)===16)}function tF(n,e,t){if(Jr(n)&&!t){let r=sn(n.index,e);return new ei(r,r)}else if(n.type&175){let r=e[Wt];return new ei(r,e)}return null}var Dy=class{constructor(){}supports(e){return hy(e)}create(e){return new by(e)}},nF=(n,e)=>e,by=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||nF}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<gC(r,i,o)?t:r,a=gC(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let y=g<o.length?o[g]:o[g]=0,I=y+g;h<=I&&I<l&&(o[g]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!hy(e))throw new H(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,Qb(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Cy(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Od),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Od),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Cy=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Ty=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Od=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Ty,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function gC(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function mC(){return new Ay([new Dy])}var Ay=(()=>{class n{factories;static \u0275prov=G({token:n,providedIn:"root",factory:mC});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=L(n,{optional:!0,skipSelf:!0});return n.create(t,r||mC())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new H(901,!1)}}return n})();function IC(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Ce(ve.BootstrapApplicationStart);try{let o=i?.injector??Jk(r),s=[Iy(),i0,...t||[]],a=new rc({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return Wk({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Ce(ve.BootstrapApplicationEnd)}}function wr(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Ry(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}var wC=null;function cn(){return wC}function My(n){wC??=n}var mc=class{},Fd=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>L(DC),providedIn:"platform"})}return n})();var DC=(()=>{class n extends Fd{_location;_history;_doc=L(tt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return cn().getBaseHref(this._doc)}onPopState(t){let r=cn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=cn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function TC(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function bC(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function ii(n){return n&&n[0]!=="?"?`?${n}`:n}var Ld=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>L(iF),providedIn:"root"})}return n})(),rF=new z(""),iF=(()=>{class n extends Ld{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??L(tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return TC(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+ii(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+ii(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+ii(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(oe(Fd),oe(rF,8))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ds=(()=>{class n{_subject=new it;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=aF(bC(CC(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ii(r))}normalize(t){return n.stripTrailingSlash(sF(this._basePath,CC(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ii(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ii(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=ii;static joinWithSlash=TC;static stripTrailingSlash=bC;static \u0275fac=function(r){return new(r||n)(oe(Ld))};static \u0275prov=G({token:n,factory:()=>oF(),providedIn:"root"})}return n})();function oF(){return new ds(oe(Ld))}function sF(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function CC(n){return n.replace(/\/index.html$/,"")}function aF(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Vd=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ud=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Vd(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),SC(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);SC(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(he(io),he(uc),he(Ay))};static \u0275dir=nt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function SC(n,e){n.context.$implicit=e.item}var yc=(()=>{class n{_viewContainer;_context=new jd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){AC(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){AC(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(he(io),he(uc))};static \u0275dir=nt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),jd=class{$implicit=null;ngIf=null};function AC(n,e){if(n&&!n.createEmbeddedView)throw new H(2020,!1)}var oi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ni({type:n});static \u0275inj=mr({})}return n})();function Ny(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var vc=class{};var MC="browser";var NC=n=>n.src,cF=new z("",{factory:()=>NC});var RC=/^((\s*\d+w\s*(,|$)){1,})$/;var uF=[1,2],lF=640;var dF=1920,hF=1080;var xC=(()=>{class n{imageLoader=L(cF);config=fF(L(_d));renderer=L(ro);imgElement=L(ti).nativeElement;injector=L(Gt);destroyRef=L(Bn);lcpObserver;_renderedSrc=null;ngSrc;ngSrcset;sizes;width;height;decoding;loading;priority=!1;loaderParams;disableOptimizedSrcset=!1;fill=!1;placeholder;placeholderConfig;src;srcset;constructor(){}ngOnInit(){qn("NgOptimizedImage"),this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("decoding",this.getDecoding()),this.setHostAttribute("ng-img","true");let t=this.updateSrcAndSrcset();this.sizes?this.getLoadingBehavior()==="lazy"?this.setHostAttribute("sizes","auto, "+this.sizes):this.setHostAttribute("sizes",this.sizes):this.ngSrcset&&RC.test(this.ngSrcset)&&this.getLoadingBehavior()==="lazy"&&this.setHostAttribute("sizes","auto, 100vw")}ngOnChanges(t){if(t.ngSrc&&!t.ngSrc.isFirstChange()){let r=this._renderedSrc;this.updateSrcAndSrcset(!0)}}callImageLoader(t){let r=t;return this.loaderParams&&(r.loaderParams=this.loaderParams),this.imageLoader(r)}getLoadingBehavior(){return!this.priority&&this.loading!==void 0?this.loading:this.priority?"eager":"lazy"}getFetchPriority(){return this.priority?"high":"auto"}getDecoding(){return this.priority?"sync":this.decoding??"auto"}getRewrittenSrc(){if(!this._renderedSrc){let t={src:this.ngSrc};this._renderedSrc=this.callImageLoader(t)}return this._renderedSrc}getRewrittenSrcset(){let t=RC.test(this.ngSrcset);return this.ngSrcset.split(",").filter(i=>i!=="").map(i=>{i=i.trim();let o=t?parseFloat(i):parseFloat(i)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:o})} ${i}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){let{breakpoints:t}=this.config,r=t;return this.sizes?.trim()==="100vw"&&(r=t.filter(o=>o>=lF)),r.map(o=>`${this.callImageLoader({src:this.ngSrc,width:o})} ${o}w`).join(", ")}updateSrcAndSrcset(t=!1){t&&(this._renderedSrc=null);let r=this.getRewrittenSrc();this.setHostAttribute("src",r);let i;return this.ngSrcset?i=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(i=this.getAutomaticSrcset()),i&&this.setHostAttribute("srcset",i),i}getFixedSrcset(){return uF.map(r=>`${this.callImageLoader({src:this.ngSrc,width:this.width*r})} ${r}x`).join(", ")}shouldGenerateAutomaticSrcset(){let t=!1;return this.sizes||(t=this.width>dF||this.height>hF),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==NC&&!t}generatePlaceholder(t){let{placeholderResolution:r}=this.config;return t===!0?`url(${this.callImageLoader({src:this.ngSrc,width:r,isPlaceholder:!0})})`:typeof t=="string"?`url(${t})`:null}shouldBlurPlaceholder(t){return!t||!t.hasOwnProperty("blur")?!0:!!t.blur}removePlaceholderOnLoad(t){let r=()=>{let s=this.injector.get(ao);i(),o(),this.placeholder=!1,s.markForCheck()},i=this.renderer.listen(t,"load",r),o=this.renderer.listen(t,"error",r);this.destroyRef.onDestroy(()=>{i(),o()}),pF(t,r)}setHostAttribute(t,r){this.renderer.setAttribute(this.imgElement,t,r)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=nt({type:n,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function(r,i){r&2&&Kn("position",i.fill?"absolute":null)("width",i.fill?"100%":null)("height",i.fill?"100%":null)("inset",i.fill?"0":null)("background-size",i.placeholder?"cover":null)("background-position",i.placeholder?"50% 50%":null)("background-repeat",i.placeholder?"no-repeat":null)("background-image",i.placeholder?i.generatePlaceholder(i.placeholder):null)("filter",i.placeholder&&i.shouldBlurPlaceholder(i.placeholderConfig)?"blur(15px)":null)},inputs:{ngSrc:[2,"ngSrc","ngSrc",gF],ngSrcset:"ngSrcset",sizes:"sizes",width:[2,"width","width",Ry],height:[2,"height","height",Ry],decoding:"decoding",loading:"loading",priority:[2,"priority","priority",wr],loaderParams:"loaderParams",disableOptimizedSrcset:[2,"disableOptimizedSrcset","disableOptimizedSrcset",wr],fill:[2,"fill","fill",wr],placeholder:[2,"placeholder","placeholder",mF],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},features:[Ir]})}return n})();function fF(n){let e={};return n.breakpoints&&(e.breakpoints=n.breakpoints.sort((t,r)=>t-r)),Object.assign({},vd,n,e)}function pF(n,e){n.complete&&n.naturalWidth&&e()}function gF(n){return typeof n=="string"?n:ac(n)}function mF(n){return typeof n=="string"&&n!=="true"&&n!=="false"&&n!==""?n:wr(n)}var _c=class{_doc;constructor(e){this._doc=e}manager},Bd=(()=>{class n extends _c{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(oe(tt))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),zd=new z(""),ky=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Bd));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Bd);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new H(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(oe(zd),oe(Ot))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),xy="ng-app-id";function OC(n){for(let e of n)e.remove()}function kC(n,e){let t=e.createElement("style");return t.textContent=n,t}function yF(n,e,t,r){let i=n.head?.querySelectorAll(`style[${xy}="${e}"],link[${xy}="${e}"]`);if(i)for(let o of i)o.removeAttribute(xy),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Oy(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Fy=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,yF(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,kC);r?.forEach(i=>this.addUsage(i,this.external,Oy))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(OC(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])OC(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,kC(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Oy(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(oe(tt),oe(gd),oe(yd,8),oe(sc))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),Py={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ly=/%COMP%/g;var LC="%COMP%",vF=`_nghost-${LC}`,_F=`_ngcontent-${LC}`,EF=!0,IF=new z("",{factory:()=>EF});function wF(n){return _F.replace(Ly,n)}function DF(n){return vF.replace(Ly,n)}function VC(n,e){return e.map(t=>t.replace(Ly,n))}var Vy=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(t,r,i,o,s,a,u=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=u,this.tracingService=l,this.defaultRenderer=new Ec(t,s,a,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof $d?i.applyToHost(t):i instanceof Ic&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.tracingService;switch(r.encapsulation){case En.Emulated:o=new $d(u,l,r,this.appId,h,s,a,p);break;case En.ShadowDom:return new Hd(u,t,r,s,a,this.nonce,p,l);case En.ExperimentalIsolatedShadowDom:return new Hd(u,t,r,s,a,this.nonce,p);default:o=new Ic(u,l,r,h,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(oe(ky),oe(Fy),oe(gd),oe(IF),oe(tt),oe(Ot),oe(yd),oe(cc,8))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),Ec=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Py[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(FC(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(FC(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new H(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Py[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Py[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(zn.DashCase|zn.Important)?e.style.setProperty(t,r,i&zn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&zn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=cn().getGlobalEventTarget(this.doc,e),!e))throw new H(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function FC(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Hd=class extends Ec{hostEl;sharedStylesHost;shadowRoot;constructor(e,t,r,i,o,s,a,u){super(e,i,o,a),this.hostEl=t,this.sharedStylesHost=u,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=VC(r.id,l);for(let p of l){let g=document.createElement("style");s&&g.setAttribute("nonce",s),g.textContent=p,this.shadowRoot.appendChild(g)}let h=r.getExternalStyles?.();if(h)for(let p of h){let g=Oy(p,i);s&&g.setAttribute("nonce",s),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Ic=class extends Ec{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=u?VC(u,l):l,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Zi.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},$d=class extends Ic{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,t,r,o,s,a,u,l),this.contentAttr=wF(l),this.hostAttr=DF(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var qd=class n extends mc{supportsDOMEvents=!0;static makeCurrent(){My(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=bF();return t==null?null:CF(t)}resetBaseElement(){wc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ny(document.cookie,e)}},wc=null;function bF(){return wc=wc||document.head.querySelector("base"),wc?wc.getAttribute("href"):null}function CF(n){return new URL(n,document.baseURI).pathname}var TF=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),jC=["alt","control","meta","shift"],SF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},AF={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},UC=(()=>{class n extends _c{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),jC.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=SF[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),jC.forEach(s=>{if(s!==i){let a=AF[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(oe(tt))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();async function jy(n,e,t){let r=N({rootComponent:n},RF(e,t));return IC(r)}function RF(n,e){return{platformRef:e?.platformRef,appProviders:[...OF,...n?.providers??[]],platformProviders:PF}}function MF(){qd.makeCurrent()}function NF(){return new pr}function xF(){return Qm(document),document}var PF=[{provide:sc,useValue:MC},{provide:md,useValue:MF,multi:!0},{provide:tt,useFactory:xF}];var OF=[{provide:Ba,useValue:"root"},{provide:pr,useFactory:NF},{provide:zd,useClass:Bd,multi:!0},{provide:zd,useClass:UC,multi:!0},Vy,Fy,ky,{provide:Xi,useExisting:Vy},{provide:vc,useClass:TF},[]];var BC=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(oe(tt))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Z="primary",Oc=Symbol("RouteTitle"),zy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function lo(n){return new zy(n)}function Uy(n,e,t){for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(i[0]===":")t[i.substring(1)]=o;else if(i!==o.path)return!1}return!0}function JC(n,e,t){let r=t.path.split("/"),i=r.indexOf("**");if(i===-1){if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let u={},l=n.slice(0,r.length);return Uy(r,l,u)?{consumed:l,posParams:u}:null}if(i!==r.lastIndexOf("**"))return null;let o=r.slice(0,i),s=r.slice(i+1);if(o.length+s.length>n.length||t.pathMatch==="full"&&e.hasChildren()&&t.path!=="**")return null;let a={};return!Uy(o,n.slice(0,o.length),a)||!Uy(s,n.slice(n.length-s.length),a)?null:{consumed:n,posParams:a}}function Jd(n){return new Promise((e,t)=>{n.pipe(lr()).subscribe({next:r=>e(r),error:r=>t(r)})})}function FF(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Qn(n[t],e[t]))return!1;return!0}function Qn(n,e){let t=n?qy(n):void 0,r=e?qy(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!ZC(n[i],e[i]))return!1;return!0}function qy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function ZC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function LF(n){return n.length>0?n[n.length-1]:null}function po(n){return Il(n)?n:ri(n)?We(Promise.resolve(n)):fe(n)}function XC(n){return Il(n)?Jd(n):Promise.resolve(n)}var VF={exact:tT,subset:nT},eT={exact:jF,subset:UF,ignored:()=>!0};function HC(n,e,t){return VF[t.paths](n.root,e.root,t.matrixParams)&&eT[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function jF(n,e){return Qn(n,e)}function tT(n,e,t){if(!co(n.segments,e.segments)||!Kd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!tT(n.children[r],e.children[r],t))return!1;return!0}function UF(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ZC(n[t],e[t]))}function nT(n,e,t){return rT(n,e,e.segments,t)}function rT(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!co(i,t)||e.hasChildren()||!Kd(i,t,r))}else if(n.segments.length===t.length){if(!co(n.segments,t)||!Kd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!nT(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!co(n.segments,i)||!Kd(n.segments,i,r)||!n.children[Z]?!1:rT(n.children[Z],e,o,r)}}function Kd(n,e,t){return e.every((r,i)=>eT[t](n[i].parameters,r.parameters))}var bn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ee([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=lo(this.queryParams),this._queryParamMap}toString(){return $F.serialize(this)}},Ee=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qd(this)}},si=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=lo(this.parameters),this._parameterMap}toString(){return oT(this)}};function BF(n,e){return co(n,e)&&n.every((t,r)=>Qn(t.parameters,e[r].parameters))}function co(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function HF(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Z&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Z&&(t=t.concat(e(i,r)))}),t}var kc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>new ai,providedIn:"root"})}return n})(),ai=class{parse(e){let t=new Wy(e);return new bn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Dc(e.root,!0)}`,r=GF(e.queryParams),i=typeof e.fragment=="string"?`#${zF(e.fragment)}`:"";return`${t}${r}${i}`}},$F=new ai;function Qd(n){return n.segments.map(e=>oT(e)).join("/")}function Dc(n,e){if(!n.hasChildren())return Qd(n);if(e){let t=n.children[Z]?Dc(n.children[Z],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Z&&r.push(`${i}:${Dc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=HF(n,(r,i)=>i===Z?[Dc(n.children[Z],!1)]:[`${i}:${Dc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Z]!=null?`${Qd(n)}/${t[0]}`:`${Qd(n)}/(${t.join("//")})`}}function iT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gd(n){return iT(n).replace(/%3B/gi,";")}function zF(n){return encodeURI(n)}function Gy(n){return iT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yd(n){return decodeURIComponent(n)}function $C(n){return Yd(n.replace(/\+/g,"%20"))}function oT(n){return`${Gy(n.path)}${qF(n.parameters)}`}function qF(n){return Object.entries(n).map(([e,t])=>`;${Gy(e)}=${Gy(t)}`).join("")}function GF(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Gd(t)}=${Gd(i)}`).join("&"):`${Gd(t)}=${Gd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var WF=/^[^\/()?;#]+/;function By(n){let e=n.match(WF);return e?e[0]:""}var KF=/^[^\/()?;=#]+/;function QF(n){let e=n.match(KF);return e?e[0]:""}var YF=/^[^=?&#]+/;function JF(n){let e=n.match(YF);return e?e[0]:""}var ZF=/^[^&#]+/;function XF(n){let e=n.match(ZF);return e?e[0]:""}var Wy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Z]=new Ee(e,t)),r}parseSegment(){let e=By(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new si(Yd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=QF(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=By(this.remaining);i&&(r=i,this.capture(r))}e[Yd(t)]=Yd(r)}parseQueryParam(e){let t=JF(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=XF(this.remaining);s&&(r=s,this.capture(r))}let i=$C(t),o=$C(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=By(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new H(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Z);let s=this.parseChildren();t[o??Z]=Object.keys(s).length===1&&s[Z]?s[Z]:new Ee([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}};function sT(n){return n.segments.length>0?new Ee([],{[Z]:n}):n}function aT(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=aT(i);if(r===Z&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ee(n.segments,e);return eL(t)}function eL(n){if(n.numberOfChildren===1&&n.children[Z]){let e=n.children[Z];return new Ee(n.segments.concat(e.segments),e.children)}return n}function gs(n){return n instanceof bn}function cT(n,e,t=null,r=null,i=new ai){let o=uT(n);return lT(o,e,t,r,i)}function uT(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new Ee(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=sT(r);return e??i}function lT(n,e,t,r,i){let o=n;for(;o.parent;)o=o.parent;if(e.length===0)return Hy(o,o,o,t,r,i);let s=tL(e);if(s.toRoot())return Hy(o,o,new Ee([],{}),t,r,i);let a=nL(s,o,n),u=a.processChildren?Cc(a.segmentGroup,a.index,s.commands):hT(a.segmentGroup,a.index,s.commands);return Hy(o,a.segmentGroup,u,t,r,i)}function Zd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ac(n){return typeof n=="object"&&n!=null&&n.outlets}function zC(n,e,t){n||="\u0275";let r=new bn;return r.queryParams={[n]:e},t.parse(t.serialize(r)).queryParams[n]}function Hy(n,e,t,r,i,o){let s={};for(let[l,h]of Object.entries(r??{}))s[l]=Array.isArray(h)?h.map(p=>zC(l,p,o)):zC(l,h,o);let a;n===e?a=t:a=dT(n,e,t);let u=sT(aT(a));return new bn(u,s,i)}function dT(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=dT(o,e,t)}),new Ee(n.segments,r)}var Xd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Zd(r[0]))throw new H(4003,!1);let i=r.find(Ac);if(i&&i!==LF(r))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function tL(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Xd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Xd(t,e,r)}var fs=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function nL(n,e,t){if(n.isAbsolute)return new fs(e,!0,0);if(!t)return new fs(e,!1,NaN);if(t.parent===null)return new fs(t,!0,0);let r=Zd(n.commands[0])?0:1,i=t.segments.length-1+r;return rL(t,i,n.numberOfDoubleDots)}function rL(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new H(4005,!1);i=r.segments.length}return new fs(r,!1,i-o)}function iL(n){return Ac(n[0])?n[0].outlets:{[Z]:n}}function hT(n,e,t){if(n??=new Ee([],{}),n.segments.length===0&&n.hasChildren())return Cc(n,e,t);let r=oL(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ee(n.segments.slice(0,r.pathIndex),{});return o.children[Z]=new Ee(n.segments.slice(r.pathIndex),n.children),Cc(o,0,i)}else return r.match&&i.length===0?new Ee(n.segments,{}):r.match&&!n.hasChildren()?Ky(n,e,t):r.match?Cc(n,0,i):Ky(n,e,t)}function Cc(n,e,t){if(t.length===0)return new Ee(n.segments,{});{let r=iL(t),i={};if(Object.keys(r).some(o=>o!==Z)&&n.children[Z]&&n.numberOfChildren===1&&n.children[Z].segments.length===0){let o=Cc(n.children[Z],e,t);return new Ee(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=hT(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ee(n.segments,i)}}function oL(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Ac(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!GC(u,l,s))return o;r+=2}else{if(!GC(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ky(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Ac(o)){let u=sL(o.outlets);return new Ee(r,u)}if(i===0&&Zd(t[0])){let u=n.segments[e];r.push(new si(u.path,qC(t[0]))),i++;continue}let s=Ac(o)?o.outlets[Z]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Zd(a)?(r.push(new si(s,qC(a))),i+=2):(r.push(new si(s,{})),i++)}return new Ee(r,{})}function sL(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Ky(new Ee([],{}),0,r))}),e}function qC(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function GC(n,e,t){return n==t.path&&Qn(e,t.parameters)}var Tc="imperative",lt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(lt||{}),Xt=class{id;url;constructor(e,t){this.id=e,this.url=t}},ho=class extends Xt{type=lt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},br=class extends Xt{urlAfterRedirects;type=lt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},At=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(At||{}),Rc=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Rc||{}),un=class extends Xt{reason;code;type=lt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}};function fT(n){return n instanceof un&&(n.code===At.Redirect||n.code===At.SupersededByNewNavigation)}var Cr=class extends Xt{reason;code;type=lt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},fo=class extends Xt{error;target;type=lt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ms=class extends Xt{urlAfterRedirects;state;type=lt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},eh=class extends Xt{urlAfterRedirects;state;type=lt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},th=class extends Xt{urlAfterRedirects;state;shouldActivate;type=lt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},nh=class extends Xt{urlAfterRedirects;state;type=lt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rh=class extends Xt{urlAfterRedirects;state;type=lt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ih=class{route;type=lt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},oh=class{route;type=lt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},sh=class{snapshot;type=lt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ah=class{snapshot;type=lt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ch=class{snapshot;type=lt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uh=class{snapshot;type=lt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ys=class{},vs=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function aL(n){return!(n instanceof ys)&&!(n instanceof vs)}var lh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return this.route?.snapshot._environmentInjector??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Is(this.rootInjector)}},Is=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new lh(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(oe(et))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Qy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Qy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Yy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Yy(e,this._root).map(t=>t.value)}};function Qy(n,e){if(n===e.value)return e;for(let t of e.children){let r=Qy(n,t);if(r)return r}return null}function Yy(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Yy(n,t);if(r.length)return r.unshift(e),r}return[]}var Zt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function hs(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Mc=class extends dh{snapshot;constructor(e,t){super(e),this.snapshot=t,iv(this,e)}toString(){return this.snapshot.toString()}};function pT(n,e){let t=cL(n,e),r=new yt([new si("",{})]),i=new yt({}),o=new yt({}),s=new yt({}),a=new yt(""),u=new ci(r,i,s,a,o,Z,n,t.root);return u.snapshot=t.root,new Mc(new Zt(u,[]),t)}function cL(n,e){let t={},r={},i={},s=new uo([],t,i,"",r,Z,n,null,{},e);return new Nc("",new Zt(s,[]))}var ci=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Pe(l=>l[Oc]))??fe(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Pe(e=>lo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Pe(e=>lo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function hh(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:N(N({},e.params),n.params),data:N(N({},e.data),n.data),resolve:N(N(N(N({},n.data),e.data),i?.data),n._resolvedData)}:r={params:N({},n.params),data:N({},n.data),resolve:N(N({},n.data),n._resolvedData??{})},i&&mT(i)&&(r.resolve[Oc]=i.title),r}var uo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;_environmentInjector;get title(){return this.data?.[Oc]}constructor(e,t,r,i,o,s,a,u,l,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l,this._environmentInjector=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=lo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=lo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Nc=class extends dh{url;constructor(e,t){super(t),this.url=e,iv(this,t)}toString(){return gT(this._root)}};function iv(n,e){e.value._routerState=n,e.children.forEach(t=>iv(n,t))}function gT(n){let e=n.children.length>0?` { ${n.children.map(gT).join(", ")} } `:"";return`${n.value}${e}`}function $y(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Qn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Qn(e.params,t.params)||n.paramsSubject.next(t.params),FF(e.url,t.url)||n.urlSubject.next(t.url),Qn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Jy(n,e){let t=Qn(n.params,e.params)&&BF(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Jy(n.parent,e.parent))}function mT(n){return typeof n.title=="string"||n.title===null}var yT=new z(""),Fc=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Z;activateEvents=new Ke;deactivateEvents=new Ke;attachEvents=new Ke;detachEvents=new Ke;routerOutletData=EC();parentContexts=L(Is);location=L(io);changeDetector=L(ao);inputBinder=L(mh,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Zy(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=nt({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ir]})}return n})(),Zy=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===ci?this.route:e===Is?this.childContexts:e===yT?this.outletData:this.parent.get(e,t)}},mh=new z("");var ov=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=wn({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ae(0,"router-outlet")},dependencies:[Fc],encapsulation:2})}return n})();function sv(n){let e=n.children&&n.children.map(sv),t=e?$(N({},n),{children:e}):N({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Z&&(t.component=ov),t}function uL(n,e,t){let r=xc(n,e._root,t?t._root:void 0);return new Mc(r,e)}function xc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=lL(n,e,t);return new Zt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>xc(n,a)),s}}let r=dL(e.value),i=e.children.map(o=>xc(n,o));return new Zt(r,i)}}function lL(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return xc(n,r,i);return xc(n,r)})}function dL(n){return new ci(new yt(n.url),new yt(n.params),new yt(n.queryParams),new yt(n.fragment),new yt(n.data),n.outlet,n.component,n)}var _s=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},vT="ngNavigationCancelingError";function fh(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=gs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=_T(!1,At.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function _T(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[vT]=!0,t.cancellationCode=e,t}function hL(n){return ET(n)&&gs(n.url)}function ET(n){return!!n&&n[vT]}var Xy=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),$y(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=hs(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=hs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=hs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=hs(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new uh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new ah(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if($y(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),$y(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},ph=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ps=class{component;route;constructor(e,t){this.component=e,this.route=t}};function fL(n,e,t){let r=n._root,i=e?e._root:null;return bc(r,i,t,[r.value])}function pL(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ws(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Rg(n)?n:e.get(n):r}function bc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=hs(e);return n.children.forEach(s=>{gL(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Sc(a,t.getContext(s),i)),i}function gL(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=mL(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ph(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?bc(n,e,a?a.children:null,r,i):bc(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ps(a.outlet.component,s))}else s&&Sc(e,a,i),i.canActivateChecks.push(new ph(r)),o.component?bc(n,null,a?a.children:null,r,i):bc(n,null,t,r,i);return i}function mL(n,e,t){if(typeof t=="function")return Tt(e._environmentInjector,()=>t(n,e));switch(t){case"pathParamsChange":return!co(n.url,e.url);case"pathParamsOrQueryParamsChange":return!co(n.url,e.url)||!Qn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jy(n,e)||!Qn(n.queryParams,e.queryParams);default:return!Jy(n,e)}}function Sc(n,e,t){let r=hs(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Sc(s,e.children.getContext(o),t):Sc(s,null,t):Sc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ps(e.outlet.component,i)):t.canDeactivateChecks.push(new ps(null,i)):t.canDeactivateChecks.push(new ps(null,i))}function Lc(n){return typeof n=="function"}function yL(n){return typeof n=="boolean"}function vL(n){return n&&Lc(n.canLoad)}function _L(n){return n&&Lc(n.canActivate)}function EL(n){return n&&Lc(n.canActivateChild)}function IL(n){return n&&Lc(n.canDeactivate)}function wL(n){return n&&Lc(n.canMatch)}function IT(n){return n instanceof ki||n?.name==="EmptyError"}var Wd=Symbol("INITIAL_VALUE");function Es(){return dr(n=>cg(n.map(e=>e.pipe(ur(1),dg(Wd)))).pipe(Pe(e=>{for(let t of e)if(t!==!0){if(t===Wd)return Wd;if(t===!1||DL(t))return t}return!0}),cr(e=>e!==Wd),ur(1)))}function DL(n){return gs(n)||n instanceof _s}function wT(n){return n.aborted?fe(void 0).pipe(ur(1)):new me(e=>{let t=()=>{e.next(),e.complete()};return n.addEventListener("abort",t),()=>n.removeEventListener("abort",t)})}function DT(n){return xa(wT(n))}function bL(n){return Pt(e=>{let{targetSnapshot:t,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:o}}=e;return o.length===0&&i.length===0?fe($(N({},e),{guardsResult:!0})):CL(o,t,r).pipe(Pt(s=>s&&yL(s)?TL(t,i,n):fe(s)),Pe(s=>$(N({},e),{guardsResult:s})))})}function CL(n,e,t){return We(n).pipe(Pt(r=>NL(r.component,r.route,t,e)),lr(r=>r!==!0,!0))}function TL(n,e,t){return We(e).pipe(Cl(r=>Wo(AL(r.route.parent,t),SL(r.route,t),ML(n,r.path),RL(n,r.route))),lr(r=>r!==!0,!0))}function SL(n,e){return n!==null&&e&&e(new ch(n)),fe(!0)}function AL(n,e){return n!==null&&e&&e(new sh(n)),fe(!0)}function RL(n,e){let t=e.routeConfig?e.routeConfig.canActivate:null;if(!t||t.length===0)return fe(!0);let r=t.map(i=>Ma(()=>{let o=e._environmentInjector,s=ws(i,o),a=_L(s)?s.canActivate(e,n):Tt(o,()=>s(e,n));return po(a).pipe(lr())}));return fe(r).pipe(Es())}function ML(n,e){let t=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(o=>pL(o)).filter(o=>o!==null).map(o=>Ma(()=>{let s=o.guards.map(a=>{let u=o.node._environmentInjector,l=ws(a,u),h=EL(l)?l.canActivateChild(t,n):Tt(u,()=>l(t,n));return po(h).pipe(lr())});return fe(s).pipe(Es())}));return fe(i).pipe(Es())}function NL(n,e,t,r){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return fe(!0);let o=i.map(s=>{let a=e._environmentInjector,u=ws(s,a),l=IL(u)?u.canDeactivate(n,e,t,r):Tt(a,()=>u(n,e,t,r));return po(l).pipe(lr())});return fe(o).pipe(Es())}function xL(n,e,t,r,i){let o=e.canLoad;if(o===void 0||o.length===0)return fe(!0);let s=o.map(a=>{let u=ws(a,n),l=vL(u)?u.canLoad(e,t):Tt(n,()=>u(e,t)),h=po(l);return i?h.pipe(DT(i)):h});return fe(s).pipe(Es(),bT(r))}function bT(n){return ig(On(e=>{if(typeof e!="boolean")throw fh(n,e)}),Pe(e=>e===!0))}function PL(n,e,t,r,i){let o=e.canMatch;if(!o||o.length===0)return fe(!0);let s=o.map(a=>{let u=ws(a,n),l=wL(u)?u.canMatch(e,t):Tt(n,()=>u(e,t));return po(l).pipe(DT(i))});return fe(s).pipe(Es(),bT(r))}var Dr=class n extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,n.prototype)}},Pc=class n extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,n.prototype)}};function OL(n){throw new H(4e3,!1)}function kL(n){throw _T(!1,At.GuardRejected)}var ev=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}async lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[Z])throw OL(`${e.redirectTo}`);i=i.children[Z]}}async applyRedirectCommands(e,t,r,i,o){let s=await FL(t,i,o);if(s instanceof bn)throw new Pc(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Pc(a);return a}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new bn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ee(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new H(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function FL(n,e,t){if(typeof n=="string")return Promise.resolve(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p,paramMap:g,queryParamMap:y}=e;return Jd(po(Tt(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p,paramMap:g,queryParamMap:y}))))}function LL(n,e){return n.providers&&!n._injector&&(n._injector=dc(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Dn(n){return n.outlet||Z}function VL(n,e){let t=n.filter(r=>Dn(r)===e);return t.push(...n.filter(r=>Dn(r)!==e)),t}var tv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jL(n,e,t,r,i,o){let s=CT(n,e,t);return s.matched?(r=LL(e,r),PL(r,e,t,i,o).pipe(Pe(a=>a===!0?s:N({},tv)))):fe(s)}function CT(n,e,t){if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?N({},tv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||JC)(t,n,e);if(!i)return N({},tv);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?N(N({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function WC(n,e,t,r){return t.length>0&&HL(n,t,r)?{segmentGroup:new Ee(e,BL(r,new Ee(t,n.children))),slicedSegments:[]}:t.length===0&&$L(n,t,r)?{segmentGroup:new Ee(n.segments,UL(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ee(n.segments,n.children),slicedSegments:t}}function UL(n,e,t,r){let i={};for(let o of t)if(yh(n,e,o)&&!r[Dn(o)]){let s=new Ee([],{});i[Dn(o)]=s}return N(N({},r),i)}function BL(n,e){let t={};t[Z]=e;for(let r of n)if(r.path===""&&Dn(r)!==Z){let i=new Ee([],{});t[Dn(r)]=i}return t}function HL(n,e,t){return t.some(r=>yh(n,e,r)&&Dn(r)!==Z)}function $L(n,e,t){return t.some(r=>yh(n,e,r))}function yh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function zL(n,e,t){return e.length===0&&!n.children[t]}var nv=class{};async function qL(n,e,t,r,i,o,s="emptyOnly",a){return new rv(n,e,t,r,i,s,o,a).recognize()}var GL=31,rv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a,u){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=u,this.applyRedirects=new ev(this.urlSerializer,this.urlTree)}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}async recognize(){let e=WC(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:r}=await this.match(e),i=new Zt(r,t),o=new Nc("",i),s=cT(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(e){let t=new uo([],Object.freeze({}),Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Z,this.rootComponentType,null,{},this.injector);try{return{children:await this.processSegmentGroup(this.injector,this.config,e,Z,t),rootSnapshot:t}}catch(r){if(r instanceof Pc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Dr?this.noMatchError(r):r}}async processSegmentGroup(e,t,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,t,r,o);let s=await this.processSegment(e,t,r,r.segments,i,!0,o);return s instanceof Zt?[s]:[]}async processChildren(e,t,r,i){let o=[];for(let u of Object.keys(r.children))u==="primary"?o.unshift(u):o.push(u);let s=[];for(let u of o){let l=r.children[u],h=VL(t,u),p=await this.processSegmentGroup(e,h,l,u,i);s.push(...p)}let a=TT(s);return WL(a),a}async processSegment(e,t,r,i,o,s,a){for(let u of t)try{return await this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a)}catch(l){if(l instanceof Dr||IT(l))continue;throw l}if(zL(r,i,o))return new nv;throw new Dr(r)}async processSegmentAgainstRoute(e,t,r,i,o,s,a,u){if(Dn(r)!==s&&(s===Z||!yh(i,o,r)))throw new Dr(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,o,s,u);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u);throw new Dr(i)}async expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=CT(t,i,o);if(!u)throw new Dr(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>GL&&(this.allowRedirects=!1));let y=new uo(o,l,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,KC(i),Dn(i),i.component??i._loadedComponent??null,i,QC(i),e),I=hh(y,a,this.paramsInheritanceStrategy);if(y.params=Object.freeze(I.params),y.data=Object.freeze(I.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let S=await this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e),P=await this.applyRedirects.lineralizeSegments(i,S);return this.processSegment(e,r,t,P.concat(g),s,!1,a)}async matchSegmentAgainstRoute(e,t,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await Jd(jL(t,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(t.children={}),!a?.matched)throw new Dr(t);e=r._injector??e;let{routes:u}=await this.getChildConfig(e,r,i),l=r._loadedInjector??e,{parameters:h,consumedSegments:p,remainingSegments:g}=a,y=new uo(p,h,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,KC(r),Dn(r),r.component??r._loadedComponent??null,r,QC(r),e),I=hh(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(I.params),y.data=Object.freeze(I.data);let{segmentGroup:S,slicedSegments:P}=WC(t,p,g,u);if(P.length===0&&S.hasChildren()){let ye=await this.processChildren(l,u,S,y);return new Zt(y,ye)}if(u.length===0&&P.length===0)return new Zt(y,[]);let j=Dn(r)===o,ee=await this.processSegment(l,u,S,P,j?Z:o,!0,y);return new Zt(y,ee instanceof Zt?[ee]:[])}async getChildConfig(e,t,r){if(t.children)return{routes:t.children,injector:e};if(t.loadChildren){if(t._loadedRoutes!==void 0){let o=t._loadedNgModuleFactory;return o&&!t._loadedInjector&&(t._loadedInjector=o.create(e).injector),{routes:t._loadedRoutes,injector:t._loadedInjector}}if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await Jd(xL(e,t,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(e,t);return t._loadedRoutes=o.routes,t._loadedInjector=o.injector,t._loadedNgModuleFactory=o.factory,o}throw kL(t)}return{routes:[],injector:e}}};function WL(n){n.sort((e,t)=>e.value.outlet===Z?-1:t.value.outlet===Z?1:e.value.outlet.localeCompare(t.value.outlet))}function KL(n){let e=n.value.routeConfig;return e&&e.path===""}function TT(n){let e=[],t=new Set;for(let r of n){if(!KL(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=TT(r.children);e.push(new Zt(r.value,i))}return e.filter(r=>!t.has(r))}function KC(n){return n.data||{}}function QC(n){return n.resolve||{}}function QL(n,e,t,r,i,o,s){return Pt(async a=>{let{state:u,tree:l}=await qL(n,e,t,r,a.extractedUrl,i,o,s);return $(N({},a),{targetSnapshot:u,urlAfterRedirects:l})})}function YL(n){return Pt(e=>{let{targetSnapshot:t,guards:{canActivateChecks:r}}=e;if(!r.length)return fe(e);let i=new Set(r.map(a=>a.route)),o=new Set;for(let a of i)if(!o.has(a))for(let u of ST(a))o.add(u);let s=0;return We(o).pipe(Cl(a=>i.has(a)?JL(a,t,n):(a.data=hh(a,a.parent,n).resolve,fe(void 0))),On(()=>s++),Tl(1),Pt(a=>s===o.size?fe(e):vt))})}function ST(n){let e=n.children.map(t=>ST(t)).flat();return[n,...e]}function JL(n,e,t){let r=n.routeConfig,i=n._resolve;return r?.title!==void 0&&!mT(r)&&(i[Oc]=r.title),Ma(()=>(n.data=hh(n,n.parent,t).resolve,ZL(i,n,e).pipe(Pe(o=>(n._resolvedData=o,n.data=N(N({},n.data),o),null)))))}function ZL(n,e,t){let r=qy(n);if(r.length===0)return fe({});let i={};return We(r).pipe(Pt(o=>XL(n[o],e,t).pipe(lr(),On(s=>{if(s instanceof _s)throw fh(new ai,s);i[o]=s}))),Tl(1),Pe(()=>i),Na(o=>IT(o)?vt:ag(o)))}function XL(n,e,t){let r=e._environmentInjector,i=ws(n,r),o=i.resolve?i.resolve(e,t):Tt(r,()=>i(e,t));return po(o)}function YC(n){return dr(e=>{let t=n(e);return t?We(t).pipe(Pe(()=>e)):fe(e)})}var av=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Z);return r}getResolvedTitleForRoute(t){return t.data[Oc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>L(AT),providedIn:"root"})}return n})(),AT=(()=>{class n extends av{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(oe(BC))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vc=new z("",{factory:()=>({})}),jc=new z(""),RT=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=L(_y);async loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await XC(Tt(t,()=>r.loadComponent())),s=await xT(NT(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await MT(r,this.compiler,t,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,r._loadedNgModuleFactory=o.factory,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();async function MT(n,e,t,r){let i=await XC(Tt(t,()=>n.loadChildren())),o=await xT(NT(i)),s;o instanceof Sd||Array.isArray(o)?s=o:s=await e.compileModuleAsync(o),r&&r(n);let a,u,l=!1,h;return Array.isArray(s)?(u=s,l=!0):(a=s.create(t).injector,h=s,u=a.get(jc,[],{optional:!0,self:!0}).flat()),{routes:u.map(sv),injector:a,factory:h}}function eV(n){return n&&typeof n=="object"&&"default"in n}function NT(n){return eV(n)?n.default:n}async function xT(n){return n}var vh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>L(tV),providedIn:"root"})}return n})(),tV=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),PT=new z("");var nV=()=>{},OT=new z(""),kT=(()=>{class n{currentNavigation=de(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=de(null);events=new it;transitionAbortWithErrorSubject=new it;configLoader=L(RT);environmentInjector=L(et);destroyRef=L(Bn);urlSerializer=L(kc);rootContexts=L(Is);location=L(ds);inputBindingEnabled=L(mh,{optional:!0})!==null;titleStrategy=L(av);options=L(Vc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=L(vh);createViewTransition=L(PT,{optional:!0});navigationErrorHandler=L(OT,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>fe(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new ih(i)),r=i=>this.events.next(new oh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;st(()=>{this.transitions?.next($(N({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(t){return this.transitions=new yt(null),this.transitions.pipe(cr(r=>r!==null),dr(r=>{let i=!1,o=new AbortController,s=()=>!i&&this.currentTransition?.id===r.id;return fe(r).pipe(dr(a=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",At.SupersededByNewNavigation),vt;this.currentTransition=r;let u=this.lastSuccessfulNavigation();this.currentNavigation.set({id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:u?$(N({},u),{previousNavigation:null}):null,abort:()=>o.abort()});let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=a.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&h!=="reload")return this.events.next(new Cr(a.id,this.urlSerializer.serialize(a.rawUrl),"",Rc.IgnoredSameUrlNavigation)),a.resolve(!1),vt;if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return fe(a).pipe(dr(p=>(this.events.next(new ho(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),p.id!==this.navigationId?vt:Promise.resolve(p))),QL(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),On(p=>{r.targetSnapshot=p.targetSnapshot,r.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation.update(y=>(y.finalUrl=p.urlAfterRedirects,y));let g=new ms(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:p,extractedUrl:g,source:y,restoredState:I,extras:S}=a,P=new ho(p,this.urlSerializer.serialize(g),y,I);this.events.next(P);let j=pT(this.rootComponentType,this.environmentInjector).snapshot;return this.currentTransition=r=$(N({},a),{targetSnapshot:j,urlAfterRedirects:g,extras:$(N({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(ee=>(ee.finalUrl=g,ee)),fe(r)}else return this.events.next(new Cr(a.id,this.urlSerializer.serialize(a.extractedUrl),"",Rc.IgnoredByUrlHandlingStrategy)),a.resolve(!1),vt}),Pe(a=>{let u=new eh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);return this.events.next(u),this.currentTransition=r=$(N({},a),{guards:fL(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),r}),bL(a=>this.events.next(a)),dr(a=>{if(r.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw fh(this.urlSerializer,a.guardsResult);let u=new th(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);if(this.events.next(u),!s())return vt;if(!a.guardsResult)return this.cancelNavigationTransition(a,"",At.GuardRejected),vt;if(a.guards.canActivateChecks.length===0)return fe(a);let l=new nh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);if(this.events.next(l),!s())return vt;let h=!1;return fe(a).pipe(YL(this.paramsInheritanceStrategy),On({next:()=>{h=!0;let p=new rh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(p)},complete:()=>{h||this.cancelNavigationTransition(a,"",At.NoDataFromResolver)}}))}),YC(a=>{let u=h=>{let p=[];if(h.routeConfig?._loadedComponent)h.component=h.routeConfig?._loadedComponent;else if(h.routeConfig?.loadComponent){let g=h._environmentInjector;p.push(this.configLoader.loadComponent(g,h.routeConfig).then(y=>{h.component=y}))}for(let g of h.children)p.push(...u(g));return p},l=u(a.targetSnapshot.root);return l.length===0?fe(a):We(Promise.all(l).then(()=>a))}),YC(()=>this.afterPreactivation()),dr(()=>{let{currentSnapshot:a,targetSnapshot:u}=r,l=this.createViewTransition?.(this.environmentInjector,a.root,u.root);return l?We(l).pipe(Pe(()=>r)):fe(r)}),ur(1),Pe(a=>{let u=uL(t.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);this.currentTransition=r=a=$(N({},a),{targetRouterState:u}),this.currentNavigation.update(l=>(l.targetRouterState=u,l)),this.events.next(new ys),s()&&(new Xy(t.routeReuseStrategy,r.targetRouterState,r.currentRouterState,l=>this.events.next(l),this.inputBindingEnabled).activate(this.rootContexts),s()&&(i=!0,this.currentNavigation.update(l=>(l.abort=nV,l)),this.lastSuccessfulNavigation.set(st(this.currentNavigation)),this.events.next(new br(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)))}),xa(wT(o.signal).pipe(cr(()=>!i&&!r.targetRouterState),On(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",At.Aborted)}))),On({complete:()=>{i=!0}}),xa(this.transitionAbortWithErrorSubject.pipe(On(a=>{throw a}))),lg(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",At.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Na(a=>{if(i=!0,this.destroyed)return r.resolve(!1),vt;if(ET(a))this.events.next(new un(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode)),hL(a)?this.events.next(new vs(a.url,a.navigationBehaviorOptions)):r.resolve(!1);else{let u=new fo(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);try{let l=Tt(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(l instanceof _s){let{message:h,cancellationCode:p}=fh(this.urlSerializer,l);this.events.next(new un(r.id,this.urlSerializer.serialize(r.extractedUrl),h,p)),this.events.next(new vs(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(u),a}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return vt}))}))}cancelNavigationTransition(t,r,i){let o=new un(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=st(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rV(n){return n!==Tc}var FT=new z("");var LT=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>L(iV),providedIn:"root"})}return n})(),gh=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}shouldDestroyInjector(e){return!0}},iV=(()=>{class n extends gh{static \u0275fac=(()=>{let t;return function(i){return(t||(t=no(n)))(i||n)}})();static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cv=(()=>{class n{urlSerializer=L(kc);options=L(Vc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=L(ds);urlHandlingStrategy=L(vh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new bn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof bn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=pT(null,L(et));getRouterState(){return this.routerState}_stateMemento=this.createStateMemento();get stateMemento(){return this._stateMemento}updateStateMemento(){this._stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}restoredState(){return this.location.getState()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>L(oV),providedIn:"root"})}return n})(),oV=(()=>{class n extends cv{currentPageId=0;lastSuccessfulId=-1;get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof ho?this.updateStateMemento():t instanceof Cr?this.commitTransition(r):t instanceof ms?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof ys?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof un&&!fT(t)?this.restoreHistory(r):t instanceof fo?this.restoreHistory(r,!0):t instanceof br&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=N(N({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=N(N({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=no(n)))(i||n)}})();static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function uv(n,e){n.events.pipe(cr(t=>t instanceof br||t instanceof un||t instanceof fo||t instanceof Cr),Pe(t=>t instanceof br||t instanceof Cr?0:(t instanceof un?t.code===At.Redirect||t.code===At.SupersededByNewNavigation:!1)?2:1),cr(t=>t!==2),ur(1)).subscribe(()=>{e()})}var VT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ui=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=L(fy);stateManager=L(cv);options=L(Vc,{optional:!0})||{};pendingTasks=L(Xr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=L(kT);urlSerializer=L(kc);location=L(ds);urlHandlingStrategy=L(vh);injector=L(et);_events=new it;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=L(LT);injectorCleanup=L(FT,{optional:!0});onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=L(jc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!L(mh,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{}}),this.subscribeToNavigationEvents()}eventsSubscription=new mt;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=st(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof un&&r.code!==At.Redirect&&r.code!==At.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof br)this.navigated=!0,this.injectorCleanup?.(this.routeReuseStrategy,this.routerState,this.config);else if(r instanceof vs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=N({scroll:i.extras.scroll,browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||rV(i.source)},s);this.scheduleNavigation(a,Tc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}aL(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Tc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=N({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(Hn)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return st(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(sv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=N(N({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=uT(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return lT(p,t,h,l??null,this.urlSerializer)}navigateByUrl(t,r={skipLocationChange:!1}){let i=gs(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Tc,null,r)}navigate(t,r={skipLocationChange:!1}){return sV(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Bi(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=N({},VT):r===!1?i=N({},jT):i=r,gs(t))return HC(this.currentUrlTree,t,i);let o=this.parseUrl(t);return HC(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return uv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sV(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new H(4008,!1)}var uV=new z("");function lv(n,...e){return Ua([{provide:jc,multi:!0,useValue:n},[],{provide:ci,useFactory:lV},{provide:Ad,multi:!0,useFactory:dV},e.map(t=>t.\u0275providers)])}function lV(){return L(ui).routerState.root}function dV(){let n=L(Gt);return e=>{let t=n.get(oo);if(e!==t.components[0])return;let r=n.get(ui),i=n.get(hV);n.get(fV)===1&&r.initialNavigation(),n.get(pV,null,{optional:!0})?.setUpPreloading(),n.get(uV,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var hV=new z("",{factory:()=>new it}),fV=new z("",{factory:()=>1});var pV=new z("");var _h=class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=wn({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&ae(0,"router-outlet")},dependencies:[Fc],encapsulation:2})}};var QT=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(he(ro),he(ti))};static \u0275dir=nt({type:n})}return n})(),mV=(()=>{class n extends QT{static \u0275fac=(()=>{let t;return function(i){return(t||(t=no(n)))(i||n)}})();static \u0275dir=nt({type:n,features:[Gn]})}return n})(),YT=new z("");var yV={provide:YT,useExisting:gr(()=>di),multi:!0};function vV(){let n=cn()?cn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var _V=new z(""),di=(()=>{class n extends QT{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!vV())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(he(ro),he(ti),he(_V,8))};static \u0275dir=nt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&xe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[ls([yV]),Gn]})}return n})();function EV(n){return n==null||IV(n)===0}function IV(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var fv=new z(""),JT=new z("");function wV(n){return EV(n.value)?{required:!0}:null}function BT(n){return null}function ZT(n){return n!=null}function XT(n){return ri(n)?We(n):n}function eS(n){let e={};return n.forEach(t=>{e=t!=null?N(N({},e),t):e}),Object.keys(e).length===0?null:e}function tS(n,e){return e.map(t=>t(n))}function DV(n){return!n.validate}function nS(n){return n.map(e=>DV(e)?e:t=>e.validate(t))}function bV(n){if(!n)return null;let e=n.filter(ZT);return e.length==0?null:function(t){return eS(tS(t,e))}}function pv(n){return n!=null?bV(nS(n)):null}function CV(n){if(!n)return null;let e=n.filter(ZT);return e.length==0?null:function(t){let r=tS(t,e).map(XT);return ug(r).pipe(Pe(eS))}}function gv(n){return n!=null?CV(nS(n)):null}function HT(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function TV(n){return n._rawValidators}function SV(n){return n._rawAsyncValidators}function dv(n){return n?Array.isArray(n)?n:[n]:[]}function Ih(n,e){return Array.isArray(n)?n.includes(e):n===e}function $T(n,e){let t=dv(e);return dv(n).forEach(i=>{Ih(t,i)||t.push(i)}),t}function zT(n,e){return dv(e).filter(t=>!Ih(n,t))}var wh=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=pv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=gv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Cs=class extends wh{name;get formDirective(){return null}get path(){return null}},qc=class extends wh{_parent=null;name=null;valueAccessor=null},Dh=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var Ts=(()=>{class n extends Dh{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(he(qc,2))};static \u0275dir=nt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&$e("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Gn]})}return n})(),Ah=(()=>{class n extends Dh{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(he(Cs,10))};static \u0275dir=nt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&$e("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Gn]})}return n})();var Uc="VALID",Eh="INVALID",Ds="PENDING",Bc="DISABLED",li=class{},bh=class extends li{value;source;constructor(e,t){super(),this.value=e,this.source=t}},$c=class extends li{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},zc=class extends li{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},bs=class extends li{status;source;constructor(e,t){super(),this.status=e,this.source=t}},hv=class extends li{source;constructor(e){super(),this.source=e}},Ch=class extends li{source;constructor(e){super(),this.source=e}};function rS(n){return(Rh(n)?n.validators:n)||null}function AV(n){return Array.isArray(n)?pv(n):n||null}function iS(n,e){return(Rh(e)?e.asyncValidators:n)||null}function RV(n){return Array.isArray(n)?gv(n):n||null}function Rh(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function MV(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new H(1e3,"");if(!r[t])throw new H(1001,"")}function NV(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new H(1002,"")})}var Th=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return st(this.statusReactive)}set status(e){st(()=>this.statusReactive.set(e))}_status=so(()=>this.statusReactive());statusReactive=de(void 0);get valid(){return this.status===Uc}get invalid(){return this.status===Eh}get pending(){return this.status==Ds}get disabled(){return this.status===Bc}get enabled(){return this.status!==Bc}errors;get pristine(){return st(this.pristineReactive)}set pristine(e){st(()=>this.pristineReactive.set(e))}_pristine=so(()=>this.pristineReactive());pristineReactive=de(!0);get dirty(){return!this.pristine}get touched(){return st(this.touchedReactive)}set touched(e){st(()=>this.touchedReactive.set(e))}_touched=so(()=>this.touchedReactive());touchedReactive=de(!1);get untouched(){return!this.touched}_events=new it;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators($T(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators($T(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(zT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(zT(e,this._rawAsyncValidators))}hasValidator(e){return Ih(this._rawValidators,e)}hasAsyncValidator(e){return Ih(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched($(N({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new zc(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new zc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty($(N({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new $c(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new $c(!0,r))}markAsPending(e={}){this.status=Ds;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new bs(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending($(N({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Bc,this.errors=null,this._forEachChild(i=>{i.disable($(N({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new bh(this.value,r)),this._events.next(new bs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors($(N({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Uc,this._forEachChild(r=>{r.enable($(N({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors($(N({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Uc||this.status===Ds)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new bh(this.value,t)),this._events.next(new bs(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity($(N({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bc:Uc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ds,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=XT(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new bs(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ke,this.statusChanges=new Ke}_calculateStatus(){return this._allControlsDisabled()?Bc:this.errors?Eh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ds)?Ds:this._anyControlsHaveStatus(Eh)?Eh:Uc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new $c(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new zc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Rh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=AV(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=RV(this._rawAsyncValidators)}},Sh=class extends Th{constructor(e,t,r){super(rS(t),iS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){NV(this,!0,e),Object.keys(e).forEach(r=>{MV(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,$(N({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Ch(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var mv=new z("",{factory:()=>yv}),yv="always";function xV(n,e){return[...e.path,n]}function oS(n,e,t=yv){sS(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),OV(n,e),FV(n,e),kV(n,e),PV(n,e)}function qT(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function PV(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function sS(n,e){let t=TV(n);e.validator!==null?n.setValidators(HT(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=SV(n);e.asyncValidator!==null?n.setAsyncValidators(HT(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();qT(e._rawValidators,i),qT(e._rawAsyncValidators,i)}function OV(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&aS(n,e)})}function kV(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&aS(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function aS(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function FV(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function LV(n,e){n==null,sS(n,e)}function VV(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function jV(n){return Object.getPrototypeOf(n.constructor)===mV}function UV(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function BV(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===di?t=o:jV(o)?r=o:i=o}),i||r||t||null}var HV={provide:Cs,useExisting:gr(()=>Gc)},Hc=Promise.resolve(),Gc=(()=>{class n extends Cs{callSetDisabledState;get submitted(){return st(this.submittedReactive)}_submitted=so(()=>this.submittedReactive());submittedReactive=de(!1);_directives=new Set;form;ngSubmit=new Ke;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Sh({},pv(t),gv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Hc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),oS(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Hc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Hc.then(()=>{let r=this._findContainer(t.path),i=new Sh({});LV(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Hc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Hc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),UV(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new hv(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(he(fv,10),he(JT,10),he(mv,8))};static \u0275dir=nt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&xe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ls([HV]),Gn]})}return n})();function GT(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function WT(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var $V=class extends Th{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(rS(t),iS(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Rh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(WT(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),t.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Ch(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){GT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){GT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){WT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var zV={provide:qc,useExisting:gr(()=>go)},KT=Promise.resolve(),go=(()=>{class n extends qc{_changeDetectorRef;callSetDisabledState;control=new $V;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ke;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=BV(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),VV(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){oS(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){KT.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&wr(r);KT.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?xV(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(he(Cs,9),he(fv,10),he(JT,10),he(YT,10),he(ao,8),he(mv,8))};static \u0275dir=nt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ls([zV]),Gn,Ir]})}return n})();var Mh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=nt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var qV=(()=>{class n{_validator=BT;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):BT,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=nt({type:n,features:[Ir]})}return n})();var GV={provide:fv,useExisting:gr(()=>Wc),multi:!0};var Wc=(()=>{class n extends qV{required;inputName="required";normalizeInput=wr;createValidator=t=>wV;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=no(n)))(i||n)}})();static \u0275dir=nt({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Rd("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ls([GV]),Gn]})}return n})();var WV=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ni({type:n});static \u0275inj=mr({})}return n})();var Ss=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:mv,useValue:t.callSetDisabledState??yv}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ni({type:n});static \u0275inj=mr({imports:[WV]})}return n})();var cS=()=>{};var dS=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},KV=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},hS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(t[h],t[p],t[g],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(dS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):KV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Ev;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let I=l<<6&192|p;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Ev=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},QV=function(n){let e=dS(n);return hS.encodeByteArray(e,!0)},Qc=function(n){return QV(n).replace(/\./g,"")},xh=function(n){try{return hS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function fS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var YV=()=>fS().__FIREBASE_DEFAULTS__,JV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ZV=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&xh(n[1]);return e&&JSON.parse(e)},Ph=()=>{try{return cS()||YV()||JV()||ZV()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},wv=n=>Ph()?.emulatorHosts?.[n],pS=n=>{let e=wv(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Dv=()=>Ph()?.config,bv=n=>Ph()?.[`_${n}`];var Nh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function hi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Oh(n){return(await fetch(n,{credentials:"include"})).ok}function gS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=N({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Qc(JSON.stringify(t)),Qc(JSON.stringify(s)),""].join(".")}var Kc={};function XV(){let n={prod:[],emulator:[]};for(let e of Object.keys(Kc))Kc[e]?n.emulator.push(e):n.prod.push(e);return n}function e2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var uS=!1;function kh(n,e){if(typeof window>"u"||typeof document>"u"||!hi(window.location.host)||Kc[n]===e||Kc[n]||uS)return;Kc[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=XV().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{uS=!0,s()},g}function h(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=e2(r),y=t("text"),I=document.getElementById(y)||document.createElement("span"),S=t("learnmore"),P=document.getElementById(S)||document.createElement("a"),j=t("preprendIcon"),ee=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let ye=g.element;a(ye),h(P,S);let Ht=l();u(ee,j),ye.append(ee,I,P,Ht),document.body.appendChild(ye)}o?(I.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function t2(){let n=Ph()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vS(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function _S(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ES(){let n=dt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function IS(){return!t2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Cv(){try{return typeof indexedDB=="object"}catch{return!1}}function wS(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}var n2="FirebaseError",en=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=n2,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tr.prototype.create)}},Tr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?r2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new en(i,a,r)}};function r2(n,e){return n.replace(i2,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var i2=/\{\$([^}]+)}/g;function DS(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Cn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(lS(o)&&lS(s)){if(!Cn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function lS(n){return n!==null&&typeof n=="object"}function Yc(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function As(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Rs(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function bS(n,e){let t=new Iv(n,e);return t.subscribe.bind(t)}var Iv=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");o2(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=_v),i.error===void 0&&(i.error=_v),i.complete===void 0&&(i.complete=_v);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function o2(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function _v(){}var Eee=14400*1e3;function Qe(n){return n&&n._delegate?n._delegate:n}var ln=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var mo="[DEFAULT]";var Tv=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Nh;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(a2(e))try{this.getOrInitializeService({instanceIdentifier:mo})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mo){return this.instances.has(e)}getOptions(e=mo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){let r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:s2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mo){return this.component?this.component.multipleInstances?e:mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function s2(n){return n===mo?void 0:n}function a2(n){return n.instantiationMode==="EAGER"}var Fh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Tv(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var c2=[],ce=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(ce||{}),u2={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},l2=ce.INFO,d2={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},h2=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=d2[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},fi=class{constructor(e){this.name=e,this._logLevel=l2,this._logHandler=h2,this._userLogHandler=null,c2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?u2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var f2=(n,e)=>e.some(t=>n instanceof t),CS,TS;function p2(){return CS||(CS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g2(){return TS||(TS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var SS=new WeakMap,Av=new WeakMap,AS=new WeakMap,Sv=new WeakMap,Mv=new WeakMap;function m2(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Yn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&SS.set(t,n)}).catch(()=>{}),Mv.set(e,n),e}function y2(n){if(Av.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Av.set(n,e)}var Rv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Av.get(n);if(e==="objectStoreNames")return n.objectStoreNames||AS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Yn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function RS(n){Rv=n(Rv)}function v2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Lh(this),e,...t);return AS.set(r,e.sort?e.sort():[e]),Yn(r)}:g2().includes(n)?function(...e){return n.apply(Lh(this),e),Yn(SS.get(this))}:function(...e){return Yn(n.apply(Lh(this),e))}}function _2(n){return typeof n=="function"?v2(n):(n instanceof IDBTransaction&&y2(n),f2(n,p2())?new Proxy(n,Rv):n)}function Yn(n){if(n instanceof IDBRequest)return m2(n);if(Sv.has(n))return Sv.get(n);let e=_2(n);return e!==n&&(Sv.set(n,e),Mv.set(e,n)),e}var Lh=n=>Mv.get(n);function NS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Yn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Yn(s.result),u.oldVersion,u.newVersion,Yn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var E2=["get","getKey","getAll","getAllKeys","count"],I2=["put","add","delete","clear"],Nv=new Map;function MS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Nv.get(e))return Nv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=I2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||E2.includes(t)))return;let o=async function(s,...a){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[t](...a),i&&u.done]))[0]};return Nv.set(e,o),o}RS(n=>$(N({},n),{get:(e,t,r)=>MS(e,t)||n.get(e,t,r),has:(e,t)=>!!MS(e,t)||n.has(e,t)}));var Pv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(w2(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function w2(n){return n.getComponent()?.type==="VERSION"}var Ov="@firebase/app",xS="0.14.7";var Sr=new fi("@firebase/app"),D2="@firebase/app-compat",b2="@firebase/analytics-compat",C2="@firebase/analytics",T2="@firebase/app-check-compat",S2="@firebase/app-check",A2="@firebase/auth",R2="@firebase/auth-compat",M2="@firebase/database",N2="@firebase/data-connect",x2="@firebase/database-compat",P2="@firebase/functions",O2="@firebase/functions-compat",k2="@firebase/installations",F2="@firebase/installations-compat",L2="@firebase/messaging",V2="@firebase/messaging-compat",j2="@firebase/performance",U2="@firebase/performance-compat",B2="@firebase/remote-config",H2="@firebase/remote-config-compat",$2="@firebase/storage",z2="@firebase/storage-compat",q2="@firebase/firestore",G2="@firebase/ai",W2="@firebase/firestore-compat",K2="firebase",Q2="12.8.0";var kv="[DEFAULT]",Y2={[Ov]:"fire-core",[D2]:"fire-core-compat",[C2]:"fire-analytics",[b2]:"fire-analytics-compat",[S2]:"fire-app-check",[T2]:"fire-app-check-compat",[A2]:"fire-auth",[R2]:"fire-auth-compat",[M2]:"fire-rtdb",[N2]:"fire-data-connect",[x2]:"fire-rtdb-compat",[P2]:"fire-fn",[O2]:"fire-fn-compat",[k2]:"fire-iid",[F2]:"fire-iid-compat",[L2]:"fire-fcm",[V2]:"fire-fcm-compat",[j2]:"fire-perf",[U2]:"fire-perf-compat",[B2]:"fire-rc",[H2]:"fire-rc-compat",[$2]:"fire-gcs",[z2]:"fire-gcs-compat",[q2]:"fire-fst",[W2]:"fire-fst-compat",[G2]:"fire-vertex","fire-js":"fire-js",[K2]:"fire-js-all"};var Vh=new Map,J2=new Map,Fv=new Map;function PS(n,e){try{n.container.addComponent(e)}catch(t){Sr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function gi(n){let e=n.name;if(Fv.has(e))return Sr.debug(`There were multiple attempts to register component ${e}.`),!1;Fv.set(e,n);for(let t of Vh.values())PS(t,n);for(let t of J2.values())PS(t,n);return!0}function Zc(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function tn(n){return n==null?!1:n.settings!==void 0}var Z2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pi=new Tr("app","Firebase",Z2);var Lv=class{constructor(e,t,r){this._isDeleted=!1,this._options=N({},e),this._config=N({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pi.create("app-deleted",{appName:this._name})}};var mi=Q2;function Xc(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=N({name:kv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw pi.create("bad-app-name",{appName:String(i)});if(t||(t=Dv()),!t)throw pi.create("no-options");let o=Vh.get(i);if(o){if(Cn(t,o.options)&&Cn(r,o.config))return o;throw pi.create("duplicate-app",{appName:i})}let s=new Fh(i);for(let u of Fv.values())s.addComponent(u);let a=new Lv(t,r,s);return Vh.set(i,a),a}function jh(n=kv){let e=Vh.get(n);if(!e&&n===kv&&Dv())return Xc();if(!e)throw pi.create("no-app",{appName:n});return e}function Tn(n,e,t){let r=Y2[n]??n;t&&(r+=`-${t}`);let i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sr.warn(s.join(" "));return}gi(new ln(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var X2="firebase-heartbeat-database",ej=1,Jc="firebase-heartbeat-store",xv=null;function LS(){return xv||(xv=NS(X2,ej,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Jc)}catch(t){console.warn(t)}}}}).catch(n=>{throw pi.create("idb-open",{originalErrorMessage:n.message})})),xv}async function tj(n){try{let t=(await LS()).transaction(Jc),r=await t.objectStore(Jc).get(VS(n));return await t.done,r}catch(e){if(e instanceof en)Sr.warn(e.message);else{let t=pi.create("idb-get",{originalErrorMessage:e?.message});Sr.warn(t.message)}}}async function OS(n,e){try{let r=(await LS()).transaction(Jc,"readwrite");await r.objectStore(Jc).put(e,VS(n)),await r.done}catch(t){if(t instanceof en)Sr.warn(t.message);else{let r=pi.create("idb-set",{originalErrorMessage:t?.message});Sr.warn(r.message)}}}function VS(n){return`${n.name}!${n.options.appId}`}var nj=1024,rj=30,Vv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new jv(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=kS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>rj){let i=oj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Sr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=kS(),{heartbeatsToSend:t,unsentEntries:r}=ij(this._heartbeatsCache.heartbeats),i=Qc(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Sr.warn(e),""}}};function kS(){return new Date().toISOString().substring(0,10)}function ij(n,e=nj){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),FS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),FS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var jv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Cv()?wS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await tj(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return OS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return OS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function FS(n){return Qc(JSON.stringify({version:2,heartbeats:n})).length}function oj(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function sj(n){gi(new ln("platform-logger",e=>new Pv(e),"PRIVATE")),gi(new ln("heartbeat",e=>new Vv(e),"PRIVATE")),Tn(Ov,xS,n),Tn(Ov,xS,"esm2020"),Tn("fire-js","")}sj("");var aj="firebase",cj="12.8.0";Tn(aj,cj,"app");var jS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},US={};var Ar,Uv;(function(){var n;function e(D,v){function E(){}E.prototype=v.prototype,D.F=v.prototype,D.prototype=new E,D.prototype.constructor=D,D.D=function(b,w,A){for(var _=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)_[Ft-2]=arguments[Ft];return v.prototype[w].apply(b,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,E){E||(E=0);let b=Array(16);if(typeof v=="string")for(var w=0;w<16;++w)b[w]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(w=0;w<16;++w)b[w]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=D.g[0],E=D.g[1],w=D.g[2];let A=D.g[3],_;_=v+(A^E&(w^A))+b[0]+3614090360&4294967295,v=E+(_<<7&4294967295|_>>>25),_=A+(w^v&(E^w))+b[1]+3905402710&4294967295,A=v+(_<<12&4294967295|_>>>20),_=w+(E^A&(v^E))+b[2]+606105819&4294967295,w=A+(_<<17&4294967295|_>>>15),_=E+(v^w&(A^v))+b[3]+3250441966&4294967295,E=w+(_<<22&4294967295|_>>>10),_=v+(A^E&(w^A))+b[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=A+(w^v&(E^w))+b[5]+1200080426&4294967295,A=v+(_<<12&4294967295|_>>>20),_=w+(E^A&(v^E))+b[6]+2821735955&4294967295,w=A+(_<<17&4294967295|_>>>15),_=E+(v^w&(A^v))+b[7]+4249261313&4294967295,E=w+(_<<22&4294967295|_>>>10),_=v+(A^E&(w^A))+b[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=A+(w^v&(E^w))+b[9]+2336552879&4294967295,A=v+(_<<12&4294967295|_>>>20),_=w+(E^A&(v^E))+b[10]+4294925233&4294967295,w=A+(_<<17&4294967295|_>>>15),_=E+(v^w&(A^v))+b[11]+2304563134&4294967295,E=w+(_<<22&4294967295|_>>>10),_=v+(A^E&(w^A))+b[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=A+(w^v&(E^w))+b[13]+4254626195&4294967295,A=v+(_<<12&4294967295|_>>>20),_=w+(E^A&(v^E))+b[14]+2792965006&4294967295,w=A+(_<<17&4294967295|_>>>15),_=E+(v^w&(A^v))+b[15]+1236535329&4294967295,E=w+(_<<22&4294967295|_>>>10),_=v+(w^A&(E^w))+b[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=A+(E^w&(v^E))+b[6]+3225465664&4294967295,A=v+(_<<9&4294967295|_>>>23),_=w+(v^E&(A^v))+b[11]+643717713&4294967295,w=A+(_<<14&4294967295|_>>>18),_=E+(A^v&(w^A))+b[0]+3921069994&4294967295,E=w+(_<<20&4294967295|_>>>12),_=v+(w^A&(E^w))+b[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=A+(E^w&(v^E))+b[10]+38016083&4294967295,A=v+(_<<9&4294967295|_>>>23),_=w+(v^E&(A^v))+b[15]+3634488961&4294967295,w=A+(_<<14&4294967295|_>>>18),_=E+(A^v&(w^A))+b[4]+3889429448&4294967295,E=w+(_<<20&4294967295|_>>>12),_=v+(w^A&(E^w))+b[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=A+(E^w&(v^E))+b[14]+3275163606&4294967295,A=v+(_<<9&4294967295|_>>>23),_=w+(v^E&(A^v))+b[3]+4107603335&4294967295,w=A+(_<<14&4294967295|_>>>18),_=E+(A^v&(w^A))+b[8]+1163531501&4294967295,E=w+(_<<20&4294967295|_>>>12),_=v+(w^A&(E^w))+b[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=A+(E^w&(v^E))+b[2]+4243563512&4294967295,A=v+(_<<9&4294967295|_>>>23),_=w+(v^E&(A^v))+b[7]+1735328473&4294967295,w=A+(_<<14&4294967295|_>>>18),_=E+(A^v&(w^A))+b[12]+2368359562&4294967295,E=w+(_<<20&4294967295|_>>>12),_=v+(E^w^A)+b[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=A+(v^E^w)+b[8]+2272392833&4294967295,A=v+(_<<11&4294967295|_>>>21),_=w+(A^v^E)+b[11]+1839030562&4294967295,w=A+(_<<16&4294967295|_>>>16),_=E+(w^A^v)+b[14]+4259657740&4294967295,E=w+(_<<23&4294967295|_>>>9),_=v+(E^w^A)+b[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=A+(v^E^w)+b[4]+1272893353&4294967295,A=v+(_<<11&4294967295|_>>>21),_=w+(A^v^E)+b[7]+4139469664&4294967295,w=A+(_<<16&4294967295|_>>>16),_=E+(w^A^v)+b[10]+3200236656&4294967295,E=w+(_<<23&4294967295|_>>>9),_=v+(E^w^A)+b[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=A+(v^E^w)+b[0]+3936430074&4294967295,A=v+(_<<11&4294967295|_>>>21),_=w+(A^v^E)+b[3]+3572445317&4294967295,w=A+(_<<16&4294967295|_>>>16),_=E+(w^A^v)+b[6]+76029189&4294967295,E=w+(_<<23&4294967295|_>>>9),_=v+(E^w^A)+b[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=A+(v^E^w)+b[12]+3873151461&4294967295,A=v+(_<<11&4294967295|_>>>21),_=w+(A^v^E)+b[15]+530742520&4294967295,w=A+(_<<16&4294967295|_>>>16),_=E+(w^A^v)+b[2]+3299628645&4294967295,E=w+(_<<23&4294967295|_>>>9),_=v+(w^(E|~A))+b[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=A+(E^(v|~w))+b[7]+1126891415&4294967295,A=v+(_<<10&4294967295|_>>>22),_=w+(v^(A|~E))+b[14]+2878612391&4294967295,w=A+(_<<15&4294967295|_>>>17),_=E+(A^(w|~v))+b[5]+4237533241&4294967295,E=w+(_<<21&4294967295|_>>>11),_=v+(w^(E|~A))+b[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=A+(E^(v|~w))+b[3]+2399980690&4294967295,A=v+(_<<10&4294967295|_>>>22),_=w+(v^(A|~E))+b[10]+4293915773&4294967295,w=A+(_<<15&4294967295|_>>>17),_=E+(A^(w|~v))+b[1]+2240044497&4294967295,E=w+(_<<21&4294967295|_>>>11),_=v+(w^(E|~A))+b[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=A+(E^(v|~w))+b[15]+4264355552&4294967295,A=v+(_<<10&4294967295|_>>>22),_=w+(v^(A|~E))+b[6]+2734768916&4294967295,w=A+(_<<15&4294967295|_>>>17),_=E+(A^(w|~v))+b[13]+1309151649&4294967295,E=w+(_<<21&4294967295|_>>>11),_=v+(w^(E|~A))+b[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=A+(E^(v|~w))+b[11]+3174756917&4294967295,A=v+(_<<10&4294967295|_>>>22),_=w+(v^(A|~E))+b[2]+718787259&4294967295,w=A+(_<<15&4294967295|_>>>17),_=E+(A^(w|~v))+b[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(w+(_<<21&4294967295|_>>>11))&4294967295,D.g[2]=D.g[2]+w&4294967295,D.g[3]=D.g[3]+A&4294967295}r.prototype.v=function(D,v){v===void 0&&(v=D.length);let E=v-this.blockSize,b=this.C,w=this.h,A=0;for(;A<v;){if(w==0)for(;A<=E;)i(this,D,A),A+=this.blockSize;if(typeof D=="string"){for(;A<v;)if(b[w++]=D.charCodeAt(A++),w==this.blockSize){i(this,b),w=0;break}}else for(;A<v;)if(b[w++]=D[A++],w==this.blockSize){i(this,b),w=0;break}}this.h=w,this.o+=v},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;v=this.o*8;for(var E=D.length-8;E<D.length;++E)D[E]=v&255,v/=256;for(this.v(D),D=Array(16),v=0,E=0;E<4;++E)for(let b=0;b<32;b+=8)D[v++]=this.g[E]>>>b&255;return D};function o(D,v){var E=a;return Object.prototype.hasOwnProperty.call(E,D)?E[D]:E[D]=v(D)}function s(D,v){this.h=v;let E=[],b=!0;for(let w=D.length-1;w>=0;w--){let A=D[w]|0;b&&A==v||(E[w]=A,b=!1)}this.g=E}var a={};function u(D){return-128<=D&&D<128?o(D,function(v){return new s([v|0],v<0?-1:0)}):new s([D|0],D<0?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(D<0)return P(l(-D));let v=[],E=1;for(let b=0;D>=E;b++)v[b]=D/E|0,E*=4294967296;return new s(v,0)}function h(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return P(h(D.substring(1),v));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');let E=l(Math.pow(v,8)),b=p;for(let A=0;A<D.length;A+=8){var w=Math.min(8,D.length-A);let _=parseInt(D.substring(A,A+w),v);w<8?(w=l(Math.pow(v,w)),b=b.j(w).add(l(_))):(b=b.j(E),b=b.add(l(_)))}return b}var p=u(0),g=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(S(this))return-P(this).m();let D=0,v=1;for(let E=0;E<this.g.length;E++){let b=this.i(E);D+=(b>=0?b:4294967296+b)*v,v*=4294967296}return D},n.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(I(this))return"0";if(S(this))return"-"+P(this).toString(D);let v=l(Math.pow(D,6));var E=this;let b="";for(;;){let w=Ht(E,v).g;E=j(E,w.j(v));let A=((E.g.length>0?E.g[0]:E.h)>>>0).toString(D);if(E=w,I(E))return A+b;for(;A.length<6;)A="0"+A;b=A+b}},n.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function I(D){if(D.h!=0)return!1;for(let v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function S(D){return D.h==-1}n.l=function(D){return D=j(this,D),S(D)?-1:I(D)?0:1};function P(D){let v=D.g.length,E=[];for(let b=0;b<v;b++)E[b]=~D.g[b];return new s(E,~D.h).add(g)}n.abs=function(){return S(this)?P(this):this},n.add=function(D){let v=Math.max(this.g.length,D.g.length),E=[],b=0;for(let w=0;w<=v;w++){let A=b+(this.i(w)&65535)+(D.i(w)&65535),_=(A>>>16)+(this.i(w)>>>16)+(D.i(w)>>>16);b=_>>>16,A&=65535,_&=65535,E[w]=_<<16|A}return new s(E,E[E.length-1]&-2147483648?-1:0)};function j(D,v){return D.add(P(v))}n.j=function(D){if(I(this)||I(D))return p;if(S(this))return S(D)?P(this).j(P(D)):P(P(this).j(D));if(S(D))return P(this.j(P(D)));if(this.l(y)<0&&D.l(y)<0)return l(this.m()*D.m());let v=this.g.length+D.g.length,E=[];for(var b=0;b<2*v;b++)E[b]=0;for(b=0;b<this.g.length;b++)for(let w=0;w<D.g.length;w++){let A=this.i(b)>>>16,_=this.i(b)&65535,Ft=D.i(w)>>>16,jr=D.i(w)&65535;E[2*b+2*w]+=_*jr,ee(E,2*b+2*w),E[2*b+2*w+1]+=A*jr,ee(E,2*b+2*w+1),E[2*b+2*w+1]+=_*Ft,ee(E,2*b+2*w+1),E[2*b+2*w+2]+=A*Ft,ee(E,2*b+2*w+2)}for(D=0;D<v;D++)E[D]=E[2*D+1]<<16|E[2*D];for(D=v;D<2*v;D++)E[D]=0;return new s(E,0)};function ee(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function ye(D,v){this.g=D,this.h=v}function Ht(D,v){if(I(v))throw Error("division by zero");if(I(D))return new ye(p,p);if(S(D))return v=Ht(P(D),v),new ye(P(v.g),P(v.h));if(S(v))return v=Ht(D,P(v)),new ye(P(v.g),v.h);if(D.g.length>30){if(S(D)||S(v))throw Error("slowDivide_ only works with positive integers.");for(var E=g,b=v;b.l(D)<=0;)E=fn(E),b=fn(b);var w=gt(E,1),A=gt(b,1);for(b=gt(b,2),E=gt(E,2);!I(b);){var _=A.add(b);_.l(D)<=0&&(w=w.add(E),A=_),b=gt(b,1),E=gt(E,1)}return v=j(D,w.j(v)),new ye(w,v)}for(w=p;D.l(v)>=0;){for(E=Math.max(1,Math.floor(D.m()/v.m())),b=Math.ceil(Math.log(E)/Math.LN2),b=b<=48?1:Math.pow(2,b-48),A=l(E),_=A.j(v);S(_)||_.l(D)>0;)E-=b,A=l(E),_=A.j(v);I(A)&&(A=g),w=w.add(A),D=j(D,_)}return new ye(w,D)}n.B=function(D){return Ht(this,D).h},n.and=function(D){let v=Math.max(this.g.length,D.g.length),E=[];for(let b=0;b<v;b++)E[b]=this.i(b)&D.i(b);return new s(E,this.h&D.h)},n.or=function(D){let v=Math.max(this.g.length,D.g.length),E=[];for(let b=0;b<v;b++)E[b]=this.i(b)|D.i(b);return new s(E,this.h|D.h)},n.xor=function(D){let v=Math.max(this.g.length,D.g.length),E=[];for(let b=0;b<v;b++)E[b]=this.i(b)^D.i(b);return new s(E,this.h^D.h)};function fn(D){let v=D.g.length+1,E=[];for(let b=0;b<v;b++)E[b]=D.i(b)<<1|D.i(b-1)>>>31;return new s(E,D.h)}function gt(D,v){let E=v>>5;v%=32;let b=D.g.length-E,w=[];for(let A=0;A<b;A++)w[A]=v>0?D.i(A+E)>>>v|D.i(A+E+1)<<32-v:D.i(A+E);return new s(w,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Uv=US.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Ar=US.Integer=s}).apply(typeof jS<"u"?jS:typeof self<"u"?self:typeof window<"u"?window:{});var Uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Rr={};var Bv,uj,Ms,Hv,eu,Bh,$v,zv,qv;(function(){var n,e=Object.defineProperty;function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uh=="object"&&Uh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var C=c[m];if(!(C in f))break e;f=f[C]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}i("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(c){return c||function(d){var f=[],m;for(m in d)Object.prototype.hasOwnProperty.call(d,m)&&f.push([m,d[m]]);return f}});var o=o||{},s=this||self;function a(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function u(c,d,f){return c.call.apply(c.bind,arguments)}function l(c,d,f){return l=u,l.apply(null,arguments)}function h(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function p(c,d){function f(){}f.prototype=d.prototype,c.Z=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Ob=function(m,C,M){for(var V=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)V[ie-2]=arguments[ie];return d.prototype[C].apply(m,V)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function y(c){let d=c.length;if(d>0){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function I(c,d){for(let m=1;m<arguments.length;m++){let C=arguments[m];var f=typeof C;if(f=f!="object"?f:C?Array.isArray(C)?"array":f:"null",f=="array"||f=="object"&&typeof C.length=="number"){f=c.length||0;let M=C.length||0;c.length=f+M;for(let V=0;V<M;V++)c[f+V]=C[V]}else c.push(C)}}class S{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function P(c){s.setTimeout(()=>{throw c},0)}function j(){var c=D;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class ee{constructor(){this.h=this.g=null}add(d,f){let m=ye.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var ye=new S(()=>new Ht,c=>c.reset());class Ht{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let fn,gt=!1,D=new ee,v=()=>{let c=Promise.resolve(void 0);fn=()=>{c.then(E)}};function E(){for(var c;c=j();){try{c.h.call(c.g)}catch(f){P(f)}var d=ye;d.j(c),d.h<100&&(d.h++,c.next=d.g,d.g=c)}gt=!1}function b(){this.u=this.u,this.C=this.C}b.prototype.u=!1,b.prototype.dispose=function(){this.u||(this.u=!0,this.N())},b.prototype[Symbol.dispose]=function(){this.dispose()},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var A=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};s.addEventListener("test",f,d),s.removeEventListener("test",f,d)}catch{}return c})();function _(c){return/^[\s\xa0]*$/.test(c)}function Ft(c,d){w.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,d)}p(Ft,w),Ft.prototype.init=function(c,d){let f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget,d||(f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement)),this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ft.Z.h.call(this)},Ft.prototype.h=function(){Ft.Z.h.call(this);let c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var jr="closure_listenable_"+(Math.random()*1e6|0),hN=0;function fN(c,d,f,m,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=C,this.key=++hN,this.da=this.fa=!1}function Pu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ou(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function pN(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function bI(c){let d={};for(let f in c)d[f]=c[f];return d}let CI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function TI(c,d){let f,m;for(let C=1;C<arguments.length;C++){m=arguments[C];for(f in m)c[f]=m[f];for(let M=0;M<CI.length;M++)f=CI[M],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function ku(c){this.src=c,this.g={},this.h=0}ku.prototype.add=function(c,d,f,m,C){let M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);let V=mp(c,d,m,C);return V>-1?(d=c[V],f||(d.fa=!1)):(d=new fN(d,this.src,M,!!m,C),d.fa=f,c.push(d)),d};function gp(c,d){let f=d.type;if(f in c.g){var m=c.g[f],C=Array.prototype.indexOf.call(m,d,void 0),M;(M=C>=0)&&Array.prototype.splice.call(m,C,1),M&&(Pu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function mp(c,d,f,m){for(let C=0;C<c.length;++C){let M=c[C];if(!M.da&&M.listener==d&&M.capture==!!f&&M.ha==m)return C}return-1}var yp="closure_lm_"+(Math.random()*1e6|0),vp={};function SI(c,d,f,m,C){if(m&&m.once)return RI(c,d,f,m,C);if(Array.isArray(d)){for(let M=0;M<d.length;M++)SI(c,d[M],f,m,C);return null}return f=wp(f),c&&c[jr]?c.J(d,f,a(m)?!!m.capture:!!m,C):AI(c,d,f,!1,m,C)}function AI(c,d,f,m,C,M){if(!d)throw Error("Invalid event type");let V=a(C)?!!C.capture:!!C,ie=Ep(c);if(ie||(c[yp]=ie=new ku(c)),f=ie.add(d,f,m,V,M),f.proxy)return f;if(m=gN(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)A||(C=V),C===void 0&&(C=!1),c.addEventListener(d.toString(),m,C);else if(c.attachEvent)c.attachEvent(NI(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function gN(){function c(f){return d.call(c.src,c.listener,f)}let d=mN;return c}function RI(c,d,f,m,C){if(Array.isArray(d)){for(let M=0;M<d.length;M++)RI(c,d[M],f,m,C);return null}return f=wp(f),c&&c[jr]?c.K(d,f,a(m)?!!m.capture:!!m,C):AI(c,d,f,!0,m,C)}function MI(c,d,f,m,C){if(Array.isArray(d))for(var M=0;M<d.length;M++)MI(c,d[M],f,m,C);else m=a(m)?!!m.capture:!!m,f=wp(f),c&&c[jr]?(c=c.i,M=String(d).toString(),M in c.g&&(d=c.g[M],f=mp(d,f,m,C),f>-1&&(Pu(d[f]),Array.prototype.splice.call(d,f,1),d.length==0&&(delete c.g[M],c.h--)))):c&&(c=Ep(c))&&(d=c.g[d.toString()],c=-1,d&&(c=mp(d,f,m,C)),(f=c>-1?d[c]:null)&&_p(f))}function _p(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[jr])gp(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(NI(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=Ep(d))?(gp(f,c),f.h==0&&(f.src=null,d[yp]=null)):Pu(c)}}}function NI(c){return c in vp?vp[c]:vp[c]="on"+c}function mN(c,d){if(c.da)c=!0;else{d=new Ft(d,this);let f=c.listener,m=c.ha||c.src;c.fa&&_p(c),c=f.call(m,d)}return c}function Ep(c){return c=c[yp],c instanceof ku?c:null}var Ip="__closure_events_fn_"+(Math.random()*1e9>>>0);function wp(c){return typeof c=="function"?c:(c[Ip]||(c[Ip]=function(d){return c.handleEvent(d)}),c[Ip])}function bt(){b.call(this),this.i=new ku(this),this.M=this,this.G=null}p(bt,b),bt.prototype[jr]=!0,bt.prototype.removeEventListener=function(c,d,f,m){MI(this,c,d,f,m)};function Mt(c,d){var f,m=c.G;if(m)for(f=[];m;m=m.G)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new w(d,c);else if(d instanceof w)d.target=d.target||c;else{var C=d;d=new w(m,c),TI(d,C)}C=!0;let M,V;if(f)for(V=f.length-1;V>=0;V--)M=d.g=f[V],C=Fu(M,m,!0,d)&&C;if(M=d.g=c,C=Fu(M,m,!0,d)&&C,C=Fu(M,m,!1,d)&&C,f)for(V=0;V<f.length;V++)M=d.g=f[V],C=Fu(M,m,!1,d)&&C}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var c=this.i;for(let d in c.g){let f=c.g[d];for(let m=0;m<f.length;m++)Pu(f[m]);delete c.g[d],c.h--}}this.G=null},bt.prototype.J=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},bt.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function Fu(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();let C=!0;for(let M=0;M<d.length;++M){let V=d[M];if(V&&!V.da&&V.capture==f){let ie=V.listener,Xe=V.ha||V.src;V.fa&&gp(c.i,V),C=ie.call(Xe,m)!==!1&&C}}return C&&!m.defaultPrevented}function yN(c,d){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=l(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:s.setTimeout(c,d||0)}function xI(c){c.g=yN(()=>{c.g=null,c.i&&(c.i=!1,xI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class vN extends b{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:xI(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function aa(c){b.call(this),this.h=c,this.g={}}p(aa,b);var PI=[];function OI(c){Ou(c.g,function(d,f){this.g.hasOwnProperty(f)&&_p(d)},c),c.g={}}aa.prototype.N=function(){aa.Z.N.call(this),OI(this)},aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dp=s.JSON.stringify,_N=s.JSON.parse,EN=class{stringify(c){return s.JSON.stringify(c,void 0)}parse(c){return s.JSON.parse(c,void 0)}};function kI(){}function FI(){}var ca={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function bp(){w.call(this,"d")}p(bp,w);function Cp(){w.call(this,"c")}p(Cp,w);var Si={},LI=null;function Lu(){return LI=LI||new bt}Si.Ia="serverreachability";function VI(c){w.call(this,Si.Ia,c)}p(VI,w);function ua(c){let d=Lu();Mt(d,new VI(d))}Si.STAT_EVENT="statevent";function jI(c,d){w.call(this,Si.STAT_EVENT,c),this.stat=d}p(jI,w);function Nt(c){let d=Lu();Mt(d,new jI(d,c))}Si.Ja="timingevent";function UI(c,d){w.call(this,Si.Ja,c),this.size=d}p(UI,w);function la(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){c()},d)}function da(){this.g=!0}da.prototype.ua=function(){this.g=!1};function IN(c,d,f,m,C,M){c.info(function(){if(c.g)if(M){var V="",ie=M.split("&");for(let Te=0;Te<ie.length;Te++){var Xe=ie[Te].split("=");if(Xe.length>1){let rt=Xe[0];Xe=Xe[1];let Pn=rt.split("_");V=Pn.length>=2&&Pn[1]=="type"?V+(rt+"="+Xe+"&"):V+(rt+"=redacted&")}}}else V=null;else V=M;return"XMLHTTP REQ ("+m+") [attempt "+C+"]: "+d+`
`+f+`
`+V})}function wN(c,d,f,m,C,M,V){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+C+"]: "+d+`
`+f+`
`+M+" "+V})}function Vo(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+bN(c,f)+(m?" "+m:"")})}function DN(c,d){c.info(function(){return"TIMEOUT: "+d})}da.prototype.info=function(){};function bN(c,d){if(!c.g)return d;if(!d)return null;try{let M=JSON.parse(d);if(M){for(c=0;c<M.length;c++)if(Array.isArray(M[c])){var f=M[c];if(!(f.length<2)){var m=f[1];if(Array.isArray(m)&&!(m.length<1)){var C=m[0];if(C!="noop"&&C!="stop"&&C!="close")for(let V=1;V<m.length;V++)m[V]=""}}}}return Dp(M)}catch{return d}}var Vu={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},BI={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},HI;function Tp(){}p(Tp,kI),Tp.prototype.g=function(){return new XMLHttpRequest},HI=new Tp;function ha(c){return encodeURIComponent(String(c))}function CN(c){var d=1;c=c.split(":");let f=[];for(;d>0&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function Ur(c,d,f,m){this.j=c,this.i=d,this.l=f,this.S=m||1,this.V=new aa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $I}function $I(){this.i=null,this.g="",this.h=!1}var zI={},Sp={};function Ap(c,d,f){c.M=1,c.A=Uu(xn(d)),c.u=f,c.R=!0,qI(c,null)}function qI(c,d){c.F=Date.now(),ju(c),c.B=xn(c.A);var f=c.B,m=c.S;Array.isArray(m)||(m=[String(m)]),iw(f.i,"t",m),c.C=0,f=c.j.L,c.h=new $I,c.g=ww(c.j,f?d:null,!c.u),c.P>0&&(c.O=new vN(l(c.Y,c,c.g),c.P)),d=c.V,f=c.g,m=c.ba;var C="readystatechange";Array.isArray(C)||(C&&(PI[0]=C.toString()),C=PI);for(let M=0;M<C.length;M++){let V=SI(f,C[M],m||d.handleEvent,!1,d.h||d);if(!V)break;d.g[V.key]=V}d=c.J?bI(c.J):{},c.u?(c.v||(c.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,d)):(c.v="GET",c.g.ea(c.B,c.v,null,d)),ua(),IN(c.i,c.v,c.B,c.l,c.S,c.u)}Ur.prototype.ba=function(c){c=c.target;let d=this.O;d&&$r(c)==3?d.j():this.Y(c)},Ur.prototype.Y=function(c){try{if(c==this.g)e:{let ie=$r(this.g),Xe=this.g.ya(),Te=this.g.ca();if(!(ie<3)&&(ie!=3||this.g&&(this.h.h||this.g.la()||dw(this.g)))){this.K||ie!=4||Xe==7||(Xe==8||Te<=0?ua(3):ua(2)),Rp(this);var d=this.g.ca();this.X=d;var f=TN(this);if(this.o=d==200,wN(this.i,this.v,this.B,this.l,this.S,ie,d),this.o){if(this.U&&!this.L){t:{if(this.g){var m,C=this.g;if((m=C.g?C.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(m)){var M=m;break t}}M=null}if(c=M)Vo(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Mp(this,c);else{this.o=!1,this.m=3,Nt(12),Ai(this),fa(this);break e}}if(this.R){c=!0;let rt;for(;!this.K&&this.C<f.length;)if(rt=SN(this,f),rt==Sp){ie==4&&(this.m=4,Nt(14),c=!1),Vo(this.i,this.l,null,"[Incomplete Response]");break}else if(rt==zI){this.m=4,Nt(15),Vo(this.i,this.l,f,"[Invalid Chunk]"),c=!1;break}else Vo(this.i,this.l,rt,null),Mp(this,rt);if(GI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ie!=4||f.length!=0||this.h.h||(this.m=1,Nt(16),c=!1),this.o=this.o&&c,!c)Vo(this.i,this.l,f,"[Invalid Chunked Response]"),Ai(this),fa(this);else if(f.length>0&&!this.W){this.W=!0;var V=this.j;V.g==this&&V.aa&&!V.P&&(V.j.info("Great, no buffering proxy detected. Bytes received: "+f.length),Lp(V),V.P=!0,Nt(11))}}else Vo(this.i,this.l,f,null),Mp(this,f);ie==4&&Ai(this),this.o&&!this.K&&(ie==4?vw(this.j,this):(this.o=!1,ju(this)))}else BN(this.g),d==400&&f.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),Ai(this),fa(this)}}}catch{}};function TN(c){if(!GI(c))return c.g.la();let d=dw(c.g);if(d==="")return"";let f="",m=d.length,C=$r(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Ai(c),fa(c),"";c.h.i=new s.TextDecoder}for(let M=0;M<m;M++)c.h.h=!0,f+=c.h.i.decode(d[M],{stream:!(C&&M==m-1)});return d.length=0,c.h.g+=f,c.C=0,c.h.g}function GI(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function SN(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?Sp:(f=Number(d.substring(f,m)),isNaN(f)?zI:(m+=1,m+f>d.length?Sp:(d=d.slice(m,m+f),c.C=m+f,d)))}Ur.prototype.cancel=function(){this.K=!0,Ai(this)};function ju(c){c.T=Date.now()+c.H,WI(c,c.H)}function WI(c,d){if(c.D!=null)throw Error("WatchDog timer not null");c.D=la(l(c.aa,c),d)}function Rp(c){c.D&&(s.clearTimeout(c.D),c.D=null)}Ur.prototype.aa=function(){this.D=null;let c=Date.now();c-this.T>=0?(DN(this.i,this.B),this.M!=2&&(ua(),Nt(17)),Ai(this),this.m=2,fa(this)):WI(this,this.T-c)};function fa(c){c.j.I==0||c.K||vw(c.j,c)}function Ai(c){Rp(c);var d=c.O;d&&typeof d.dispose=="function"&&d.dispose(),c.O=null,OI(c.V),c.g&&(d=c.g,c.g=null,d.abort(),d.dispose())}function Mp(c,d){try{var f=c.j;if(f.I!=0&&(f.g==c||Np(f.h,c))){if(!c.L&&Np(f.h,c)&&f.I==3){try{var m=f.Ba.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var C=m;if(C[0]==0){e:if(!f.v){if(f.g)if(f.g.F+3e3<c.F)Gu(f),zu(f);else break e;Fp(f),Nt(18)}}else f.xa=C[1],0<f.xa-f.K&&C[2]<37500&&f.F&&f.A==0&&!f.C&&(f.C=la(l(f.Va,f),6e3));YI(f.h)<=1&&f.ta&&(f.ta=void 0)}else Mi(f,11)}else if((c.L||f.g==c)&&Gu(f),!_(d))for(C=f.Ba.g.parse(d),d=0;d<C.length;d++){let Te=C[d],rt=Te[0];if(!(rt<=f.K))if(f.K=rt,Te=Te[1],f.I==2)if(Te[0]=="c"){f.M=Te[1],f.ba=Te[2];let Pn=Te[3];Pn!=null&&(f.ka=Pn,f.j.info("VER="+f.ka));let Ni=Te[4];Ni!=null&&(f.za=Ni,f.j.info("SVER="+f.za));let zr=Te[5];zr!=null&&typeof zr=="number"&&zr>0&&(m=1.5*zr,f.O=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let qr=c.g;if(qr){let Ku=qr.g?qr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ku){var M=m.h;M.g||Ku.indexOf("spdy")==-1&&Ku.indexOf("quic")==-1&&Ku.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(xp(M,M.h),M.h=null))}if(m.G){let Vp=qr.g?qr.g.getResponseHeader("X-HTTP-Session-Id"):null;Vp&&(m.wa=Vp,Ne(m.J,m.G,Vp))}}f.I=3,f.l&&f.l.ra(),f.aa&&(f.T=Date.now()-c.F,f.j.info("Handshake RTT: "+f.T+"ms")),m=f;var V=c;if(m.na=Iw(m,m.L?m.ba:null,m.W),V.L){JI(m.h,V);var ie=V,Xe=m.O;Xe&&(ie.H=Xe),ie.D&&(Rp(ie),ju(ie)),m.g=V}else mw(m);f.i.length>0&&qu(f)}else Te[0]!="stop"&&Te[0]!="close"||Mi(f,7);else f.I==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?Mi(f,7):kp(f):Te[0]!="noop"&&f.l&&f.l.qa(Te),f.A=0)}}ua(4)}catch{}}var AN=class{constructor(c,d){this.g=c,this.map=d}};function KI(c){this.l=c||10,s.PerformanceNavigationTiming?(c=s.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function QI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function YI(c){return c.h?1:c.g?c.g.size:0}function Np(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function xp(c,d){c.g?c.g.add(d):c.h=d}function JI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}KI.prototype.cancel=function(){if(this.i=ZI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function ZI(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.G);return d}return y(c.i)}var XI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function RN(c,d){if(c){c=c.split("&");for(let f=0;f<c.length;f++){let m=c[f].indexOf("="),C,M=null;m>=0?(C=c[f].substring(0,m),M=c[f].substring(m+1)):C=c[f],d(C,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Br(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;c instanceof Br?(this.l=c.l,pa(this,c.j),this.o=c.o,this.g=c.g,ga(this,c.u),this.h=c.h,Pp(this,ow(c.i)),this.m=c.m):c&&(d=String(c).match(XI))?(this.l=!1,pa(this,d[1]||"",!0),this.o=ma(d[2]||""),this.g=ma(d[3]||"",!0),ga(this,d[4]),this.h=ma(d[5]||"",!0),Pp(this,d[6]||"",!0),this.m=ma(d[7]||"")):(this.l=!1,this.i=new va(null,this.l))}Br.prototype.toString=function(){let c=[];var d=this.j;d&&c.push(ya(d,ew,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ya(d,ew,!0),"@"),c.push(ha(f).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.u,f!=null&&c.push(":",String(f))),(f=this.h)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(ya(f,f.charAt(0)=="/"?xN:NN,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",ya(f,ON)),c.join("")},Br.prototype.resolve=function(c){let d=xn(this),f=!!c.j;f?pa(d,c.j):f=!!c.o,f?d.o=c.o:f=!!c.g,f?d.g=c.g:f=c.u!=null;var m=c.h;if(f)ga(d,c.u);else if(f=!!c.h){if(m.charAt(0)!="/")if(this.g&&!this.h)m="/"+m;else{var C=d.h.lastIndexOf("/");C!=-1&&(m=d.h.slice(0,C+1)+m)}if(C=m,C==".."||C==".")m="";else if(C.indexOf("./")!=-1||C.indexOf("/.")!=-1){m=C.lastIndexOf("/",0)==0,C=C.split("/");let M=[];for(let V=0;V<C.length;){let ie=C[V++];ie=="."?m&&V==C.length&&M.push(""):ie==".."?((M.length>1||M.length==1&&M[0]!="")&&M.pop(),m&&V==C.length&&M.push("")):(M.push(ie),m=!0)}m=M.join("/")}else m=C}return f?d.h=m:f=c.i.toString()!=="",f?Pp(d,ow(c.i)):f=!!c.m,f&&(d.m=c.m),d};function xn(c){return new Br(c)}function pa(c,d,f){c.j=f?ma(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function ga(c,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);c.u=d}else c.u=null}function Pp(c,d,f){d instanceof va?(c.i=d,kN(c.i,c.l)):(f||(d=ya(d,PN)),c.i=new va(d,c.l))}function Ne(c,d,f){c.i.set(d,f)}function Uu(c){return Ne(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ma(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ya(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,MN),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function MN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ew=/[#\/\?@]/g,NN=/[#\?:]/g,xN=/[#\?]/g,PN=/[#\?@]/g,ON=/#/g;function va(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Ri(c){c.g||(c.g=new Map,c.h=0,c.i&&RN(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=va.prototype,n.add=function(c,d){Ri(this),this.i=null,c=jo(this,c);let f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function tw(c,d){Ri(c),d=jo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function nw(c,d){return Ri(c),d=jo(c,d),c.g.has(d)}n.forEach=function(c,d){Ri(this),this.g.forEach(function(f,m){f.forEach(function(C){c.call(d,C,m,this)},this)},this)};function rw(c,d){Ri(c);let f=[];if(typeof d=="string")nw(c,d)&&(f=f.concat(c.g.get(jo(c,d))));else for(c=Array.from(c.g.values()),d=0;d<c.length;d++)f=f.concat(c[d]);return f}n.set=function(c,d){return Ri(this),this.i=null,c=jo(this,c),nw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=rw(this,c),c.length>0?String(c[0]):d):d};function iw(c,d,f){tw(c,d),f.length>0&&(c.i=null,c.g.set(jo(c,d),y(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(let m=0;m<d.length;m++){var f=d[m];let C=ha(f);f=rw(this,f);for(let M=0;M<f.length;M++){let V=C;f[M]!==""&&(V+="="+ha(f[M])),c.push(V)}}return this.i=c.join("&")};function ow(c){let d=new va;return d.i=c.i,c.g&&(d.g=new Map(c.g),d.h=c.h),d}function jo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function kN(c,d){d&&!c.j&&(Ri(c),c.i=null,c.g.forEach(function(f,m){let C=m.toLowerCase();m!=C&&(tw(this,m),iw(this,C,f))},c)),c.j=d}function FN(c,d){let f=new da;if(s.Image){let m=new Image;m.onload=h(Hr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=h(Hr,f,"TestLoadImage: error",!1,d,m),m.onabort=h(Hr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=h(Hr,f,"TestLoadImage: timeout",!1,d,m),s.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function LN(c,d){let f=new da,m=new AbortController,C=setTimeout(()=>{m.abort(),Hr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(M=>{clearTimeout(C),M.ok?Hr(f,"TestPingServer: ok",!0,d):Hr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Hr(f,"TestPingServer: error",!1,d)})}function Hr(c,d,f,m,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),m(f)}catch{}}function VN(){this.g=new EN}function Bu(c){this.i=c.Sb||null,this.h=c.ab||!1}p(Bu,kI),Bu.prototype.g=function(){return new Hu(this.i,this.h)};function Hu(c,d){bt.call(this),this.H=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Hu,bt),n=Hu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=d,this.readyState=1,Ea(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(d.body=c),(this.H||s).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_a(this)),this.readyState=0},n.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ea(this)),this.g&&(this.readyState=3,Ea(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sw(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function sw(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}n.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?_a(this):Ea(this),this.readyState==3&&sw(this)}},n.Oa=function(c){this.g&&(this.response=this.responseText=c,_a(this))},n.Na=function(c){this.g&&(this.response=c,_a(this))},n.ga=function(){this.g&&_a(this)};function _a(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Ea(c)}n.setRequestHeader=function(c,d){this.A.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Ea(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function aw(c){let d="";return Ou(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Op(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=aw(f),typeof c=="string"?f!=null&&ha(f):Ne(c,d,f))}function Ve(c){bt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Ve,bt);var jN=/^https?$/i,UN=["POST","PUT"];n=Ve.prototype,n.Fa=function(c){this.H=c},n.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():HI.g(),this.g.onreadystatechange=g(l(this.Ca,this));try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(M){cw(this,M);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var C in m)f.set(C,m[C]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let M of m.keys())f.set(M,m.get(M));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(M=>M.toLowerCase()=="content-type"),C=s.FormData&&c instanceof s.FormData,!(Array.prototype.indexOf.call(UN,d,void 0)>=0)||m||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,V]of f)this.g.setRequestHeader(M,V);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(M){cw(this,M)}};function cw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.o=5,uw(c),$u(c)}function uw(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),$u(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$u(this,!0)),Ve.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?lw(this):this.Xa())},n.Xa=function(){lw(this)};function lw(c){if(c.h&&typeof o<"u"){if(c.v&&$r(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),$r(c)==4){c.h=!1;try{let M=c.ca();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=M===0){let V=String(c.D).match(XI)[1]||null;!V&&s.self&&s.self.location&&(V=s.self.location.protocol.slice(0,-1)),m=!jN.test(V?V.toLowerCase():"")}f=m}if(f)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var C=$r(c)>2?c.g.statusText:""}catch{C=""}c.l=C+" ["+c.ca()+"]",uw(c)}}finally{$u(c)}}}}function $u(c,d){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);let f=c.g;c.g=null,d||Mt(c,"ready");try{f.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function $r(c){return c.g?c.g.readyState:0}n.ca=function(){try{return $r(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),_N(d)}};function dw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function BN(c){let d={};c=(c.g&&$r(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(_(c[m]))continue;var f=CN(c[m]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let M=d[C]||[];d[C]=M,M.push(f)}pN(d,function(m){return m.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ia(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function hw(c){this.za=0,this.i=[],this.j=new da,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ia("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ia("baseRetryDelayMs",5e3,c),this.Za=Ia("retryDelaySeedMs",1e4,c),this.Ta=Ia("forwardChannelMaxRetries",2,c),this.va=Ia("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new KI(c&&c.concurrentRequestLimit),this.Ba=new VN,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=hw.prototype,n.ka=8,n.I=1,n.connect=function(c,d,f,m){Nt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.J=Iw(this,null,this.W),qu(this)};function kp(c){if(fw(c),c.I==3){var d=c.V++,f=xn(c.J);if(Ne(f,"SID",c.M),Ne(f,"RID",d),Ne(f,"TYPE","terminate"),wa(c,f),d=new Ur(c,c.j,d),d.M=2,d.A=Uu(xn(f)),f=!1,s.navigator&&s.navigator.sendBeacon)try{f=s.navigator.sendBeacon(d.A.toString(),"")}catch{}!f&&s.Image&&(new Image().src=d.A,f=!0),f||(d.g=ww(d.j,null),d.g.ea(d.A)),d.F=Date.now(),ju(d)}Ew(c)}function zu(c){c.g&&(Lp(c),c.g.cancel(),c.g=null)}function fw(c){zu(c),c.v&&(s.clearTimeout(c.v),c.v=null),Gu(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&s.clearTimeout(c.m),c.m=null)}function qu(c){if(!QI(c.h)&&!c.m){c.m=!0;var d=c.Ea;fn||v(),gt||(fn(),gt=!0),D.add(d,c),c.D=0}}function HN(c,d){return YI(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=d.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=la(l(c.Ea,c,d),_w(c,c.D)),c.D++,!0)}n.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;let C=new Ur(this,this.j,c),M=this.o;if(this.U&&(M?(M=bI(M),TI(M,this.U)):M=this.U),this.u!==null||this.R||(C.J=M,M=null),this.S)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,d>4096){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=gw(this,C,d),f=xn(this.J),Ne(f,"RID",c),Ne(f,"CVER",22),this.G&&Ne(f,"X-HTTP-Session-Id",this.G),wa(this,f),M&&(this.R?d="headers="+ha(aw(M))+"&"+d:this.u&&Op(f,this.u,M)),xp(this.h,C),this.Ra&&Ne(f,"TYPE","init"),this.S?(Ne(f,"$req",d),Ne(f,"SID","null"),C.U=!0,Ap(C,f,null)):Ap(C,f,d),this.I=2}}else this.I==3&&(c?pw(this,c):this.i.length==0||QI(this.h)||pw(this))};function pw(c,d){var f;d?f=d.l:f=c.V++;let m=xn(c.J);Ne(m,"SID",c.M),Ne(m,"RID",f),Ne(m,"AID",c.K),wa(c,m),c.u&&c.o&&Op(m,c.u,c.o),f=new Ur(c,c.j,f,c.D+1),c.u===null&&(f.J=c.o),d&&(c.i=d.G.concat(c.i)),d=gw(c,f,1e3),f.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),xp(c.h,f),Ap(f,m,d)}function wa(c,d){c.H&&Ou(c.H,function(f,m){Ne(d,m,f)}),c.l&&Ou({},function(f,m){Ne(d,m,f)})}function gw(c,d,f){f=Math.min(c.i.length,f);let m=c.l?l(c.l.Ka,c.l,c):null;e:{var C=c.i;let ie=-1;for(;;){let Xe=["count="+f];ie==-1?f>0?(ie=C[0].g,Xe.push("ofs="+ie)):ie=0:Xe.push("ofs="+ie);let Te=!0;for(let rt=0;rt<f;rt++){var M=C[rt].g;let Pn=C[rt].map;if(M-=ie,M<0)ie=Math.max(0,C[rt].g-100),Te=!1;else try{M="req"+M+"_"||"";try{var V=Pn instanceof Map?Pn:Object.entries(Pn);for(let[Ni,zr]of V){let qr=zr;a(zr)&&(qr=Dp(zr)),Xe.push(M+Ni+"="+encodeURIComponent(qr))}}catch(Ni){throw Xe.push(M+"type="+encodeURIComponent("_badmap")),Ni}}catch{m&&m(Pn)}}if(Te){V=Xe.join("&");break e}}V=void 0}return c=c.i.splice(0,f),d.G=c,V}function mw(c){if(!c.g&&!c.v){c.Y=1;var d=c.Da;fn||v(),gt||(fn(),gt=!0),D.add(d,c),c.A=0}}function Fp(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=la(l(c.Da,c),_w(c,c.A)),c.A++,!0)}n.Da=function(){if(this.v=null,yw(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=la(l(this.Wa,this),c)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),zu(this),yw(this))};function Lp(c){c.B!=null&&(s.clearTimeout(c.B),c.B=null)}function yw(c){c.g=new Ur(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var d=xn(c.na);Ne(d,"RID","rpc"),Ne(d,"SID",c.M),Ne(d,"AID",c.K),Ne(d,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ne(d,"TO",c.ia),Ne(d,"TYPE","xmlhttp"),wa(c,d),c.u&&c.o&&Op(d,c.u,c.o),c.O&&(c.g.H=c.O);var f=c.g;c=c.ba,f.M=1,f.A=Uu(xn(d)),f.u=null,f.R=!0,qI(f,c)}n.Va=function(){this.C!=null&&(this.C=null,zu(this),Fp(this),Nt(19))};function Gu(c){c.C!=null&&(s.clearTimeout(c.C),c.C=null)}function vw(c,d){var f=null;if(c.g==d){Gu(c),Lp(c),c.g=null;var m=2}else if(Np(c.h,d))f=d.G,JI(c.h,d),m=1;else return;if(c.I!=0){if(d.o)if(m==1){f=d.u?d.u.length:0,d=Date.now()-d.F;var C=c.D;m=Lu(),Mt(m,new UI(m,f)),qu(c)}else mw(c);else if(C=d.m,C==3||C==0&&d.X>0||!(m==1&&HN(c,d)||m==2&&Fp(c)))switch(f&&f.length>0&&(d=c.h,d.i=d.i.concat(f)),C){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function _w(c,d){let f=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(f*=2),f*d}function Mi(c,d){if(c.j.info("Error code "+d),d==2){var f=l(c.bb,c),m=c.Ua;let C=!m;m=new Br(m||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||pa(m,"https"),Uu(m),C?FN(m.toString(),f):LN(m.toString(),f)}else Nt(2);c.I=0,c.l&&c.l.pa(d),Ew(c),fw(c)}n.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Ew(c){if(c.I=0,c.ja=[],c.l){let d=ZI(c.h);(d.length!=0||c.i.length!=0)&&(I(c.ja,d),I(c.ja,c.i),c.h.i.length=0,y(c.i),c.i.length=0),c.l.oa()}}function Iw(c,d,f){var m=f instanceof Br?xn(f):new Br(f);if(m.g!="")d&&(m.g=d+"."+m.g),ga(m,m.u);else{var C=s.location;m=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;let M=new Br(null);m&&pa(M,m),d&&(M.g=d),C&&ga(M,C),f&&(M.h=f),m=M}return f=c.G,d=c.wa,f&&d&&Ne(m,f,d),Ne(m,"VER",c.ka),wa(c,m),m}function ww(c,d,f){if(d&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Aa&&!c.ma?new Ve(new Bu({ab:f})):new Ve(c.ma),d.Fa(c.L),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dw(){}n=Dw.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Wu(){}Wu.prototype.g=function(c,d){return new $t(c,d)};function $t(c,d){bt.call(this),this.g=new hw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(c?c["X-WebChannel-Client-Profile"]=d.sa:c={"X-WebChannel-Client-Profile":d.sa}),this.g.U=c,(c=d&&d.Qb)&&!_(c)&&(this.g.u=c),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!_(d)&&(this.g.G=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Uo(this)}p($t,bt),$t.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){kp(this.g)},$t.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.v&&(f={},f.__data__=Dp(c),c=f);d.i.push(new AN(d.Ya++,c)),d.I==3&&qu(d)},$t.prototype.N=function(){this.g.l=null,delete this.j,kp(this.g),delete this.g,$t.Z.N.call(this)};function bw(c){bp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}p(bw,bp);function Cw(){Cp.call(this),this.status=1}p(Cw,Cp);function Uo(c){this.g=c}p(Uo,Dw),Uo.prototype.ra=function(){Mt(this.g,"a")},Uo.prototype.qa=function(c){Mt(this.g,new bw(c))},Uo.prototype.pa=function(c){Mt(this.g,new Cw)},Uo.prototype.oa=function(){Mt(this.g,"b")},Wu.prototype.createWebChannel=Wu.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,qv=Rr.createWebChannelTransport=function(){return new Wu},zv=Rr.getStatEventTarget=function(){return Lu()},$v=Rr.Event=Si,Bh=Rr.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vu.NO_ERROR=0,Vu.TIMEOUT=8,Vu.HTTP_ERROR=6,eu=Rr.ErrorCode=Vu,BI.COMPLETE="complete",Hv=Rr.EventType=BI,FI.EventType=ca,ca.OPEN="a",ca.CLOSE="b",ca.ERROR="c",ca.MESSAGE="d",bt.prototype.listen=bt.prototype.J,Ms=Rr.WebChannel=FI,uj=Rr.FetchXmlHttpFactory=Bu,Ve.prototype.listenOnce=Ve.prototype.K,Ve.prototype.getLastError=Ve.prototype.Ha,Ve.prototype.getLastErrorCode=Ve.prototype.ya,Ve.prototype.getStatus=Ve.prototype.ca,Ve.prototype.getResponseJson=Ve.prototype.La,Ve.prototype.getResponseText=Ve.prototype.la,Ve.prototype.send=Ve.prototype.ea,Ve.prototype.setWithCredentials=Ve.prototype.Fa,Bv=Rr.XhrIo=Ve}).apply(typeof Uh<"u"?Uh:typeof self<"u"?self:typeof window<"u"?window:{});var ht=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ht.UNAUTHENTICATED=new ht(null),ht.GOOGLE_CREDENTIALS=new ht("google-credentials-uid"),ht.FIRST_PARTY=new ht("first-party-uid"),ht.MOCK_USER=new ht("mock-user");var Zs="12.8.0";function TA(n){Zs=n}var _o=new fi("@firebase/firestore");function Ns(){return _o.logLevel}function U(n,...e){if(_o.logLevel<=ce.DEBUG){let t=e.map(IE);_o.debug(`Firestore (${Zs}): ${n}`,...t)}}function xr(n,...e){if(_o.logLevel<=ce.ERROR){let t=e.map(IE);_o.error(`Firestore (${Zs}): ${n}`,...t)}}function yi(n,...e){if(_o.logLevel<=ce.WARN){let t=e.map(IE);_o.warn(`Firestore (${Zs}): ${n}`,...t)}}function IE(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function K(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,SA(n,r,t)}function SA(n,e,t){let r=`FIRESTORE (${Zs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw xr(r),new Error(r)}function be(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||SA(e,i,r)}function X(n,e){return n}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=class extends en{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Sn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Kh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Qh=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ht.UNAUTHENTICATED))}shutdown(){}},Jv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Yh=class{constructor(e){this.t=e,this.currentUser=ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){be(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Sn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Sn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Sn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(be(typeof r.accessToken=="string",31837,{l:r}),new Kh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string",2055,{h:e}),new ht(e)}},Zv=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ht.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);let e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}},Xv=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Zv(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Jh=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Zh=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,tn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){be(this.o===void 0,3512);let r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Jh(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(be(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Jh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function lj(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Eo=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=lj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function le(n,e){return n<e?-1:n>e?1:0}function e_(n,e){let t=Math.min(n.length,e.length);for(let r=0;r<t;r++){let i=n.charAt(r),o=e.charAt(r);if(i!==o)return Gv(i)===Gv(o)?le(i,o):Gv(i)?1:-1}return le(n.length,e.length)}var dj=55296,hj=57343;function Gv(n){let e=n.charCodeAt(0);return e>=dj&&e<=hj}function Vs(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var BS="__name__",Xh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&K(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&K(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return le(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):e_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ar.fromString(e.substring(4,e.length-2))}},ke=class n extends Xh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new B(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},fj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Bt=class n extends Xh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return fj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===BS}static keyField(){return new n([BS])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new B(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new B(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new B(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new B(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var q=class n{constructor(e){this.path=e}static fromPath(e){return new n(ke.fromString(e))}static fromName(e){return new n(ke.fromString(e).popFirst(5))}static empty(){return new n(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ke(e.slice()))}};function AA(n,e,t){if(!t)throw new B(O.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function RA(n,e,t,r){if(e===!0&&r===!0)throw new B(O.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function HS(n){if(!q.isDocumentKey(n))throw new B(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $S(n){if(q.isDocumentKey(n))throw new B(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function MA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function xf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":K(12329,{type:typeof n})}function Mn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new B(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=xf(n);throw new B(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ze(n,e){let t={typeString:n};return e&&(t.value=e),t}function Xs(n,e){if(!MA(n))throw new B(O.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new B(O.INVALID_ARGUMENT,t);return!0}var zS=-62135596800,qS=1e6,qe=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*qS);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new B(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new B(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<zS)throw new B(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qS}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xs(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-zS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};qe._jsonSchemaVersion="firestore/timestamp/1.0",qe._jsonSchema={type:ze("string",qe._jsonSchemaVersion),seconds:ze("number"),nanoseconds:ze("number")};var re=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new qe(0,0))}static max(){return new n(new qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var su=-1,ef=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};ef.UNKNOWN_ID=-1;function pj(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new qe(t+1,0):new qe(t,r));return new Io(i,q.empty(),e)}function gj(n){return new Io(n.readTime,n.key,su)}var Io=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(re.min(),q.empty(),su)}static max(){return new n(re.max(),q.empty(),su)}};function mj(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=q.comparator(n.documentKey,e.documentKey),t!==0?t:le(n.largestBatchId,e.largestBatchId))}var yj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",t_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function ea(n){if(n.code!==O.FAILED_PRECONDITION||n.message!==yj)throw n;U("LocalStore","Unexpectedly lost primary lease")}var F=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&K(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function vj(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ta(n){return n.name==="IndexedDbTransactionError"}var wE=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ue&&this.ue(t),t}}n.ce=-1;return n})(),DE=-1;function Pf(n){return n==null}function au(n){return n===0&&1/n==-1/0}function _j(n){return typeof n=="number"&&Number.isInteger(n)&&!au(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var NA="";function Ej(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=GS(e)),e=Ij(n.get(t),e);return GS(e)}function Ij(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case NA:t+="";break;default:t+=o}}return t}function GS(n){return n+NA+""}var wj="remoteDocuments",xA="owner";var PA="mutationQueues";var OA="mutations";var kA="documentMutations",Dj="remoteDocumentsV14";var FA="remoteDocumentGlobal";var LA="targets";var VA="targetDocuments";var jA="targetGlobal",UA="collectionParents";var BA="clientMetadata";var HA="bundles";var $A="namedQueries";var bj="indexConfiguration";var Cj="indexState";var Tj="indexEntries";var zA="documentOverlays";var Sj="globals";var Aj=[PA,OA,kA,wj,LA,xA,jA,VA,BA,FA,UA,HA,$A],nte=[...Aj,zA],Rj=[PA,OA,kA,Dj,LA,xA,jA,VA,BA,FA,UA,HA,$A,zA],Mj=Rj,Nj=[...Mj,bj,Cj,Tj];var rte=[...Nj,Sj];function WS(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ii(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function qA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var je=class n{constructor(e,t){this.comparator=e,this.root=t||Jn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ks(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ks(this.root,e,this.comparator,!1)}getReverseIterator(){return new ks(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ks(this.root,e,this.comparator,!0)}},ks=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Jn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw K(43730,{key:this.key,value:this.value});if(this.right.isRed())throw K(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw K(27949);return e+(this.isRed()?0:1)}};Jn.EMPTY=null,Jn.RED=!0,Jn.BLACK=!1;Jn.EMPTY=new class{constructor(){this.size=0}get key(){throw K(57766)}get value(){throw K(16141)}get color(){throw K(16727)}get left(){throw K(29726)}get right(){throw K(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Jn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ft=class n{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tf(this.data.getIterator())}getIteratorFrom(e){return new tf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},tf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var hn=class n{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new n([])}unionWith(e){let t=new ft(Bt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vs(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var nf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var wt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new nf("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};wt.EMPTY_BYTE_STRING=new wt("");var xj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(n){if(be(!!n,39018),typeof n=="string"){let e=0,t=xj.exec(n);if(be(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Oe(n.seconds),nanos:Oe(n.nanos)}}function Oe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Or(n){return typeof n=="string"?wt.fromBase64String(n):wt.fromUint8Array(n)}var GA="server_timestamp",WA="__type__",KA="__previous_value__",QA="__local_write_time__";function Of(n){return(n?.mapValue?.fields||{})[WA]?.stringValue===GA}function kf(n){let e=n.mapValue.fields[KA];return Of(e)?kf(e):e}function cu(n){let e=Pr(n.mapValue.fields[QA].timestampValue);return new qe(e.seconds,e.nanos)}var n_=class{constructor(e,t,r,i,o,s,a,u,l,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h,this.apiKey=p}},rf="(default)",uu=class n{constructor(e,t){this.projectId=e,this.database=t||rf}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===rf}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};function YA(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new B(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(n.options.projectId,e)}var bE="__type__",JA="__max__",Hh={mapValue:{fields:{__type__:{stringValue:JA}}}},CE="__vector__",js="value";function vi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Of(n)?4:XA(n)?9007199254740991:ZA(n)?10:11:K(28295,{value:n})}function rr(n,e){if(n===e)return!0;let t=vi(n);if(t!==vi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return cu(n).isEqual(cu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Pr(i.timestampValue),a=Pr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Or(i.bytesValue).isEqual(Or(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Oe(i.geoPointValue.latitude)===Oe(o.geoPointValue.latitude)&&Oe(i.geoPointValue.longitude)===Oe(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Oe(i.integerValue)===Oe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Oe(i.doubleValue),a=Oe(o.doubleValue);return s===a?au(s)===au(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return Vs(n.arrayValue.values||[],e.arrayValue.values||[],rr);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(WS(s)!==WS(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!rr(s[u],a[u])))return!1;return!0})(n,e);default:return K(52216,{left:n})}}function lu(n,e){return(n.values||[]).find(t=>rr(t,e))!==void 0}function Us(n,e){if(n===e)return 0;let t=vi(n),r=vi(e);if(t!==r)return le(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return le(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Oe(o.integerValue||o.doubleValue),u=Oe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(n,e);case 3:return KS(n.timestampValue,e.timestampValue);case 4:return KS(cu(n),cu(e));case 5:return e_(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=Or(o),u=Or(s);return a.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=le(a[l],u[l]);if(h!==0)return h}return le(a.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=le(Oe(o.latitude),Oe(s.latitude));return a!==0?a:le(Oe(o.longitude),Oe(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return QS(n.arrayValue,e.arrayValue);case 10:return(function(o,s){let a=o.fields||{},u=s.fields||{},l=a[js]?.arrayValue,h=u[js]?.arrayValue,p=le(l?.values?.length||0,h?.values?.length||0);return p!==0?p:QS(l,h)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Hh.mapValue&&s===Hh.mapValue)return 0;if(o===Hh.mapValue)return 1;if(s===Hh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=e_(u[p],h[p]);if(g!==0)return g;let y=Us(a[u[p]],l[h[p]]);if(y!==0)return y}return le(u.length,h.length)})(n.mapValue,e.mapValue);default:throw K(23264,{he:t})}}function KS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return le(n,e);let t=Pr(n),r=Pr(e),i=le(t.seconds,r.seconds);return i!==0?i:le(t.nanos,r.nanos)}function QS(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Us(t[i],r[i]);if(o)return o}return le(t.length,r.length)}function Bs(n){return r_(n)}function r_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=Pr(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Or(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return q.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=r_(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${r_(t.fields[s])}`;return i+"}"})(n.mapValue):K(61005,{value:n})}function qh(n){switch(vi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=kf(n);return e?16+qh(e):16;case 5:return 2*n.stringValue.length;case 6:return Or(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+qh(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Ii(r.fields,(o,s)=>{i+=o.length+qh(s)}),i})(n.mapValue);default:throw K(13486,{value:n})}}function i_(n){return!!n&&"integerValue"in n}function TE(n){return!!n&&"arrayValue"in n}function YS(n){return!!n&&"nullValue"in n}function JS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gh(n){return!!n&&"mapValue"in n}function ZA(n){return(n?.mapValue?.fields||{})[bE]?.stringValue===CE}function ru(n){if(n.geoPointValue)return{geoPointValue:N({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:N({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ii(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ru(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ru(n.arrayValue.values[t]);return e}return N({},n)}function XA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===JA}var ote={mapValue:{fields:{[bE]:{stringValue:CE},[js]:{arrayValue:{}}}}};var Ut=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Gh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ru(t)}setAll(e){let t=Bt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=ru(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Gh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Gh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ii(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(ru(this.value))}};function eR(n){let e=[];return Ii(n.fields,(t,r)=>{let i=new Bt([t]);if(Gh(r)){let o=eR(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new hn(e)}var An=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,re.min(),re.min(),re.min(),Ut.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,re.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,re.min(),re.min(),Ut.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,re.min(),re.min(),Ut.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var wo=class{constructor(e,t){this.position=e,this.inclusive=t}};function ZS(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=q.comparator(q.fromName(s.referenceValue),t.key):r=Us(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function XS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!rr(n.position[t],e.position[t]))return!1;return!0}var Do=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Pj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var of=class{},Ze=class n extends of{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new s_(e,t,r):t==="array-contains"?new u_(e,r):t==="in"?new l_(e,r):t==="not-in"?new d_(e,r):t==="array-contains-any"?new h_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new a_(e,r):new c_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Us(t,this.value)):t!==null&&vi(this.value)===vi(t)&&this.matchesComparison(Us(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Rn=class n extends of{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new n(e,t)}matches(e){return tR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function tR(n){return n.op==="and"}function nR(n){return Oj(n)&&tR(n)}function Oj(n){for(let e of n.filters)if(e instanceof Rn)return!1;return!0}function o_(n){if(n instanceof Ze)return n.field.canonicalString()+n.op.toString()+Bs(n.value);if(nR(n))return n.filters.map(e=>o_(e)).join(",");{let e=n.filters.map(t=>o_(t)).join(",");return`${n.op}(${e})`}}function rR(n,e){return n instanceof Ze?(function(r,i){return i instanceof Ze&&r.op===i.op&&r.field.isEqual(i.field)&&rr(r.value,i.value)})(n,e):n instanceof Rn?(function(r,i){return i instanceof Rn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&rR(s,i.filters[a]),!0):!1})(n,e):void K(19439)}function iR(n){return n instanceof Ze?(function(t){return`${t.field.canonicalString()} ${t.op} ${Bs(t.value)}`})(n):n instanceof Rn?(function(t){return t.op.toString()+" {"+t.getFilters().map(iR).join(" ,")+"}"})(n):"Filter"}var s_=class extends Ze{constructor(e,t,r){super(e,t,r),this.key=q.fromName(r.referenceValue)}matches(e){let t=q.comparator(e.key,this.key);return this.matchesComparison(t)}},a_=class extends Ze{constructor(e,t){super(e,"in",t),this.keys=oR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},c_=class extends Ze{constructor(e,t){super(e,"not-in",t),this.keys=oR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function oR(n,e){return(e.arrayValue?.values||[]).map(t=>q.fromName(t.referenceValue))}var u_=class extends Ze{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return TE(t)&&lu(t.arrayValue,this.value)}},l_=class extends Ze{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&lu(this.value.arrayValue,t)}},d_=class extends Ze{constructor(e,t){super(e,"not-in",t)}matches(e){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!lu(this.value.arrayValue,t)}},h_=class extends Ze{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!TE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>lu(this.value.arrayValue,r))}};var f_=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}};function eA(n,e=null,t=[],r=[],i=null,o=null,s=null){return new f_(n,e,t,r,i,o,s)}function SE(n){let e=X(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>o_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),Pf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Bs(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Bs(r)).join(",")),e.Te=t}return e.Te}function AE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Pj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!rR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!XS(n.startAt,e.startAt)&&XS(n.endAt,e.endAt)}function p_(n){return q.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Hs=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}};function kj(n,e,t,r,i,o,s,a){return new Hs(n,e,t,r,i,o,s,a)}function Ff(n){return new Hs(n)}function tA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Fj(n){return q.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function sR(n){return n.collectionGroup!==null}function Fs(n){let e=X(n);if(e.Ie===null){e.Ie=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ft(Bt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Do(o,r))}),t.has(Bt.keyField().canonicalString())||e.Ie.push(new Do(Bt.keyField(),r))}return e.Ie}function Zn(n){let e=X(n);return e.Ee||(e.Ee=Lj(e,Fs(n))),e.Ee}function Lj(n,e){if(n.limitType==="F")return eA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Do(i.field,o)});let t=n.endAt?new wo(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new wo(n.startAt.position,n.startAt.inclusive):null;return eA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function sf(n,e,t){return new Hs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Lf(n,e){return AE(Zn(n),Zn(e))&&n.limitType===e.limitType}function aR(n){return`${SE(Zn(n))}|lt:${n.limitType}`}function xs(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>iR(i)).join(", ")}]`),Pf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Bs(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Bs(i)).join(",")),`Target(${r})`})(Zn(n))}; limitType=${n.limitType})`}function Vf(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of Fs(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=ZS(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,Fs(r),i)||r.endAt&&!(function(s,a,u){let l=ZS(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,Fs(r),i))})(n,e)}function Vj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cR(n){return(e,t)=>{let r=!1;for(let i of Fs(n)){let o=jj(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function jj(n,e,t){let r=n.field.isKeyField()?q.comparator(e.key,t.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Us(u,l):K(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return K(19790,{direction:n.dir})}}var kr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ii(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return qA(this.inner)}size(){return this.innerSize}};var Uj=new je(q.comparator);function Fr(){return Uj}var uR=new je(q.comparator);function nu(...n){let e=uR;for(let t of n)e=e.insert(t.key,t);return e}function lR(n){let e=uR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function yo(){return iu()}function dR(){return iu()}function iu(){return new kr(n=>n.toString(),(n,e)=>n.isEqual(e))}var Bj=new je(q.comparator),Hj=new ft(q.comparator);function ue(...n){let e=Hj;for(let t of n)e=e.add(t);return e}var $j=new ft(le);function zj(){return $j}function RE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:au(e)?"-0":e}}function hR(n){return{integerValue:""+n}}function qj(n,e){return _j(e)?hR(e):RE(n,e)}var $s=class{constructor(){this._=void 0}};function Gj(n,e,t){return n instanceof zs?(function(i,o){let s={fields:{[WA]:{stringValue:GA},[QA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Of(o)&&(o=kf(o)),o&&(s.fields[KA]=o),{mapValue:s}})(t,e):n instanceof bo?pR(n,e):n instanceof Co?gR(n,e):(function(i,o){let s=fR(i,o),a=nA(s)+nA(i.Ae);return i_(s)&&i_(i.Ae)?hR(a):RE(i.serializer,a)})(n,e)}function Wj(n,e,t){return n instanceof bo?pR(n,e):n instanceof Co?gR(n,e):t}function fR(n,e){return n instanceof qs?(function(r){return i_(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var zs=class extends $s{},bo=class extends $s{constructor(e){super(),this.elements=e}};function pR(n,e){let t=mR(e);for(let r of n.elements)t.some(i=>rr(i,r))||t.push(r);return{arrayValue:{values:t}}}var Co=class extends $s{constructor(e){super(),this.elements=e}};function gR(n,e){let t=mR(e);for(let r of n.elements)t=t.filter(i=>!rr(i,r));return{arrayValue:{values:t}}}var qs=class extends $s{constructor(e,t){super(),this.serializer=e,this.Ae=t}};function nA(n){return Oe(n.integerValue||n.doubleValue)}function mR(n){return TE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Kj(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof bo&&i instanceof bo||r instanceof Co&&i instanceof Co?Vs(r.elements,i.elements,rr):r instanceof qs&&i instanceof qs?rr(r.Ae,i.Ae):r instanceof zs&&i instanceof zs})(n.transform,e.transform)}var g_=class{constructor(e,t){this.version=e,this.transformResults=t}},Xn=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Wh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Gs=class{};function yR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ws(n.key,Xn.none()):new To(n.key,n.data,Xn.none());{let t=n.data,r=Ut.empty(),i=new ft(Bt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ir(n.key,r,new hn(i.toArray()),Xn.none())}}function Qj(n,e,t){n instanceof To?(function(i,o,s){let a=i.value.clone(),u=iA(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof ir?(function(i,o,s){if(!Wh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=iA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(vR(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function ou(n,e,t,r){return n instanceof To?(function(o,s,a,u){if(!Wh(o.precondition,s))return a;let l=o.value.clone(),h=oA(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof ir?(function(o,s,a,u){if(!Wh(o.precondition,s))return a;let l=oA(o.fieldTransforms,u,s),h=s.data;return h.setAll(vR(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,a){return Wh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function Yj(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=fR(r.transform,i||null);o!=null&&(t===null&&(t=Ut.empty()),t.set(r.field,o))}return t||null}function rA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Vs(r,i,(o,s)=>Kj(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var To=class extends Gs{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ir=class extends Gs{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function vR(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function iA(n,e,t){let r=new Map;be(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Wj(s,a,t[i]))}return r}function oA(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,Gj(o,s,e))}return r}var Ws=class extends Gs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},m_=class extends Gs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var y_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&Qj(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=ou(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=ou(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=dR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=yR(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ue())}isEqual(e){return this.batchId===e.batchId&&Vs(this.mutations,e.mutations,(t,r)=>rA(t,r))&&Vs(this.baseMutations,e.baseMutations,(t,r)=>rA(t,r))}},v_=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){be(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Bj})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var __=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var E_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ye,ge;function Jj(n){switch(n){case O.OK:return K(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return K(15467,{code:n})}}function _R(n){if(n===void 0)return xr("GRPC error has no .code"),O.UNKNOWN;switch(n){case Ye.OK:return O.OK;case Ye.CANCELLED:return O.CANCELLED;case Ye.UNKNOWN:return O.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return O.INTERNAL;case Ye.UNAVAILABLE:return O.UNAVAILABLE;case Ye.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Ye.NOT_FOUND:return O.NOT_FOUND;case Ye.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Ye.ABORTED:return O.ABORTED;case Ye.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Ye.DATA_LOSS:return O.DATA_LOSS;default:return K(39323,{code:n})}}(ge=Ye||(Ye={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";var Zj=null;function Xj(){return new TextEncoder}var eU=new Ar([4294967295,4294967295],0);function sA(n){let e=Xj().encode(n),t=new Uv;return t.update(e),new Uint8Array(t.digest())}function aA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ar([t,r],0),new Ar([i,o],0)]}var I_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new vo(`Invalid padding: ${t}`);if(r<0)throw new vo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vo(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new vo(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ar.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(Ar.fromNumber(r)));return i.compare(eU)===1&&(i=new Ar([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let t=sA(e),[r,i]=aA(t);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;let t=sA(e),[r,i]=aA(t);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);this.be(s)}}be(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},vo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var af=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,du.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(re.min(),i,new je(le),Fr(),ue())}},du=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ue(),ue(),ue())}};var Ls=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=i}},cf=class{constructor(e,t){this.targetId=e,this.Ce=t}},uf=class{constructor(e,t,r=wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},lf=class{constructor(){this.ve=0,this.Fe=cA(),this.Me=wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ue(),t=ue(),r=ue();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:K(38017,{changeType:o})}}),new du(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=cA()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,be(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}},w_=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=Fr(),this.He=$h(),this.Je=$h(),this.Ze=new je(le)}Xe(e){for(let t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{let r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:K(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,i)=>{this.rt(i)&&t(i)})}st(e){let t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){let o=i.target;if(p_(o))if(r===0){let s=new q(o.path);this.et(t,s,An.newNoDocument(s,re.min()))}else be(r===1,20013,{expectedCount:r});else{let s=this._t(t);if(s!==r){let a=this.ut(e),u=a?this.ct(a,e,s):1;if(u!==0){this.it(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,l)}Zj?.lt((function(h,p,g,y,I){let S={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},P=p.unchangedNames;return P&&(S.bloomFilter={applied:I===0,hashCount:P?.hashCount??0,bitmapLength:P?.bits?.bitmap?.length??0,padding:P?.bits?.padding??0,mightContain:j=>y?.mightContain(j)??!1}),S})(s,e.Ce,this.Ge.ht(),a,u))}}}}ut(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Or(r).toUint8Array()}catch(u){if(u instanceof nf)return yi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new I_(s,i,o)}catch(u){return yi(u instanceof vo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){let r=this.Ge.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(t,o,null),i++)}),i}Tt(e){let t=new Map;this.ze.forEach((o,s)=>{let a=this.ot(s);if(a){if(o.current&&p_(a.target)){let u=new q(a.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,An.newNoDocument(u,e))}o.Be&&(t.set(s,o.ke()),o.Ke())}});let r=ue();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.ot(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));let i=new af(e,t,this.Ze,this.je,r);return this.je=Fr(),this.He=$h(),this.Je=$h(),this.Ze=new je(le),i}Ye(e,t){if(!this.rt(e))return;let r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;let i=this.nt(e);this.Et(e,t)?i.qe(t,1):i.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new lf,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new ft(le),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new ft(le),this.He=this.He.insert(e,t)),t}rt(e){let t=this.ot(e)!==null;return t||U("WatchChangeAggregator","Detected inactive target",e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new lf),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}};function $h(){return new je(q.comparator)}function cA(){return new je(q.comparator)}var tU={asc:"ASCENDING",desc:"DESCENDING"},nU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rU={and:"AND",or:"OR"},D_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function b_(n,e){return n.useProto3Json||Pf(e)?e:{value:e}}function df(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ER(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function iU(n,e){return df(n,e.toTimestamp())}function er(n){return be(!!n,49232),re.fromTimestamp((function(t){let r=Pr(t);return new qe(r.seconds,r.nanos)})(n))}function ME(n,e){return C_(n,e).canonicalString()}function C_(n,e){let t=(function(i){return new ke(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function IR(n){let e=ke.fromString(n);return be(TR(e),10190,{key:e.toString()}),e}function T_(n,e){return ME(n.databaseId,e.path)}function Wv(n,e){let t=IR(e);if(t.get(1)!==n.databaseId.projectId)throw new B(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new B(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new q(DR(t))}function wR(n,e){return ME(n.databaseId,e)}function oU(n){let e=IR(n);return e.length===4?ke.emptyPath():DR(e)}function S_(n){return new ke(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function DR(n){return be(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function uA(n,e,t){return{name:T_(n,e),fields:t.value.mapValue.fields}}function sU(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:K(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(be(h===void 0||typeof h=="string",58123),wt.fromBase64String(h||"")):(be(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),wt.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?O.UNKNOWN:_R(l.code);return new B(h,l.message||"")})(s);t=new uf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Wv(n,r.document.name),o=er(r.document.updateTime),s=r.document.createTime?er(r.document.createTime):re.min(),a=new Ut({mapValue:{fields:r.document.fields}}),u=An.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Ls(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Wv(n,r.document),o=r.readTime?er(r.readTime):re.min(),s=An.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Ls([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Wv(n,r.document),o=r.removedTargetIds||[];t=new Ls([],o,i,null)}else{if(!("filter"in e))return K(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new E_(i,o),a=r.targetId;t=new cf(a,s)}}return t}function aU(n,e){let t;if(e instanceof To)t={update:uA(n,e.key,e.value)};else if(e instanceof Ws)t={delete:T_(n,e.key)};else if(e instanceof ir)t={update:uA(n,e.key,e.data),updateMask:mU(e.fieldMask)};else{if(!(e instanceof m_))return K(16599,{dt:e.type});t={verify:T_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof zs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof bo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Co)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof qs)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw K(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:iU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:K(27497)})(n,e.precondition)),t}function cU(n,e){return n&&n.length>0?(be(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?er(i.updateTime):er(o);return s.isEqual(re.min())&&(s=er(o)),new g_(s,i.transformResults||[])})(t,e))):[]}function uU(n,e){return{documents:[wR(n,e.path)]}}function lU(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=wR(n,i);let o=(function(l){if(l.length!==0)return CR(Rn.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(g){return{field:Ps(g.field),direction:fU(g.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=b_(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{ft:t,parent:i}}function dU(n){let e=oU(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){be(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(p){let g=bR(p);return g instanceof Rn&&nR(g)?g.getFilters():[g]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(g=>(function(I){return new Do(Os(I.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(g))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let g;return g=typeof p=="object"?p.value:p,Pf(g)?null:g})(t.limit));let u=null;t.startAt&&(u=(function(p){let g=!!p.before,y=p.values||[];return new wo(y,g)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let g=!p.before,y=p.values||[];return new wo(y,g)})(t.endAt)),kj(e,i,s,o,a,"F",u,l)}function hU(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function bR(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Os(t.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Os(t.unaryFilter.field);return Ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Os(t.unaryFilter.field);return Ze.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Os(t.unaryFilter.field);return Ze.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return K(61313);default:return K(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ze.create(Os(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return K(58110);default:return K(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Rn.create(t.compositeFilter.filters.map(r=>bR(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K(1026)}})(t.compositeFilter.op))})(n):K(30097,{filter:n})}function fU(n){return tU[n]}function pU(n){return nU[n]}function gU(n){return rU[n]}function Ps(n){return{fieldPath:n.canonicalString()}}function Os(n){return Bt.fromServerFormat(n.fieldPath)}function CR(n){return n instanceof Ze?(function(t){if(t.op==="=="){if(JS(t.value))return{unaryFilter:{field:Ps(t.field),op:"IS_NAN"}};if(YS(t.value))return{unaryFilter:{field:Ps(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(JS(t.value))return{unaryFilter:{field:Ps(t.field),op:"IS_NOT_NAN"}};if(YS(t.value))return{unaryFilter:{field:Ps(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ps(t.field),op:pU(t.op),value:t.value}}})(n):n instanceof Rn?(function(t){let r=t.getFilters().map(i=>CR(i));return r.length===1?r[0]:{compositeFilter:{op:gU(t.op),filters:r}}})(n):K(54877,{filter:n})}function mU(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function TR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function SR(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}var hu=class n{constructor(e,t,r,i,o=re.min(),s=re.min(),a=wt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var A_=class{constructor(e){this.yt=e}};function AR(n){let e=dU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?sf(e,e.limit,"L"):e}var hf=class{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Oe(e.integerValue));else if("doubleValue"in e){let r=Oe(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),au(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=Pr(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Or(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?XA(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):ZA(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):K(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){let r=e.fields||{};this.Ft(t,55);for(let i of Object.keys(r))this.Ot(i,t),this.Ct(r[i],t)}kt(e,t){let r=e.fields||{};this.Ft(t,53);let i=js,o=r[i].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Oe(o)),this.Ot(i,t),this.Ct(r[i],t)}qt(e,t){let r=e.values||[];this.Ft(t,50);for(let i of r)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),q.fromName(e).path.forEach(r=>{this.Ft(t,60),this.$t(r,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}};hf.Wt=new hf;var R_=class{constructor(){this.Sn=new M_}addToCollectionParentIndex(e,t){return this.Sn.add(t),F.resolve()}getCollectionParents(e,t){return F.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return F.resolve()}deleteFieldIndex(e,t){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,t){return F.resolve()}getDocumentsMatchingTarget(e,t){return F.resolve(null)}getIndexType(e,t){return F.resolve(0)}getFieldIndexes(e,t){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,t){return F.resolve(Io.min())}getMinOffsetFromCollectionGroup(e,t){return F.resolve(Io.min())}updateCollectionGroup(e,t,r){return F.resolve()}updateIndexEntries(e,t){return F.resolve()}},M_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ft(ke.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ft(ke.comparator)).toArray()}};var ste=new Uint8Array(0);var lA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RR=41943040,dn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(RR,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);var fu=class n{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new n(0)}static ar(){return new n(-1)}};var dA="LruGarbageCollector",yU=1048576;function hA([n,e],[t,r]){let i=le(n,t);return i===0?le(e,r):i}var N_=class{constructor(e){this.Pr=e,this.buffer=new ft(hA),this.Tr=0}Ir(){return++this.Tr}Er(e){let t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();hA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},x_=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){U(dA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ta(t)?U(dA,"Ignoring IndexedDB error during garbage collection: ",t):await ea(t)}await this.Ar(3e5)})}},P_=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return F.resolve(wE.ce);let r=new N_(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(U("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(lA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lA):this.gr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Ns()<=ce.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function vU(n,e){return new P_(n,e)}var O_=class{constructor(){this.changes=new kr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?F.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var k_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var F_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&ou(r.mutation,i,hn.empty(),qe.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ue()){let i=yo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=nu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=yo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ue()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Fr(),s=iu(),a=(function(){return iu()})();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof ir)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),ou(h.mutation,l,h.mutation.getFieldMask(),qe.now())):s.set(l.key,hn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>a.set(l,new k_(h,s.get(l)??null))),a))}recalculateAndSaveOverlays(e,t){let r=iu(),i=new je((s,a)=>s-a),o=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||hn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ue()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=dR();h.forEach(g=>{if(!o.has(g)){let y=yR(t.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return F.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return Fj(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):sR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):F.resolve(yo()),a=su,u=o;return s.next(l=>F.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ue())).next(h=>({batchId:a,changes:lR(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new q(t)).next(r=>{let i=nu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=nu();return this.indexManager.getCollectionParents(e,o).next(a=>F.forEach(a,u=>{let l=(function(p,g){return new Hs(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,An.newInvalidDocument(h)))});let a=nu();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&ou(h.mutation,l,hn.empty(),qe.now()),Vf(t,l)&&(a=a.insert(u,l))}),a})}};var L_=class{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return F.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:er(i.createTime)}})(t)),F.resolve()}getNamedQuery(e,t){return F.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(i){return{name:i.name,query:AR(i.bundledQuery),readTime:er(i.readTime)}})(t)),F.resolve()}};var V_=class{constructor(){this.overlays=new je(q.comparator),this.Lr=new Map}getOverlay(e,t){return F.resolve(this.overlays.get(t))}getOverlays(e,t){let r=yo();return F.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.bt(e,t,o)}),F.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Lr.delete(r)),F.resolve()}getOverlaysForCollection(e,t,r){let i=yo(),o=t.length+1,s=new q(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new je((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=yo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=yo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return F.resolve(a)}bt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new __(t,r));let o=this.Lr.get(t);o===void 0&&(o=ue(),this.Lr.set(t,o)),this.Lr.set(t,o.add(r.key))}};var j_=class{constructor(){this.sessionToken=wt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,F.resolve()}};var pu=class{constructor(){this.kr=new ft(Je.Kr),this.qr=new ft(Je.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){let r=new Je(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Je(e,t))}Qr(e,t){e.forEach(r=>this.removeReference(r,t))}Gr(e){let t=new q(new ke([])),r=new Je(t,e),i=new Je(t,e+1),o=[];return this.qr.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){let t=new q(new ke([])),r=new Je(t,e),i=new Je(t,e+1),o=ue();return this.qr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Je(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Je=class{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return q.comparator(e.key,t.key)||le(e.Hr,t.Hr)}static Ur(e,t){return le(e.Hr,t.Hr)||q.comparator(e.key,t.key)}};var U_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new ft(Je.Kr)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new y_(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Jr=this.Jr.add(new Je(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(s)}lookupMutationBatch(e,t){return F.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?DE:this.Yn-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Je(t,0),i=new Je(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ft(le);return t.forEach(i=>{let o=new Je(i,0),s=new Je(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),F.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;q.isDocumentKey(o)||(o=o.child(""));let s=new Je(new q(o),0),a=new ft(le);return this.Jr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),F.resolve(this.Yr(a))}Yr(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){be(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return F.forEach(t.mutations,i=>{let o=new Je(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,t){let r=new Je(t,0),i=this.Jr.firstAfterOrEqual(r);return F.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var B_=class{constructor(e){this.ti=e,this.docs=(function(){return new je(q.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return F.resolve(r?r.document.mutableCopy():An.newInvalidDocument(t))}getEntries(e,t){let r=Fr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():An.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Fr(),s=t.path,a=new q(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||mj(gj(h),r)<=0||(i.has(h.key)||Vf(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,t,r,i){K(9500)}ni(e,t){return F.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new H_(this)}getSize(e){return F.resolve(this.size)}},H_=class extends O_{constructor(e){super(),this.Mr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)}),F.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}};var $_=class{constructor(e){this.persistence=e,this.ri=new kr(t=>SE(t),AE),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.ii=0,this.si=new pu,this.targetCount=0,this.oi=fu._r()}forEachTarget(e,t){return this.ri.forEach((r,i)=>t(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),F.resolve()}lr(e){this.ri.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.oi=new fu(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,F.resolve()}updateTargetData(e,t){return this.lr(t),F.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ri.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ri.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(o).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,t){let r=this.ri.get(t)||null;return F.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),F.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),F.resolve()}getMatchingKeysForTargetId(e,t){let r=this.si.jr(t);return F.resolve(r)}containsKey(e,t){return F.resolve(this.si.containsKey(t))}};var ff=class{constructor(e,t){this._i={},this.overlays={},this.ai=new wE(0),this.ui=!1,this.ui=!0,this.ci=new j_,this.referenceDelegate=e(this),this.li=new $_(this),this.indexManager=new R_,this.remoteDocumentCache=(function(i){return new B_(i)})(r=>this.referenceDelegate.hi(r)),this.serializer=new A_(t),this.Pi=new L_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new V_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new U_(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){U("MemoryPersistence","Starting transaction:",e);let i=new z_(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(o=>this.referenceDelegate.Ii(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return F.or(Object.values(this._i).map(r=>()=>r.containsKey(e,t)))}},z_=class extends t_{constructor(e){super(),this.currentSequenceNumber=e}},q_=class n{constructor(e){this.persistence=e,this.Ri=new pu,this.Ai=null}static Vi(e){return new n(e)}get di(){if(this.Ai)return this.Ai;throw K(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),F.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),F.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach(i=>this.di.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ti(){this.Ai=new Set}Ii(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.di,r=>{let i=q.fromPath(r);return this.mi(e,i).next(o=>{o||t.removeEntry(i,re.min())})}).next(()=>(this.Ai=null,t.apply(e)))}updateLimboDocument(e,t){return this.mi(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}hi(e){return 0}mi(e,t){return F.or([()=>F.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},pf=class n{constructor(e,t){this.persistence=e,this.fi=new kr(r=>Ej(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=vU(this,t)}static Vi(e,t){return new n(e,t)}Ti(){}Ii(e){return F.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){let t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}pr(e){let t=0;return this.mr(e,r=>{t++}).next(()=>t)}mr(e,t){return F.forEach(this.fi,(r,i)=>this.wr(e,r,i).next(o=>o?F.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ni(e,s=>this.wr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,re.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),F.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),F.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=qh(e.data.value)),t}wr(e,t,r){return F.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.fi.get(t);return F.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var G_=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=i}static Es(e,t){let r=ue(),i=ue();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var W_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var K_=class{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return IS()?8:vj(dt())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.gs(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ps(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new W_;return this.ys(e,t,s).next(a=>{if(o.result=a,this.As)return this.ws(e,t,s,a.size)})}).next(()=>o.result)}ws(e,t,r,i){return r.documentReadCount<this.Vs?(Ns()<=ce.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",xs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),F.resolve()):(Ns()<=ce.DEBUG&&U("QueryEngine","Query:",xs(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Ns()<=ce.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",xs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(t))):F.resolve())}gs(e,t){if(tA(t))return F.resolve(null);let r=Zn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=sf(t,null,"F"),r=Zn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ue(...o);return this.fs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ss(t,l,s,u.readTime)?this.gs(e,sf(t,null,"F")):this.Ds(e,l,t,u)}))})))}ps(e,t,r,i){return tA(t)||i.isEqual(re.min())?F.resolve(null):this.fs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ss(t,s,r,i)?F.resolve(null):(Ns()<=ce.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xs(t)),this.Ds(e,s,t,pj(i,su)).next(a=>a))})}bs(e,t){let r=new ft(cR(e));return t.forEach((i,o)=>{Vf(e,o)&&(r=r.add(o))}),r}Ss(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ys(e,t,r){return Ns()<=ce.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",xs(t)),this.fs.getDocumentsMatchingQuery(e,t,Io.min(),r)}Ds(e,t,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var NE="LocalStore",_U=3e8,Q_=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.vs=new je(le),this.Fs=new kr(o=>SE(o),AE),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new F_(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.vs))}};function EU(n,e,t,r){return new Q_(n,e,t,r)}async function MR(n,e){let t=X(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Os(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ue();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Ns:l,removedBatchIds:s,addedBatchIds:a}))})})}function IU(n,e){let t=X(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,h){let p=l.batch,g=p.keys(),y=F.resolve();return g.forEach(I=>{y=y.next(()=>h.getEntry(u,I)).next(S=>{let P=l.docVersions.get(I);be(P!==null,48541),S.version.compareTo(P)<0&&(p.applyToRemoteDocument(S,l),S.isValidDocument()&&(S.setReadTime(l.commitVersion),h.addEntry(S)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=ue();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function NR(n){let e=X(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.li.getLastRemoteSnapshotVersion(t))}function wU(n,e){let t=X(n),r=e.snapshotVersion,i=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.xs.newChangeBuffer({trackRemovals:!0});i=t.vs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(t.li.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.li.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(wt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(S,P,j){return S.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=_U?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(g,y,h)&&a.push(t.li.updateTargetData(o,y))});let u=Fr(),l=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(DU(o,s,e.documentUpdates).next(h=>{u=h.Bs,l=h.Ls})),!r.isEqual(re.min())){let h=t.li.getLastRemoteSnapshotVersion(o).next(p=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return F.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.vs=i,o))}function DU(n,e,t){let r=ue(),i=ue();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Fr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(re.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):U(NE,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Bs:s,Ls:i}})}function bU(n,e){let t=X(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=DE),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function CU(n,e){let t=X(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.li.getTargetData(r,e).next(o=>o?(i=o,F.resolve(i)):t.li.allocateTargetId(r).next(s=>(i=new hu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r})}async function Y_(n,e,t){let r=X(n),i=r.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ta(s))throw s;U(NE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function fA(n,e,t){let r=X(n),i=re.min(),o=ue();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=X(u),g=p.Fs.get(h);return g!==void 0?F.resolve(p.vs.get(g)):p.li.getTargetData(l,h)})(r,s,Zn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:re.min(),t?o:ue())).next(a=>(TU(r,Vj(e),a),{documents:a,ks:o})))}function TU(n,e,t){let r=n.Ms.get(e)||re.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ms.set(e,r)}var gf=class{constructor(){this.activeTargetIds=zj()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var J_=class{constructor(){this.vo=new gf,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new gf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Z_=class{Mo(e){}shutdown(){}};var pA="ConnectivityMonitor",mf=class{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){U(pA,"Network connectivity changed: AVAILABLE");for(let e of this.Lo)e(0)}Bo(){U(pA,"Network connectivity changed: UNAVAILABLE");for(let e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var zh=null;function X_(){return zh===null?zh=(function(){return 268435456+Math.round(2147483648*Math.random())})():zh++,"0x"+zh.toString(16)}var Kv="RestConnection",SU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"},eE=class{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===rf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=X_(),a=this.Qo(e,t.toUriEncodedString());U(Kv,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,i,o);let{host:l}=new URL(a),h=hi(l);return this.zo(e,a,u,r,h).then(p=>(U(Kv,`Received RPC '${e}' ${s}: `,p),p),p=>{throw yi(Kv,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Qo(e,t){let r=SU[e],i=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}};var tE=class{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}};var Rt="WebChannelConnection",tu=(n,e,t)=>{n.listen(e,r=>{try{t(r)}catch(i){setTimeout(()=>{throw i},0)}})},yf=class n extends eE{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!n.c_){let e=zv();tu(e,$v.STAT_EVENT,t=>{t.stat===Bh.PROXY?U(Rt,"STAT_EVENT: detected buffering proxy"):t.stat===Bh.NOPROXY&&U(Rt,"STAT_EVENT: detected no buffering proxy")}),n.c_=!0}}zo(e,t,r,i,o){let s=X_();return new Promise((a,u)=>{let l=new Bv;l.setWithCredentials(!0),l.listenOnce(Hv.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case eu.NO_ERROR:let p=l.getResponseJson();U(Rt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case eu.TIMEOUT:U(Rt,`RPC '${e}' ${s} timed out`),u(new B(O.DEADLINE_EXCEEDED,"Request time out"));break;case eu.HTTP_ERROR:let g=l.getStatus();if(U(Rt,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let I=y?.error;if(I&&I.status&&I.message){let S=(function(j){let ee=j.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(ee)>=0?ee:O.UNKNOWN})(I.status);u(new B(S,I.message))}else u(new B(O.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new B(O.UNAVAILABLE,"Connection failed."));break;default:K(9055,{l_:e,streamId:s,h_:l.getLastErrorCode(),P_:l.getLastError()})}}finally{U(Rt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);U(Rt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}T_(e,t,r){let i=X_(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(a.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,t,r),a.encodeInitMessageHeaders=!0;let l=o.join("");U(Rt,`Creating RPC '${e}' stream ${i}: ${l}`,a);let h=s.createWebChannel(l,a);this.I_(h);let p=!1,g=!1,y=new tE({Ho:I=>{g?U(Rt,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(p||(U(Rt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),U(Rt,`RPC '${e}' stream ${i} sending:`,I),h.send(I))},Jo:()=>h.close()});return tu(h,Ms.EventType.OPEN,()=>{g||(U(Rt,`RPC '${e}' stream ${i} transport opened.`),y.i_())}),tu(h,Ms.EventType.CLOSE,()=>{g||(g=!0,U(Rt,`RPC '${e}' stream ${i} transport closed`),y.o_(),this.E_(h))}),tu(h,Ms.EventType.ERROR,I=>{g||(g=!0,yi(Rt,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),y.o_(new B(O.UNAVAILABLE,"The operation could not be completed")))}),tu(h,Ms.EventType.MESSAGE,I=>{if(!g){let S=I.data[0];be(!!S,16349);let P=S,j=P?.error||P[0]?.error;if(j){U(Rt,`RPC '${e}' stream ${i} received error:`,j);let ee=j.status,ye=(function(gt){let D=Ye[gt];if(D!==void 0)return _R(D)})(ee),Ht=j.message;ye===void 0&&(ye=O.INTERNAL,Ht="Unknown error status: "+ee+" with message "+j.message),g=!0,y.o_(new B(ye,Ht)),h.close()}else U(Rt,`RPC '${e}' stream ${i} received:`,S),y.__(S)}}),n.u_(),setTimeout(()=>{y.s_()},0),y}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(t=>t===e)}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return qv()}};function AU(n){return new yf(n)}function Qv(){return typeof document<"u"?document:null}function vu(n){return new D_(n,!0)}yf.c_=!1;var vf=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=i,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();let t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}};var gA="PersistentStream",_f=class{constructor(e,t,r,i,o,s,a,u){this.Ci=e,this.b_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vf(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===O.RESOURCE_EXHAUSTED?(xr(t.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;let e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===t&&this.G_(r,i)},r=>{e(()=>{let i=new B(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,t){let r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return U(gA,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget(()=>this.D_===e?t():(U(gA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},nE=class extends _f{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=sU(this.serializer,e),r=(function(o){if(!("targetChange"in o))return re.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?re.min():s.readTime?er(s.readTime):re.min()})(e);return this.listener.J_(t,r)}Z_(e){let t={};t.database=S_(this.serializer),t.addTarget=(function(o,s){let a,u=s.target;if(a=p_(u)?{documents:uU(o,u)}:{query:lU(o,u).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=ER(o,s.resumeToken);let l=b_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(re.min())>0){a.readTime=df(o,s.snapshotVersion.toTimestamp());let l=b_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=hU(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){let t={};t.database=S_(this.serializer),t.removeTarget=e,this.K_(t)}},rE=class extends _f{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let t=cU(e.writeResults,e.commitTime),r=er(e.commitTime);return this.listener.na(r,t)}ra(){let e={};e.database=S_(this.serializer),this.K_(e)}ea(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>aU(this.serializer,r))};this.K_(t)}};var iE=class{},oE=class extends iE{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new B(O.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,C_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(O.UNKNOWN,o.toString())})}jo(e,t,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.jo(e,C_(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(O.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}};function RU(n,e,t,r){return new oE(n,e,t,r)}var sE=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xr(t),this.aa=!1):U("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var So="RemoteStore",aE=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo(s=>{r.enqueueAndForget(async()=>{Mo(this)&&(U(So,"Restarting streams for network reachability change."),await(async function(u){let l=X(u);l.Ea.add(4),await _u(l),l.Va.set("Unknown"),l.Ea.delete(4),await jf(l)})(this))})}),this.Va=new sE(r,i)}};async function jf(n){if(Mo(n))for(let e of n.Ra)await e(!0)}async function _u(n){for(let e of n.Ra)await e(!1)}function xR(n,e){let t=X(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),kE(t)?OE(t):na(t).O_()&&PE(t,e))}function xE(n,e){let t=X(n),r=na(t);t.Ia.delete(e),r.O_()&&PR(t,e),t.Ia.size===0&&(r.O_()?r.L_():Mo(t)&&t.Va.set("Unknown"))}function PE(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}na(n).Z_(e)}function PR(n,e){n.da.$e(e),na(n).X_(e)}function OE(n){n.da=new w_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),na(n).start(),n.Va.ua()}function kE(n){return Mo(n)&&!na(n).x_()&&n.Ia.size>0}function Mo(n){return X(n).Ea.size===0}function OR(n){n.da=void 0}async function MU(n){n.Va.set("Online")}async function NU(n){n.Ia.forEach((e,t)=>{PE(n,e)})}async function xU(n,e){OR(n),kE(n)?(n.Va.ha(e),OE(n)):n.Va.set("Unknown")}async function PU(n,e,t){if(n.Va.set("Online"),e instanceof uf&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.da.removeTarget(a))})(n,e)}catch(r){U(So,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ef(n,r)}else if(e instanceof Ls?n.da.Xe(e):e instanceof cf?n.da.st(e):n.da.tt(e),!t.isEqual(re.min()))try{let r=await NR(n.localStore);t.compareTo(r)>=0&&await(function(o,s){let a=o.da.Tt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ia.get(l);h&&o.Ia.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ia.get(u);if(!h)return;o.Ia.set(u,h.withResumeToken(wt.EMPTY_BYTE_STRING,h.snapshotVersion)),PR(o,u);let p=new hu(h.target,u,l,h.sequenceNumber);PE(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t)}catch(r){U(So,"Failed to raise snapshot:",r),await Ef(n,r)}}async function Ef(n,e,t){if(!ta(e))throw e;n.Ea.add(1),await _u(n),n.Va.set("Offline"),t||(t=()=>NR(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{U(So,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await jf(n)})}function kR(n,e){return e().catch(t=>Ef(n,t,e))}async function Uf(n){let e=X(n),t=_i(e),r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:DE;for(;OU(e);)try{let i=await bU(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,kU(e,i)}catch(i){await Ef(e,i)}FR(e)&&LR(e)}function OU(n){return Mo(n)&&n.Ta.length<10}function kU(n,e){n.Ta.push(e);let t=_i(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function FR(n){return Mo(n)&&!_i(n).x_()&&n.Ta.length>0}function LR(n){_i(n).start()}async function FU(n){_i(n).ra()}async function LU(n){let e=_i(n);for(let t of n.Ta)e.ea(t.mutations)}async function VU(n,e,t){let r=n.Ta.shift(),i=v_.from(r,e,t);await kR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Uf(n)}async function jU(n,e){e&&_i(n).Y_&&await(async function(r,i){if((function(s){return Jj(s)&&s!==O.ABORTED})(i.code)){let o=r.Ta.shift();_i(r).B_(),await kR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Uf(r)}})(n,e),FR(n)&&LR(n)}async function mA(n,e){let t=X(n);t.asyncQueue.verifyOperationInProgress(),U(So,"RemoteStore received new credentials");let r=Mo(t);t.Ea.add(3),await _u(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await jf(t)}async function UU(n,e){let t=X(n);e?(t.Ea.delete(2),await jf(t)):e||(t.Ea.add(2),await _u(t),t.Va.set("Unknown"))}function na(n){return n.ma||(n.ma=(function(t,r,i){let o=X(t);return o.sa(),new nE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:MU.bind(null,n),Yo:NU.bind(null,n),t_:xU.bind(null,n),J_:PU.bind(null,n)}),n.Ra.push(async e=>{e?(n.ma.B_(),kE(n)?OE(n):n.Va.set("Unknown")):(await n.ma.stop(),OR(n))})),n.ma}function _i(n){return n.fa||(n.fa=(function(t,r,i){let o=X(t);return o.sa(),new rE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:FU.bind(null,n),t_:jU.bind(null,n),ta:LU.bind(null,n),na:VU.bind(null,n)}),n.Ra.push(async e=>{e?(n.fa.B_(),await Uf(n)):(await n.fa.stop(),n.Ta.length>0&&(U(So,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}var cE=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Sn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function FE(n,e){if(xr("AsyncQueue",`${e}: ${n}`),ta(n))return new B(O.UNAVAILABLE,`${e}: ${n}`);throw n}var gu=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||q.comparator(t.key,r.key):(t,r)=>q.comparator(t.key,r.key),this.keyedMap=nu(),this.sortedSet=new je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var If=class{constructor(){this.ga=new je(q.comparator)}track(e){let t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):K(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}},Ao=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,gu.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var uE=class{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}},lE=class{constructor(){this.queries=yA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=X(t),o=i.queries;i.queries=yA(),o.forEach((s,a)=>{for(let u of a.ba)u.onError(r)})})(this,new B(O.ABORTED,"Firestore shutting down"))}};function yA(){return new kr(n=>aR(n),Lf)}async function VR(n,e){let t=X(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.Da()&&(r=2):(o=new uE,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(i,!0);break;case 1:o.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){let a=FE(s,`Initialization of query '${xs(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&LE(t)}async function jR(n,e){let t=X(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.ba.indexOf(e);s>=0&&(o.ba.splice(s,1),o.ba.length===0?i=e.Da()?0:1:!o.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function BU(n,e){let t=X(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.ba)a.Fa(i)&&(r=!0);s.wa=i}}r&&LE(t)}function HU(n,e,t){let r=X(n),i=r.queries.get(e);if(i)for(let o of i.ba)o.onError(t);r.queries.delete(e)}function LE(n){n.Ca.forEach(e=>{e.next()})}var dE,vA;(vA=dE||(dE={})).Ma="default",vA.Cache="cache";var wf=class{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ao(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;let r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dE.Cache}};var Df=class{constructor(e){this.key=e}},bf=class{constructor(e){this.key=e}},hE=class{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ue(),this.mutatedKeys=ue(),this.eu=cR(e),this.tu=new gu(this.eu)}get nu(){return this.Za}ru(e,t){let r=t?t.iu:new If,i=t?t.tu:this.tu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=Vf(this.query,p)?p:null,I=!!g&&this.mutatedKeys.has(g.key),S=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),P=!1;g&&y?g.data.isEqual(y.data)?I!==S&&(r.track({type:3,doc:y}),P=!0):this.su(g,y)||(r.track({type:2,doc:y}),P=!0,(u&&this.eu(y,u)>0||l&&this.eu(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),P=!0):g&&!y&&(r.track({type:1,doc:g}),P=!0,(u||l)&&(a=!0)),P&&(y?(s=s.add(y),o=S?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{tu:s,iu:r,Ss:a,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let s=e.iu.ya();s.sort((h,p)=>(function(y,I){let S=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K(20277,{Vt:P})}};return S(y)-S(I)})(h.type,p.type)||this.eu(h.doc,p.doc)),this.ou(r),i=i??!1;let a=t&&!i?this._u():[],u=this.Ya.size===0&&this.current&&!i?1:0,l=u!==this.Xa;return this.Xa=u,s.length!==0||l?{snapshot:new Ao(this.query,e.tu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new If,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Za=this.Za.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Za=this.Za.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Ya;this.Ya=ue(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});let t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new bf(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new Df(r))}),t}cu(e){this.Za=e.ks,this.Ya=ue();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}},VE="SyncEngine",fE=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},pE=class{constructor(e){this.key=e,this.hu=!1}},gE=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new kr(a=>aR(a),Lf),this.Iu=new Map,this.Eu=new Set,this.Ru=new je(q.comparator),this.Au=new Map,this.Vu=new pu,this.du={},this.mu=new Map,this.fu=fu.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};async function $U(n,e,t=!0){let r=qR(n),i,o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await UR(r,e,t,!0),i}async function zU(n,e){let t=qR(n);await UR(t,e,!0,!1)}async function UR(n,e,t,r){let i=await CU(n.localStore,Zn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=await qU(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&xR(n.remoteStore,i),a}async function qU(n,e,t,r,i){n.pu=(p,g,y)=>(async function(S,P,j,ee){let ye=P.view.ru(j);ye.Ss&&(ye=await fA(S.localStore,P.query,!1).then(({documents:D})=>P.view.ru(D,ye)));let Ht=ee&&ee.targetChanges.get(P.targetId),fn=ee&&ee.targetMismatches.get(P.targetId)!=null,gt=P.view.applyChanges(ye,S.isPrimaryClient,Ht,fn);return EA(S,P.targetId,gt.au),gt.snapshot})(n,p,g,y);let o=await fA(n.localStore,e,!0),s=new hE(e,o.ks),a=s.ru(o.documents),u=du.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);EA(n,t,l.au);let h=new fE(e,t,s);return n.Tu.set(e,h),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),l.snapshot}async function GU(n,e,t){let r=X(n),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!Lf(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Y_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&xE(r.remoteStore,i.targetId),mE(r,i.targetId)}).catch(ea)):(mE(r,i.targetId),await Y_(r.localStore,i.targetId,!0))}async function WU(n,e){let t=X(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),xE(t.remoteStore,r.targetId))}async function KU(n,e,t){let r=tB(n);try{let i=await(function(s,a){let u=X(s),l=qe.now(),h=a.reduce((y,I)=>y.add(I.key),ue()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let I=Fr(),S=ue();return u.xs.getEntries(y,h).next(P=>{I=P,I.forEach((j,ee)=>{ee.isValidDocument()||(S=S.add(j))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,I)).next(P=>{p=P;let j=[];for(let ee of a){let ye=Yj(ee,p.get(ee.key).overlayedDocument);ye!=null&&j.push(new ir(ee.key,ye,eR(ye.value.mapValue),Xn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,j,a)}).next(P=>{g=P;let j=P.applyToLocalDocumentSet(p,S);return u.documentOverlayCache.saveOverlays(y,P.batchId,j)})}).then(()=>({batchId:g.batchId,changes:lR(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.du[s.currentUser.toKey()];l||(l=new je(le)),l=l.insert(a,u),s.du[s.currentUser.toKey()]=l})(r,i.batchId,t),await Eu(r,i.changes),await Uf(r.remoteStore)}catch(i){let o=FE(i,"Failed to persist write");t.reject(o)}}async function BR(n,e){let t=X(n);try{let r=await wU(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Au.get(o);s&&(be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?be(s.hu,14607):i.removedDocuments.size>0&&(be(s.hu,42227),s.hu=!1))}),await Eu(t,r,e)}catch(r){await ea(r)}}function _A(n,e,t){let r=X(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Tu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=X(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.ba)g.va(a)&&(l=!0)}),l&&LE(u)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function QU(n,e,t){let r=X(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Au.get(e),o=i&&i.key;if(o){let s=new je(q.comparator);s=s.insert(o,An.newNoDocument(o,re.min()));let a=ue().add(o),u=new af(re.min(),new Map,new je(le),s,a);await BR(r,u),r.Ru=r.Ru.remove(o),r.Au.delete(e),jE(r)}else await Y_(r.localStore,e,!1).then(()=>mE(r,e,t)).catch(ea)}async function YU(n,e){let t=X(n),r=e.batch.batchId;try{let i=await IU(t.localStore,e);$R(t,r,null),HR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Eu(t,i)}catch(i){await ea(i)}}async function JU(n,e,t){let r=X(n);try{let i=await(function(s,a){let u=X(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(be(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);$R(r,e,t),HR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Eu(r,i)}catch(i){await ea(i)}}function HR(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function $R(n,e,t){let r=X(n),i=r.du[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function mE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach(r=>{n.Vu.containsKey(r)||zR(n,r)})}function zR(n,e){n.Eu.delete(e.path.canonicalString());let t=n.Ru.get(e);t!==null&&(xE(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),jE(n))}function EA(n,e,t){for(let r of t)r instanceof Df?(n.Vu.addReference(r.key,e),ZU(n,r)):r instanceof bf?(U(VE,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||zR(n,r.key)):K(19791,{wu:r})}function ZU(n,e){let t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(U(VE,"New document in limbo: "+t),n.Eu.add(r),jE(n))}function jE(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){let e=n.Eu.values().next().value;n.Eu.delete(e);let t=new q(ke.fromString(e)),r=n.fu.next();n.Au.set(r,new pE(t)),n.Ru=n.Ru.insert(t,r),xR(n.remoteStore,new hu(Zn(Ff(t.path)),r,"TargetPurposeLimboResolution",wE.ce))}}async function Eu(n,e,t){let r=X(n),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{s.push(r.pu(u,e,t).then(l=>{if((l||t)&&r.isPrimaryClient){let h=l?!l.fromCache:t?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(l){i.push(l);let h=G_.Es(u.targetId,l);o.push(h)}}))}),await Promise.all(s),r.Pu.J_(i),await(async function(u,l){let h=X(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(l,g=>F.forEach(g.Ts,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>F.forEach(g.Is,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!ta(p))throw p;U(NE,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.vs.get(g),I=y.snapshotVersion,S=y.withLastLimboFreeSnapshotVersion(I);h.vs=h.vs.insert(g,S)}}})(r.localStore,o))}async function XU(n,e){let t=X(n);if(!t.currentUser.isEqual(e)){U(VE,"User change. New user:",e.toKey());let r=await MR(t.localStore,e);t.currentUser=e,(function(o,s){o.mu.forEach(a=>{a.forEach(u=>{u.reject(new B(O.CANCELLED,s))})}),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Eu(t,r.Ns)}}function eB(n,e){let t=X(n),r=t.Au.get(e);if(r&&r.hu)return ue().add(r.key);{let i=ue(),o=t.Iu.get(e);if(!o)return i;for(let s of o){let a=t.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function qR(n){let e=X(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=BR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QU.bind(null,e),e.Pu.J_=BU.bind(null,e.eventManager),e.Pu.yu=HU.bind(null,e.eventManager),e}function tB(n){let e=X(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JU.bind(null,e),e}var UE=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=vu(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return EU(this.persistence,new K_,t.initialUser,this.serializer)}Cu(t){return new ff(q_.Vi,this.serializer)}Du(t){return new J_}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),Cf=class extends UE{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){be(this.persistence.referenceDelegate instanceof pf,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new x_(r,e.asyncQueue,t)}Cu(e){let t=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new ff(r=>pf.Vi(r,t),this.serializer)}};var GR=(()=>{class n{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>_A(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=XU.bind(null,this.syncEngine),await UU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new lE})()}createDatastore(t){let r=vu(t.databaseInfo.databaseId),i=AU(t.databaseInfo);return RU(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,u){return new aE(i,o,s,a,u)})(this.localStore,this.datastore,t.asyncQueue,r=>_A(this.syncEngine,r,0),(function(){return mf.v()?new mf:new Z_})())}createSyncEngine(t,r){return(function(o,s,a,u,l,h,p){let g=new gE(o,s,a,u,l,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){let i=X(r);U(So,"RemoteStore shutting down."),i.Ea.add(5),await _u(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}return n.provider={build:()=>new n},n})();var Tf=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Ei="FirestoreClient",yE=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=i,this.user=ht.UNAUTHENTICATED,this.clientId=Eo.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{U(Ei,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(U(Ei,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Sn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=FE(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function Yv(n,e){n.asyncQueue.verifyOperationInProgress(),U(Ei,"Initializing OfflineComponentProvider");let t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await MR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function IA(n,e){n.asyncQueue.verifyOperationInProgress();let t=await nB(n);U(Ei,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>mA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>mA(e.remoteStore,i)),n._onlineComponents=e}async function nB(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){U(Ei,"Using user provided OfflineComponentProvider");try{await Yv(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;yi("Error using user provided cache. Falling back to memory cache: "+t),await Yv(n,new UE)}}else U(Ei,"Using default OfflineComponentProvider"),await Yv(n,new Cf(void 0));return n._offlineComponents}async function WR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(U(Ei,"Using user provided OnlineComponentProvider"),await IA(n,n._uninitializedComponentsProvider._online)):(U(Ei,"Using default OnlineComponentProvider"),await IA(n,new GR))),n._onlineComponents}function rB(n){return WR(n).then(e=>e.syncEngine)}async function KR(n){let e=await WR(n),t=e.eventManager;return t.onListen=$U.bind(null,e.syncEngine),t.onUnlisten=GU.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=zU.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=WU.bind(null,e.syncEngine),t}function QR(n,e,t={}){let r=new Sn;return n.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,u,l){let h=new Tf({next:g=>{h.Nu(),s.enqueueAndForget(()=>jR(o,p));let y=g.docs.has(a);!y&&g.fromCache?l.reject(new B(O.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&u&&u.source==="server"?l.reject(new B(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new wf(Ff(a.path),h,{includeMetadataChanges:!0,Ka:!0});return VR(o,p)})(await KR(n),n.asyncQueue,e,t,r)),r.promise}function YR(n,e,t={}){let r=new Sn;return n.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,u,l){let h=new Tf({next:g=>{h.Nu(),s.enqueueAndForget(()=>jR(o,p)),g.fromCache&&u.source==="server"?l.reject(new B(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new wf(a,h,{includeMetadataChanges:!0,Ka:!0});return VR(o,p)})(await KR(n),n.asyncQueue,e,t,r)),r.promise}function JR(n,e){let t=new Sn;return n.asyncQueue.enqueueAndForget(async()=>KU(await rB(n),e,t)),t.promise}function ZR(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var iB="ComponentProvider",wA=new Map;function oB(n,e,t,r,i){return new n_(n,e,t,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,ZR(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}var XR="firestore.googleapis.com",DA=!0,Sf=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new B(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XR,this.ssl=DA}else this.host=e.host,this.ssl=e.ssl??DA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yU)throw new B(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZR(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new B(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new B(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new B(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ks=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new B(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Qh;switch(r.type){case"firstParty":return new Xv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=wA.get(t);r&&(U(iB,"Removing Datastore"),wA.delete(t),r.terminate())})(this),Promise.resolve()}};function eM(n,e,t,r={}){n=Mn(n,Ks);let i=hi(e),o=n._getSettings(),s=$(N({},o),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;i&&(Oh(`https://${a}`),kh("Firestore",!0)),o.host!==XR&&o.host!==a&&yi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=$(N({},o),{host:a,ssl:i,emulatorOptions:r});if(!Cn(u,s)&&(n._setSettings(u),r.mockUserToken)){let l,h;if(typeof r.mockUserToken=="string")l=r.mockUserToken,h=ht.MOCK_USER;else{l=gS(r.mockUserToken,n._app?.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new B(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new ht(p)}n._authCredentials=new Jv(new Kh(l,h))}}var Qs=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},pt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Xs(t,n._jsonSchema))return new n(e,r||null,new q(ke.fromString(t.referencePath)))}};pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:ze("string",pt._jsonSchemaVersion),referencePath:ze("string")};var Mr=class n extends Qs{constructor(e,t,r){super(e,t,Ff(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new q(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Dt(n,e,...t){if(n=Qe(n),AA("collection","path",e),n instanceof Ks){let r=ke.fromString(e,...t);return $S(r),new Mr(n,null,r)}{if(!(n instanceof pt||n instanceof Mr))throw new B(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ke.fromString(e,...t));return $S(r),new Mr(n.firestore,null,r)}}function kt(n,e,...t){if(n=Qe(n),arguments.length===1&&(e=Eo.newId()),AA("doc","path",e),n instanceof Ks){let r=ke.fromString(e,...t);return HS(r),new pt(n,null,new q(r))}{if(!(n instanceof pt||n instanceof Mr))throw new B(O.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ke.fromString(e,...t));return HS(r),new pt(n.firestore,n instanceof Mr?n.converter:null,new q(r))}}var bA="AsyncQueue",Af=class{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vf(this,"async_queue_retry"),this._c=()=>{let r=Qv();r&&U(bA,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;let t=Qv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=Qv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let t=new Sn;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ta(e))throw e;U(bA,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){let t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,xr("INTERNAL UNHANDLED ERROR: ",CA(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let i=cE.createAndSchedule(this,e,t,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&K(47125,{Pc:CA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}};function CA(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var or=class extends Ks{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Af,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Af(e),this._firestoreClient=void 0,await e}}};function Iu(n,e){let t=typeof n=="object"?n:jh(),r=typeof n=="string"?n:e||rf,i=Zc(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=pS("firestore");o&&eM(i,...o)}return i}function wu(n){if(n._terminated)throw new B(O.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||sB(n),n._firestoreClient}function sB(n){let e=n._freezeSettings(),t=oB(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new yE(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(i){let o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(n._componentsProvider))}var tr=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(wt.fromBase64String(e))}catch(t){throw new B(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xs(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};tr._jsonSchemaVersion="firestore/bytes/1.0",tr._jsonSchema={type:ze("string",tr._jsonSchemaVersion),bytes:ze("string")};var Ro=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new B(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ys=class{constructor(e){this._methodName=e}};var Nr=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new B(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new B(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Xs(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Nr._jsonSchemaVersion="firestore/geoPoint/1.0",Nr._jsonSchema={type:ze("string",Nr._jsonSchemaVersion),latitude:ze("number"),longitude:ze("number")};var nr=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xs(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new B(O.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};nr._jsonSchemaVersion="firestore/vectorValue/1.0",nr._jsonSchema={type:ze("string",nr._jsonSchemaVersion),vectorValues:ze("object")};var aB=/^__.*__$/,vE=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ir(e,this.data,this.fieldMask,t,this.fieldTransforms):new To(e,this.data,t,this.fieldTransforms)}},Rf=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ir(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function tM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K(40011,{dataSource:n})}}var _E=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new n(N(N({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){let t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){let t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Nf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(tM(this.dataSource)&&aB.test(e))throw this.createError('Document fields cannot begin and end with "__"')}},EE=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||vu(e)}createContext(e,t,r,i=!1){return new _E({dataSource:e,methodName:t,targetDoc:r,path:Bt.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function BE(n){let e=n._freezeSettings(),t=vu(n._databaseId);return new EE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function nM(n,e,t,r,i,o={}){let s=n.createContext(o.merge||o.mergeFields?2:0,e,t,i);HE("Data must be an object, but it was:",s,r);let a=oM(r,s),u,l;if(o.merge)u=new hn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=Js(e,p,t);if(!s.contains(g))throw new B(O.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);aM(h,g)||h.push(g)}u=new hn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new vE(new Ut(a),u,l)}var Mf=class n extends Ys{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function rM(n,e,t,r){let i=n.createContext(1,e,t);HE("Data must be an object, but it was:",i,r);let o=[],s=Ut.empty();Ii(r,(u,l)=>{let h=$E(e,u,t);l=Qe(l);let p=i.childContextForFieldPath(h);if(l instanceof Mf)o.push(h);else{let g=Bf(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new hn(o);return new Rf(s,a,i.fieldTransforms)}function iM(n,e,t,r,i,o){let s=n.createContext(1,e,t),a=[Js(e,r,t)],u=[i];if(o.length%2!=0)throw new B(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(Js(e,o[g])),u.push(o[g+1]);let l=[],h=Ut.empty();for(let g=a.length-1;g>=0;--g)if(!aM(l,a[g])){let y=a[g],I=u[g];I=Qe(I);let S=s.childContextForFieldPath(y);if(I instanceof Mf)l.push(y);else{let P=Bf(I,S);P!=null&&(l.push(y),h.set(y,P))}}let p=new hn(l);return new Rf(h,p,s.fieldTransforms)}function Bf(n,e){if(sM(n=Qe(n)))return HE("Unsupported field value:",e,n),oM(n,e);if(n instanceof Ys)return(function(r,i){if(!tM(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=Bf(a,i.childContextForArray(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=Qe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=qe.fromDate(r);return{timestampValue:df(i.serializer,o)}}if(r instanceof qe){let o=new qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:df(i.serializer,o)}}if(r instanceof Nr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof tr)return{bytesValue:ER(i.serializer,r._byteString)};if(r instanceof pt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ME(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof nr)return(function(s,a){let u=s instanceof nr?s.toArray():s;return{mapValue:{fields:{[bE]:{stringValue:CE},[js]:{arrayValue:{values:u.map(h=>{if(typeof h!="number")throw a.createError("VectorValues must only contain numeric values.");return RE(a.serializer,h)})}}}}}})(r,i);if(SR(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${xf(r)}`)})(n,e)}function oM(n,e){let t={};return qA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ii(n,(r,i)=>{let o=Bf(i,e.childContextForField(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function sM(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof qe||n instanceof Nr||n instanceof tr||n instanceof pt||n instanceof Ys||n instanceof nr||SR(n))}function HE(n,e,t){if(!sM(t)||!MA(t)){let r=xf(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function Js(n,e,t){if((e=Qe(e))instanceof Ro)return e._internalPath;if(typeof e=="string")return $E(n,e);throw Nf("Field path arguments must be of type string or ",n,!1,void 0,t)}var cB=new RegExp("[~\\*/\\[\\]]");function $E(n,e,t){if(e.search(cB)>=0)throw Nf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ro(...e.split("."))._internalPath}catch{throw Nf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Nf(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new B(O.INVALID_ARGUMENT,a+n+u)}function aM(n,e){return n.some(t=>t.isEqual(e))}var mu=class{convertValue(e,t="none"){switch(vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Or(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw K(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ii(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){let t=e.fields?.[js].arrayValue?.values?.map(r=>Oe(r.doubleValue));return new nr(t)}convertGeoPoint(e){return new Nr(Oe(e.latitude),Oe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=kf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(cu(e));default:return null}}convertTimestamp(e){let t=Pr(e);return new qe(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=ke.fromString(e);be(TR(r),9688,{name:e});let i=new uu(r.get(1),r.get(3)),o=new q(r.popFirst(5));return i.isEqual(t)||xr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var yu=class extends mu{constructor(e){super(),this.firestore=e}convertBytes(e){return new tr(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,t)}};var cM="@firebase/firestore",uM="4.10.0";var Hf=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new zE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){let t=this._document.data.field(Js("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},zE=class extends Hf{data(){return super.data()}};function hB(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new B(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function fB(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var No=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},xo=class n extends Hf{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ra(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Js("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new B(O.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};xo._jsonSchemaVersion="firestore/documentSnapshot/1.0",xo._jsonSchema={type:ze("string",xo._jsonSchemaVersion),bundleSource:ze("string","DocumentSnapshot"),bundleName:ze("string"),bundle:ze("string")};var ra=class extends xo{data(e={}){return super.data(e)}},ia=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new No(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ra(this._firestore,this._userDataWriter,r.key,r,new No(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new B(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new ra(i._firestore,i._userDataWriter,a.doc.key,a.doc,new No(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new ra(i._firestore,i._userDataWriter,a.doc.key,a.doc,new No(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:pB(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new B(O.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Eo.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function pB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K(61501,{type:n})}}ia._jsonSchemaVersion="firestore/querySnapshot/1.0",ia._jsonSchema={type:ze("string",ia._jsonSchemaVersion),bundleSource:ze("string","QuerySnapshot"),bundleName:ze("string"),bundle:ze("string")};function $f(n){n=Mn(n,pt);let e=Mn(n.firestore,or),t=wu(e);return QR(t,n._key).then(r=>gB(e,n,r))}function Nn(n){n=Mn(n,Qs);let e=Mn(n.firestore,or),t=wu(e),r=new yu(e);return hB(n._query),YR(t,n._query).then(i=>new ia(e,r,n,i))}function zf(n,e,t,...r){n=Mn(n,pt);let i=Mn(n.firestore,or),o=BE(i),s;return s=typeof(e=Qe(e))=="string"||e instanceof Ro?iM(o,"updateDoc",n._key,e,t,r):rM(o,"updateDoc",n._key,e),qE(i,[s.toMutation(n._key,Xn.exists(!0))])}function Du(n){return qE(Mn(n.firestore,or),[new Ws(n._key,Xn.none())])}function Po(n,e){let t=Mn(n.firestore,or),r=kt(n),i=fB(n.converter,e),o=BE(n.firestore);return qE(t,[nM(o,"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Xn.exists(!1))]).then(()=>r)}function qE(n,e){let t=wu(n);return JR(t,e)}function gB(n,e,t){let r=t.docs.get(e._key),i=new yu(n);return new xo(n,i,e._key,r,new No(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){TA(mi),gi(new ln("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new or(new Yh(r.getProvider("auth-internal")),new Zh(s,r.getProvider("app-check-internal")),YA(s,i),s);return o=N({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Tn(cM,uM,e),Tn(cM,uM,"esm2020")})();var mB=()=>[1,2,3,4,5,6,7,8],lM=()=>[1,2,3,4,5],yB=(n,e)=>e.id,Gf=(n,e)=>e.name,vB=(n,e)=>e.title;function _B(n,e){if(n&1&&ae(0,"div",39),n&2){let t=e.$implicit;Kn("left",t*12,"%")("animation-delay",t*.3,"s")}}function EB(n,e){if(n&1&&(T(0,"div",1),ae(1,"div",29),T(2,"div",30),ae(3,"img",31),R(),T(4,"div",32)(5,"p",33),k(6,"Preparando a experi\xEAncia..."),R()(),T(7,"div",34),ae(8,"div",35),R(),T(9,"p",36),k(10),R(),T(11,"div",37),Yt(12,_B,1,4,"div",38,hc),R()()),n&2){let t=W();x(8),Kn("width",t.loadingProgress(),"%"),x(2),at("",t.loadingProgress().toFixed(0),"%"),x(2),Jt(pc(3,mB))}}function IB(n,e){}function wB(n,e){if(n&1&&ae(0,"div",40),n&2){let t=e.$implicit;Kn("left",t.left)("width",t.size)("height",t.size)("animation-duration",t.animationDuration)("animation-delay",t.animationDelay)("opacity",t.opacity)}}function DB(n,e){if(n&1&&ae(0,"div",41),n&2){let t=e.$implicit;Kn("left",t.left)("width",t.size)("height",t.size)("animation-duration",t.animationDuration)("animation-delay",t.animationDelay)("opacity",t.opacity)}}function bB(n,e){n&1&&(He(),T(0,"svg",48),ae(1,"path",60),R())}function CB(n,e){n&1&&(He(),T(0,"svg",49),ae(1,"path",61),R())}function TB(n,e){n&1&&(He(),T(0,"svg",49),ae(1,"path",62),R())}function SB(n,e){n&1&&(He(),T(0,"svg",48),ae(1,"path",63),R())}function AB(n,e){n&1&&(He(),T(0,"svg",48),ae(1,"path",64),R())}function RB(n,e){n&1&&(He(),T(0,"svg",48),ae(1,"path",65),R())}function MB(n,e){n&1&&(He(),T(0,"svg",48),ae(1,"path",66)(2,"path",67),R())}function NB(n,e){n&1&&(He(),T(0,"svg",48),ae(1,"path",68),R())}function xB(n,e){n&1&&(T(0,"span",51),k(1," Essencial "),R())}function PB(n,e){if(n&1&&(T(0,"div",69)(1,"p"),k(2),R(),T(3,"div",70)(4,"a",71),He(),T(5,"svg",23),ae(6,"path",19),R(),Un(),T(7,"span"),k(8),R()(),T(9,"a",72),He(),T(10,"svg",23),ae(11,"path",73),R(),Un(),T(12,"span"),k(13),R()()()()),n&2){let t=W(3);x(2),_e(t.agendamentoInfo()),x(2),Le("href",t.whatsappLink(),In),x(4),at("WhatsApp: ",t.whatsappNumber()),x(),Le("href",t.telefoneLink(),In),x(4),at("Telefone: ",t.telefoneNumber())}}function OB(n,e){if(n&1&&(T(0,"div",69)(1,"div",74)(2,"p",75),k(3),R(),T(4,"p"),k(5),R(),T(6,"p",76),k(7),R()(),T(8,"a",77),He(),T(9,"svg",23),ae(10,"path",78),R(),Un(),T(11,"span"),k(12,"Abrir no Google Maps"),R(),He(),T(13,"svg",79),ae(14,"path",80),R()()()),n&2){let t=W(3);x(3),at("\u{1F4CD} ",t.localizacaoEndereco()),x(2),Nd("",t.localizacaoBairro()," - ",t.localizacaoCidade()),x(2),_e(t.localizacaoReferencia()),x(),Le("href",t.googleMapsLink(),In)}}function kB(n,e){if(n&1&&(T(0,"p",81),k(1),R()),n&2){let t=W(3).$implicit;x(),_e(t.content)}}function FB(n,e){if(n&1&&Re(0,kB,2,1,"p",81),n&2){let t=W(2).$implicit;Me(t.content?0:-1)}}function LB(n,e){if(n&1&&Re(0,PB,14,5,"div",69)(1,OB,15,5,"div",69)(2,FB,1,1),n&2){let t=W().$implicit;Me(t.id==="booking"?0:t.id==="location"?1:2)}}function VB(n,e){if(n&1&&(T(0,"div",57)(1,"div",82)(2,"span",83),k(3,"Segunda a Sexta:"),R(),T(4,"span",75),k(5),R()(),T(6,"div",82)(7,"span",83),k(8,"S\xE1bado:"),R(),T(9,"span",75),k(10),R()(),T(11,"div",82)(12,"span",83),k(13,"Domingo:"),R(),T(14,"span",84),k(15),R()(),T(16,"div",85),k(17," \u26A0\uFE0F Pausa de 12:00 \xE0s 15:00 de segunda a sexta "),R()()),n&2){let t=W(2);x(5),_e(t.horariosSegSex()),x(5),_e(t.horariosSabado()),x(5),_e(t.horariosDomingo())}}function jB(n,e){if(n&1&&(T(0,"div",87),ae(1,"img",88),T(2,"div")(3,"h4",89),k(4),R(),T(5,"p",90),k(6),R()()()),n&2){let t=e.$implicit;x(),Le("src",t.imageUrl,In)("alt",t.name),x(3),_e(t.name),x(2),_e(t.specialty)}}function UB(n,e){if(n&1&&(T(0,"div",59),Yt(1,jB,7,4,"div",87,Gf),R()),n&2){let t=W(2).$implicit;x(),Jt(t.teamMembers)}}function BB(n,e){n&1&&(T(0,"p",86),k(1,"Nenhum profissional cadastrado no momento."),R())}function HB(n,e){if(n&1&&Re(0,UB,3,0,"div",59)(1,BB,2,0,"p",86),n&2){let t=W().$implicit;Me(t.teamMembers&&t.teamMembers.length>0?0:1)}}function $B(n,e){if(n&1&&(T(0,"div",91)(1,"h4",92),k(2),R(),T(3,"p",93),k(4),R(),T(5,"div",94)(6,"span",95),k(7,"\u{1F4C5}"),R(),T(8,"span",96),k(9),R()()()),n&2){let t=e.$implicit;x(2),_e(t.title),x(2),_e(t.location||t.description||"Participa\xE7\xE3o comunit\xE1ria"),x(5),_e(t.date)}}function zB(n,e){if(n&1&&(T(0,"div",58),Yt(1,$B,10,3,"div",91,vB),R()),n&2){let t=W().$implicit;x(),Jt(t.projectGallery)}}function qB(n,e){if(n&1&&(T(0,"div",99)(1,"div",104),ae(2,"img",105),R(),T(3,"h4",106),k(4),R(),T(5,"p",107),k(6),R()()),n&2){let t=e.$implicit;x(2),Le("src",t.imageUrl,In)("alt",t.name),x(2),_e(t.name),x(2),_e(t.role)}}function GB(n,e){if(n&1&&(T(0,"div",97)(1,"div",98),Yt(2,qB,7,4,"div",99,Gf),R(),T(4,"div",100)(5,"p",101),k(6,"Quer ser um parceiro?"),R(),T(7,"a",102),He(),T(8,"svg",103),ae(9,"path",19),R(),k(10," Entre em contato via WhatsApp "),R()()()),n&2){let t=W(2).$implicit,r=W();x(2),Jt(t.partners),x(5),Le("href",r.whatsappLink(),In)}}function WB(n,e){if(n&1&&(T(0,"div")(1,"p",108),k(2,"Nenhuma parceria cadastrada no momento."),R(),T(3,"div",100)(4,"p",101),k(5,"Quer ser um parceiro?"),R(),T(6,"a",102),He(),T(7,"svg",103),ae(8,"path",19),R(),k(9," Entre em contato via WhatsApp "),R()()()),n&2){let t=W(3);x(6),Le("href",t.whatsappLink(),In)}}function KB(n,e){if(n&1&&Re(0,GB,11,1,"div",97)(1,WB,10,1,"div"),n&2){let t=W().$implicit;Me(t.partners&&t.partners.length>0?0:1)}}function QB(n,e){if(n&1&&(T(0,"li",112)(1,"span",113),k(2),R(),T(3,"div",16)(4,"span",114),k(5),R(),T(6,"span",115),k(7),R()()()),n&2){let t=e.$implicit;x(2),_e(t.name),x(2),$e("bg-green-500/20",t.available===!0)("text-green-400",t.available===!0)("border",t.available===!0)("border-green-500/30",t.available===!0)("bg-red-500/10",t.available===!1)("text-red-500",t.available===!1)("bg-yellow-500/20",t.available==="soon")("text-yellow-400",t.available==="soon")("border",t.available==="soon")("border-yellow-500/30",t.available==="soon"),x(),at(" ",t.available===!0?"Sim":t.available===!1?"N\xE3o":"Em Breve"," "),x(),$e("text-brand-fireOrange",t.available)("text-gray-600",!t.available),x(),at(" ",t.price," ")}}function YB(n,e){if(n&1&&(T(0,"div",58)(1,"div",109)(2,"span"),k(3,"Servi\xE7o"),R(),T(4,"span",110)(5,"span"),k(6,"Realizamos?"),R(),T(7,"span",111),k(8,"Pre\xE7o"),R()()(),Yt(9,QB,8,27,"li",112,Gf),R()),n&2){let t=W().$implicit;x(9),Jt(t.listItems)}}function JB(n,e){n&1&&(T(0,"span",121),k(1,"Novo"),R())}function ZB(n,e){n&1&&k(0," \u2605 ")}function XB(n,e){n&1&&k(0," \u2606 ")}function e4(n,e){if(n&1&&Re(0,ZB,1,0)(1,XB,1,0),n&2){let t=e.$implicit,r=W().$implicit;Me(t<=r.rating?0:1)}}function t4(n,e){if(n&1&&(T(0,"div",120),Re(1,JB,2,0,"span",121),T(2,"div",122)(3,"span",123),k(4),R(),T(5,"div",124),Yt(6,e4,2,1,null,null,hc),R()(),T(8,"p",125),k(9),R()()),n&2){let t=e.$implicit;$e("border-brand-fireOrange",t.isNew),x(),Me(t.isNew?1:-1),x(3),_e(t.name),x(2),Jt(pc(5,lM)),x(3),at('"',t.comment,'"')}}function n4(n,e){if(n&1){let t=Vt();T(0,"button",133),xe("click",function(){let i=Se(t).$implicit,o=W(4);return Ae(o.setReviewRating(i))}),T(1,"span"),k(2," \u2605 "),R()()}if(n&2){let t=e.$implicit,r=W(4);x(),$e("text-brand-fireOrange",t<=r.newReviewRating())("text-gray-600",t>r.newReviewRating())("drop-shadow-[0_0_5px_rgba(255,140,0,0",t<=r.newReviewRating())}}function r4(n,e){if(n&1){let t=Vt();T(0,"div",119)(1,"h4",126),k(2,"Sua Opini\xE3o Importa"),R(),T(3,"div",127),Yt(4,n4,3,6,"button",128,hc),R(),T(6,"div",129)(7,"input",130),ut("ngModelChange",function(i){Se(t);let o=W(3);return It(o.newReviewName,i)||(o.newReviewName=i),Ae(i)}),R(),T(8,"textarea",131),ut("ngModelChange",function(i){Se(t);let o=W(3);return It(o.newReviewMessage,i)||(o.newReviewMessage=i),Ae(i)}),R(),T(9,"button",132),xe("click",function(){Se(t);let i=W(3);return Ae(i.submitReview())}),k(10," Enviar Avalia\xE7\xE3o "),R()()()}if(n&2){let t=W(3);x(4),Jt(pc(2,lM)),x(3),ct("ngModel",t.newReviewName),x(),ct("ngModel",t.newReviewMessage)}}function i4(n,e){if(n&1){let t=Vt();T(0,"div",59),Yt(1,t4,10,6,"div",116,Gf),T(3,"div",117)(4,"button",118),xe("click",function(){Se(t);let i=W(2);return Ae(i.toggleReviewForm())}),k(5),R()(),Re(6,r4,11,3,"div",119),R()}if(n&2){let t=W().$implicit,r=W();x(),Jt(t.testimonials),x(4),at(" ",r.showReviewForm()?"Cancelar":"Escrever Avalia\xE7\xE3o"," "),x(),Me(r.showReviewForm()?6:-1)}}function o4(n,e){if(n&1){let t=Vt();T(0,"div",42)(1,"div",43)(2,"button",44),xe("click",function(){let i=Se(t).$implicit,o=W();return Ae(o.toggleItem(i.id))}),ae(3,"div",45),T(4,"div",46)(5,"div",47),Re(6,bB,2,0,":svg:svg",48),Re(7,CB,2,0,":svg:svg",49),Re(8,TB,2,0,":svg:svg",49),Re(9,SB,2,0,":svg:svg",48),Re(10,AB,2,0,":svg:svg",48),Re(11,RB,2,0,":svg:svg",48),Re(12,MB,3,0,":svg:svg",48),Re(13,NB,2,0,":svg:svg",48),R(),T(14,"span",50),k(15),R(),Re(16,xB,2,0,"span",51),R(),He(),T(17,"svg",52),ae(18,"path",53),R()(),Un(),T(19,"div",54)(20,"div",55)(21,"div",56),Re(22,LB,3,1),Re(23,VB,18,3,"div",57),Re(24,HB,2,1),Re(25,zB,3,0,"div",58),Re(26,KB,2,1),Re(27,YB,11,0,"div",58),Re(28,i4,7,2,"div",59),R()()()()()}if(n&2){let t=e.$implicit;$e("z-30",t.isOpen)("z-0",!t.isOpen)("scale-[1",t.isOpen)("my-2",t.isOpen),x(),$e("border-brand-fireOrange",t.isOpen)("shadow-[0_0_25px_rgba(255,69,0,0",t.isOpen)("border-white/10",!t.isOpen)("bg-[#0F0F0F]",t.isOpen)("bg-black",!t.isOpen),x(),$e("featured-service",t.featured),x(3),$e("text-brand-fireOrange",t.isOpen)("scale-110",t.isOpen)("drop-shadow-[0_0_8px_rgba(255,69,0,0",t.isOpen),x(),Me(t.icon==="scissors"?6:-1),x(),Me(t.icon==="users"?7:-1),x(),Me(t.icon==="image"?8:-1),x(),Me(t.icon==="clock"?9:-1),x(),Me(t.icon==="star"?10:-1),x(),Me(t.icon==="calendar"?11:-1),x(),Me(t.icon==="map"?12:-1),x(),Me(t.icon==="briefcase"?13:-1),x(),$e("text-white",t.isOpen)("text-gray-400",!t.isOpen),x(),at(" ",t.title," "),x(),Me(t.featured?16:-1),x(),$e("rotate-180",t.isOpen)("text-brand-fireOrange",t.isOpen),x(2),Kn("grid-template-rows",t.isOpen?"1fr":"0fr"),x(3),Me(t.type==="text"?22:-1),x(),Me(t.type==="hours"?23:-1),x(),Me(t.type==="team"?24:-1),x(),Me(t.type==="projects"?25:-1),x(),Me(t.type==="partners"?26:-1),x(),Me(t.type==="list"?27:-1),x(),Me(t.type==="feedback"?28:-1)}}var qf=class n{constructor(e){this.ngZone=e;this.firebaseConfig={apiKey:"AIzaSyDE2tWDNCDrY6O20EWrDt-NkvZmCm_MR10",authDomain:"isaacbarbearia-admin.firebaseapp.com",projectId:"isaacbarbearia-admin",storageBucket:"isaacbarbearia-admin.firebasestorage.app",messagingSenderId:"308982033120",appId:"1:308982033120:web:38b82c1a3ca9e933be7e85"};this.app=Xc(this.firebaseConfig);this.db=Iu(this.app);this.isLoading=de(!0);this.loadingProgress=de(0);this.hasLoadingStarted=!1;this.whatsappLink=de("https://wa.me/5585999999999");this.whatsappNumber=de("(85) 99999-9999");this.telefoneLink=de("tel:5585999999999");this.telefoneNumber=de("(85) 99999-9999");this.agendamentoInfo=de("O agendamento \xE9 feito preferencialmente via WhatsApp ou telefone.");this.localizacaoEndereco=de("Rua das Pedras, 123");this.localizacaoBairro=de("Centro");this.localizacaoCidade=de("Fortaleza - CE");this.localizacaoReferencia=de("Pr\xF3ximo \xE0 pra\xE7a principal");this.googleMapsLink=de("https://share.google/Q4GvyJhu3aPv7HcgA");this.horariosSegSex=de("09:00 \xE0s 20:00");this.horariosSabado=de("09:00 \xE0s 18:00");this.horariosDomingo=de("Fechado");this.locationLink=de("#");this.embers=de([]);this.sparks=de([]);this.showReviewForm=de(!1);this.newReviewName=de("");this.newReviewMessage=de("");this.newReviewRating=de(5);this.items=de([{id:"services",title:"Nossos Servi\xE7os & Pre\xE7os",isOpen:!1,featured:!0,type:"list",icon:"scissors",listItems:[]},{id:"team",title:"Profissionais",isOpen:!1,type:"team",icon:"users",teamMembers:[]},{id:"projects",title:"Participa\xE7\xE3o Comunit\xE1ria",isOpen:!1,type:"projects",icon:"image",projectGallery:[]},{id:"partnerships",title:"Parcerias",isOpen:!1,type:"partners",icon:"briefcase",partners:[]},{id:"feedback",title:"Avalia\xE7\xF5es",isOpen:!1,type:"feedback",icon:"star",testimonials:[]},{id:"booking",title:"Agendamento",isOpen:!1,type:"text",icon:"calendar",content:"O agendamento \xE9 feito preferencialmente via WhatsApp ou telefone. Clique no \xEDcone do WhatsApp acima ou ligue para (11) 99999-9999."},{id:"hours",title:"Hor\xE1rios",isOpen:!1,type:"hours",icon:"clock",content:`Segunda a S\xE1bado: 09:00 \xE0s 20:00
Domingo: Fechado`},{id:"location",title:"Localiza\xE7\xE3o",isOpen:!1,type:"text",icon:"map",content:"Estamos na Rua das Pedras, 123 - Centro. Pr\xF3ximo \xE0 pra\xE7a principal."}]);this.currentYear=new Date().getFullYear()}ngOnInit(){this.hasLoadingStarted||(this.hasLoadingStarted=!0,this.startLoading()),this.generateEmbers(),this.generateSparks()}async startLoading(){this.isLoading.set(!0),this.loadingProgress.set(0);let e=0,t=setInterval(()=>{e+=.83,e<=100&&this.loadingProgress.set(e)},100);this.loadDynamicData(),setTimeout(()=>{clearInterval(t),this.loadingProgress.set(100),setTimeout(()=>{this.isLoading.set(!1)},500)},12e3)}async loadDynamicData(){try{let[e,t,r,i,o,s,a,u]=await Promise.all([Nn(Dt(this.db,"profissionais")),Nn(Dt(this.db,"parceiros")),Nn(Dt(this.db,"participacoes")),Nn(Dt(this.db,"avaliacoes")),Nn(Dt(this.db,"servicos")),$f(kt(this.db,"config","agendamento")),$f(kt(this.db,"config","localizacao")),$f(kt(this.db,"config","horarios"))]),l=e.docs.map(I=>{let S=I.data();return{name:S.nome||"Profissional",specialty:S.especialidade||"Especialidade",imageUrl:S.imagem||`https://picsum.photos/seed/${encodeURIComponent(S.nome||I.id)}/200/200`}}),h=o.docs.map(I=>{let S=I.data(),P=S.realiza===!0&&S.preco&&S.preco>0?`R$ ${S.preco}`:"-";return{name:S.nome||"Servi\xE7o",price:P,available:S.realiza}}),p=t.docs.map(I=>{let S=I.data();return{name:S.nome||"Parceiro",role:"",imageUrl:S.imagem||`https://picsum.photos/seed/${encodeURIComponent(S.nome||I.id)}/200/200`}}),g=r.docs.map(I=>{let S=I.data();return{title:S.titulo||"Evento",imageUrl:`https://picsum.photos/seed/${encodeURIComponent(S.titulo||I.id)}/300/300`,projectUrl:"#",date:S.data||"Data a definir",location:S.descricao||"Comunidade"}}),y=i.docs.map(I=>{let S=I.data();return{name:S.cliente||"Cliente",comment:S.comentario||"\xD3timo atendimento!",rating:S.estrelas||5}});if(s.exists()){let I=s.data();if(I.whatsapp){let S=I.whatsapp.replace(/\D/g,"");this.whatsappLink.set(`https://wa.me/${S}`),this.whatsappNumber.set(I.whatsapp)}if(I.telefone){let S=I.telefone.replace(/\D/g,"");this.telefoneLink.set(`tel:${S}`),this.telefoneNumber.set(I.telefone)}I.info&&this.agendamentoInfo.set(I.info)}if(a.exists()){let I=a.data();I.endereco&&this.localizacaoEndereco.set(I.endereco),I.bairro&&this.localizacaoBairro.set(I.bairro),I.cidade&&this.localizacaoCidade.set(I.cidade),I.referencia&&this.localizacaoReferencia.set(I.referencia),I.googleMapsLink&&this.googleMapsLink.set(I.googleMapsLink)}if(u.exists()){let I=u.data();I.segSex&&this.horariosSegSex.set(I.segSex),I.sabado&&this.horariosSabado.set(I.sabado),I.domingo&&this.horariosDomingo.set(I.domingo)}l.length||p.length||g.length||y.length||h.length?this.items.update(I=>I.map(S=>S.id==="services"&&h.length?$(N({},S),{listItems:h}):S.id==="team"&&l.length?$(N({},S),{teamMembers:l}):S.id==="partnerships"&&p.length?$(N({},S),{partners:p}):S.id==="projects"&&g.length?$(N({},S),{projectGallery:g}):S.id==="feedback"&&y.length?$(N({},S),{testimonials:y}):S)):this.items.update(I=>I.map(S=>S.id==="services"?$(N({},S),{listItems:[]}):S.id==="team"?$(N({},S),{teamMembers:[]}):S.id==="partnerships"?$(N({},S),{partners:[]}):S.id==="projects"?$(N({},S),{projectGallery:[]}):S.id==="feedback"?$(N({},S),{testimonials:[]}):S))}catch(e){console.error("Erro ao carregar dados do Firebase:",e)}}generateEmbers(){let e=[];for(let r=0;r<25;r++)e.push({left:Math.random()*100+"%",animationDuration:Math.random()*5+5+"s",animationDelay:Math.random()*5+"s",opacity:Math.random()*.5+.2,size:Math.random()*3+2+"px"});this.embers.set(e)}generateSparks(){let e=[];for(let r=0;r<20;r++)e.push({left:Math.random()*100+"%",animationDuration:Math.random()*3+3+"s",animationDelay:Math.random()*5+"s",opacity:Math.random()*.7+.3,size:Math.random()*2+1+"px"});this.sparks.set(e)}toggleItem(e){this.items.update(t=>t.map(r=>$(N({},r),{isOpen:r.id===e?!r.isOpen:!1})))}toggleReviewForm(){this.showReviewForm.update(e=>!e)}setReviewRating(e){this.newReviewRating.set(e)}async submitReview(){let e=this.newReviewName().trim(),t=this.newReviewMessage().trim(),r=this.newReviewRating();if(!e||!t){alert("Por favor, preencha nome e coment\xE1rio!");return}try{console.log("Salvando avalia\xE7\xE3o:",{name:e,message:t,rating:r});let i=await Po(Dt(this.db,"avaliacoes"),{cliente:e,comentario:t,estrelas:r,data:new Date().toLocaleDateString("pt-BR")});console.log("Avalia\xE7\xE3o salva com ID:",i.id),this.items.update(o=>o.map(s=>s.id==="feedback"&&s.testimonials?$(N({},s),{testimonials:[{name:e,comment:t,rating:r,isNew:!0},...s.testimonials]}):s)),this.newReviewName.set(""),this.newReviewMessage.set(""),this.newReviewRating.set(5),this.showReviewForm.set(!1),alert("Avalia\xE7\xE3o enviada com sucesso!")}catch(i){console.error("Erro ao salvar avalia\xE7\xE3o:",i),alert("Erro ao salvar avalia\xE7\xE3o. Verifique o console.")}}static{this.\u0275fac=function(t){return new(t||n)(he(Ot))}}static{this.\u0275cmp=wn({type:n,selectors:[["app-root"]],decls:38,vars:4,consts:[[1,"min-h-screen","bg-black","text-[#e0e0e0]","font-sans","flex","flex-col","items-center","py-12","px-4","relative","overflow-x-hidden"],[1,"fixed","inset-0","z-[9999]","bg-black","flex","flex-col","items-center","justify-center","loading-screen"],[1,"fixed","inset-0","pointer-events-none","z-0","overflow-hidden"],[1,"absolute","bottom-0","left-0","w-full","h-64","bg-gradient-to-t","from-brand-fireOrange/15","to-transparent"],[1,"absolute","top-0","left-0","w-full","h-48","bg-gradient-to-b","from-brand-fireOrange/10","to-transparent"],[1,"ember",3,"left","width","height","animation-duration","animation-delay","opacity"],[1,"spark",3,"left","width","height","animation-duration","animation-delay","opacity"],[1,"relative","z-10","w-full","max-w-md","flex","flex-col","flex-grow","neon-gold-border-container","rounded-2xl"],[1,"flex","flex-col","items-center","mb-8","animate-fade-in"],[1,"relative","w-80","mb-8","mt-4"],["ngSrc","https://i.postimg.cc/QtG4vMCT/isaacbarbearia.png","priority","","width","1280","height","1119","alt","Isaac Barbearia Logo",1,"relative","z-10","w-full","h-auto","object-contain","transition-all","duration-300"],[1,"w-full","max-w-xs","flex","items-center","gap-4","-mt-6","mb-8","animate-fade-in"],[1,"h-px","flex-grow","bg-gradient-to-r","from-transparent","to-brand-gold/30"],[1,"text-fire-gradient","font-serif","text-sm","uppercase","tracking-[0.2em]","animate-shimmer"],[1,"h-px","flex-grow","bg-gradient-to-l","from-transparent","to-brand-gold/30"],[1,"w-full","p-3","bg-black/30","backdrop-blur-md","rounded-2xl","border","border-white/10","shadow-2xl","shadow-black","mb-12","flex","flex-row","items-center","justify-between"],[1,"flex","items-center","gap-4"],["target","_blank","aria-label","WhatsApp",1,"w-14","h-14","flex","items-center","justify-center","rounded-2xl","bg-[#111]","border","border-white/10","text-brand-gold","shadow-lg","hover:text-green-500","hover:border-green-500","hover:scale-110","btn-neon-green",3,"href"],["viewBox","0 0 24 24","fill","currentColor",1,"w-7","h-7"],["d","M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"],["target","_blank","aria-label","Localiza\xE7\xE3o",1,"w-14","h-14","flex","items-center","justify-center","rounded-2xl","bg-[#111]","border","border-white/10","text-brand-gold","shadow-lg","hover:text-blue-500","hover:border-blue-500","hover:scale-110","btn-neon-blue",3,"href"],["fill-rule","evenodd","d","M11.54 22.351l.07.04.028.016a.76.76 0 00.723 0l.028-.015.071-.041a16.975 16.975 0 001.144-.742 19.58 19.58 0 002.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 00-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 002.682 2.282 16.975 16.975 0 001.145.742zM12 13.5a3 3 0 100-6 3 3 0 000 6z","clip-rule","evenodd"],["href","https://www.instagram.com/isaac._barbearia","target","_blank","rel","noopener noreferrer",1,"btn-fire","flex","items-center","justify-center","gap-2","px-5","py-3","rounded-lg","font-bold","text-sm","uppercase","tracking-wider","transition-all","duration-300","transform","active:scale-95"],["viewBox","0 0 24 24","fill","currentColor",1,"w-5","h-5"],["d","M7.8,2H16.2C19.4,2 22,4.6 22,7.8V16.2A5.8,5.8 0 0,1 16.2,22H7.8C4.6,22 2,19.4 2,16.2V7.8A5.8,5.8 0 0,1 7.8,2M7.6,4A3.6,3.6 0 0,0 4,7.6V16.4C4,18.39 5.61,20 7.6,20H16.4A3.6,3.6 0 0,0 20,16.4V7.6C20,5.61 18.39,4 16.4,4H7.6M17.25,5.5A1.25,1.25 0 0,1 18.5,6.75A1.25,1.25 0 0,1 17.25,8A1.25,1.25 0 0,1 16,6.75A1.25,1.25 0 0,1 17.25,5.5M12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9Z"],[1,"w-full","relative","z-20","flex","flex-col","gap-3"],[1,"w-full","relative","transition-all","duration-500","ease-in-out",3,"z-30","z-0","scale-[1","my-2"],[1,"mt-auto","py-8","text-center","opacity-60"],[1,"text-[9px]","text-gray-500","uppercase","tracking-widest"],[1,"absolute","inset-0","bg-gradient-radial","from-brand-fireOrange/20","via-black","to-black","animate-pulse-slow"],[1,"relative","mb-8"],["src","https://i.postimg.cc/QtG4vMCT/isaacbarbearia.png","alt","Isaac Barbearia",1,"relative","z-10","w-80","h-auto","animate-fade-in"],[1,"relative","z-10","text-center","mb-8"],[1,"text-brand-gold/80","text-sm","tracking-wider"],[1,"relative","z-10","w-64","h-2","bg-white/10","rounded-full","overflow-hidden","backdrop-blur-sm"],[1,"h-full","bg-gradient-to-r","from-brand-fireOrange","via-yellow-500","to-brand-fireOrange","animate-shimmer","transition-all","duration-300"],[1,"relative","z-10","mt-4","text-brand-fireOrange","font-bold","text-lg"],[1,"absolute","inset-0","overflow-hidden","pointer-events-none"],[1,"loading-ember",3,"left","animation-delay"],[1,"loading-ember"],[1,"ember"],[1,"spark"],[1,"w-full","relative","transition-all","duration-500","ease-in-out"],[1,"w-full","overflow-hidden","rounded-xl","border","transition-all","duration-300","shadow-xl"],[1,"w-full","relative","flex","items-center","justify-between","p-4","group/btn","outline-none",3,"click"],[1,"absolute","inset-0","bg-gradient-to-r","from-brand-fireOrange/10","to-transparent","opacity-0","group-hover/btn:opacity-100","transition-opacity","duration-300"],[1,"flex","items-center","gap-4","text-left","relative","z-10"],[1,"text-brand-gold","transition-all","duration-300"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["fill","none","stroke","currentColor","stroke-width","1.5","viewBox","0 0 24 24",1,"w-6","h-6"],[1,"font-sans","font-medium","text-sm","tracking-wide","transition-colors","duration-300"],[1,"ml-2","bg-brand-fireOrange/20","text-brand-fireOrange","border","border-brand-fireOrange/50","text-[9px]","font-bold","uppercase","tracking-wider","px-2","py-0.5","rounded"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-500","transition-transform","duration-300","relative","z-10"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],[1,"grid","transition-all","duration-300","ease-in-out"],[1,"overflow-hidden"],[1,"px-6","pb-6","pt-2","border-t","border-brand-fireOrange/20","bg-black/40"],[1,"text-center","text-gray-300","font-light","text-sm","animate-fade-in","space-y-2"],[1,"space-y-3","animate-fade-in"],[1,"space-y-4","animate-fade-in"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M14.121 14.121L19 19m-7-7l7-7m-7 7l-2.879 2.879M12 12L9.121 9.121m0 5.758a3 3 0 10-4.243 4.243 3 3 0 004.243-4.243zm0-5.758a3 3 0 10-4.243-4.243 3 3 0 004.243 4.243z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Z"],["stroke-linecap","round","stroke-linejoin","round","d","M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M20.25 7.5l-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"],[1,"text-gray-300","font-light","leading-relaxed","text-sm","animate-fade-in","space-y-3"],[1,"flex","flex-col","gap-2","mt-3"],["target","_blank",1,"flex","items-center","gap-2","text-green-400","hover:text-green-300","transition-colors",3,"href"],[1,"flex","items-center","gap-2","text-blue-400","hover:text-blue-300","transition-colors",3,"href"],["d","M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"],[1,"space-y-1"],[1,"font-semibold","text-brand-fireOrange"],[1,"text-xs","text-gray-400"],["target","_blank",1,"inline-flex","items-center","gap-2","text-blue-400","hover:text-blue-300","transition-colors","mt-3",3,"href"],["d","M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"w-4","h-4"],["d","M5 12h14M12 5l7 7-7 7"],[1,"text-gray-300","font-light","leading-relaxed","text-sm","animate-fade-in"],[1,"flex","justify-between","items-center","px-4"],[1,"text-gray-400"],[1,"font-semibold","text-red-400"],[1,"pt-2","mt-2","border-t","border-white/10","text-xs","text-gray-500"],[1,"text-gray-400","text-sm","italic"],[1,"flex","items-center","gap-4","bg-white/5","p-3","rounded-lg","border","border-white/10"],[1,"w-16","h-16","rounded-full","object-cover","border-2","border-brand-gold",3,"src","alt"],[1,"font-bold","text-white","text-sm"],[1,"text-brand-fireOrange","text-xs","font-medium","uppercase","tracking-wider"],[1,"bg-gradient-to-br","from-white/10","to-white/5","p-5","rounded-lg","border","border-brand-fireOrange/30","hover:border-brand-fireOrange/60","hover:shadow-[0_0_20px_rgba(255,140,0,0.2)]","transition-all","duration-300","group"],[1,"font-bold","text-white","text-lg","mb-3","group-hover:text-brand-fireOrange","transition-colors","uppercase","tracking-wide"],[1,"text-gray-300","text-sm","leading-relaxed","mb-4"],[1,"flex","items-center","gap-2","pt-3","border-t","border-white/10"],[1,"text-brand-gold","text-xs"],[1,"text-brand-gold","text-xs","font-medium"],[1,"animate-fade-in"],[1,"grid","grid-cols-3","gap-4","mb-4"],[1,"bg-gradient-to-br","from-white/5","to-white/[0.02]","border","border-white/10","rounded-xl","p-4","flex","flex-col","items-center","text-center","hover:border-brand-fireOrange","hover:shadow-[0_0_20px_rgba(255,140,0,0.3)]","transition-all","duration-500","group/partner","cursor-default"],[1,"flex","flex-col","items-center","justify-center","text-center","pt-2","border-t","border-dashed","border-white/10"],[1,"text-gray-400","text-[10px]","font-medium","uppercase","tracking-widest","mb-2"],["target","_blank",1,"text-brand-fireOrange","hover:text-white","text-xs","font-bold","uppercase","tracking-widest","flex","items-center","gap-2","transition-colors",3,"href"],["viewBox","0 0 24 24","fill","currentColor",1,"w-4","h-4"],[1,"w-16","h-16","rounded-xl","overflow-hidden","mb-3","border-2","border-brand-gold/30","group-hover/partner:border-brand-fireOrange","group-hover/partner:scale-110","transition-all","duration-500","shadow-xl","bg-white/5"],[1,"w-full","h-full","object-cover","group-hover/partner:scale-105","transition-all","duration-500",3,"src","alt"],[1,"text-brand-fireOrange","font-bold","text-xs","uppercase","tracking-wide","group-hover/partner:text-white","transition-colors"],[1,"text-gray-400","text-[10px]","mt-1","leading-tight"],[1,"text-gray-400","text-sm","italic","mb-4"],[1,"flex","justify-between","text-[10px]","uppercase","tracking-widest","text-gray-500","mb-2","border-b","border-white/5","pb-1"],[1,"flex","gap-4"],[1,"w-12","text-right"],[1,"flex","justify-between","items-center","border-b","border-white/5","pb-2","hover:border-brand-fireOrange/30","transition-colors"],[1,"text-gray-300","text-sm","font-medium"],[1,"text-[10px]","font-bold","px-2","py-0.5","rounded","uppercase","tracking-wider","min-w-[3.5rem]","text-center"],[1,"text-sm","font-serif","font-bold","w-12","text-right"],[1,"bg-white/5","p-3","rounded","border","border-white/5","hover:border-brand-fireOrange/30","transition-colors","relative",3,"border-brand-fireOrange"],[1,"pt-2","text-center"],[1,"bg-white/10","text-white","hover:bg-brand-fireOrange","hover:text-black","border","border-white/20","px-6","py-2","rounded-full","text-xs","uppercase","tracking-widest","font-bold","transition-all","duration-300",3,"click"],[1,"pt-4","mt-2","border-t","border-white/10","animate-slide-down"],[1,"bg-white/5","p-3","rounded","border","border-white/5","hover:border-brand-fireOrange/30","transition-colors","relative"],[1,"absolute","top-0","right-0","bg-brand-fireOrange","text-black","text-[9px]","px-2","py-0.5","font-bold","uppercase","rounded-bl-md"],[1,"flex","justify-between","mb-1"],[1,"text-brand-gold","text-xs","font-bold"],[1,"flex","text-brand-fireOrange","text-[10px]"],[1,"text-gray-400","text-xs","italic"],[1,"text-brand-gold","text-sm","font-bold","mb-3","uppercase","tracking-wider","text-center"],[1,"flex","justify-center","gap-3","mb-4"],[1,"text-2xl","focus:outline-none","transition-transform","hover:scale-125"],[1,"space-y-3"],["type","text","placeholder","Seu Nome",1,"w-full","bg-white/5","border","border-white/10","rounded-md","text-sm","p-3","text-white","placeholder-gray-500","focus:border-brand-fireOrange","focus:ring-1","focus:ring-brand-fireOrange","outline-none","transition-all",3,"ngModelChange","ngModel"],["placeholder","Escreva sua mensagem aqui...","rows","3",1,"w-full","bg-white/5","border","border-white/10","rounded-md","text-sm","p-3","text-white","placeholder-gray-500","focus:border-brand-fireOrange","focus:ring-1","focus:ring-brand-fireOrange","outline-none","transition-all","resize-none",3,"ngModelChange","ngModel"],[1,"w-full","bg-gradient-to-r","from-brand-fireOrange","to-red-700","text-white","font-bold","py-3","rounded-md","text-sm","uppercase","tracking-widest","hover:shadow-[0_0_20px_rgba(255,69,0,0.4)]","active:scale-95","transition-all",3,"click"],[1,"text-2xl","focus:outline-none","transition-transform","hover:scale-125",3,"click"]],template:function(t,r){t&1&&(T(0,"div",0),Re(1,EB,14,4,"div",1)(2,IB,0,0),T(3,"div",2),ae(4,"div",3)(5,"div",4),Yt(6,wB,1,12,"div",5,Md),Yt(8,DB,1,12,"div",6,Md),R(),T(10,"div",7)(11,"div",8)(12,"div",9),ae(13,"img",10),R(),T(14,"div",11),ae(15,"div",12),T(16,"span",13),k(17,"Desde 2024"),R(),ae(18,"div",14),R(),T(19,"div",15)(20,"div",16)(21,"a",17),He(),T(22,"svg",18),ae(23,"path",19),R()(),Un(),T(24,"a",20),He(),T(25,"svg",18),ae(26,"path",21),R()()(),Un(),T(27,"a",22),He(),T(28,"svg",23),ae(29,"path",24),R(),Un(),T(30,"span"),k(31,"Seguir"),R()()(),T(32,"div",25),Yt(33,o4,29,53,"div",26,yB),R()(),T(35,"footer",27)(36,"p",28),k(37),R()()()()),t&2&&(x(),Me(r.isLoading()?1:2),x(5),Jt(r.embers()),x(2),Jt(r.sparks()),x(13),Le("href",r.whatsappLink(),In),x(3),Le("href",r.googleMapsLink(),In),x(9),Jt(r.items()),x(4),at("Isaac Barbearia \xA9 ",r.currentYear))},dependencies:[oi,Ss,di,Ts,go,xC],encapsulation:2})}};function SM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var AM=SM,RM=new Tr("auth","Firebase",SM());var Zf=new fi("@firebase/auth");function s4(n,...e){Zf.logLevel<=ce.WARN&&Zf.warn(`Auth (${mi}): ${n}`,...e)}function Kf(n,...e){Zf.logLevel<=ce.ERROR&&Zf.error(`Auth (${mi}): ${n}`,...e)}function ar(n,...e){throw gI(n,...e)}function Oo(n,...e){return gI(n,...e)}function MM(n,e,t){let r=$(N({},AM()),{[e]:t});return new Tr("auth","Firebase",r).create(e,{appName:n.name})}function bi(n){return MM(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gI(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return RM.create(n,...e)}function Y(n,e,...t){if(!n)throw gI(e,...t)}function Lr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Kf(e),new Error(e)}function Ci(n,e){n||Lr(e)}function QE(){return typeof self<"u"&&self.location?.href||""}function a4(){return dM()==="http:"||dM()==="https:"}function dM(){return typeof self<"u"&&self.location?.protocol||null}function c4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(a4()||vS()||"connection"in navigator)?navigator.onLine:!0}function u4(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ko=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ci(t>e,"Short delay should be less than long delay!"),this.isMobile=mS()||_S()}get(){return c4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function mI(n,e){Ci(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Xf=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var l4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var d4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],h4=new ko(3e4,6e4);function Lo(n,e){return n.tenantId&&!e.tenantId?$(N({},e),{tenantId:n.tenantId}):e}async function Ti(n,e,t,r,i={}){return NM(n,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=Yc(N({key:n.config.apiKey},s)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);let l=N({method:e,headers:u},o);return yS()||(l.referrerPolicy="no-referrer"),n.emulatorConfig&&hi(n.emulatorConfig.host)&&(l.credentials="include"),Xf.fetch()(await xM(n,n.config.apiHost,t,a),l)})}async function NM(n,e,t){n._canInitEmulator=!1;let r=N(N({},l4),e);try{let i=new YE(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw Wf(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wf(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Wf(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Wf(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw MM(n,h,l);ar(n,h)}}catch(i){if(i instanceof en)throw i;ar(n,"network-request-failed",{message:String(i)})}}async function lp(n,e,t,r,i={}){let o=await Ti(n,e,t,r,i);return"mfaPendingCredential"in o&&ar(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function xM(n,e,t,r){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?mI(n.config,i):`${n.config.apiScheme}://${i}`;return d4.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function f4(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var YE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Oo(this.auth,"network-request-failed")),h4.get())})}};function Wf(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Oo(n,e,r);return i.customData._tokenResponse=t,i}function hM(n){return n!==void 0&&n.enterprise!==void 0}var JE=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return f4(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function p4(n,e){return Ti(n,"GET","/v2/recaptchaConfig",Lo(n,e))}async function g4(n,e){return Ti(n,"POST","/v1/accounts:delete",e)}async function ep(n,e){return Ti(n,"POST","/v1/accounts:lookup",e)}function Cu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PM(n,e=!1){let t=Qe(n),r=await t.getIdToken(e),i=yI(r);Y(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Cu(GE(i.auth_time)),issuedAtTime:Cu(GE(i.iat)),expirationTime:Cu(GE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function GE(n){return Number(n)*1e3}function yI(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Kf("JWT malformed, contained fewer than 3 sections"),null;try{let i=xh(t);return i?JSON.parse(i):(Kf("Failed to decode base64 JWT payload"),null)}catch(i){return Kf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function fM(n){let e=yI(n);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Su(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof en&&m4(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function m4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var ZE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Au=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cu(this.lastLoginAt),this.creationTime=Cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function tp(n){let e=n.auth,t=await n.getIdToken(),r=await Su(n,ep(e,{idToken:t}));Y(r?.users.length,e,"internal-error");let i=r.users[0];n._notifyReloadListener(i);let o=i.providerUserInfo?.length?kM(i.providerUserInfo):[],s=y4(n.providerData,o),a=n.isAnonymous,u=!(n.email&&i.passwordHash)&&!s?.length,l=a?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Au(i.createdAt,i.lastLoginAt),isAnonymous:l};Object.assign(n,h)}async function OM(n){let e=Qe(n);await tp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function y4(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function kM(n){return n.map(r=>{var i=r,{providerId:e}=i,t=jp(i,["providerId"]);return{providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}})}async function v4(n,e){let t=await NM(n,{},async()=>{let r=Yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=await xM(n,i,"/v1/token",`key=${o}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&hi(n.emulatorConfig.host)&&(u.credentials="include"),Xf.fetch()(s,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function _4(n,e){return Ti(n,"POST","/v2/accounts:revokeToken",Lo(n,e))}var Tu=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Y(e.length!==0,"internal-error");let t=fM(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:o}=await v4(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Y(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Y(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Lr("not implemented")}};function wi(n,e){Y(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Di=class n{constructor(o){var s=o,{uid:e,auth:t,stsTokenManager:r}=s,i=jp(s,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Au(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let t=await Su(this,this.stsTokenManager.getToken(this.auth,e));return Y(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return PM(this,e)}reload(){return OM(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>N({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n($(N({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await tp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tn(this.auth.app))return Promise.reject(bi(this.auth));let e=await this.getIdToken();return await Su(this,g4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return $(N({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>N({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){let r=t.displayName??void 0,i=t.email??void 0,o=t.phoneNumber??void 0,s=t.photoURL??void 0,a=t.tenantId??void 0,u=t._redirectEventId??void 0,l=t.createdAt??void 0,h=t.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:y,providerData:I,stsTokenManager:S}=t;Y(p&&S,e,"internal-error");let P=Tu.fromJSON(this.name,S);Y(typeof p=="string",e,"internal-error"),wi(r,e.name),wi(i,e.name),Y(typeof g=="boolean",e,"internal-error"),Y(typeof y=="boolean",e,"internal-error"),wi(o,e.name),wi(s,e.name),wi(a,e.name),wi(u,e.name),wi(l,e.name),wi(h,e.name);let j=new n({uid:p,auth:e,email:i,emailVerified:g,displayName:r,isAnonymous:y,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:P,createdAt:l,lastLoginAt:h});return I&&Array.isArray(I)&&(j.providerData=I.map(ee=>N({},ee))),u&&(j._redirectEventId=u),j}static async _fromIdTokenResponse(e,t,r=!1){let i=new Tu;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await tp(o),o}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];Y(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?kM(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Tu;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Au(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var pM=new Map;function Vr(n){Ci(n instanceof Function,"Expected a class definition");let e=pM.get(n);return e?(Ci(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,pM.set(n,e),e)}var E4=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),XE=E4;function Qf(n,e,t){return`firebase:${n}:${e}:${t}`}var np=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Qf(this.userKey,i.apiKey,o),this.fullPersistenceKey=Qf("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await ep(this.auth,{idToken:e}).catch(()=>{});return t?Di._fromGetAccountInfoResponse(this.auth,t,e):null}return Di._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(Vr(XE),e,r);let i=(await Promise.all(t.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||Vr(XE),s=Qf(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=await l._get(s);if(h){let p;if(typeof h=="string"){let g=await ep(e,{idToken:h}).catch(()=>{});if(!g)break;p=await Di._fromGetAccountInfoResponse(e,g,h)}else p=Di._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(t.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new n(o,e,r))}};function gM(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BM(e))return"Blackberry";if(HM(e))return"Webos";if(LM(e))return"Safari";if((e.includes("chrome/")||VM(e))&&!e.includes("edge/"))return"Chrome";if(UM(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function FM(n=dt()){return/firefox\//i.test(n)}function LM(n=dt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VM(n=dt()){return/crios\//i.test(n)}function jM(n=dt()){return/iemobile/i.test(n)}function UM(n=dt()){return/android/i.test(n)}function BM(n=dt()){return/blackberry/i.test(n)}function HM(n=dt()){return/webos/i.test(n)}function vI(n=dt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function I4(n=dt()){return vI(n)&&!!window.navigator?.standalone}function w4(){return ES()&&document.documentMode===10}function $M(n=dt()){return vI(n)||UM(n)||HM(n)||BM(n)||/windows phone/i.test(n)||jM(n)}function zM(n,e=[]){let t;switch(n){case"Browser":t=gM(dt());break;case"Worker":t=`${gM(dt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${mi}/${r}`}var eI=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function D4(n,e={}){return Ti(n,"GET","/v2/passwordPolicy",Lo(n,e))}var b4=6,tI=class{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??b4,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var nI=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rp(this),this.idTokenSubscription=new rp(this),this.beforeStateQueue=new eI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Vr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await np.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await ep(this,{idToken:e}),r=await Di._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(tn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}let t=await this.assertedPersistence.getCurrentUser(),r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let o=this.redirectUser?._redirectEventId,s=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!o||o===s)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await tp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=u4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tn(this.app))return Promise.reject(bi(this));let t=e?Qe(e):null;return t&&Y(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tn(this.app)?Promise.reject(bi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tn(this.app)?Promise.reject(bi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await D4(this),t=new tI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await _4(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&Vr(e)||this._popupRedirectResolver;Y(t,this,"argument-error"),this.redirectPersistenceManager=await np.create(this,[Vr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);let r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&s4(`Error while retrieving App Check token: ${e.error}`),e?.token}};function oa(n){return Qe(n)}var rp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=bS(t=>this.observer=t)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var dp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function C4(n){dp=n}function qM(n){return dp.loadJS(n)}function T4(){return dp.recaptchaEnterpriseScript}function S4(){return dp.gapiScript}function GM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var rI=class{constructor(){this.enterprise=new iI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},iI=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var A4="recaptcha-enterprise",WM="NO_RECAPTCHA",oI=class{constructor(e){this.type=A4,this.auth=oa(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{p4(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new JE(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})})}function i(o,s,a){let u=window.grecaptcha;hM(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(WM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rI().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&hM(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=T4();u.length!==0&&(u+=a),qM(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}};async function bu(n,e,t,r=!1,i=!1){let o=new oI(n),s;if(i)s=WM;else try{s=await o.verify(t)}catch{s=await o.verify(t,!0)}let a=N({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function mM(n,e,t,r,i){if(i==="EMAIL_PASSWORD_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=await bu(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=await bu(n,e,t,t==="getOobCode");return r(n,s)}else return Promise.reject(o)});else if(i==="PHONE_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){let o=await bu(n,e,t);return r(n,o).catch(async s=>{if(n._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(s.code==="auth/missing-recaptcha-token"||s.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let a=await bu(n,e,t,!1,!0);return r(n,a)}return Promise.reject(s)})}else{let o=await bu(n,e,t,!1,!0);return r(n,o)}else return Promise.reject(i+" provider is not supported.")}function KM(n,e){let t=Zc(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Cn(o,e??{}))return i;ar(i,"already-initialized")}return t.initialize({options:e})}function R4(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Vr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function QM(n,e,t){let r=oa(n);Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=YM(e),{host:s,port:a}=M4(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Y(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Y(Cn(l,r.config.emulator)&&Cn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,hi(s)?(Oh(`${o}//${s}${u}`),kh("Auth",!0)):i||N4()}function YM(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function M4(n){let e=YM(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:yM(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:yM(s)}}}function yM(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function N4(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Ru=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Lr("not implemented")}_getIdTokenResponse(e){return Lr("not implemented")}_linkToIdToken(e,t){return Lr("not implemented")}_getReauthenticationResolver(e){return Lr("not implemented")}};async function x4(n,e){return Ti(n,"POST","/v1/accounts:signUp",e)}async function P4(n,e){return lp(n,"POST","/v1/accounts:signInWithPassword",Lo(n,e))}async function O4(n,e){return lp(n,"POST","/v1/accounts:signInWithEmailLink",Lo(n,e))}async function k4(n,e){return lp(n,"POST","/v1/accounts:signInWithEmailLink",Lo(n,e))}var Mu=class n extends Ru{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mM(e,t,"signInWithPassword",P4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return O4(e,{email:this._email,oobCode:this._password});default:ar(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mM(e,r,"signUpPassword",x4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return k4(e,{idToken:t,email:this._email,oobCode:this._password});default:ar(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function WE(n,e){return lp(n,"POST","/v1/accounts:signInWithIdp",Lo(n,e))}function F4(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function L4(n){let e=As(Rs(n)).link,t=e?As(Rs(e)).deep_link_id:null,r=As(Rs(n)).deep_link_id;return(r?As(Rs(r)).link:null)||r||t||e||n}var ip=class n{constructor(e){let t=As(Rs(e)),r=t.apiKey??null,i=t.oobCode??null,o=F4(t.mode??null);Y(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){let t=L4(e);try{return new n(t)}catch{return null}}};var JM=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Mu._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=ip.parseLink(r);return Y(i,"argument-error"),Mu._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),op=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var sI=class extends op{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Nu=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){let o=await Di._fromIdTokenResponse(e,r,i),s=vM(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);let i=vM(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function vM(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var aI=class n extends en{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function ZM(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?aI._fromErrorAndOperation(n,o,e,r):o})}async function V4(n,e,t=!1){let r=await Su(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Nu._forOperation(n,"link",r)}async function j4(n,e,t=!1){let{auth:r}=n;if(tn(r.app))return Promise.reject(bi(r));let i="reauthenticate";try{let o=await Su(n,ZM(r,i,e,n),t);Y(o.idToken,r,"internal-error");let s=yI(o.idToken);Y(s,r,"internal-error");let{sub:a}=s;return Y(n.uid===a,r,"user-mismatch"),Nu._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&ar(r,"user-mismatch"),o}}async function XM(n,e,t=!1){if(tn(n.app))return Promise.reject(bi(n));let r="signIn",i=await ZM(n,r,e),o=await Nu._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function eN(n,e){return XM(oa(n),e)}async function U4(n){let e=oa(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function _I(n,e,t){return tn(n.app)?Promise.reject(bi(n)):eN(Qe(n),JM.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&U4(n),r})}function tN(n,e,t,r){return Qe(n).onIdTokenChanged(e,t,r)}function nN(n,e,t){return Qe(n).beforeAuthStateChanged(e,t)}function EI(n,e,t,r){return Qe(n).onAuthStateChanged(e,t,r)}function II(n){return Qe(n).signOut()}var sp="__sak";var ap=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(sp,"1"),this.storage.removeItem(sp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var B4=1e3,H4=10,$4=(()=>{class n extends ap{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$M(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);w4()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,H4):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},B4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){let r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}return n.type="LOCAL",n})(),rN=$4;var z4=(()=>{class n extends ap{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),wI=z4;function q4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var G4=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(async h=>h(r.origin,s)),l=await q4(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function iN(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var cI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=iN("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function sr(){return window}function W4(n){sr().location.href=n}function oN(){return typeof sr().WorkerGlobalScope<"u"&&typeof sr().importScripts=="function"}async function K4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Q4(){return navigator?.serviceWorker?.controller||null}function Y4(){return oN()?self:null}var sN="firebaseLocalStorageDb",J4=1,cp="firebaseLocalStorage",aN="fbase_key",Fo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function hp(n,e){return n.transaction([cp],e?"readwrite":"readonly").objectStore(cp)}function Z4(){let n=indexedDB.deleteDatabase(sN);return new Fo(n).toPromise()}function uI(){let n=indexedDB.open(sN,J4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(cp,{keyPath:aN})}catch(i){t(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(cp)?e(r):(r.close(),await Z4(),e(await uI()))})})}async function _M(n,e,t){let r=hp(n,!0).put({[aN]:e,value:t});return new Fo(r).toPromise()}async function X4(n,e){let t=hp(n,!1).get(e),r=await new Fo(t).toPromise();return r===void 0?null:r.value}function EM(n,e){let t=hp(n,!0).delete(e);return new Fo(t).toPromise()}var e3=800,t3=3,n3=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uI(),this.db)}async _withRetries(t){let r=0;for(;;)try{let i=await this._openDb();return await t(i)}catch(i){if(r++>t3)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=G4._getInstance(Y4()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await K4(),!this.activeServiceWorker)return;this.sender=new cI(this.activeServiceWorker);let t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Q4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await uI();return await _M(t,sp,"1"),await EM(t,sp),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>_M(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){let r=await this._withRetries(i=>X4(i,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>EM(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(o=>{let s=hp(o,!1).getAll();return new Fo(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),cN=n3;var xne=GM("rcb"),Pne=new ko(3e4,6e4);function r3(n,e){return e?Vr(e):(Y(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var xu=class extends Ru{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return WE(e,this._buildIdpRequest())}_linkToIdToken(e,t){return WE(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return WE(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function i3(n){return XM(n.auth,new xu(n),n.bypassAuthState)}function o3(n){let{auth:e,user:t}=n;return Y(t,e,"internal-error"),j4(t,new xu(n),n.bypassAuthState)}async function s3(n){let{auth:e,user:t}=n;return Y(t,e,"internal-error"),V4(t,new xu(n),n.bypassAuthState)}var lI=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return i3;case"linkViaPopup":case"linkViaRedirect":return s3;case"reauthViaPopup":case"reauthViaRedirect":return o3;default:ar(this.auth,"internal-error")}}resolve(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var One=new ko(2e3,1e4);var a3="pendingRedirect",Yf=new Map,dI=class extends lI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Yf.get(this.auth._key());if(!e){try{let r=await c3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Yf.set(this.auth._key(),e)}return this.bypassAuthState||Yf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function c3(n,e){let t=d3(e),r=l3(n);if(!await r._isAvailable())return!1;let i=await r._get(t)==="true";return await r._remove(t),i}function u3(n,e){Yf.set(n._key(),e)}function l3(n){return Vr(n._redirectPersistence)}function d3(n){return Qf(a3,n.config.apiKey,n.name)}async function h3(n,e,t=!1){if(tn(n.app))return Promise.reject(bi(n));let r=oa(n),i=r3(r,e),s=await new dI(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var f3=600*1e3,hI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!p3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!uN(e)){let r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Oo(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=f3&&this.cachedEventUids.clear(),this.cachedEventUids.has(IM(e))}saveEventToCache(e){this.cachedEventUids.add(IM(e)),this.lastProcessedEventTime=Date.now()}};function IM(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function uN({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function p3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uN(n);default:return!1}}async function g3(n,e={}){return Ti(n,"GET","/v1/projects",e)}var m3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,y3=/^https?/;async function v3(n){if(n.config.emulator)return;let{authorizedDomains:e}=await g3(n);for(let t of e)try{if(_3(t))return}catch{}ar(n,"unauthorized-domain")}function _3(n){let e=QE(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!y3.test(t))return!1;if(m3.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var E3=new ko(3e4,6e4);function wM(){let n=sr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function I3(n){return new Promise((e,t)=>{function r(){wM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wM(),t(Oo(n,"network-request-failed"))},timeout:E3.get()})}if(sr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(sr().gapi?.load)r();else{let i=GM("iframefcb");return sr()[i]=()=>{gapi.load?r():t(Oo(n,"network-request-failed"))},qM(`${S4()}?onload=${i}`).catch(o=>t(o))}}).catch(e=>{throw Jf=null,e})}var Jf=null;function w3(n){return Jf=Jf||I3(n),Jf}var D3=new ko(5e3,15e3),b3="__/auth/iframe",C3="emulator/auth/iframe",T3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},S3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function A3(n){let e=n.config;Y(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?mI(e,C3):`https://${n.config.authDomain}/${b3}`,r={apiKey:e.apiKey,appName:n.name,v:mi},i=S3.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Yc(r).slice(1)}`}async function R3(n){let e=await w3(n),t=sr().gapi;return Y(t,n,"internal-error"),e.open({where:document.body,url:A3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:T3,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=Oo(n,"network-request-failed"),a=sr().setTimeout(()=>{o(s)},D3.get());function u(){sr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})}))}var M3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N3=500,x3=600,P3="_blank",O3="http://localhost",up=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function k3(n,e,t,r=N3,i=x3){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=$(N({},M3),{width:r.toString(),height:i.toString(),top:o,left:s}),l=dt().toLowerCase();t&&(a=VM(l)?P3:t),FM(l)&&(e=e||O3,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[y,I])=>`${g}${y}=${I},`,"");if(I4(l)&&a!=="_self")return F3(e||"",a),new up(null);let p=window.open(e||"",a,h);Y(p,n,"popup-blocked");try{p.focus()}catch{}return new up(p)}function F3(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var L3="__/auth/handler",V3="emulator/auth/handler",j3=encodeURIComponent("fac");async function DM(n,e,t,r,i,o){Y(n.config.authDomain,n,"auth-domain-config-required"),Y(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:mi,eventId:i};if(e instanceof op){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",DS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof sI){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=await n._getAppCheckToken(),l=u?`#${j3}=${encodeURIComponent(u)}`:"";return`${U3(n)}?${Yc(a).slice(1)}${l}`}function U3({config:n}){return n.emulator?mI(n,V3):`https://${n.authDomain}/${L3}`}var KE="webStorageSupport",fI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wI,this._completeRedirectFn=h3,this._overrideRedirectResult=u3}async _openPopup(e,t,r,i){Ci(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");let o=await DM(e,t,r,QE(),i);return k3(e,o,iN())}async _openRedirect(e,t,r,i){await this._originValidation(e);let o=await DM(e,t,r,QE(),i);return W4(o),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Ci(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await R3(e),r=new hI(e);return t.register("authEvent",i=>(Y(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(KE,{type:KE},i=>{let o=i?.[0]?.[KE];o!==void 0&&t(!!o),ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=v3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return $M()||LM()||vI()}},lN=fI;var bM="@firebase/auth",CM="1.12.0";var pI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function B3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function H3(n){gi(new ln("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Y(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zM(n)},l=new nI(r,i,o,u);return R4(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),gi(new ln("auth-internal",e=>{let t=oa(e.getProvider("auth").getImmediate());return(r=>new pI(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Tn(bM,CM,B3(n)),Tn(bM,CM,"esm2020")}var $3=300,z3=bv("authIdTokenMaxAge")||$3,TM=null,q3=n=>async e=>{let t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>z3)return;let i=t?.token;TM!==i&&(TM=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function DI(n=jh()){let e=Zc(n,"auth");if(e.isInitialized())return e.getImmediate();let t=KM(n,{popupRedirectResolver:lN,persistence:[cN,rN,wI]}),r=bv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=q3(o.toString());nN(t,s,()=>s(t.currentUser)),tN(t,a=>s(a))}}let i=wv("auth");return i&&QM(t,`http://${i}`),t}function G3(){return document.getElementsByTagName("head")?.[0]??document}C4({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Oo("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",G3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});H3("Browser");var W3={firebase:{apiKey:"vvmrpX2H8L7bfkEQLLETMNUBuuLaMWBDtmxf5Fuy2BQ",authDomain:"isaacbarbearia-admin.firebaseapp.com",projectId:"isaacbarbearia-admin",storageBucket:"isaacbarbearia-admin.appspot.com",messagingSenderId:"YOUR_MESSAGING_SENDER_ID",appId:"YOUR_APP_ID"}},sa=class n{constructor(){this.app=Xc(W3.firebase);this.auth=DI(this.app);this.firestore=Iu(this.app)}login(e,t){return _I(this.auth,e,t)}logout(){return II(this.auth)}getCurrentUser(){return new Promise((e,t)=>{EI(this.auth,r=>{r?e(r):t(null)})})}async addProfissional(e){return Po(Dt(this.firestore,"profissionais"),e)}async getProfissionais(){return(await Nn(Dt(this.firestore,"profissionais"))).docs.map(t=>N({id:t.id},t.data()))}async updateProfissional(e,t){return zf(kt(this.firestore,"profissionais",e),t)}async deleteProfissional(e){return Du(kt(this.firestore,"profissionais",e))}async addParceiro(e){return Po(Dt(this.firestore,"parceiros"),e)}async getParceiros(){return(await Nn(Dt(this.firestore,"parceiros"))).docs.map(t=>N({id:t.id},t.data()))}async updateParceiro(e,t){return zf(kt(this.firestore,"parceiros",e),t)}async deleteParceiro(e){return Du(kt(this.firestore,"parceiros",e))}async addParticipacao(e){return Po(Dt(this.firestore,"participacoes"),e)}async getParticipacoes(){return(await Nn(Dt(this.firestore,"participacoes"))).docs.map(t=>N({id:t.id},t.data()))}async updateParticipacao(e,t){return zf(kt(this.firestore,"participacoes",e),t)}async deleteParticipacao(e){return Du(kt(this.firestore,"participacoes",e))}async addAvaliacao(e){return Po(Dt(this.firestore,"avaliacoes"),e)}async getAvaliacoes(){return(await Nn(Dt(this.firestore,"avaliacoes"))).docs.map(t=>N({id:t.id},t.data()))}async deleteAvaliacao(e){return Du(kt(this.firestore,"avaliacoes",e))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}};function K3(n,e){if(n&1&&(T(0,"p",7),k(1),R()),n&2){let t=W();x(),_e(t.erro)}}var fp=class n{constructor(e,t){this.firebaseService=e;this.router=t;this.email="";this.password="";this.erro=""}async login(){try{await this.firebaseService.login(this.email,this.password),this.router.navigate(["/admin"])}catch(e){this.erro="Email ou senha incorretos!",console.error("Erro de login:",e)}}static{this.\u0275fac=function(t){return new(t||n)(he(sa),he(ui))}}static{this.\u0275cmp=wn({type:n,selectors:[["app-login"]],decls:12,vars:3,consts:[[1,"login-container"],[1,"login-box"],[3,"ngSubmit"],["name","email","type","email","placeholder","Email","required","",3,"ngModelChange","ngModel"],["name","password","type","password","placeholder","Senha","required","",3,"ngModelChange","ngModel"],["type","submit"],["class","error",4,"ngIf"],[1,"error"]],template:function(t,r){t&1&&(T(0,"div",0)(1,"div",1)(2,"h1"),k(3,"Admin Login"),R(),T(4,"p"),k(5,"Isaac Barbearia"),R(),T(6,"form",2),xe("ngSubmit",function(){return r.login()}),T(7,"input",3),ut("ngModelChange",function(o){return It(r.email,o)||(r.email=o),o}),R(),T(8,"input",4),ut("ngModelChange",function(o){return It(r.password,o)||(r.password=o),o}),R(),T(9,"button",5),k(10,"Entrar"),R()(),Wn(11,K3,2,1,"p",6),R()()),t&2&&(x(7),ct("ngModel",r.email),x(),ct("ngModel",r.password),x(3),Le("ngIf",r.erro))},dependencies:[oi,yc,Ss,Mh,di,Ts,Ah,Wc,go,Gc],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);font-family:Arial,sans-serif}.login-box[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:8px;box-shadow:0 10px 25px #0003;width:100%;max-width:400px}h1[_ngcontent-%COMP%]{color:#333;text-align:center;margin:0 0 5px;font-size:28px}p[_ngcontent-%COMP%]{text-align:center;color:#999;margin:0 0 30px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}input[_ngcontent-%COMP%]{padding:12px;border:1px solid #ddd;border-radius:4px;font-size:14px;transition:border-color .3s}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 5px #667eea4d}button[_ngcontent-%COMP%]{padding:12px;background:#667eea;color:#fff;border:none;border-radius:4px;font-size:16px;cursor:pointer;transition:background .3s;font-weight:700}button[_ngcontent-%COMP%]:hover{background:#764ba2}.error[_ngcontent-%COMP%]{color:#e74c3c;text-align:center;margin-top:10px;font-size:14px}"]})}};function Q3(n,e){if(n&1){let t=Vt();T(0,"tr")(1,"td"),k(2),R(),T(3,"td"),k(4),R(),T(5,"td"),k(6),R(),T(7,"td")(8,"button",12),xe("click",function(){let i=Se(t).$implicit,o=W(2);return Ae(o.deletarProfissional(i.id))}),k(9,"Deletar"),R()()()}if(n&2){let t=e.$implicit;x(2),_e(t.nome),x(2),_e(t.especialidade),x(2),_e(t.telefone)}}function Y3(n,e){if(n&1){let t=Vt();T(0,"div",5)(1,"h2"),k(2,"Gerenciar Profissionais"),R(),T(3,"form",6),xe("ngSubmit",function(){Se(t);let i=W();return Ae(i.adicionarProfissional())}),T(4,"input",7),ut("ngModelChange",function(i){Se(t);let o=W();return It(o.novoProfissional.nome,i)||(o.novoProfissional.nome=i),Ae(i)}),R(),T(5,"input",8),ut("ngModelChange",function(i){Se(t);let o=W();return It(o.novoProfissional.especialidade,i)||(o.novoProfissional.especialidade=i),Ae(i)}),R(),T(6,"input",9),ut("ngModelChange",function(i){Se(t);let o=W();return It(o.novoProfissional.telefone,i)||(o.novoProfissional.telefone=i),Ae(i)}),R(),T(7,"button",10),k(8,"Adicionar Profissional"),R()(),T(9,"table")(10,"thead")(11,"tr")(12,"th"),k(13,"Nome"),R(),T(14,"th"),k(15,"Especialidade"),R(),T(16,"th"),k(17,"Telefone"),R(),T(18,"th"),k(19,"A\xE7\xF5es"),R()()(),T(20,"tbody"),Wn(21,Q3,10,3,"tr",11),R()()()}if(n&2){let t=W();x(4),ct("ngModel",t.novoProfissional.nome),x(),ct("ngModel",t.novoProfissional.especialidade),x(),ct("ngModel",t.novoProfissional.telefone),x(15),Le("ngForOf",t.profissionais)}}function J3(n,e){if(n&1){let t=Vt();T(0,"tr")(1,"td"),k(2),R(),T(3,"td"),k(4),R(),T(5,"td"),k(6),R(),T(7,"td")(8,"button",12),xe("click",function(){let i=Se(t).$implicit,o=W(2);return Ae(o.deletarParceiro(i.id))}),k(9,"Deletar"),R()()()}if(n&2){let t=e.$implicit;x(2),_e(t.nome),x(2),_e(t.descricao),x(2),at("",t.desconto,"%")}}function Z3(n,e){if(n&1){let t=Vt();T(0,"div",5)(1,"h2"),k(2,"Gerenciar Parceiros e Conv\xEAnios"),R(),T(3,"form",6),xe("ngSubmit",function(){Se(t);let i=W();return Ae(i.adicionarParceiro())}),T(4,"input",13),ut("ngModelChange",function(i){Se(t);let o=W();return It(o.novoParceiro.nome,i)||(o.novoParceiro.nome=i),Ae(i)}),R(),T(5,"input",14),ut("ngModelChange",function(i){Se(t);let o=W();return It(o.novoParceiro.descricao,i)||(o.novoParceiro.descricao=i),Ae(i)}),R(),T(6,"input",15),ut("ngModelChange",function(i){Se(t);let o=W();return It(o.novoParceiro.desconto,i)||(o.novoParceiro.desconto=i),Ae(i)}),R(),T(7,"button",10),k(8,"Adicionar Parceiro"),R()(),T(9,"table")(10,"thead")(11,"tr")(12,"th"),k(13,"Nome"),R(),T(14,"th"),k(15,"Descri\xE7\xE3o"),R(),T(16,"th"),k(17,"Desconto"),R(),T(18,"th"),k(19,"A\xE7\xF5es"),R()()(),T(20,"tbody"),Wn(21,J3,10,3,"tr",11),R()()()}if(n&2){let t=W();x(4),ct("ngModel",t.novoParceiro.nome),x(),ct("ngModel",t.novoParceiro.descricao),x(),ct("ngModel",t.novoParceiro.desconto),x(15),Le("ngForOf",t.parceiros)}}function X3(n,e){if(n&1){let t=Vt();T(0,"div",20)(1,"h3"),k(2),R(),T(3,"p"),k(4),R(),T(5,"p")(6,"strong"),k(7,"Data:"),R(),k(8),R(),T(9,"button",12),xe("click",function(){let i=Se(t).$implicit,o=W(2);return Ae(o.deletarParticipacao(i.id))}),k(10,"Deletar"),R()()}if(n&2){let t=e.$implicit;x(2),_e(t.titulo),x(2),_e(t.descricao),x(4),at(" ",t.data)}}function eH(n,e){if(n&1){let t=Vt();T(0,"div",5)(1,"h2"),k(2,"Participa\xE7\xE3o Comunit\xE1ria"),R(),T(3,"form",6),xe("ngSubmit",function(){Se(t);let i=W();return Ae(i.adicionarParticipacao())}),T(4,"input",16),ut("ngModelChange",function(i){Se(t);let o=W();return It(o.novaParticipacao.titulo,i)||(o.novaParticipacao.titulo=i),Ae(i)}),R(),T(5,"textarea",14),ut("ngModelChange",function(i){Se(t);let o=W();return It(o.novaParticipacao.descricao,i)||(o.novaParticipacao.descricao=i),Ae(i)}),R(),T(6,"input",17),ut("ngModelChange",function(i){Se(t);let o=W();return It(o.novaParticipacao.data,i)||(o.novaParticipacao.data=i),Ae(i)}),R(),T(7,"button",10),k(8,"Adicionar Evento"),R()(),T(9,"div",18),Wn(10,X3,11,3,"div",19),R()()}if(n&2){let t=W();x(4),ct("ngModel",t.novaParticipacao.titulo),x(),ct("ngModel",t.novaParticipacao.descricao),x(),ct("ngModel",t.novaParticipacao.data),x(4),Le("ngForOf",t.participacoes)}}function tH(n,e){if(n&1){let t=Vt();T(0,"div",22)(1,"h3"),k(2),R(),T(3,"p")(4,"strong"),k(5,"Estrelas:"),R(),k(6),R(),T(7,"p"),k(8),R(),T(9,"p")(10,"small"),k(11),R()(),T(12,"button",12),xe("click",function(){let i=Se(t).$implicit,o=W(2);return Ae(o.deletarAvaliacao(i.id))}),k(13,"Deletar"),R()()}if(n&2){let t=e.$implicit;x(2),_e(t.cliente),x(4),at(" ",t.estrelas,"/5"),x(2),_e(t.comentario),x(3),_e(t.data)}}function nH(n,e){if(n&1&&(T(0,"div",5)(1,"h2"),k(2,"Avalia\xE7\xF5es dos Clientes"),R(),T(3,"div",18),Wn(4,tH,14,4,"div",21),R()()),n&2){let t=W();x(4),Le("ngForOf",t.avaliacoes)}}var pp=class n{constructor(e,t){this.firebaseService=e;this.router=t;this.tabAtual="profissionais";this.profissionais=[];this.parceiros=[];this.participacoes=[];this.avaliacoes=[];this.novoProfissional={nome:"",especialidade:"",telefone:""};this.novoParceiro={nome:"",descricao:"",desconto:""};this.novaParticipacao={titulo:"",descricao:"",data:""}}ngOnInit(){this.carregarDados()}async carregarDados(){try{this.profissionais=await this.firebaseService.getProfissionais(),this.parceiros=await this.firebaseService.getParceiros(),this.participacoes=await this.firebaseService.getParticipacoes(),this.avaliacoes=await this.firebaseService.getAvaliacoes()}catch(e){console.error("Erro ao carregar dados:",e)}}async adicionarProfissional(){try{await this.firebaseService.addProfissional(this.novoProfissional),this.novoProfissional={nome:"",especialidade:"",telefone:""},this.carregarDados()}catch(e){console.error("Erro ao adicionar profissional:",e)}}async deletarProfissional(e){try{await this.firebaseService.deleteProfissional(e),this.carregarDados()}catch(t){console.error("Erro ao deletar profissional:",t)}}async adicionarParceiro(){try{await this.firebaseService.addParceiro(this.novoParceiro),this.novoParceiro={nome:"",descricao:"",desconto:""},this.carregarDados()}catch(e){console.error("Erro ao adicionar parceiro:",e)}}async deletarParceiro(e){try{await this.firebaseService.deleteParceiro(e),this.carregarDados()}catch(t){console.error("Erro ao deletar parceiro:",t)}}async adicionarParticipacao(){try{await this.firebaseService.addParticipacao(this.novaParticipacao),this.novaParticipacao={titulo:"",descricao:"",data:""},this.carregarDados()}catch(e){console.error("Erro ao adicionar participa\xE7\xE3o:",e)}}async deletarParticipacao(e){try{await this.firebaseService.deleteParticipacao(e),this.carregarDados()}catch(t){console.error("Erro ao deletar participa\xE7\xE3o:",t)}}async deletarAvaliacao(e){try{await this.firebaseService.deleteAvaliacao(e),this.carregarDados()}catch(t){console.error("Erro ao deletar avalia\xE7\xE3o:",t)}}async logout(){try{await this.firebaseService.logout(),this.router.navigate(["/"])}catch(e){console.error("Erro ao fazer logout:",e)}}static{this.\u0275fac=function(t){return new(t||n)(he(sa),he(ui))}}static{this.\u0275cmp=wn({type:n,selectors:[["app-admin"]],decls:18,vars:12,consts:[[1,"admin-container"],[1,"tabs"],[3,"click"],[1,"btn-logout",3,"click"],["class","tab-content",4,"ngIf"],[1,"tab-content"],[3,"ngSubmit"],["name","nome","placeholder","Nome","required","",3,"ngModelChange","ngModel"],["name","especialidade","placeholder","Especialidade","required","",3,"ngModelChange","ngModel"],["name","telefone","placeholder","Telefone",3,"ngModelChange","ngModel"],["type","submit"],[4,"ngFor","ngForOf"],[1,"btn-delete",3,"click"],["name","nome","placeholder","Nome do Parceiro","required","",3,"ngModelChange","ngModel"],["name","descricao","placeholder","Descri\xE7\xE3o",3,"ngModelChange","ngModel"],["name","desconto","placeholder","Desconto (%)",3,"ngModelChange","ngModel"],["name","titulo","placeholder","T\xEDtulo do Evento","required","",3,"ngModelChange","ngModel"],["name","data","type","date","required","",3,"ngModelChange","ngModel"],[1,"cards"],["class","card",4,"ngFor","ngForOf"],[1,"card"],["class","card-avaliacao",4,"ngFor","ngForOf"],[1,"card-avaliacao"]],template:function(t,r){t&1&&(T(0,"div",0)(1,"h1"),k(2,"Painel Admin - Isaac Barbearia"),R(),T(3,"div",1)(4,"button",2),xe("click",function(){return r.tabAtual="profissionais"}),k(5," Profissionais "),R(),T(6,"button",2),xe("click",function(){return r.tabAtual="parceiros"}),k(7," Parceiros "),R(),T(8,"button",2),xe("click",function(){return r.tabAtual="participacoes"}),k(9," Participa\xE7\xE3o "),R(),T(10,"button",2),xe("click",function(){return r.tabAtual="avaliacoes"}),k(11," Avalia\xE7\xF5es "),R(),T(12,"button",3),xe("click",function(){return r.logout()}),k(13,"Sair"),R()(),Wn(14,Y3,22,4,"div",4)(15,Z3,22,4,"div",4)(16,eH,11,4,"div",4)(17,nH,5,1,"div",4),R()),t&2&&(x(4),$e("active",r.tabAtual==="profissionais"),x(2),$e("active",r.tabAtual==="parceiros"),x(2),$e("active",r.tabAtual==="participacoes"),x(2),$e("active",r.tabAtual==="avaliacoes"),x(4),Le("ngIf",r.tabAtual==="profissionais"),x(),Le("ngIf",r.tabAtual==="parceiros"),x(),Le("ngIf",r.tabAtual==="participacoes"),x(),Le("ngIf",r.tabAtual==="avaliacoes"))},dependencies:[oi,Ud,yc,Ss,Mh,di,Ts,Ah,Wc,go,Gc],styles:[".admin-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;font-family:Arial,sans-serif}h1[_ngcontent-%COMP%]{color:#333;text-align:center;margin-bottom:30px}.tabs[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:30px;border-bottom:2px solid #ddd}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 20px;background:#f0f0f0;border:none;cursor:pointer;font-size:16px;border-radius:4px 4px 0 0;transition:all .3s}.tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#333;color:#fff}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#555;color:#fff}.btn-logout[_ngcontent-%COMP%]{margin-left:auto;background:#e74c3c!important}.btn-logout[_ngcontent-%COMP%]:hover{background:#c0392b!important}.tab-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}h2[_ngcontent-%COMP%]{color:#333;margin-bottom:20px}form[_ngcontent-%COMP%]{background:#f9f9f9;padding:20px;border-radius:8px;margin-bottom:30px;display:flex;flex-direction:column;gap:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:10px;border:1px solid #ddd;border-radius:4px;font-size:14px;font-family:Arial,sans-serif}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}button[type=submit][_ngcontent-%COMP%]{padding:12px 20px;background:#27ae60;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:16px;transition:background .3s}button[type=submit][_ngcontent-%COMP%]:hover{background:#229954}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px;background:#fff;box-shadow:0 2px 4px #0000001a}thead[_ngcontent-%COMP%]{background:#333;color:#fff}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #ddd}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f5f5f5}.btn-delete[_ngcontent-%COMP%]{padding:6px 12px;background:#e74c3c;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background .3s}.btn-delete[_ngcontent-%COMP%]:hover{background:#c0392b}.cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px;margin-top:20px}.card[_ngcontent-%COMP%], .card-avaliacao[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 8px #0000001a;transition:transform .3s,box-shadow .3s}.card[_ngcontent-%COMP%]:hover, .card-avaliacao[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 4px 12px #00000026}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .card-avaliacao[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;color:#333}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .card-avaliacao[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;color:#666}.card-avaliacao[_ngcontent-%COMP%]{border-left:4px solid #f39c12}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-top:10px}"]})}};var rH=[{path:"",component:qf},{path:"admin/login",component:fp},{path:"admin",component:pp},{path:"**",redirectTo:""}];jy(_h,{providers:[Ey(),lv(rH)]}).catch(n=>console.error(n));
