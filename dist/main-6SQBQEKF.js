var UN=Object.defineProperty,BN=Object.defineProperties;var HN=Object.getOwnPropertyDescriptors;var Ku=Object.getOwnPropertySymbols;var bw=Object.prototype.hasOwnProperty,Cw=Object.prototype.propertyIsEnumerable;var Dw=(n,e,t)=>e in n?UN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,M=(n,e)=>{for(var t in e||={})bw.call(e,t)&&Dw(n,t,e[t]);if(Ku)for(var t of Ku(e))Cw.call(e,t)&&Dw(n,t,e[t]);return n},z=(n,e)=>BN(n,HN(e));var Lp=(n,e)=>{var t={};for(var r in n)bw.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Ku)for(var r of Ku(n))e.indexOf(r)<0&&Cw.call(n,r)&&(t[r]=n[r]);return t};var Dt=null,Qu=!1,Bp=1,$N=null,Nt=Symbol("SIGNAL");function K(n){let e=Dt;return Dt=n,e}function Ju(){return Dt}var wa={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Da(n){if(Qu)throw new Error("");if(Dt===null)return;Dt.consumerOnSignalRead(n);let e=Dt.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=Dt.recomputing;if(r&&(t=e!==void 0?e.nextProducer:Dt.producers,t!==void 0&&t.producer===n)){Dt.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===Dt&&(!r||qN(i,Dt)))return;let o=Uo(Dt),s={producer:n,consumer:Dt,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};Dt.producersTail=s,e!==void 0?e.nextProducer=s:Dt.producers=s,o&&Rw(n,s)}function Tw(){Bp++}function Hp(n){if(!(Uo(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Bp)){if(!n.producerMustRecompute(n)&&!Xu(n)){Up(n);return}n.producerRecomputeValue(n),Up(n)}}function $p(n){if(n.consumers===void 0)return;let e=Qu;Qu=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||zN(r)}}finally{Qu=e}}function zp(){return Dt?.consumerAllowSignalWrites!==!1}function zN(n){n.dirty=!0,$p(n),n.consumerMarkedDirty?.(n)}function Up(n){n.dirty=!1,n.lastCleanEpoch=Bp}function ba(n){return n&&Sw(n),K(n)}function Sw(n){n.producersTail=void 0,n.recomputing=!0}function Zu(n,e){K(e),n&&Aw(n)}function Aw(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(Uo(n))do t=qp(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function Xu(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Hp(t),r!==t.version))return!0}return!1}function Ca(n){if(Uo(n)){let e=n.producers;for(;e!==void 0;)e=qp(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function Rw(n,e){let t=n.consumersTail,r=Uo(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)Rw(i.producer,i)}function qp(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Uo(e)){let o=e.producers;for(;o!==void 0;)o=qp(o)}return t}function Uo(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Gp(n){$N?.(n)}function qN(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Wp(n,e){return Object.is(n,e)}function el(n,e){let t=Object.create(GN);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Hp(t),Da(t),t.value===Yu)throw t.error;return t.value};return r[Nt]=t,Gp(t),r}var Vp=Symbol("UNSET"),jp=Symbol("COMPUTING"),Yu=Symbol("ERRORED"),GN=z(M({},wa),{value:Vp,dirty:!0,error:null,equal:Wp,kind:"computed",producerMustRecompute(n){return n.value===Vp||n.value===jp},producerRecomputeValue(n){if(n.value===jp)throw new Error("");let e=n.value;n.value=jp;let t=ba(n),r,i=!1;try{r=n.computation(),K(null),i=e!==Vp&&e!==Yu&&r!==Yu&&n.equal(e,r)}catch(o){r=Yu,n.error=o}finally{Zu(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function WN(){throw new Error}var Mw=WN;function Nw(n){Mw(n)}function Kp(n){Mw=n}var KN=null;function Qp(n,e){let t=Object.create(tl);t.value=n,e!==void 0&&(t.equal=e);let r=()=>xw(t);return r[Nt]=t,Gp(t),[r,s=>Ta(t,s),s=>Pw(t,s)]}function xw(n){return Da(n),n.value}function Ta(n,e){zp()||Nw(n),n.equal(n.value,e)||(n.value=e,QN(n))}function Pw(n,e){zp()||Nw(n),Ta(n,e(n.value))}var tl=z(M({},wa),{equal:Wp,value:void 0,kind:"signal"});function QN(n){n.version++,Tw(),$p(n),KN?.(n)}function Yp(n){let e=K(null);try{return n()}finally{K(e)}}function te(n){return typeof n=="function"}function Bo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var nl=Bo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Sa(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var pt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(te(r))try{r()}catch(o){e=o instanceof nl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Ow(o)}catch(s){e=e??[],s instanceof nl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new nl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Ow(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Sa(t,e)}remove(e){let{_finalizers:t}=this;t&&Sa(t,e),e instanceof n&&e._removeParent(this)}};pt.EMPTY=(()=>{let n=new pt;return n.closed=!0,n})();var Jp=pt.EMPTY;function rl(n){return n instanceof pt||n&&"closed"in n&&te(n.remove)&&te(n.add)&&te(n.unsubscribe)}function Ow(n){te(n)?n():n.unsubscribe()}var fn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ho={setTimeout(n,e,...t){let{delegate:r}=Ho;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Ho;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function il(n){Ho.setTimeout(()=>{let{onUnhandledError:e}=fn;if(e)e(n);else throw n})}function Aa(){}var kw=Zp("C",void 0,void 0);function Fw(n){return Zp("E",void 0,n)}function Lw(n){return Zp("N",n,void 0)}function Zp(n,e,t){return{kind:n,value:e,error:t}}var Ri=null;function $o(n){if(fn.useDeprecatedSynchronousErrorHandling){let e=!Ri;if(e&&(Ri={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Ri;if(Ri=null,t)throw r}}else n()}function Vw(n){fn.useDeprecatedSynchronousErrorHandling&&Ri&&(Ri.errorThrown=!0,Ri.error=n)}var Mi=class extends pt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,rl(e)&&e.add(this)):this.destination=ZN}static create(e,t,r){return new zo(e,t,r)}next(e){this.isStopped?eg(Lw(e),this):this._next(e)}error(e){this.isStopped?eg(Fw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?eg(kw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},YN=Function.prototype.bind;function Xp(n,e){return YN.call(n,e)}var tg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){ol(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){ol(r)}else ol(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ol(t)}}},zo=class extends Mi{constructor(e,t,r){super();let i;if(te(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&fn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Xp(e.next,o),error:e.error&&Xp(e.error,o),complete:e.complete&&Xp(e.complete,o)}):i=e}this.destination=new tg(i)}};function ol(n){fn.useDeprecatedSynchronousErrorHandling?Vw(n):il(n)}function JN(n){throw n}function eg(n,e){let{onStoppedNotification:t}=fn;t&&Ho.setTimeout(()=>t(n,e))}var ZN={closed:!0,next:Aa,error:JN,complete:Aa};var qo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function pn(n){return n}function ng(...n){return rg(n)}function rg(n){return n.length===0?pn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var he=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=ex(t)?t:new zo(t,r,i);return $o(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=jw(r),new r((i,o)=>{let s=new zo({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[qo](){return this}pipe(...t){return rg(t)(this)}toPromise(t){return t=jw(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function jw(n){var e;return(e=n??fn.Promise)!==null&&e!==void 0?e:Promise}function XN(n){return n&&te(n.next)&&te(n.error)&&te(n.complete)}function ex(n){return n&&n instanceof Mi||XN(n)&&rl(n)}function tx(n){return te(n?.lift)}function _e(n){return e=>{if(tx(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ee(n,e,t,r,i){return new ig(n,e,t,r,i)}var ig=class extends Mi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var Uw=Bo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var nt=(()=>{class n extends he{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new sl(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Uw}next(t){$o(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){$o(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){$o(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Jp:(this.currentObservers=null,o.push(t),new pt(()=>{this.currentObservers=null,Sa(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new he;return t.source=this,t}}return n.create=(e,t)=>new sl(e,t),n})(),sl=class extends nt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Jp}};var gt=class extends nt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var mt=new he(n=>n.complete());function Bw(n){return n&&te(n.schedule)}function Hw(n){return n[n.length-1]}function al(n){return te(Hw(n))?n.pop():void 0}function Hr(n){return Bw(Hw(n))?n.pop():void 0}function zw(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function $w(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ni(n){return this instanceof Ni?(this.v=n,this):new Ni(n)}function qw(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(T){return Promise.resolve(T).then(y,p)}}function a(y,T){r[y]&&(i[y]=function(N){return new Promise(function(P,j){o.push([y,N,P,j])>1||u(y,N)})},T&&(i[y]=T(i[y])))}function u(y,T){try{l(r[y](T))}catch(N){g(o[0][3],N)}}function l(y){y.value instanceof Ni?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,T){y(T),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Gw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof $w=="function"?$w(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var cl=n=>n&&typeof n.length=="number"&&typeof n!="function";function ul(n){return te(n?.then)}function ll(n){return te(n[qo])}function dl(n){return Symbol.asyncIterator&&te(n?.[Symbol.asyncIterator])}function hl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function nx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var fl=nx();function pl(n){return te(n?.[fl])}function gl(n){return qw(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ni(t.read());if(i)return yield Ni(void 0);yield yield Ni(r)}}finally{t.releaseLock()}})}function ml(n){return te(n?.getReader)}function ze(n){if(n instanceof he)return n;if(n!=null){if(ll(n))return rx(n);if(cl(n))return ix(n);if(ul(n))return ox(n);if(dl(n))return Ww(n);if(pl(n))return sx(n);if(ml(n))return ax(n)}throw hl(n)}function rx(n){return new he(e=>{let t=n[qo]();if(te(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ix(n){return new he(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function ox(n){return new he(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,il)})}function sx(n){return new he(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Ww(n){return new he(e=>{cx(n,e).catch(t=>e.error(t))})}function ax(n){return Ww(gl(n))}function cx(n,e){var t,r,i,o;return zw(this,void 0,void 0,function*(){try{for(t=Gw(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function kt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function yl(n,e=0){return _e((t,r)=>{t.subscribe(Ee(r,i=>kt(r,n,()=>r.next(i),e),()=>kt(r,n,()=>r.complete(),e),i=>kt(r,n,()=>r.error(i),e)))})}function vl(n,e=0){return _e((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Kw(n,e){return ze(n).pipe(vl(e),yl(e))}function Qw(n,e){return ze(n).pipe(vl(e),yl(e))}function Yw(n,e){return new he(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Jw(n,e){return new he(t=>{let r;return kt(t,e,()=>{r=n[fl](),kt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}function _l(n,e){if(!n)throw new Error("Iterable cannot be null");return new he(t=>{kt(t,e,()=>{let r=n[Symbol.asyncIterator]();kt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Zw(n,e){return _l(gl(n),e)}function Xw(n,e){if(n!=null){if(ll(n))return Kw(n,e);if(cl(n))return Yw(n,e);if(ul(n))return Qw(n,e);if(dl(n))return _l(n,e);if(pl(n))return Jw(n,e);if(ml(n))return Zw(n,e)}throw hl(n)}function qe(n,e){return e?Xw(n,e):ze(n)}function le(...n){let e=Hr(n);return qe(n,e)}function og(n,e){let t=te(n)?n:()=>n,r=i=>i.error(t());return new he(e?i=>e.schedule(r,0,i):r)}function El(n){return!!n&&(n instanceof he||te(n.lift)&&te(n.subscribe))}var xi=Bo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Me(n,e){return _e((t,r)=>{let i=0;t.subscribe(Ee(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:ux}=Array;function lx(n,e){return ux(e)?n(...e):n(e)}function Il(n){return Me(e=>lx(n,e))}var{isArray:dx}=Array,{getPrototypeOf:hx,prototype:fx,keys:px}=Object;function wl(n){if(n.length===1){let e=n[0];if(dx(e))return{args:e,keys:null};if(gx(e)){let t=px(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function gx(n){return n&&typeof n=="object"&&hx(n)===fx}function Dl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function sg(...n){let e=Hr(n),t=al(n),{args:r,keys:i}=wl(n);if(r.length===0)return qe([],e);let o=new he(mx(r,e,i?s=>Dl(i,s):pn));return t?o.pipe(Il(t)):o}function mx(n,e,t=pn){return r=>{eD(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)eD(e,()=>{let l=qe(n[u],e),h=!1;l.subscribe(Ee(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function eD(n,e,t){n?kt(t,n,e):e()}function tD(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?T(N):u.push(N),T=N=>{o&&e.next(N),l++;let P=!1;ze(t(N,h++)).subscribe(Ee(e,j=>{i?.(j),o?y(j):e.next(j)},()=>{P=!0},void 0,()=>{if(P)try{for(l--;u.length&&l<r;){let j=u.shift();s?kt(e,s,()=>T(j)):T(j)}g()}catch(j){e.error(j)}}))};return n.subscribe(Ee(e,y,()=>{p=!0,g()})),()=>{a?.()}}function xt(n,e,t=1/0){return te(e)?xt((r,i)=>Me((o,s)=>e(r,o,i,s))(ze(n(r,i))),t):(typeof e=="number"&&(t=e),_e((r,i)=>tD(r,i,n,t)))}function nD(n=1/0){return xt(pn,n)}function rD(){return nD(1)}function Go(...n){return rD()(qe(n,Hr(n)))}function Ra(n){return new he(e=>{ze(n()).subscribe(e)})}function ag(...n){let e=al(n),{args:t,keys:r}=wl(n),i=new he(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;ze(t[h]).subscribe(Ee(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Dl(r,a):a),o.complete())}))}});return e?i.pipe(Il(e)):i}function sr(n,e){return _e((t,r)=>{let i=0;t.subscribe(Ee(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Ma(n){return _e((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Ee(t,void 0,void 0,s=>{o=ze(n(s,Ma(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function bl(n,e){return te(e)?xt(n,e,1):xt(n,1)}function iD(n){return _e((e,t)=>{let r=!1;e.subscribe(Ee(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ar(n){return n<=0?()=>mt:_e((e,t)=>{let r=0;e.subscribe(Ee(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function oD(n=yx){return _e((e,t)=>{let r=!1;e.subscribe(Ee(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function yx(){return new xi}function cg(n){return _e((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function cr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?sr((i,o)=>n(i,o,r)):pn,ar(1),t?iD(e):oD(()=>new xi))}function Cl(n){return n<=0?()=>mt:_e((e,t)=>{let r=[];e.subscribe(Ee(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function ug(...n){let e=Hr(n);return _e((t,r)=>{(e?Go(n,t,e):Go(n,t)).subscribe(r)})}function ur(n,e){return _e((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Ee(r,u=>{i?.unsubscribe();let l=0,h=o++;ze(n(u,h)).subscribe(i=Ee(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Na(n){return _e((e,t)=>{ze(n).subscribe(Ee(t,()=>t.complete(),Aa)),!t.closed&&e.subscribe(t)})}function xn(n,e,t){let r=te(n)||e||t?{next:n,error:e,complete:t}:n;return r?_e((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ee(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):pn}var lg;function Tl(){return lg}function Pn(n){let e=lg;return lg=n,e}var sD=Symbol("NotFound");function Wo(n){return n===sD||n?.name==="\u0275NotFound"}var Nl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",H=class extends Error{code;constructor(e,t){super(Vi(e,t)),this.code=e}};function Ex(n){return`NG0${Math.abs(n)}`}function Vi(n,e){return`${Ex(n)}${e?": "+e:""}`}function Ie(n){for(let e in n)if(n[e]===Ie)return e;throw Error("")}function dD(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function dr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(dr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Cg(n,e){return n?e?`${n} ${e}`:n:e||""}var Ix=Ie({__forward_ref__:Ie});function fr(n){return n.__forward_ref__=fr,n.toString=function(){return dr(this())},n}function yt(n){return Tg(n)?n():n}function Tg(n){return typeof n=="function"&&n.hasOwnProperty(Ix)&&n.__forward_ref__===fr}function G(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function pr(n){return{providers:n.providers||[],imports:n.imports||[]}}function La(n){return wx(n,xl)}function Sg(n){return La(n)!==null}function wx(n,e){return n.hasOwnProperty(e)&&n[e]||null}function Dx(n){let e=n?.[xl]??null;return e||null}function hg(n){return n&&n.hasOwnProperty(Al)?n[Al]:null}var xl=Ie({\u0275prov:Ie}),Al=Ie({\u0275inj:Ie}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=G({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ag(n){return n&&!!n.\u0275providers}var Rg=Ie({\u0275cmp:Ie}),Mg=Ie({\u0275dir:Ie}),Ng=Ie({\u0275pipe:Ie}),xg=Ie({\u0275mod:Ie}),Pa=Ie({\u0275fac:Ie}),ji=Ie({__NG_ELEMENT_ID__:Ie}),aD=Ie({__NG_ENV_ID__:Ie});function Pg(n){return Pl(n,"@NgModule"),n[xg]||null}function zr(n){return Pl(n,"@Component"),n[Rg]||null}function Og(n){return Pl(n,"@Directive"),n[Mg]||null}function hD(n){return Pl(n,"@Pipe"),n[Ng]||null}function Pl(n,e){if(n==null)throw new H(-919,!1)}function Ol(n){return typeof n=="string"?n:n==null?"":String(n)}var fD=Ie({ngErrorCode:Ie}),bx=Ie({ngErrorMessage:Ie}),Cx=Ie({ngTokenPath:Ie});function kg(n,e){return pD("",-200,e)}function kl(n,e){throw new H(-201,!1)}function pD(n,e,t){let r=new H(e,n);return r[fD]=e,r[bx]=n,t&&(r[Cx]=t),r}function Tx(n){return n[fD]}var fg;function gD(){return fg}function Ht(n){let e=fg;return fg=n,e}function Fg(n,e,t){let r=La(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;kl(n,"")}var Sx={},Pi=Sx,Ax="__NG_DI_FLAG__",pg=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Oi(t)||0;try{return this.injector.get(e,r&8?null:Pi,r)}catch(i){if(Wo(i))return i;throw i}}};function Rx(n,e=0){let t=Tl();if(t===void 0)throw new H(-203,!1);if(t===null)return Fg(n,void 0,e);{let r=Mx(e),i=t.retrieve(n,r);if(Wo(i)){if(r.optional)return null;throw i}return i}}function oe(n,e=0){return(gD()||Rx)(yt(n),e)}function F(n,e){return oe(n,Oi(e))}function Oi(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Mx(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function gg(n){let e=[];for(let t=0;t<n.length;t++){let r=yt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new H(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=Nx(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(oe(i,o))}else e.push(oe(r))}return e}function Nx(n){return n[Ax]}function ki(n,e){let t=n.hasOwnProperty(Pa);return t?n[Pa]:null}function Fl(n,e){n.forEach(t=>Array.isArray(t)?Fl(t,e):e(t))}function Lg(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Va(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function mD(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function yD(n,e,t){let r=Yo(n,e);return r>=0?n[r|1]=t:(r=~r,mD(n,r,e,t)),r}function Ll(n,e){let t=Yo(n,e);if(t>=0)return n[t|1]}function Yo(n,e){return xx(n,e,1)}function xx(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var qr={},$t=[],Jo=new $(""),Vg=new $("",-1),jg=new $(""),Oa=class{get(e,t=Pi){if(t===Pi){let i=pD("",-201);throw i.name="\u0275NotFound",i}return t}};function ja(n){return{\u0275providers:n}}function vD(...n){return{\u0275providers:Ug(!0,n),\u0275fromNgModule:!0}}function Ug(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Fl(e,s=>{let a=s;Rl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&_D(i,o),t}function _D(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Bg(i,o=>{e(o,r)})}}function Rl(n,e,t,r){if(n=yt(n),!n)return!1;let i=null,o=hg(n),s=!o&&zr(n);if(!o&&!s){let u=n.ngModule;if(o=hg(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Rl(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;Fl(o.imports,h=>{Rl(h,e,t,r)&&(l||=[],l.push(h))}),l!==void 0&&_D(l,e)}if(!a){let l=ki(i)||(()=>new i);e({provide:i,useFactory:l,deps:$t},i),e({provide:jg,useValue:i,multi:!0},i),e({provide:Jo,useValue:()=>oe(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;Bg(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Bg(n,e){for(let t of n)Ag(t)&&(t=t.\u0275providers),Array.isArray(t)?Bg(t,e):e(t)}var Px=Ie({provide:String,useValue:Ie});function ED(n){return n!==null&&typeof n=="object"&&Px in n}function Ox(n){return!!(n&&n.useExisting)}function kx(n){return!!(n&&n.useFactory)}function Fi(n){return typeof n=="function"}function ID(n){return!!n.useClass}var Ua=new $(""),Sl={},cD={},dg;function Ba(){return dg===void 0&&(dg=new Oa),dg}var Ze=class{},Li=class extends Ze{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,yg(e,s=>this.processProvider(s)),this.records.set(Vg,Ko(void 0,this)),i.has("environment")&&this.records.set(Ze,Ko(void 0,this));let o=this.records.get(Ua);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(jg,$t,{self:!0}))}retrieve(e,t){let r=Oi(t)||0;try{return this.get(e,Pi,r)}catch(i){if(Wo(i))return i;throw i}}destroy(){xa(this),this._destroyed=!0;let e=K(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),K(e)}}onDestroy(e){return xa(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){xa(this);let t=Pn(this),r=Ht(void 0),i;try{return e()}finally{Pn(t),Ht(r)}}get(e,t=Pi,r){if(xa(this),e.hasOwnProperty(aD))return e[aD](this);let i=Oi(r),o,s=Pn(this),a=Ht(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=Ux(e)&&La(e);h&&this.injectableDefInScope(h)?l=Ko(mg(e),Sl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Ba():this.parent;return t=i&8&&t===Pi?null:t,u.get(e,t)}catch(u){let l=Tx(u);throw l===-200||l===-201?new H(l,null):u}finally{Ht(a),Pn(s)}}resolveInjectorInitializers(){let e=K(null),t=Pn(this),r=Ht(void 0),i;try{let o=this.get(Jo,$t,{self:!0});for(let s of o)s()}finally{Pn(t),Ht(r),K(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(dr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=yt(e);let t=Fi(e)?e:yt(e&&e.provide),r=Lx(e);if(!Fi(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Ko(void 0,Sl,!0),i.factory=()=>gg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=K(null);try{if(t.value===cD)throw kg(dr(e));return t.value===Sl&&(t.value=cD,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&jx(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{K(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=yt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function mg(n){let e=La(n),t=e!==null?e.factory:ki(n);if(t!==null)return t;if(n instanceof $)throw new H(204,!1);if(n instanceof Function)return Fx(n);throw new H(204,!1)}function Fx(n){if(n.length>0)throw new H(204,!1);let t=Dx(n);return t!==null?()=>t.factory(n):()=>new n}function Lx(n){if(ED(n))return Ko(void 0,n.useValue);{let e=Hg(n);return Ko(e,Sl)}}function Hg(n,e,t){let r;if(Fi(n)){let i=yt(n);return ki(i)||mg(i)}else if(ED(n))r=()=>yt(n.useValue);else if(kx(n))r=()=>n.useFactory(...gg(n.deps||[]));else if(Ox(n))r=(i,o)=>oe(yt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=yt(n&&(n.useClass||n.provide));if(Vx(n))r=()=>new i(...gg(n.deps));else return ki(i)||mg(i)}return r}function xa(n){if(n.destroyed)throw new H(205,!1)}function Ko(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Vx(n){return!!n.deps}function jx(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Ux(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function yg(n,e){for(let t of n)Array.isArray(t)?yg(t,e):t&&Ag(t)?yg(t.\u0275providers,e):e(t)}function bt(n,e){let t;n instanceof Li?(xa(n),t=n):t=new pg(n);let r,i=Pn(t),o=Ht(void 0);try{return e()}finally{Pn(i),Ht(o)}}function wD(){return gD()!==void 0||Tl()!=null}var gn=0,Y=1,ne=2,rt=3,nn=4,rn=5,Zo=6,Xo=7,je=8,gr=9,On=10,Pe=11,es=12,$g=13,Ui=14,Gt=15,Bi=16,Hi=17,$i=18,mr=19,zg=20,lr=21,Vl=22,Ha=23,Wt=24,jl=25,zi=26,vt=27,DD=1,qg=6,Gr=7,$a=8,za=9,Ue=10;function kn(n){return Array.isArray(n)&&typeof n[DD]=="object"}function mn(n){return Array.isArray(n)&&n[DD]===!0}function Gg(n){return(n.flags&4)!==0}function Wr(n){return n.componentOffset>-1}function qa(n){return(n.flags&1)===1}function Fn(n){return!!n.template}function ts(n){return(n[ne]&512)!==0}function qi(n){return(n[ne]&256)===256}var Wg="svg",bD="math";function on(n){for(;Array.isArray(n);)n=n[gn];return n}function Kg(n,e){return on(e[n])}function yn(n,e){return on(e[n.index])}function Ga(n,e){return n.data[e]}function sn(n,e){let t=e[n];return kn(t)?t:t[gn]}function Ul(n){return(n[ne]&128)===128}function CD(n){return mn(n[rt])}function Ln(n,e){return e==null?null:n[e]}function Qg(n){n[Hi]=0}function Yg(n){n[ne]&1024||(n[ne]|=1024,Ul(n)&&Ka(n))}function TD(n,e){for(;n>0;)e=e[Ui],n--;return e}function Wa(n){return!!(n[ne]&9216||n[Wt]?.dirty)}function Bl(n){n[On].changeDetectionScheduler?.notify(8),n[ne]&64&&(n[ne]|=1024),Wa(n)&&Ka(n)}function Ka(n){n[On].changeDetectionScheduler?.notify(0);let e=$r(n);for(;e!==null&&!(e[ne]&8192||(e[ne]|=8192,!Ul(e)));)e=$r(e)}function Jg(n,e){if(qi(n))throw new H(911,!1);n[lr]===null&&(n[lr]=[]),n[lr].push(e)}function SD(n,e){if(n[lr]===null)return;let t=n[lr].indexOf(e);t!==-1&&n[lr].splice(t,1)}function $r(n){let e=n[rt];return mn(e)?e[rt]:e}function AD(n){return n[Xo]??=[]}function RD(n){return n.cleanup??=[]}var se={lFrame:GD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var vg=!1;function MD(){return se.lFrame.elementDepthCount}function ND(){se.lFrame.elementDepthCount++}function xD(){se.lFrame.elementDepthCount--}function Zg(){return se.bindingsEnabled}function PD(){return se.skipHydrationRootTNode!==null}function OD(n){return se.skipHydrationRootTNode===n}function kD(){se.skipHydrationRootTNode=null}function fe(){return se.lFrame.lView}function Ct(){return se.lFrame.tView}function Te(n){return se.lFrame.contextLView=n,n[je]}function Se(n){return se.lFrame.contextLView=null,n}function Kt(){let n=Xg();for(;n!==null&&n.type===64;)n=n.parent;return n}function Xg(){return se.lFrame.currentTNode}function FD(){let n=se.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ns(n,e){let t=se.lFrame;t.currentTNode=n,t.isParent=e}function em(){return se.lFrame.isParent}function LD(){se.lFrame.isParent=!1}function tm(){return vg}function nm(n){let e=vg;return vg=n,e}function VD(){let n=se.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function jD(n){return se.lFrame.bindingIndex=n}function Gi(){return se.lFrame.bindingIndex++}function UD(n){let e=se.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function BD(){return se.lFrame.inI18n}function HD(n,e){let t=se.lFrame;t.bindingIndex=t.bindingRootIndex=n,Hl(e)}function $D(){return se.lFrame.currentDirectiveIndex}function Hl(n){se.lFrame.currentDirectiveIndex=n}function zD(n){let e=se.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function rm(n){se.lFrame.currentQueryIndex=n}function Bx(n){let e=n[Y];return e.type===2?e.declTNode:e.type===1?n[rn]:null}function im(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=Bx(o),i===null||(o=o[Ui],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=se.lFrame=qD();return r.currentTNode=e,r.lView=n,!0}function $l(n){let e=qD(),t=n[Y];se.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function qD(){let n=se.lFrame,e=n===null?null:n.child;return e===null?GD(n):e}function GD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function WD(){let n=se.lFrame;return se.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var om=WD;function zl(){let n=WD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function KD(n){return(se.lFrame.contextLView=TD(n,se.lFrame.contextLView))[je]}function Kr(){return se.lFrame.selectedIndex}function Qr(n){se.lFrame.selectedIndex=n}function ql(){let n=se.lFrame;return Ga(n.tView,n.selectedIndex)}function Tt(){se.lFrame.currentNamespace=Wg}function Wi(){Hx()}function Hx(){se.lFrame.currentNamespace=null}function QD(){return se.lFrame.currentNamespace}var YD=!0;function Gl(){return YD}function Wl(n){YD=n}function _g(n,e=null,t=null,r){let i=sm(n,e,t,r);return i.resolveInjectorInitializers(),i}function sm(n,e=null,t=null,r,i=new Set){let o=[t||$t,vD(n)];return r=r||(typeof n=="object"?void 0:dr(n)),new Li(o,e||Ba(),r||null,i)}var zt=class n{static THROW_IF_NOT_FOUND=Pi;static NULL=new Oa;static create(e,t){if(Array.isArray(e))return _g({name:""},t,e,"");{let r=e.name??"";return _g({name:r},e.parent,e.providers,r)}}static \u0275prov=G({token:n,providedIn:"any",factory:()=>oe(Vg)});static __NG_ELEMENT_ID__=-1},Xe=new $(""),Vn=(()=>{class n{static __NG_ELEMENT_ID__=$x;static __NG_ENV_ID__=t=>t}return n})(),Eg=class extends Vn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return qi(this._lView)}onDestroy(e){let t=this._lView;return Jg(t,e),()=>SD(t,e)}};function $x(){return new Eg(fe())}var JD=!1,ZD=new $(""),Yr=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new gt(!1);debugTaskTracker=F(ZD,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new he(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),this.debugTaskTracker?.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.debugTaskTracker?.remove(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})(),Ig=class extends nt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,wD()&&(this.destroyRef=F(Vn,{optional:!0})??void 0,this.pendingTasks=F(Yr,{optional:!0})??void 0)}emit(e){let t=K(null);try{super.next(e)}finally{K(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof pt&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ge=Ig;function Ml(...n){}function am(n){let e,t;function r(){n=Ml;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function XD(n){return queueMicrotask(()=>n()),()=>{n=Ml}}var cm="isAngularZone",ka=cm+"_ID",zx=0,qt=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ge(!1);onMicrotaskEmpty=new Ge(!1);onStable=new Ge(!1);onError=new Ge(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=JD}=e;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Wx(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(cm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new H(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,qx,Ml,Ml);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},qx={};function um(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Gx(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){am(()=>{n.callbackScheduled=!1,wg(n),n.isCheckStableRunning=!0,um(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),wg(n)}function Wx(n){let e=()=>{Gx(n)},t=zx++;n._inner=n._inner.fork({name:"angular",properties:{[cm]:!0,[ka]:t,[ka+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(Kx(u))return r.invokeTask(o,s,a,u);try{return uD(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),lD(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return uD(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Qx(u)&&e(),lD(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,wg(n),um(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function wg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function uD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function lD(n){n._nesting--,um(n)}var Fa=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ge;onMicrotaskEmpty=new Ge;onStable=new Ge;onError=new Ge;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function Kx(n){return eb(n,"__ignore_ng_zone__")}function Qx(n){return eb(n,"__scheduler_tick__")}function eb(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var hr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},jn=new $("",{factory:()=>{let n=F(qt),e=F(Ze),t;return r=>{n.runOutsideAngular(()=>{e.destroyed&&!t?setTimeout(()=>{throw r}):(t??=e.get(hr),t.handleError(r))})}}}),tb={provide:Jo,useValue:()=>{let n=F(hr,{optional:!0})},multi:!0};function Oe(n,e){let[t,r,i]=Qp(n,e?.equal),o=t,s=o[Nt];return o.set=r,o.update=i,o.asReadonly=nb.bind(o),o}function nb(){let n=this[Nt];if(n.readonlyFn===void 0){let e=()=>this();e[Nt]=n,n.readonlyFn=e}return n.readonlyFn}var Qo=class{},Qa=new $("",{factory:()=>!0});var lm=new $("");var dm=(()=>{class n{static \u0275prov=G({token:n,providedIn:"root",factory:()=>new Dg})}return n})(),Dg=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}},bg=class{[Nt];constructor(e){this[Nt]=e}destroy(){this[Nt].destroy()}};function it(n){return Yp(n)}function ic(n){return{toString:n}.toString()}function i1(n){return typeof n=="function"}function Pb(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Zl=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}},yr=(()=>{let n=()=>Ob;return n.ngInherit=!0,n})();function Ob(n){return n.type.prototype.ngOnChanges&&(n.setInput=s1),o1}function o1(){let n=Fb(this),e=n?.current;if(e){let t=n.previous;if(t===qr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function s1(n,e,t,r,i){let o=this.declaredInputs[r],s=Fb(n)||a1(n,{previous:qr,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Zl(l&&l.currentValue,t,u===qr),Pb(n,e,i,t)}var kb="__ngSimpleChanges__";function Fb(n){return n[kb]||null}function a1(n,e){return n[kb]=e}var rb=[];var De=function(n,e=null,t){for(let r=0;r<rb.length;r++){let i=rb[r];i(n,e,t)}},ye=(function(n){return n[n.TemplateCreateStart=0]="TemplateCreateStart",n[n.TemplateCreateEnd=1]="TemplateCreateEnd",n[n.TemplateUpdateStart=2]="TemplateUpdateStart",n[n.TemplateUpdateEnd=3]="TemplateUpdateEnd",n[n.LifecycleHookStart=4]="LifecycleHookStart",n[n.LifecycleHookEnd=5]="LifecycleHookEnd",n[n.OutputStart=6]="OutputStart",n[n.OutputEnd=7]="OutputEnd",n[n.BootstrapApplicationStart=8]="BootstrapApplicationStart",n[n.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",n[n.BootstrapComponentStart=10]="BootstrapComponentStart",n[n.BootstrapComponentEnd=11]="BootstrapComponentEnd",n[n.ChangeDetectionStart=12]="ChangeDetectionStart",n[n.ChangeDetectionEnd=13]="ChangeDetectionEnd",n[n.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",n[n.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",n[n.AfterRenderHooksStart=16]="AfterRenderHooksStart",n[n.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",n[n.ComponentStart=18]="ComponentStart",n[n.ComponentEnd=19]="ComponentEnd",n[n.DeferBlockStateStart=20]="DeferBlockStateStart",n[n.DeferBlockStateEnd=21]="DeferBlockStateEnd",n[n.DynamicComponentStart=22]="DynamicComponentStart",n[n.DynamicComponentEnd=23]="DynamicComponentEnd",n[n.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",n[n.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",n})(ye||{});function c1(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Ob(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Lb(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Ql(n,e,t){Vb(n,e,3,t)}function Yl(n,e,t,r){(n[ne]&3)===t&&Vb(n,e,t,r)}function hm(n,e){let t=n[ne];(t&3)===e&&(t&=16383,t+=1,n[ne]=t)}function Vb(n,e,t,r){let i=r!==void 0?n[Hi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Hi]+=65536),(a<o||o==-1)&&(u1(n,t,e,u),n[Hi]=(n[Hi]&4294901760)+u+2),u++}function ib(n,e){De(ye.LifecycleHookStart,n,e);let t=K(null);try{e.call(n)}finally{K(t),De(ye.LifecycleHookEnd,n,e)}}function u1(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ne]>>14<n[Hi]>>16&&(n[ne]&3)===e&&(n[ne]+=16384,ib(a,o)):ib(a,o)}var is=-1,Qi=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function l1(n){return(n.flags&8)!==0}function d1(n){return(n.flags&16)!==0}function h1(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];p1(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function f1(n){return n===3||n===4||n===6}function p1(n){return n.charCodeAt(0)===64}function Za(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?ob(n,t,i,null,e[++r]):ob(n,t,i,null,null))}}return n}function ob(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function jb(n){return n!==is}function Xl(n){return n&32767}function g1(n){return n>>16}function ed(n,e){let t=g1(n),r=e;for(;t>0;)r=r[Ui],t--;return r}var Dm=!0;function sb(n){let e=Dm;return Dm=n,e}var m1=256,Ub=m1-1,Bb=5,y1=0,Un={};function v1(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ji)&&(r=t[ji]),r==null&&(r=t[ji]=y1++);let i=r&Ub,o=1<<i;e.data[n+(i>>Bb)]|=o}function td(n,e){let t=Hb(n,e);if(t!==-1)return t;let r=e[Y];r.firstCreatePass&&(n.injectorIndex=e.length,fm(r.data,n),fm(e,null),fm(r.blueprint,null));let i=zm(n,e),o=n.injectorIndex;if(jb(i)){let s=Xl(i),a=ed(i,e),u=a[Y].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function fm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Hb(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function zm(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=Wb(i),r===null)return is;if(t++,i=i[Ui],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return is}function bm(n,e,t){v1(n,e,t)}function $b(n,e,t){if(t&8||n!==void 0)return n;kl(e,"NodeInjector")}function zb(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[gr],o=Ht(void 0);try{return i?i.get(e,r,t&8):Fg(e,r,t&8)}finally{Ht(o)}}return $b(r,e,t)}function qb(n,e,t,r=0,i){if(n!==null){if(e[ne]&2048&&!(r&2)){let s=D1(n,e,t,r,Un);if(s!==Un)return s}let o=Gb(n,e,t,r,Un);if(o!==Un)return o}return zb(e,t,r,i)}function Gb(n,e,t,r,i){let o=I1(t);if(typeof o=="function"){if(!im(e,n,r))return r&1?$b(i,t,r):zb(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))kl(t);else return s}finally{om()}}else if(typeof o=="number"){let s=null,a=Hb(n,e),u=is,l=r&1?e[Gt][rn]:null;for((a===-1||r&4)&&(u=a===-1?zm(n,e):e[a+8],u===is||!cb(r,!1)?a=-1:(s=e[Y],a=Xl(u),e=ed(u,e)));a!==-1;){let h=e[Y];if(ab(o,a,h.data)){let p=_1(a,e,t,s,r,l);if(p!==Un)return p}u=e[a+8],u!==is&&cb(r,e[Y].data[a+8]===l)&&ab(o,a,e)?(s=h,a=Xl(u),e=ed(u,e)):a=-1}}return i}function _1(n,e,t,r,i,o){let s=e[Y],a=s.data[n+8],u=r==null?Wr(a)&&Dm:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=E1(a,s,t,u,l);return h!==null?nd(e,s,h,a,i):Un}function E1(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let T=s[y];if(y<u&&t===T||y>=u&&T.type===t)return y}if(i){let y=s[u];if(y&&Fn(y)&&y.type===t)return u}return null}function nd(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Qi){let a=o;if(a.resolving)throw kg("");let u=sb(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],h,p=a.injectImpl?Ht(a.injectImpl):null,g=im(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&c1(t,s[t],e)}finally{p!==null&&Ht(p),sb(u),a.resolving=!1,om()}}return o}function I1(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ji)?n[ji]:void 0;return typeof e=="number"?e>=0?e&Ub:w1:e}function ab(n,e,t){let r=1<<n;return!!(t[e+(n>>Bb)]&r)}function cb(n,e){return!(n&2)&&!(n&1&&e)}var Ki=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return qb(this._tNode,this._lView,e,Oi(r),t)}};function w1(){return new Ki(Kt(),fe())}function eo(n){return ic(()=>{let e=n.prototype.constructor,t=e[Pa]||Cm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Pa]||Cm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Cm(n){return Tg(n)?()=>{let e=Cm(yt(n));return e&&e()}:ki(n)}function D1(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ne]&2048&&!ts(s);){let a=Gb(o,s,t,r|2,Un);if(a!==Un)return a;let u=o.parent;if(!u){let l=s[zg];if(l){let h=l.get(t,Un,r);if(h!==Un)return h}u=Wb(s),s=s[Ui]}o=u}return i}function Wb(n){let e=n[Y],t=e.type;return t===2?e.declTNode:t===1?n[rn]:null}function b1(){return pd(Kt(),fe())}function pd(n,e){return new Zr(yn(n,e))}var Zr=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=b1}return n})();function Kb(n){return(n.flags&128)===128}var qm=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(qm||{}),Qb=new Map,C1=0;function T1(){return C1++}function S1(n){Qb.set(n[mr],n)}function Tm(n){Qb.delete(n[mr])}var ub="__ngContext__";function os(n,e){kn(e)?(n[ub]=e[mr],S1(e)):n[ub]=e}function Yb(n){return Zb(n[es])}function Jb(n){return Zb(n[nn])}function Zb(n){for(;n!==null&&!mn(n);)n=n[nn];return n}var A1;function Gm(n){A1=n}var gd=new $("",{factory:()=>R1}),R1="ng";var md=new $(""),oc=new $("",{providedIn:"platform",factory:()=>"unknown"});var yd=new $("",{factory:()=>F(Xe).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),vd={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},_d=new $("",{factory:()=>vd});var Xb="r";var eC="di";var tC=!1,nC=new $("",{factory:()=>tC});var M1=(n,e,t,r)=>{};function N1(n,e,t,r){M1(n,e,t,r)}function Wm(n){return(n.flags&32)===32}var x1=()=>null;function rC(n,e,t=!1){return x1(n,e,t)}function iC(n,e){let t=n.contentQueries;if(t!==null){let r=K(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];rm(o),a.contentQueries(2,e[s],s)}}}finally{K(r)}}}function Sm(n,e,t){rm(0);let r=K(null);try{e(n,t)}finally{K(r)}}function oC(n,e,t){if(Gg(e)){let r=K(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{K(r)}}}var _n=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n[n.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",n})(_n||{});var rd=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Nl})`}};function sc(n){return n instanceof rd?n.changingThisBreaksApplicationSecurity:n}function sC(n,e){let t=aC(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Nl})`)}return t===e}function aC(n){return n instanceof rd&&n.getTypeName()||null}var P1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function cC(n){return n=String(n),n.match(P1)?n:"unsafe:"+n}function O1(n,e){return n.createText(e)}function k1(n,e,t){n.setValue(e,t)}function uC(n,e,t){return n.createElement(e,t)}function id(n,e,t,r,i){n.insertBefore(e,t,r,i)}function lC(n,e,t){n.appendChild(e,t)}function lb(n,e,t,r,i){r!==null?id(n,e,t,r,i):lC(n,e,t)}function dC(n,e,t,r){n.removeChild(null,e,t,r)}function F1(n,e,t){n.setAttribute(e,"style",t)}function L1(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function hC(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&h1(n,e,r),i!==null&&L1(n,e,i),o!==null&&F1(n,e,o)}var Km=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Km||{});function cs(n){let e=V1();return e?e.sanitize(Km.URL,n)||"":sC(n,"URL")?sc(n):cC(Ol(n))}function V1(){let n=fe();return n&&n[On].sanitizer}function fC(n){return n instanceof Function?n():n}function j1(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var pC="ng-template";function U1(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&j1(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Qm(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Qm(n){return n.type===4&&n.value!==pC}function B1(n,e,t){let r=n.type===4&&!t?pC:n.value;return e===r}function H1(n,e,t){let r=4,i=n.attrs,o=i!==null?q1(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!vn(r)&&!vn(u))return!1;if(s&&vn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!B1(n,u,t)||u===""&&e.length===1){if(vn(r))return!1;s=!0}}else if(r&8){if(i===null||!U1(n,i,u,t)){if(vn(r))return!1;s=!0}}else{let l=e[++a],h=$1(u,i,Qm(n),t);if(h===-1){if(vn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(vn(r))return!1;s=!0}}}}return vn(r)||s}function vn(n){return(n&1)===0}function $1(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return G1(e,n)}function z1(n,e,t=!1){for(let r=0;r<e.length;r++)if(H1(n,e[r],t))return!0;return!1}function q1(n){for(let e=0;e<n.length;e++){let t=n[e];if(f1(t))return e}return n.length}function G1(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function db(n,e){return n?":not("+e.trim()+")":e}function W1(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!vn(s)&&(e+=db(o,i),i=""),r=s,o=o||!vn(r);t++}return i!==""&&(e+=db(o,i)),e}function K1(n){return n.map(W1).join(",")}function Q1(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!vn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Hn={};function Ym(n,e,t,r,i,o,s,a,u,l,h){let p=vt+r,g=p+i,y=Y1(p,g),T=typeof l=="function"?l():l;return y[Y]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:T,incompleteFirstPass:!1,ssrId:h}}function Y1(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Hn);return t}function J1(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Ym(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Jm(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[gn]=i,p[ne]=r|4|128|8|64|1024,(l!==null||n&&n[ne]&2048)&&(p[ne]|=2048),Qg(p),p[rt]=p[Ui]=n,p[je]=t,p[On]=s||n&&n[On],p[Pe]=a||n&&n[Pe],p[gr]=u||n&&n[gr]||null,p[rn]=o,p[mr]=T1(),p[Zo]=h,p[zg]=l,p[Gt]=e.type==2?n[Gt]:p,p}function Z1(n,e,t){let r=yn(e,n),i=J1(t),o=n[On].rendererFactory,s=Zm(n,Jm(n,i,null,gC(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function gC(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function mC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Zm(n,e){return n[es]?n[$g][nn]=e:n[es]=e,n[$g]=e,e}function x(n=1){yC(Ct(),fe(),Kr()+n,!1)}function yC(n,e,t,r){if(!r)if((e[ne]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Ql(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Yl(e,o,0,t)}Qr(t)}var Ed=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Ed||{});function Am(n,e,t,r){let i=K(null);try{let[o,s,a]=n.inputs[t],u=null;(s&Ed.SignalBased)!==0&&(u=e[o][Nt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):Pb(e,u,o,r)}finally{K(i)}}var Bn=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Bn||{}),X1;function Xm(n,e){return X1(n,e)}var Yi=new Set,ey=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(ey||{}),ac=new $(""),hb=new Set;function $n(n){hb.has(n)||(hb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var vC=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=G({token:n,providedIn:"root",factory:()=>new n})}return n})();var _C=new $("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:F(Ze)})});function EC(n,e,t){let r=n.get(_C);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function eP(n,e){let t=n.get(_C);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)t.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function tP(n,e){for(let[t,r]of e)EC(n,r.animateFns)}function fb(n,e,t,r){let i=n?.[zi]?.enter;e!==null&&i&&i.has(t.index)&&tP(r,i)}function rs(n,e,t,r,i,o,s,a){if(i!=null){let u,l=!1;mn(i)?u=i:kn(i)&&(l=!0,i=i[gn]);let h=on(i);n===0&&r!==null?(fb(a,r,o,t),s==null?lC(e,r,h):id(e,r,h,s||null,!0)):n===1&&r!==null?(fb(a,r,o,t),id(e,r,h,s||null,!0)):n===2?pb(a,o,t,p=>{dC(e,h,l,p)}):n===3&&pb(a,o,t,()=>{e.destroyNode(h)}),u!=null&&pP(e,n,t,u,o,r,s)}}function nP(n,e){IC(n,e),e[gn]=null,e[rn]=null}function rP(n,e,t,r,i,o){r[gn]=i,r[rn]=e,wd(n,r,t,1,i,o)}function IC(n,e){e[On].changeDetectionScheduler?.notify(9),wd(n,e,e[Pe],2,null,null)}function iP(n){let e=n[es];if(!e)return pm(n[Y],n);for(;e;){let t=null;if(kn(e))t=e[es];else{let r=e[Ue];r&&(t=r)}if(!t){for(;e&&!e[nn]&&e!==n;)kn(e)&&pm(e[Y],e),e=e[rt];e===null&&(e=n),kn(e)&&pm(e[Y],e),t=e&&e[nn]}e=t}}function ty(n,e){let t=n[za],r=t.indexOf(e);t.splice(r,1)}function Id(n,e){if(qi(e))return;let t=e[Pe];t.destroyNode&&wd(n,e,t,3,null,null),iP(e)}function pm(n,e){if(qi(e))return;let t=K(null);try{e[ne]&=-129,e[ne]|=256,e[Wt]&&Ca(e[Wt]),aP(n,e),sP(n,e),e[Y].type===1&&e[Pe].destroy();let r=e[Bi];if(r!==null&&mn(e[rt])){r!==e[rt]&&ty(r,e);let i=e[$i];i!==null&&i.detachView(n)}Tm(e)}finally{K(t)}}function pb(n,e,t,r){let i=n?.[zi];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&Yi.add(n[mr]),EC(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:h}=l();a.push(h)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),oP(n,r)}else n&&Yi.delete(n[mr]),r(!1)},i)}function oP(n,e){let t=n[zi]?.running;if(t){t.then(()=>{n[zi].running=void 0,Yi.delete(n[mr]),e(!0)});return}e(!1)}function sP(n,e){let t=n.cleanup,r=e[Xo];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Xo]=null);let i=e[lr];if(i!==null){e[lr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Ha];if(o!==null){e[Ha]=null;for(let s of o)s.destroy()}}function aP(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Qi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];De(ye.LifecycleHookStart,a,u);try{u.call(a)}finally{De(ye.LifecycleHookEnd,a,u)}}else{De(ye.LifecycleHookStart,i,o);try{o.call(i)}finally{De(ye.LifecycleHookEnd,i,o)}}}}}function cP(n,e,t){return uP(n,e.parent,t)}function uP(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[gn];if(Wr(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===_n.None||i===_n.Emulated)return null}return yn(r,t)}function lP(n,e,t){return hP(n,e,t)}function dP(n,e,t){return n.type&40?yn(n,t):null}var hP=dP,gb;function ny(n,e,t,r){let i=cP(n,r,e),o=e[Pe],s=r.parent||e[rn],a=lP(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)lb(o,i,t[u],a,!1);else lb(o,i,t,a,!1);gb!==void 0&&gb(o,r,e,t,i)}function Ya(n,e){if(e!==null){let t=e.type;if(t&3)return yn(e,n);if(t&4)return Rm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Ya(n,r);{let i=n[e.index];return mn(i)?Rm(-1,i):on(i)}}else{if(t&128)return Ya(n,e.next);if(t&32)return Xm(e,n)()||on(n[e.index]);{let r=wC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=$r(n[Gt]);return Ya(i,r)}else return Ya(n,e.next)}}}return null}function wC(n,e){if(e!==null){let r=n[Gt][rn],i=e.projection;return r.projection[i]}return null}function Rm(n,e){let t=Ue+n+1;if(t<e.length){let r=e[t],i=r[Y].firstChild;if(i!==null)return Ya(r,i)}return e[Gr]}function ry(n,e,t,r,i,o,s){for(;t!=null;){let a=r[gr];if(t.type===128){t=t.next;continue}let u=r[t.index],l=t.type;if(s&&e===0&&(u&&os(on(u),r),t.flags|=2),!Wm(t))if(l&8)ry(n,e,t.child,r,i,o,!1),rs(e,n,a,i,u,t,o,r);else if(l&32){let h=Xm(t,r),p;for(;p=h();)rs(e,n,a,i,p,t,o,r);rs(e,n,a,i,u,t,o,r)}else l&16?fP(n,e,r,t,i,o):rs(e,n,a,i,u,t,o,r);t=s?t.projectionNext:t.next}}function wd(n,e,t,r,i,o){ry(t,r,n.firstChild,e,i,o,!1)}function fP(n,e,t,r,i,o){let s=t[Gt],u=s[rn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];rs(e,n,t[gr],i,h,r,o,t)}else{let l=u,h=s[rt];Kb(r)&&(l.flags|=128),ry(n,e,l,h,i,o,!0)}}function pP(n,e,t,r,i,o,s){let a=r[Gr],u=on(r);a!==u&&rs(e,n,t,o,a,i,s);for(let l=Ue;l<r.length;l++){let h=r[l];wd(h[Y],h,n,e,o,a)}}function gP(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Bn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Bn.Important),n.setStyle(t,r,i,o))}}function DC(n,e,t,r,i){let o=Kr(),s=r&2;try{Qr(-1),s&&e.length>vt&&yC(n,e,vt,!1);let a=s?ye.TemplateUpdateStart:ye.TemplateCreateStart;De(a,i,t),t(r,i)}finally{Qr(o);let a=s?ye.TemplateUpdateEnd:ye.TemplateCreateEnd;De(a,i,t)}}function iy(n,e,t){wP(n,e,t),(t.flags&64)===64&&DP(n,e,t)}function oy(n,e,t=yn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function mP(n,e,t,r){let o=r.get(nC,tC)||t===_n.ShadowDom||t===_n.ExperimentalIsolatedShadowDom,s=n.selectRootElement(e,o);return yP(s),s}function yP(n){vP(n)}var vP=()=>null;function _P(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function bC(n,e,t,r,i,o){let s=e[Y];if(sy(n,s,e,t,r)){Wr(n)&&IP(e,n.index);return}n.type&3&&(t=_P(t)),EP(n,e,t,r,i,o)}function EP(n,e,t,r,i,o){if(n.type&3){let s=yn(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function IP(n,e){let t=sn(e,n);t[ne]&16||(t[ne]|=64)}function wP(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Wr(t)&&Z1(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||td(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=nd(e,n,s,t);if(os(u,e),o!==null&&SP(e,s-r,u,a,t,o),Fn(a)){let l=sn(t.index,e);l[je]=nd(e,n,s,t)}}}function DP(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=$D();try{Qr(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Hl(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&bP(u,l)}}finally{Qr(-1),Hl(s)}}function bP(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function CC(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];z1(e,o.selectors,!1)&&(r??=[],Fn(o)?r.unshift(o):r.push(o))}return r}function CP(n,e,t,r,i,o){let s=yn(n,e);TP(e[Pe],s,o,n.value,t,r,i)}function TP(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Ol(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function SP(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Am(r,t,u,l)}}function AP(n,e,t,r,i){let o=vt+t,s=e[Y],a=i(s,e,n,r,t);e[o]=a,ns(n,!0);let u=n.type===2;return u?(hC(e[Pe],a,n),(MD()===0||qa(n))&&os(a,e),ND()):os(a,e),Gl()&&(!u||!Wm(n))&&ny(s,e,a,n),n}function RP(n){let e=n;return em()?LD():(e=e.parent,ns(e,!1)),e}function MP(n,e){let t=n[gr];if(!t)return;let r;try{r=t.get(jn,null)}catch{r=null}r?.(e)}function sy(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Am(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];Am(h,l,r,i),a=!0}return a}function NP(n,e){let t=sn(e,n),r=t[Y];xP(r,t);let i=t[gn];i!==null&&t[Zo]===null&&(t[Zo]=rC(i,t[gr])),De(ye.ComponentStart);try{ay(r,t,t[je])}finally{De(ye.ComponentEnd,t[je])}}function xP(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function ay(n,e,t){$l(e);try{let r=n.viewQuery;r!==null&&Sm(1,r,t);let i=n.template;i!==null&&DC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[$i]?.finishViewCreation(n),n.staticContentQueries&&iC(n,e),n.staticViewQueries&&Sm(2,n.viewQuery,t);let o=n.components;o!==null&&PP(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ne]&=-5,zl()}}function PP(n,e){for(let t=0;t<e.length;t++)NP(n,e[t])}function Dd(n,e,t,r){let i=K(null);try{let o=e.tView,a=n[ne]&4096?4096:16,u=Jm(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Bi]=l;let h=n[$i];return h!==null&&(u[$i]=h.createEmbeddedView(o)),ay(o,u,t),u}finally{K(i)}}function Xa(n,e){return!e||e.firstChild===null||Kb(n)}function ec(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(on(o)),mn(o)&&TC(o,r);let s=t.type;if(s&8)ec(n,e,t.child,r);else if(s&32){let a=Xm(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=wC(e,t);if(Array.isArray(a))r.push(...a);else{let u=$r(e[Gt]);ec(u[Y],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function TC(n,e){for(let t=Ue;t<n.length;t++){let r=n[t],i=r[Y].firstChild;i!==null&&ec(r[Y],r,i,e)}n[Gr]!==n[gn]&&e.push(n[Gr])}function SC(n){if(n[jl]!==null){for(let e of n[jl])e.impl.addSequence(e);n[jl].length=0}}var AC=[];function OP(n){return n[Wt]??kP(n)}function kP(n){let e=AC.pop()??Object.create(LP);return e.lView=n,e}function FP(n){n.lView[Wt]!==n&&(n.lView=null,AC.push(n))}var LP=z(M({},wa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Ka(n.lView)},consumerOnSignalRead(){this.lView[Wt]=this}});function VP(n){let e=n[Wt]??Object.create(jP);return e.lView=n,e}var jP=z(M({},wa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=$r(n.lView);for(;e&&!RC(e[Y]);)e=$r(e);e&&Yg(e)},consumerOnSignalRead(){this.lView[Wt]=this}});function RC(n){return n.type!==2}function MC(n){if(n[Ha]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Ha])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ne]&8192)}}var UP=100;function NC(n,e=0){let r=n[On].rendererFactory,i=!1;i||r.begin?.();try{BP(n,e)}finally{i||r.end?.()}}function BP(n,e){let t=tm();try{nm(!0),Mm(n,e);let r=0;for(;Wa(n);){if(r===UP)throw new H(103,!1);r++,Mm(n,1)}}finally{nm(t)}}function HP(n,e,t,r){if(qi(e))return;let i=e[ne],o=!1,s=!1;$l(e);let a=!0,u=null,l=null;o||(RC(n)?(l=OP(e),u=ba(l)):Ju()===null?(a=!1,l=VP(e),u=ba(l)):e[Wt]&&(Ca(e[Wt]),e[Wt]=null));try{Qg(e),jD(n.bindingStartIndex),t!==null&&DC(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&Ql(e,y,null)}else{let y=n.preOrderHooks;y!==null&&Yl(e,y,0,null),hm(e,0)}if(s||$P(e),MC(e),xC(e,0),n.contentQueries!==null&&iC(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&Ql(e,y)}else{let y=n.contentHooks;y!==null&&Yl(e,y,1),hm(e,1)}qP(n,e);let p=n.components;p!==null&&OC(e,p,0);let g=n.viewQuery;if(g!==null&&Sm(2,g,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&Ql(e,y)}else{let y=n.viewHooks;y!==null&&Yl(e,y,2),hm(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Vl]){for(let y of e[Vl])y();e[Vl]=null}o||(SC(e),e[ne]&=-73)}catch(h){throw o||Ka(e),h}finally{l!==null&&(Zu(l,u),a&&FP(l)),zl()}}function xC(n,e){for(let t=Yb(n);t!==null;t=Jb(t))for(let r=Ue;r<t.length;r++){let i=t[r];PC(i,e)}}function $P(n){for(let e=Yb(n);e!==null;e=Jb(e)){if(!(e[ne]&2))continue;let t=e[za];for(let r=0;r<t.length;r++){let i=t[r];Yg(i)}}}function zP(n,e,t){De(ye.ComponentStart);let r=sn(e,n);try{PC(r,t)}finally{De(ye.ComponentEnd,r[je])}}function PC(n,e){Ul(n)&&Mm(n,e)}function Mm(n,e){let r=n[Y],i=n[ne],o=n[Wt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Xu(o)),s||=!1,o&&(o.dirty=!1),n[ne]&=-9217,s)HP(r,n,r.template,n[je]);else if(i&8192){let a=K(null);try{MC(n),xC(n,1);let u=r.components;u!==null&&OC(n,u,1),SC(n)}finally{K(a)}}}function OC(n,e,t){for(let r=0;r<e.length;r++)zP(n,e[r],t)}function qP(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Qr(~i);else{let o=i,s=t[++r],a=t[++r];HD(s,o);let u=e[o];De(ye.HostBindingsUpdateStart,u);try{a(2,u)}finally{De(ye.HostBindingsUpdateEnd,u)}}}}finally{Qr(-1)}}function cy(n,e){let t=tm()?64:1088;for(n[On].changeDetectionScheduler?.notify(e);n;){n[ne]|=t;let r=$r(n);if(ts(n)&&!r)return n;n=r}return null}function kC(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function FC(n,e){let t=Ue+e;if(t<n.length)return n[t]}function bd(n,e,t,r=!0){let i=e[Y];if(GP(i,e,n,t),r){let s=Rm(t,n),a=e[Pe],u=a.parentNode(n[Gr]);u!==null&&rP(i,n[rn],a,e,u,s)}let o=e[Zo];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function LC(n,e){let t=tc(n,e);return t!==void 0&&Id(t[Y],t),t}function tc(n,e){if(n.length<=Ue)return;let t=Ue+e,r=n[t];if(r){let i=r[Bi];i!==null&&i!==n&&ty(i,r),e>0&&(n[t-1][nn]=r[nn]);let o=Va(n,Ue+e);nP(r[Y],r);let s=o[$i];s!==null&&s.detachView(o[Y]),r[rt]=null,r[nn]=null,r[ne]&=-129}return r}function GP(n,e,t,r){let i=Ue+r,o=t.length;r>0&&(t[i-1][nn]=e),r<o-Ue?(e[nn]=t[i],Lg(t,Ue+r,e)):(t.push(e),e[nn]=null),e[rt]=t;let s=e[Bi];s!==null&&t!==s&&VC(s,e);let a=e[$i];a!==null&&a.insertView(n),Bl(e),e[ne]|=128}function VC(n,e){let t=n[za],r=e[rt];if(kn(r))n[ne]|=2;else{let i=r[rt][Gt];e[Gt]!==i&&(n[ne]|=2)}t===null?n[za]=[e]:t.push(e)}var Jr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[Y];return ec(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[je]}set context(e){this._lView[je]=e}get destroyed(){return qi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[rt];if(mn(e)){let t=e[$a],r=t?t.indexOf(this):-1;r>-1&&(tc(e,r),Va(t,r))}this._attachedToViewContainer=!1}Id(this._lView[Y],this._lView)}onDestroy(e){Jg(this._lView,e)}markForCheck(){cy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ne]&=-129}reattach(){Bl(this._lView),this._lView[ne]|=128}detectChanges(){this._lView[ne]|=1024,NC(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ts(this._lView),t=this._lView[Bi];t!==null&&!e&&ty(t,this._lView),IC(this._lView[Y],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e;let t=ts(this._lView),r=this._lView[Bi];r!==null&&!t&&VC(r,this._lView),Bl(this._lView)}};var cc=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=WP;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=Dd(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Jr(o)}}return n})();function WP(){return KP(Kt(),fe())}function KP(n,e){return n.type&4?new cc(e,n,pd(n,e)):null}function Cd(n,e,t,r,i){let o=n.data[e];if(o===null)o=QP(n,e,t,r,i),BD()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=FD();o.injectorIndex=s===null?-1:s.injectorIndex}return ns(o,!0),o}function QP(n,e,t,r,i){let o=Xg(),s=em(),a=s?o:o&&o.parent,u=n.data[e]=JP(n,a,t,e,r,i);return YP(n,u,o,s),u}function YP(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function JP(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return PD()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ZP(n){let e=n[qg]??[],r=n[rt][Pe],i=[];for(let o of e)o.data[eC]!==void 0?i.push(o):XP(o,r);n[qg]=i}function XP(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[Xb];for(;t<i;){let o=r.nextSibling;dC(e,r,!1),r=o,t++}}}var eO=()=>null,tO=()=>null;function Nm(n,e){return eO(n,e)}function jC(n,e,t){return tO(n,e,t)}var UC=class{},Td=class{},xm=class{resolveComponentFactory(e){throw new H(917,!1)}},uc=class{static NULL=new xm},Ji=class{},to=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>nO()}return n})();function nO(){let n=fe(),e=Kt(),t=sn(e.index,n);return(kn(t)?t:n)[Pe]}var BC=(()=>{class n{static \u0275prov=G({token:n,providedIn:"root",factory:()=>null})}return n})();var Jl={},Pm=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Jl,r);return i!==Jl||t===Jl?i:this.parentInjector.get(e,t,r)}};function mb(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Cg(i,a);else if(o==2){let u=a,l=e[++s];r=Cg(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function pe(n,e=0){let t=fe();if(t===null)return oe(n,e);let r=Kt();return qb(r,t,yt(n),e)}function HC(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}oO(n,e,t,a,o,u,l)}o!==null&&r!==null&&rO(t,r,o)}function rO(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new H(-301,!1);r.push(e[i],o)}}function iO(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function oO(n,e,t,r,i,o,s){let a=r.length,u=null;for(let g=0;g<a;g++){let y=r[g];u===null&&Fn(y)&&(u=y,iO(n,t,g)),bm(td(t,e),n,y.type)}dO(t,n.data.length,a),u?.viewProvidersResolver&&u.viewProvidersResolver(u);for(let g=0;g<a;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=mC(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let y=r[g];if(t.mergedAttrs=Za(t.mergedAttrs,y.hostAttrs),aO(n,t,e,p,y),lO(p,y,i),s!==null&&s.has(y)){let[N,P]=s.get(y);t.directiveToIndex.set(y.type,[p,N+t.directiveStart,P+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let T=y.type.prototype;!l&&(T.ngOnChanges||T.ngOnInit||T.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(T.ngOnChanges||T.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}sO(n,t,o)}function sO(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))yb(0,e,i,r),yb(1,e,i,r),_b(e,r,!1);else{let o=t.get(i);vb(0,e,o,r),vb(1,e,o,r),_b(e,r,!0)}}}function yb(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),$C(e,o)}}function vb(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),$C(e,s)}}function $C(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function _b(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Qm(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function aO(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=ki(i.type,!0)),s=new Qi(o,Fn(i),pe,null);n.blueprint[r]=s,t[r]=s,cO(n,e,r,mC(n,t,i.hostVars,Hn),i)}function cO(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;uO(s)!=a&&s.push(a),s.push(t,r,o)}}function uO(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function lO(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Fn(e)&&(t[""]=n)}}function dO(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function zC(n,e,t,r,i,o,s,a){let u=e[Y],l=u.consts,h=Ln(l,s),p=Cd(u,n,t,r,h);return o&&HC(u,e,p,Ln(l,a),i),p.mergedAttrs=Za(p.mergedAttrs,p.attrs),p.attrs!==null&&mb(p,p.attrs,!1),p.mergedAttrs!==null&&mb(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function qC(n,e){Lb(n,e),Gg(e)&&n.queries.elementEnd(e)}function uy(n){return WC(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function GC(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function WC(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function hO(n,e,t){return n[e]=t}function fO(n,e){return n[e]}function no(n,e,t){if(t===Hn)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function gm(n,e,t){return function r(i){let o=Wr(n)?sn(n.index,e):e;cy(o,5);let s=e[je],a=Eb(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=Eb(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function Eb(n,e,t,r){let i=K(null);try{return De(ye.OutputStart,e,t),t(r)!==!1}catch(o){return MP(n,o),!1}finally{De(ye.OutputEnd,e,t),K(i)}}function pO(n,e,t,r,i,o,s,a){let u=qa(n),l=!1,h=null;if(!r&&u&&(h=mO(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=yn(n,t),g=r?r(p):p;N1(t,g,o,a);let y=i.listen(g,o,a);if(!gO(o)){let T=r?N=>r(on(N[n.index])):n.index;KC(T,e,t,o,a,y,!1)}}return l}function gO(n){return n.startsWith("animation")||n.startsWith("transition")}function mO(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Xo],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function KC(n,e,t,r,i,o,s){let a=e.firstCreatePass?RD(e):null,u=AD(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function Ib(n,e,t,r,i,o){let s=e[t],a=e[Y],l=a.data[t].outputs[r],p=s[l].subscribe(o);KC(n.index,a,e,i,o,p,!0)}var Om=Symbol("BINDING");var od=class extends uc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=zr(e);return new ss(t,this.ngModule)}};function yO(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Ed.SignalBased)!==0};return i&&(o.transform=i),o})}function vO(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function _O(n,e,t){let r=e instanceof Ze?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Pm(t,r):t}function EO(n){let e=n.get(Ji,null);if(e===null)throw new H(407,!1);let t=n.get(BC,null),r=n.get(Qo,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function IO(n,e){let t=QC(n);return uC(e,t,t==="svg"?Wg:t==="math"?bD:null)}function QC(n){return(n.selectors[0][0]||"div").toLowerCase()}var ss=class extends Td{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=yO(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=vO(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=K1(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){De(ye.DynamicComponentStart);let a=K(null);try{let u=this.componentDef,l=wO(r,u,s,o),h=_O(u,i||this.ngModule,e),p=EO(h),g=p.rendererFactory.createRenderer(null,u),y=r?mP(g,r,u.encapsulation,h):IO(u,g),T=s?.some(wb)||o?.some(j=>typeof j!="function"&&j.bindings.some(wb)),N=Jm(null,l,null,512|gC(u),null,null,p,g,h,null,rC(y,h,!0));N[vt]=y,$l(N);let P=null;try{let j=zC(vt,N,2,"#host",()=>l.directiveRegistry,!0,0);hC(g,y,j),os(y,N),iy(l,N,j),oC(l,j,N),qC(l,j),t!==void 0&&bO(j,this.ngContentSelectors,t),P=sn(j.index,N),N[je]=P[je],ay(l,N,null)}catch(j){throw P!==null&&Tm(P),Tm(N),j}finally{De(ye.DynamicComponentEnd),zl()}return new sd(this.componentType,N,!!T)}finally{K(a)}}};function wO(n,e,t,r){let i=n?["ng-version","21.1.2"]:Q1(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[Om].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let g of p.bindings){a+=g[Om].requiredVars;let y=h+1;g.create&&(g.targetIdx=y,(o??=[]).push(g)),g.update&&(g.targetIdx=y,(s??=[]).push(g))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,g=Og(p);u.push(g)}return Ym(0,null,DO(o,s),1,a,u,null,null,null,[i],null)}function DO(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function wb(n){let e=n[Om].kind;return e==="input"||e==="twoWay"}var sd=class extends UC{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Ga(t[Y],vt),this.location=pd(this._tNode,t),this.instance=sn(this._tNode.index,t)[je],this.hostView=this.changeDetectorRef=new Jr(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=sy(r,i[Y],i,e,t);this.previousInputValues.set(e,t);let s=sn(r.index,i);cy(s,1)}get injector(){return new Ki(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function bO(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ro=(()=>{class n{static __NG_ELEMENT_ID__=CO}return n})();function CO(){let n=Kt();return SO(n,fe())}var TO=ro,YC=class extends TO{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return pd(this._hostTNode,this._hostLView)}get injector(){return new Ki(this._hostTNode,this._hostLView)}get parentInjector(){let e=zm(this._hostTNode,this._hostLView);if(jb(e)){let t=ed(e,this._hostLView),r=Xl(e),i=t[Y].data[r+8];return new Ki(i,t)}else return new Ki(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Db(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Ue}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Nm(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Xa(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!i1(e),l;if(u)l=t;else{let P=t||{};l=P.index,r=P.injector,i=P.projectableNodes,o=P.environmentInjector||P.ngModuleRef,s=P.directives,a=P.bindings}let h=u?e:new ss(zr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let j=(u?p:this.parentInjector).get(Ze,null);j&&(o=j)}let g=zr(h.componentType??{}),y=Nm(this._lContainer,g?.id??null),T=y?.firstChild??null,N=h.create(p,i,T,o,s,a);return this.insertImpl(N.hostView,l,Xa(this._hostTNode,y)),N}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(CD(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[rt],l=new YC(u,u[rn],u[rt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return bd(s,i,o,r),e.attachToViewContainerRef(),Lg(mm(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Db(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=tc(this._lContainer,t);r&&(Va(mm(this._lContainer),t),Id(r[Y],r))}detach(e){let t=this._adjustIndex(e,-1),r=tc(this._lContainer,t);return r&&Va(mm(this._lContainer),t)!=null?new Jr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Db(n){return n[$a]}function mm(n){return n[$a]||(n[$a]=[])}function SO(n,e){let t,r=e[n.index];return mn(r)?t=r:(t=kC(r,e,null,n),e[n.index]=t,Zm(e,t)),RO(t,e,n,r),new YC(t,n,e)}function AO(n,e){let t=n[Pe],r=t.createComment(""),i=yn(e,n),o=t.parentNode(i);return id(t,o,r,t.nextSibling(i),!1),r}var RO=xO,MO=()=>!1;function NO(n,e,t){return MO(n,e,t)}function xO(n,e,t,r){if(n[Gr])return;let i;t.type&8?i=on(r):i=AO(e,t),n[Gr]=i}var Zi=class{},Sd=class{};var ad=class extends Zi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new od(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Pg(e);this._bootstrapComponents=fC(o.bootstrap),this._r3Injector=sm(e,t,[{provide:Zi,useValue:this},{provide:uc,useValue:this.componentFactoryResolver},...r],dr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},cd=class extends Sd{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new ad(this.moduleType,e,[])}};var nc=class extends Zi{injector;componentFactoryResolver=new od(this);instance=null;constructor(e){super();let t=new Li([...e.providers,{provide:Zi,useValue:this},{provide:uc,useValue:this.componentFactoryResolver}],e.parent||Ba(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function lc(n,e,t=null){return new nc({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var PO=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Ug(!1,t.type),i=r.length>0?lc([r],this._injector,""):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=G({token:n,providedIn:"environment",factory:()=>new n(oe(Ze))})}return n})();function En(n){return ic(()=>{let e=JC(n),t=z(M({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===qm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(PO).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||_n.Emulated,styles:n.styles||$t,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&$n("NgStandalone"),ZC(t);let r=n.dependencies;return t.directiveDefs=bb(r,OO),t.pipeDefs=bb(r,hD),t.id=LO(t),t})}function OO(n){return zr(n)||Og(n)}function Xr(n){return ic(()=>({type:n.type,bootstrap:n.bootstrap||$t,declarations:n.declarations||$t,imports:n.imports||$t,exports:n.exports||$t,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function kO(n,e){if(n==null)return qr;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Ed.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function FO(n){if(n==null)return qr;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function et(n){return ic(()=>{let e=JC(n);return ZC(e),e})}function JC(n){let e={};return{type:n.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||qr,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||$t,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:kO(n.inputs,e),outputs:FO(n.outputs),debugInfo:null}}function ZC(n){n.features?.forEach(e=>e(n))}function bb(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function LO(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function VO(n){return Object.getPrototypeOf(n.prototype).constructor}function zn(n){let e=VO(n.type),t=!0,r=[n];for(;e;){let i;if(Fn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new H(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=ym(n.inputs),s.declaredInputs=ym(n.declaredInputs),s.outputs=ym(n.outputs);let a=i.hostBindings;a&&$O(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&BO(n,u),l&&HO(n,l),jO(n,i),dD(n.outputs,i.outputs),Fn(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===zn&&(t=!1)}}e=Object.getPrototypeOf(e)}UO(r)}function jO(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function UO(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Za(i.hostAttrs,t=Za(t,i.hostAttrs))}}function ym(n){return n===qr?{}:n===$t?[]:n}function BO(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function HO(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function $O(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function XC(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=Za(n.mergedAttrs,n.attrs);let h=n.tView=Ym(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),ns(n,!1);let u=qO(t,e,n,r);Gl()&&ny(t,e,u,n),os(u,e);let l=kC(u,e,u,n);e[r+vt]=l,Zm(e,l),NO(l,n,e)}function zO(n,e,t,r,i,o,s,a,u,l,h){let p=t+vt,g;return e.firstCreatePass?(g=Cd(e,p,4,s||null,a||null),Zg()&&HC(e,n,g,Ln(e.consts,l),CC),Lb(e,g)):g=e.data[p],XC(g,n,e,t,r,i,o,u),qa(g)&&iy(e,n,g),l!=null&&oy(n,g,h),g}function ud(n,e,t,r,i,o,s,a,u,l,h){let p=t+vt,g;if(e.firstCreatePass){if(g=Cd(e,p,4,s||null,a||null),l!=null){let y=Ln(e.consts,l);g.localNames=[];for(let T=0;T<y.length;T+=2)g.localNames.push(y[T],-1)}}else g=e.data[p];return XC(g,n,e,t,r,i,o,u),l!=null&&oy(n,g,h),g}function qn(n,e,t,r,i,o,s,a){let u=fe(),l=Ct(),h=Ln(l.consts,o);return zO(u,l,n,e,t,r,i,h,void 0,s,a),qn}var qO=GO;function GO(n,e,t,r){return Wl(!0),e[Pe].createComment("")}var ly=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function e0(n){return typeof n=="function"&&n[Nt]!==void 0}function dy(n){return e0(n)&&typeof n.set=="function"}var hy=new $("");function ei(n){return!!n&&typeof n.then=="function"}function fy(n){return!!n&&typeof n.subscribe=="function"}var t0=new $("");var py=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=F(t0,{optional:!0})??[];injector=F(zt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=bt(this.injector,i);if(ei(o))t.push(o);else if(fy(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ad=new $("");function n0(){Kp(()=>{let n="";throw new H(600,n)})}function r0(n){return n.isBoundToModule}var WO=10;var io=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=F(jn);afterRenderManager=F(vC);zonelessEnabled=F(Qa);rootEffectScheduler=F(dm);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new nt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=F(Yr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Me(t=>!t))}constructor(){F(ac,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=F(Ze);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=zt.NULL){return this._injector.get(qt).run(()=>{De(ye.BootstrapComponentStart);let s=t instanceof Td;if(!this._injector.get(py).done){let T="";throw new H(405,T)}let u;s?u=t:u=this._injector.get(uc).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=r0(u)?void 0:this._injector.get(Zi),h=r||u.selector,p=u.create(i,[],h,l),g=p.location.nativeElement,y=p.injector.get(hy,null);return y?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),Ja(this.components,p),y?.unregisterApplication(g)}),this._loadComponent(p),De(ye.BootstrapComponentEnd,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){De(ye.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(ey.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw De(ye.ChangeDetectionEnd),new H(101,!1);let t=K(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,K(t),this.afterTick.next(),De(ye.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ji,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<WO;){De(ye.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{De(ye.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Wa(i))continue;let o=r&&!this.zonelessEnabled?0:1;NC(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Wa(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Ja(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Ad,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ja(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new H(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ja(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Rd(n,e,t,r){let i=fe(),o=Gi();if(no(i,o,e)){let s=Ct(),a=ql();CP(a,i,n,e,t,r)}return Rd}var Qz=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var km=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function vm(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function KO(n,e,t,r){let i,o,s=0,a=n.length-1,u=void 0;if(Array.isArray(e)){K(r);let l=e.length-1;for(K(null);s<=a&&s<=l;){let h=n.at(s),p=e[s],g=vm(s,h,s,p,t);if(g!==0){g<0&&n.updateValue(s,p),s++;continue}let y=n.at(a),T=e[l],N=vm(a,y,l,T,t);if(N!==0){N<0&&n.updateValue(a,T),a--,l--;continue}let P=t(s,h),j=t(a,y),ee=t(s,p);if(Object.is(ee,j)){let me=t(l,T);Object.is(me,P)?(n.swap(s,a),n.updateValue(a,T),l--,a--):n.move(a,s),n.updateValue(s,p),s++;continue}if(i??=new ld,o??=Tb(n,s,a,t),Fm(n,i,s,ee))n.updateValue(s,p),s++,a++;else if(o.has(ee))i.set(P,n.detach(s)),a--;else{let me=n.create(s,e[s]);n.attach(s,me),s++,a++}}for(;s<=l;)Cb(n,i,t,s,e[s]),s++}else if(e!=null){K(r);let l=e[Symbol.iterator]();K(null);let h=l.next();for(;!h.done&&s<=a;){let p=n.at(s),g=h.value,y=vm(s,p,s,g,t);if(y!==0)y<0&&n.updateValue(s,g),s++,h=l.next();else{i??=new ld,o??=Tb(n,s,a,t);let T=t(s,g);if(Fm(n,i,s,T))n.updateValue(s,g),s++,a++,h=l.next();else if(!o.has(T))n.attach(s,n.create(s,g)),s++,a++,h=l.next();else{let N=t(s,p);i.set(N,n.detach(s)),a--}}}for(;!h.done;)Cb(n,i,t,n.length,h.value),h=l.next()}for(;s<=a;)n.destroy(n.detach(a--));i?.forEach(l=>{n.destroy(l)})}function Fm(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function Cb(n,e,t,r,i){if(Fm(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function Tb(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var ld=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function ke(n,e,t,r,i,o,s,a){$n("NgControlFlow");let u=fe(),l=Ct(),h=Ln(l.consts,o);return ud(u,l,n,e,t,r,i,h,256,s,a),gy}function gy(n,e,t,r,i,o,s,a){$n("NgControlFlow");let u=fe(),l=Ct(),h=Ln(l.consts,o);return ud(u,l,n,e,t,r,i,h,512,s,a),gy}function Fe(n,e){$n("NgControlFlow");let t=fe(),r=Gi(),i=t[r]!==Hn?t[r]:-1,o=i!==-1?dd(t,vt+i):void 0,s=0;if(no(t,r,n)){let a=K(null);try{if(o!==void 0&&LC(o,s),n!==-1){let u=vt+n,l=dd(t,u),h=Um(t[Y],u),p=jC(l,h,t),g=Dd(t,h,e,{dehydratedView:p});bd(l,g,s,Xa(h,p))}}finally{K(a)}}else if(o!==void 0){let a=FC(o,s);a!==void 0&&(a[je]=e)}}var Lm=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Ue}};function Md(n){return n}function dc(n,e){return e}var Vm=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function Qt(n,e,t,r,i,o,s,a,u,l,h,p,g){$n("NgControlFlow");let y=fe(),T=Ct(),N=u!==void 0,P=fe(),j=a?s.bind(P[Gt][je]):s,ee=new Vm(N,j);P[vt+n]=ee,ud(y,T,n+1,e,t,r,i,Ln(T.consts,o),256),N&&ud(y,T,n+2,u,l,h,p,Ln(T.consts,g),512)}var jm=class extends km{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-Ue}at(e){return this.getLView(e)[je].$implicit}attach(e,t){let r=t[Zo];this.needsIndexUpdate||=e!==this.length,bd(this.lContainer,t,e,Xa(this.templateTNode,r)),QO(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,YO(this.lContainer,e),JO(this.lContainer,e)}create(e,t){let r=Nm(this.lContainer,this.templateTNode.tView.ssrId);return Dd(this.hostLView,this.templateTNode,new Lm(this.lContainer,t,e),{dehydratedView:r})}destroy(e){Id(e[Y],e)}updateValue(e,t){this.getLView(e)[je].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[je].$index=e}getLView(e){return ZO(this.lContainer,e)}};function Yt(n){let e=K(null),t=Kr();try{let r=fe(),i=r[Y],o=r[t],s=t+1,a=dd(r,s);if(o.liveCollection===void 0){let l=Um(i,s);o.liveCollection=new jm(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(KO(u,n,o.trackByFn,e),u.updateIndexes(),o.hasEmptyBlock){let l=Gi(),h=u.length===0;if(no(r,l,h)){let p=t+2,g=dd(r,p);if(h){let y=Um(i,p),T=jC(g,y,r),N=Dd(r,y,void 0,{dehydratedView:T});bd(g,N,0,Xa(y,T))}else i.firstUpdatePass&&ZP(g),LC(g,0)}}}finally{K(e)}}function dd(n,e){return n[e]}function QO(n,e){if(n.length<=Ue)return;let t=Ue+e,r=n[t],i=r?r[zi]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[gr];eP(o,i),Yi.delete(r[mr]),i.detachedLeaveAnimationFns=void 0}}function YO(n,e){if(n.length<=Ue)return;let t=Ue+e,r=n[t],i=r?r[zi]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function JO(n,e){return tc(n,e)}function ZO(n,e){return FC(n,e)}function Um(n,e){return Ga(n,e)}function ot(n,e,t){let r=fe(),i=Gi();if(no(r,i,e)){let o=Ct(),s=ql();bC(s,r,n,e,r[Pe],t)}return ot}function Sb(n,e,t,r,i){sy(e,n,t,i?"class":"style",r)}function A(n,e,t,r){let i=fe(),o=i[Y],s=n+vt,a=o.firstCreatePass?zC(s,i,2,e,CC,Zg(),t,r):o.data[s];if(AP(a,i,n,e,XO),qa(a)){let u=i[Y];iy(u,i,a),oC(u,a,i)}return r!=null&&oy(i,a),A}function R(){let n=Ct(),e=Kt(),t=RP(e);return n.firstCreatePass&&qC(n,t),OD(t)&&kD(),xD(),t.classesWithoutHost!=null&&l1(t)&&Sb(n,t,fe(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&d1(t)&&Sb(n,t,fe(),t.stylesWithoutHost,!1),R}function ge(n,e,t,r){return A(n,e,t,r),R(),ge}var XO=(n,e,t,r,i)=>(Wl(!0),uC(e[Pe],r,QD()));function Ft(){return fe()}var hc="en-US";var ek=hc;function i0(n){typeof n=="string"&&(ek=n.toLowerCase().replace(/_/g,"-"))}function Re(n,e,t){let r=fe(),i=Ct(),o=Kt();return o0(i,r,r[Pe],o,n,e,t),Re}function o0(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=gm(r,e,o),pO(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let g=h[p],y=h[p+1];u??=gm(r,e,o),Ib(r,e,g,y,i,u)}if(l&&l.length)for(let p of l)u??=gm(r,e,o),Ib(r,e,p,i,i,u)}}function J(n=1){return KD(n)}function Kl(n,e){return n<<17|e<<2}function Xi(n){return n>>17&32767}function tk(n){return(n&2)==2}function nk(n,e){return n&131071|e<<17}function Bm(n){return n|2}function as(n){return(n&131068)>>2}function _m(n,e){return n&-131069|e<<2}function rk(n){return(n&1)===1}function Hm(n){return n|1}function ik(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Xi(s),u=as(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Yo(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let g=Xi(n[a+1]);n[r+1]=Kl(g,a),g!==0&&(n[g+1]=_m(n[g+1],r)),n[a+1]=nk(n[a+1],r)}else n[r+1]=Kl(a,0),a!==0&&(n[a+1]=_m(n[a+1],r)),a=r;else n[r+1]=Kl(u,0),a===0?a=r:n[u+1]=_m(n[u+1],r),u=r;l&&(n[r+1]=Bm(n[r+1])),Ab(n,h,r,!0),Ab(n,h,r,!1),ok(e,h,n,r,o),s=Kl(a,u),o?e.classBindings=s:e.styleBindings=s}function ok(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Yo(o,e)>=0&&(t[r+1]=Hm(t[r+1]))}function Ab(n,e,t,r){let i=n[t+1],o=e===null,s=r?Xi(i):as(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];sk(u,e)&&(a=!0,n[s+1]=r?Hm(l):Bm(l)),s=r?Xi(l):as(l)}a&&(n[t+1]=r?Bm(i):Hm(i))}function sk(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Yo(n,e)>=0:!1}function Gn(n,e,t){return s0(n,e,t,!1),Gn}function Be(n,e){return s0(n,e,null,!0),Be}function s0(n,e,t,r){let i=fe(),o=Ct(),s=UD(2);if(o.firstUpdatePass&&ck(o,n,s,r),e!==Hn&&no(i,s,e)){let a=o.data[Kr()];fk(o,a,i,i[Pe],n,i[s+1]=pk(e,t),r,s)}}function ak(n,e){return e>=n.expandoStartIndex}function ck(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Kr()],s=ak(n,t);gk(o,r)&&e===null&&!s&&(e=!1),e=uk(i,o,e,r),ik(i,o,e,t,s,r)}}function uk(n,e,t,r){let i=zD(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Em(null,n,e,t,r),t=rc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Em(i,n,e,t,r),o===null){let u=lk(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Em(null,n,e,u[1],r),u=rc(u,e.attrs,r),dk(n,e,r,u))}else o=hk(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function lk(n,e,t){let r=t?e.classBindings:e.styleBindings;if(as(r)!==0)return n[Xi(r)]}function dk(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Xi(i)]=r}function hk(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=rc(r,s,t)}return rc(r,e.attrs,t)}function Em(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=rc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function rc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),yD(n,s,t?!0:e[++o]))}return n===void 0?null:n}function fk(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=rk(l)?Rb(u,e,t,i,as(l),s):void 0;if(!hd(h)){hd(o)||tk(l)&&(o=Rb(u,null,t,i,a,s));let p=Kg(Kr(),t);gP(r,s,p,i,o)}}function Rb(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=t[i+1];g===Hn&&(g=p?$t:void 0);let y=p?Ll(g,r):h===r?g:void 0;if(l&&!hd(y)&&(y=Ll(u,r)),hd(y)&&(a=y,s))return a;let T=n[i+1];i=s?Xi(T):as(T)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Ll(u,r))}return a}function hd(n){return n!==void 0}function pk(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=dr(sc(n)))),n}function gk(n,e){return(n.flags&(e?8:16))!==0}function L(n,e=""){let t=fe(),r=Ct(),i=n+vt,o=r.firstCreatePass?Cd(r,i,1,e,null):r.data[i],s=mk(r,t,o,e);t[i]=s,Gl()&&ny(r,t,s,o),ns(o,!1)}var mk=(n,e,t,r)=>(Wl(!0),O1(e[Pe],r));function yk(n,e,t,r=""){return no(n,Gi(),t)?e+Ol(t)+r:Hn}function be(n){return Pt("",n),be}function Pt(n,e,t){let r=fe(),i=yk(r,n,e,t);return i!==Hn&&vk(r,Kr(),i),Pt}function vk(n,e,t){let r=Kg(e,n);k1(n[Pe],r,t)}function st(n,e,t){dy(e)&&(e=e());let r=fe(),i=Gi();if(no(r,i,e)){let o=Ct(),s=ql();bC(s,r,n,e,r[Pe],t)}return st}function _t(n,e){let t=dy(n);return t&&n.set(e),t}function at(n,e){let t=fe(),r=Ct(),i=Kt();return o0(r,t,t[Pe],i,n,e),at}function Mb(n,e,t){let r=Ct();r.firstCreatePass&&a0(e,r.data,r.blueprint,Fn(n),t)}function a0(n,e,t,r,i){if(n=yt(n),Array.isArray(n))for(let o=0;o<n.length;o++)a0(n[o],e,t,r,i);else{let o=Ct(),s=fe(),a=Kt(),u=Fi(n)?n:yt(n.provide),l=Hg(n),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Fi(n)||!n.multi){let y=new Qi(l,i,pe,null),T=wm(u,e,i?h:h+g,p);T===-1?(bm(td(a,s),o,u),Im(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[T]=y,s[T]=y)}else{let y=wm(u,e,h+g,p),T=wm(u,e,h,h+g),N=y>=0&&t[y],P=T>=0&&t[T];if(i&&!P||!i&&!N){bm(td(a,s),o,u);let j=Ik(i?Ek:_k,t.length,i,r,l,n);!i&&P&&(t[T].providerFactory=j),Im(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(j),s.push(j)}else{let j=c0(t[i?T:y],l,!i&&r);Im(o,n,y>-1?y:T,j)}!i&&r&&P&&t[T].componentProviders++}}}function Im(n,e,t,r){let i=Fi(e),o=ID(e);if(i||o){let u=(o?yt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function c0(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function wm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function _k(n,e,t,r,i){return $m(this.multi,[])}function Ek(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=nd(r,r[Y],this.providerFactory.index,i);s=u.slice(0,a),$m(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],$m(o,s);return s}function $m(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function Ik(n,e,t,r,i,o){let s=new Qi(n,t,pe,null);return s.multi=[],s.index=e,s.componentProviders=0,c0(s,i,r&&!t),s}function us(n,e){return t=>{t.providersResolver=(r,i)=>Mb(r,i?i(n):n,!1),e&&(t.viewProvidersResolver=(r,i)=>Mb(r,i?i(e):e,!0))}}function fc(n,e){let t=VD()+n,r=fe();return r[t]===Hn?hO(r,t,e()):fO(r,t)}var fd=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},my=(()=>{class n{compileModuleSync(t){return new cd(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Pg(t),o=fC(i.declarations).reduce((s,a)=>{let u=zr(a);return u&&s.push(new ss(u)),s},[]);return new fd(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var u0=(()=>{class n{applicationErrorHandler=F(jn);appRef=F(io);taskService=F(Yr);ngZone=F(qt);zonelessEnabled=F(Qa);tracing=F(ac,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new pt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ka):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(F(lm,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let t=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(t);return}this.switchToMicrotaskScheduler(),this.taskService.remove(t)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let t=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})})}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?XD:am;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ka+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.applicationErrorHandler(r)}finally{this.taskService.remove(t),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yy(){return $n("NgZoneless"),ja([...vy(),[]])}function vy(){return[{provide:Qo,useExisting:u0},{provide:qt,useClass:Fa},{provide:Qa,useValue:!0}]}function wk(){return typeof $localize<"u"&&$localize.locale||hc}var Nd=new $("",{factory:()=>F(Nd,{optional:!0,skipSelf:!0})||wk()});function oo(n,e){return el(n,e?.equal)}var p0=Symbol("InputSignalNode#UNSET"),Uk=z(M({},tl),{transformFn:void 0,applyValueToInputSignal(n,e){Ta(n,e)}});function g0(n,e){let t=Object.create(Uk);t.value=n,t.transformFn=e?.transform;function r(){if(Da(t),t.value===p0){let i=null;throw new H(-950,i)}return t.value}return r[Nt]=t,r}function l0(n,e){return g0(n,e)}function Bk(n){return g0(p0,n)}var m0=(l0.required=Bk,l0);var _y=new $(""),Hk=new $("");function pc(n){return!n.moduleRef}function $k(n){let e=pc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(qt);return t.run(()=>{pc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(jn),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),pc(n)){let o=()=>e.destroy(),s=n.platformInjector.get(_y);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(_y);s.add(o),n.moduleRef.onDestroy(()=>{Ja(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return qk(r,t,()=>{let o=e.get(Yr),s=o.add(),a=e.get(py);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(Nd,hc);if(i0(u||hc),!e.get(Hk,!0))return pc(n)?e.get(io):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(pc(n)){let h=e.get(io);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return zk?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>{o.remove(s)})})})}var zk;function qk(n,e,t){try{let r=t();return ei(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var xd=null;function Gk(n=[],e){return zt.create({name:e,providers:[{provide:Ua,useValue:"platform"},{provide:_y,useValue:new Set([()=>xd=null])},...n]})}function Wk(n=[]){if(xd)return xd;let e=Gk(n);return xd=e,n0(),Kk(e),e}function Kk(n){let e=n.get(md,null);bt(n,()=>{e?.forEach(t=>t())})}var Qk=1e4;var _Y=Qk-1e3;var so=(()=>{class n{static __NG_ELEMENT_ID__=Yk}return n})();function Yk(n){return Jk(Kt(),fe(),(n&16)===16)}function Jk(n,e,t){if(Wr(n)&&!t){let r=sn(n.index,e);return new Jr(r,r)}else if(n.type&175){let r=e[Gt];return new Jr(r,e)}return null}var Ey=class{constructor(){}supports(e){return uy(e)}create(e){return new Iy(e)}},Zk=(n,e)=>e,Iy=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||Zk}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<d0(r,i,o)?t:r,a=d0(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let y=g<o.length?o[g]:o[g]=0,T=y+g;h<=T&&T<l&&(o[g]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!uy(e))throw new H(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,GC(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new wy(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Pd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Pd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},wy=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Dy=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Pd=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Dy,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function d0(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function h0(){return new Cy([new Ey])}var Cy=(()=>{class n{factories;static \u0275prov=G({token:n,providedIn:"root",factory:h0});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=F(n,{optional:!0,skipSelf:!0});return n.create(t,r||h0())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new H(901,!1)}}return n})();function y0(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;De(ye.BootstrapApplicationStart);try{let o=i?.injector??Wk(r),s=[vy(),tb,...t||[]],a=new nc({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return $k({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{De(ye.BootstrapApplicationEnd)}}function vr(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Ty(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}var v0=null;function an(){return v0}function Sy(n){v0??=n}var gc=class{},kd=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>F(_0),providedIn:"platform"})}return n})();var _0=(()=>{class n extends kd{_location;_history;_doc=F(Xe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return an().getBaseHref(this._doc)}onPopState(t){let r=an().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=an().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function w0(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function E0(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function ti(n){return n&&n[0]!=="?"?`?${n}`:n}var Fd=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>F(eF),providedIn:"root"})}return n})(),Xk=new $(""),eF=(()=>{class n extends Fd{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??F(Xe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return w0(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+ti(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+ti(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+ti(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(oe(kd),oe(Xk,8))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ls=(()=>{class n{_subject=new nt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=rF(E0(I0(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ti(r))}normalize(t){return n.stripTrailingSlash(nF(this._basePath,I0(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ti(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ti(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=ti;static joinWithSlash=w0;static stripTrailingSlash=E0;static \u0275fac=function(r){return new(r||n)(oe(Fd))};static \u0275prov=G({token:n,factory:()=>tF(),providedIn:"root"})}return n})();function tF(){return new ls(oe(Fd))}function nF(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function I0(n){return n.replace(/\/index.html$/,"")}function rF(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Ld=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},jd=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Ld(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),D0(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);D0(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(pe(ro),pe(cc),pe(Cy))};static \u0275dir=et({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function D0(n,e){n.context.$implicit=e.item}var mc=(()=>{class n{_viewContainer;_context=new Vd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){b0(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){b0(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(pe(ro),pe(cc))};static \u0275dir=et({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Vd=class{$implicit=null;ngIf=null};function b0(n,e){if(n&&!n.createEmbeddedView)throw new H(2020,!1)}var ni=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Xr({type:n});static \u0275inj=pr({})}return n})();function Ay(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var yc=class{};var T0="browser";var S0=n=>n.src,iF=new $("",{factory:()=>S0});var C0=/^((\s*\d+w\s*(,|$)){1,})$/;var oF=[1,2],sF=640;var aF=1920,cF=1080;var A0=(()=>{class n{imageLoader=F(iF);config=uF(F(_d));renderer=F(to);imgElement=F(Zr).nativeElement;injector=F(zt);destroyRef=F(Vn);lcpObserver;_renderedSrc=null;ngSrc;ngSrcset;sizes;width;height;decoding;loading;priority=!1;loaderParams;disableOptimizedSrcset=!1;fill=!1;placeholder;placeholderConfig;src;srcset;constructor(){}ngOnInit(){$n("NgOptimizedImage"),this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("decoding",this.getDecoding()),this.setHostAttribute("ng-img","true");let t=this.updateSrcAndSrcset();this.sizes?this.getLoadingBehavior()==="lazy"?this.setHostAttribute("sizes","auto, "+this.sizes):this.setHostAttribute("sizes",this.sizes):this.ngSrcset&&C0.test(this.ngSrcset)&&this.getLoadingBehavior()==="lazy"&&this.setHostAttribute("sizes","auto, 100vw")}ngOnChanges(t){if(t.ngSrc&&!t.ngSrc.isFirstChange()){let r=this._renderedSrc;this.updateSrcAndSrcset(!0)}}callImageLoader(t){let r=t;return this.loaderParams&&(r.loaderParams=this.loaderParams),this.imageLoader(r)}getLoadingBehavior(){return!this.priority&&this.loading!==void 0?this.loading:this.priority?"eager":"lazy"}getFetchPriority(){return this.priority?"high":"auto"}getDecoding(){return this.priority?"sync":this.decoding??"auto"}getRewrittenSrc(){if(!this._renderedSrc){let t={src:this.ngSrc};this._renderedSrc=this.callImageLoader(t)}return this._renderedSrc}getRewrittenSrcset(){let t=C0.test(this.ngSrcset);return this.ngSrcset.split(",").filter(i=>i!=="").map(i=>{i=i.trim();let o=t?parseFloat(i):parseFloat(i)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:o})} ${i}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){let{breakpoints:t}=this.config,r=t;return this.sizes?.trim()==="100vw"&&(r=t.filter(o=>o>=sF)),r.map(o=>`${this.callImageLoader({src:this.ngSrc,width:o})} ${o}w`).join(", ")}updateSrcAndSrcset(t=!1){t&&(this._renderedSrc=null);let r=this.getRewrittenSrc();this.setHostAttribute("src",r);let i;return this.ngSrcset?i=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(i=this.getAutomaticSrcset()),i&&this.setHostAttribute("srcset",i),i}getFixedSrcset(){return oF.map(r=>`${this.callImageLoader({src:this.ngSrc,width:this.width*r})} ${r}x`).join(", ")}shouldGenerateAutomaticSrcset(){let t=!1;return this.sizes||(t=this.width>aF||this.height>cF),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==S0&&!t}generatePlaceholder(t){let{placeholderResolution:r}=this.config;return t===!0?`url(${this.callImageLoader({src:this.ngSrc,width:r,isPlaceholder:!0})})`:typeof t=="string"?`url(${t})`:null}shouldBlurPlaceholder(t){return!t||!t.hasOwnProperty("blur")?!0:!!t.blur}removePlaceholderOnLoad(t){let r=()=>{let s=this.injector.get(so);i(),o(),this.placeholder=!1,s.markForCheck()},i=this.renderer.listen(t,"load",r),o=this.renderer.listen(t,"error",r);this.destroyRef.onDestroy(()=>{i(),o()}),lF(t,r)}setHostAttribute(t,r){this.renderer.setAttribute(this.imgElement,t,r)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=et({type:n,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function(r,i){r&2&&Gn("position",i.fill?"absolute":null)("width",i.fill?"100%":null)("height",i.fill?"100%":null)("inset",i.fill?"0":null)("background-size",i.placeholder?"cover":null)("background-position",i.placeholder?"50% 50%":null)("background-repeat",i.placeholder?"no-repeat":null)("background-image",i.placeholder?i.generatePlaceholder(i.placeholder):null)("filter",i.placeholder&&i.shouldBlurPlaceholder(i.placeholderConfig)?"blur(15px)":null)},inputs:{ngSrc:[2,"ngSrc","ngSrc",dF],ngSrcset:"ngSrcset",sizes:"sizes",width:[2,"width","width",Ty],height:[2,"height","height",Ty],decoding:"decoding",loading:"loading",priority:[2,"priority","priority",vr],loaderParams:"loaderParams",disableOptimizedSrcset:[2,"disableOptimizedSrcset","disableOptimizedSrcset",vr],fill:[2,"fill","fill",vr],placeholder:[2,"placeholder","placeholder",hF],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},features:[yr]})}return n})();function uF(n){let e={};return n.breakpoints&&(e.breakpoints=n.breakpoints.sort((t,r)=>t-r)),Object.assign({},vd,n,e)}function lF(n,e){n.complete&&n.naturalWidth&&e()}function dF(n){return typeof n=="string"?n:sc(n)}function hF(n){return typeof n=="string"&&n!=="true"&&n!=="false"&&n!==""?n:vr(n)}var vc=class{_doc;constructor(e){this._doc=e}manager},Ud=(()=>{class n extends vc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(oe(Xe))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),$d=new $(""),xy=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Ud));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Ud);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new H(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(oe($d),oe(qt))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),Ry="ng-app-id";function M0(n){for(let e of n)e.remove()}function N0(n,e){let t=e.createElement("style");return t.textContent=n,t}function fF(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Ry}="${e}"],link[${Ry}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Ry),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Ny(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Py=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,fF(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,N0);r?.forEach(i=>this.addUsage(i,this.external,Ny))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(M0(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])M0(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,N0(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Ny(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(oe(Xe),oe(gd),oe(yd,8),oe(oc))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),My={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Oy=/%COMP%/g;var P0="%COMP%",pF=`_nghost-${P0}`,gF=`_ngcontent-${P0}`,mF=!0,yF=new $("",{factory:()=>mF});function vF(n){return gF.replace(Oy,n)}function _F(n){return pF.replace(Oy,n)}function O0(n,e){return e.map(t=>t.replace(Oy,n))}var ky=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(t,r,i,o,s,a,u=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=u,this.tracingService=l,this.defaultRenderer=new _c(t,s,a,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Hd?i.applyToHost(t):i instanceof Ec&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.tracingService;switch(r.encapsulation){case _n.Emulated:o=new Hd(u,l,r,this.appId,h,s,a,p);break;case _n.ShadowDom:return new Bd(u,t,r,s,a,this.nonce,p,l);case _n.ExperimentalIsolatedShadowDom:return new Bd(u,t,r,s,a,this.nonce,p);default:o=new Ec(u,l,r,h,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(oe(xy),oe(Py),oe(gd),oe(yF),oe(Xe),oe(qt),oe(yd),oe(ac,8))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),_c=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(My[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(x0(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(x0(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new H(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=My[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=My[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Bn.DashCase|Bn.Important)?e.style.setProperty(t,r,i&Bn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Bn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=an().getGlobalEventTarget(this.doc,e),!e))throw new H(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function x0(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Bd=class extends _c{hostEl;sharedStylesHost;shadowRoot;constructor(e,t,r,i,o,s,a,u){super(e,i,o,a),this.hostEl=t,this.sharedStylesHost=u,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=O0(r.id,l);for(let p of l){let g=document.createElement("style");s&&g.setAttribute("nonce",s),g.textContent=p,this.shadowRoot.appendChild(g)}let h=r.getExternalStyles?.();if(h)for(let p of h){let g=Ny(p,i);s&&g.setAttribute("nonce",s),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Ec=class extends _c{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=u?O0(u,l):l,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Yi.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Hd=class extends Ec{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,t,r,o,s,a,u,l),this.contentAttr=vF(l),this.hostAttr=_F(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var zd=class n extends gc{supportsDOMEvents=!0;static makeCurrent(){Sy(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=EF();return t==null?null:IF(t)}resetBaseElement(){Ic=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ay(document.cookie,e)}},Ic=null;function EF(){return Ic=Ic||document.head.querySelector("base"),Ic?Ic.getAttribute("href"):null}function IF(n){return new URL(n,document.baseURI).pathname}var wF=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})(),k0=["alt","control","meta","shift"],DF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bF={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},F0=(()=>{class n extends vc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>an().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),k0.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=DF[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),k0.forEach(s=>{if(s!==i){let a=bF[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(oe(Xe))};static \u0275prov=G({token:n,factory:n.\u0275fac})}return n})();async function Fy(n,e,t){let r=M({rootComponent:n},CF(e,t));return y0(r)}function CF(n,e){return{platformRef:e?.platformRef,appProviders:[...MF,...n?.providers??[]],platformProviders:RF}}function TF(){zd.makeCurrent()}function SF(){return new hr}function AF(){return Gm(document),document}var RF=[{provide:oc,useValue:T0},{provide:md,useValue:TF,multi:!0},{provide:Xe,useFactory:AF}];var MF=[{provide:Ua,useValue:"root"},{provide:hr,useFactory:SF},{provide:$d,useClass:Ud,multi:!0},{provide:$d,useClass:F0,multi:!0},ky,Py,xy,{provide:Ji,useExisting:ky},{provide:yc,useClass:wF},[]];var L0=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(oe(Xe))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Z="primary",Pc=Symbol("RouteTitle"),By=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function uo(n){return new By(n)}function Ly(n,e,t){for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(i[0]===":")t[i.substring(1)]=o;else if(i!==o.path)return!1}return!0}function W0(n,e,t){let r=t.path.split("/"),i=r.indexOf("**");if(i===-1){if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let u={},l=n.slice(0,r.length);return Ly(r,l,u)?{consumed:l,posParams:u}:null}if(i!==r.lastIndexOf("**"))return null;let o=r.slice(0,i),s=r.slice(i+1);if(o.length+s.length>n.length||t.pathMatch==="full"&&e.hasChildren()&&t.path!=="**")return null;let a={};return!Ly(o,n.slice(0,o.length),a)||!Ly(s,n.slice(n.length-s.length),a)?null:{consumed:n,posParams:a}}function Yd(n){return new Promise((e,t)=>{n.pipe(cr()).subscribe({next:r=>e(r),error:r=>t(r)})})}function xF(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Wn(n[t],e[t]))return!1;return!0}function Wn(n,e){let t=n?Hy(n):void 0,r=e?Hy(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!K0(n[i],e[i]))return!1;return!0}function Hy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function K0(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function PF(n){return n.length>0?n[n.length-1]:null}function fo(n){return El(n)?n:ei(n)?qe(Promise.resolve(n)):le(n)}function Q0(n){return El(n)?Yd(n):Promise.resolve(n)}var OF={exact:J0,subset:Z0},Y0={exact:kF,subset:FF,ignored:()=>!0};function V0(n,e,t){return OF[t.paths](n.root,e.root,t.matrixParams)&&Y0[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function kF(n,e){return Wn(n,e)}function J0(n,e,t){if(!ao(n.segments,e.segments)||!Wd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!J0(n.children[r],e.children[r],t))return!1;return!0}function FF(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>K0(n[t],e[t]))}function Z0(n,e,t){return X0(n,e,e.segments,t)}function X0(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ao(i,t)||e.hasChildren()||!Wd(i,t,r))}else if(n.segments.length===t.length){if(!ao(n.segments,t)||!Wd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!Z0(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!ao(n.segments,i)||!Wd(n.segments,i,r)||!n.children[Z]?!1:X0(n.children[Z],e,o,r)}}function Wd(n,e,t){return e.every((r,i)=>Y0[t](n[i].parameters,r.parameters))}var wn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ve([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=uo(this.queryParams),this._queryParamMap}toString(){return jF.serialize(this)}},ve=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kd(this)}},ri=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=uo(this.parameters),this._parameterMap}toString(){return tT(this)}};function LF(n,e){return ao(n,e)&&n.every((t,r)=>Wn(t.parameters,e[r].parameters))}function ao(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function VF(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Z&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Z&&(t=t.concat(e(i,r)))}),t}var Oc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>new ii,providedIn:"root"})}return n})(),ii=class{parse(e){let t=new zy(e);return new wn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${wc(e.root,!0)}`,r=HF(e.queryParams),i=typeof e.fragment=="string"?`#${UF(e.fragment)}`:"";return`${t}${r}${i}`}},jF=new ii;function Kd(n){return n.segments.map(e=>tT(e)).join("/")}function wc(n,e){if(!n.hasChildren())return Kd(n);if(e){let t=n.children[Z]?wc(n.children[Z],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Z&&r.push(`${i}:${wc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=VF(n,(r,i)=>i===Z?[wc(n.children[Z],!1)]:[`${i}:${wc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Z]!=null?`${Kd(n)}/${t[0]}`:`${Kd(n)}/(${t.join("//")})`}}function eT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qd(n){return eT(n).replace(/%3B/gi,";")}function UF(n){return encodeURI(n)}function $y(n){return eT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qd(n){return decodeURIComponent(n)}function j0(n){return Qd(n.replace(/\+/g,"%20"))}function tT(n){return`${$y(n.path)}${BF(n.parameters)}`}function BF(n){return Object.entries(n).map(([e,t])=>`;${$y(e)}=${$y(t)}`).join("")}function HF(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${qd(t)}=${qd(i)}`).join("&"):`${qd(t)}=${qd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var $F=/^[^\/()?;#]+/;function Vy(n){let e=n.match($F);return e?e[0]:""}var zF=/^[^\/()?;=#]+/;function qF(n){let e=n.match(zF);return e?e[0]:""}var GF=/^[^=?&#]+/;function WF(n){let e=n.match(GF);return e?e[0]:""}var KF=/^[^&#]+/;function QF(n){let e=n.match(KF);return e?e[0]:""}var zy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ve([],{}):new ve([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Z]=new ve(e,t)),r}parseSegment(){let e=Vy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new ri(Qd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=qF(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Vy(this.remaining);i&&(r=i,this.capture(r))}e[Qd(t)]=Qd(r)}parseQueryParam(e){let t=WF(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=QF(this.remaining);s&&(r=s,this.capture(r))}let i=j0(t),o=j0(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Vy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new H(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Z);let s=this.parseChildren();t[o??Z]=Object.keys(s).length===1&&s[Z]?s[Z]:new ve([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}};function nT(n){return n.segments.length>0?new ve([],{[Z]:n}):n}function rT(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=rT(i);if(r===Z&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new ve(n.segments,e);return YF(t)}function YF(n){if(n.numberOfChildren===1&&n.children[Z]){let e=n.children[Z];return new ve(n.segments.concat(e.segments),e.children)}return n}function ps(n){return n instanceof wn}function iT(n,e,t=null,r=null,i=new ii){let o=oT(n);return sT(o,e,t,r,i)}function oT(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new ve(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=nT(r);return e??i}function sT(n,e,t,r,i){let o=n;for(;o.parent;)o=o.parent;if(e.length===0)return jy(o,o,o,t,r,i);let s=JF(e);if(s.toRoot())return jy(o,o,new ve([],{}),t,r,i);let a=ZF(s,o,n),u=a.processChildren?bc(a.segmentGroup,a.index,s.commands):cT(a.segmentGroup,a.index,s.commands);return jy(o,a.segmentGroup,u,t,r,i)}function Jd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Sc(n){return typeof n=="object"&&n!=null&&n.outlets}function U0(n,e,t){n||="\u0275";let r=new wn;return r.queryParams={[n]:e},t.parse(t.serialize(r)).queryParams[n]}function jy(n,e,t,r,i,o){let s={};for(let[l,h]of Object.entries(r??{}))s[l]=Array.isArray(h)?h.map(p=>U0(l,p,o)):U0(l,h,o);let a;n===e?a=t:a=aT(n,e,t);let u=nT(rT(a));return new wn(u,s,i)}function aT(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=aT(o,e,t)}),new ve(n.segments,r)}var Zd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Jd(r[0]))throw new H(4003,!1);let i=r.find(Sc);if(i&&i!==PF(r))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function JF(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Zd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Zd(t,e,r)}var hs=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function ZF(n,e,t){if(n.isAbsolute)return new hs(e,!0,0);if(!t)return new hs(e,!1,NaN);if(t.parent===null)return new hs(t,!0,0);let r=Jd(n.commands[0])?0:1,i=t.segments.length-1+r;return XF(t,i,n.numberOfDoubleDots)}function XF(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new H(4005,!1);i=r.segments.length}return new hs(r,!1,i-o)}function eL(n){return Sc(n[0])?n[0].outlets:{[Z]:n}}function cT(n,e,t){if(n??=new ve([],{}),n.segments.length===0&&n.hasChildren())return bc(n,e,t);let r=tL(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new ve(n.segments.slice(0,r.pathIndex),{});return o.children[Z]=new ve(n.segments.slice(r.pathIndex),n.children),bc(o,0,i)}else return r.match&&i.length===0?new ve(n.segments,{}):r.match&&!n.hasChildren()?qy(n,e,t):r.match?bc(n,0,i):qy(n,e,t)}function bc(n,e,t){if(t.length===0)return new ve(n.segments,{});{let r=eL(t),i={};if(Object.keys(r).some(o=>o!==Z)&&n.children[Z]&&n.numberOfChildren===1&&n.children[Z].segments.length===0){let o=bc(n.children[Z],e,t);return new ve(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=cT(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ve(n.segments,i)}}function tL(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Sc(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!H0(u,l,s))return o;r+=2}else{if(!H0(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function qy(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Sc(o)){let u=nL(o.outlets);return new ve(r,u)}if(i===0&&Jd(t[0])){let u=n.segments[e];r.push(new ri(u.path,B0(t[0]))),i++;continue}let s=Sc(o)?o.outlets[Z]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Jd(a)?(r.push(new ri(s,B0(a))),i+=2):(r.push(new ri(s,{})),i++)}return new ve(r,{})}function nL(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=qy(new ve([],{}),0,r))}),e}function B0(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function H0(n,e,t){return n==t.path&&Wn(e,t.parameters)}var Cc="imperative",ct=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(ct||{}),Zt=class{id;url;constructor(e,t){this.id=e,this.url=t}},lo=class extends Zt{type=ct.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Er=class extends Zt{urlAfterRedirects;type=ct.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},St=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(St||{}),Ac=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Ac||{}),cn=class extends Zt{reason;code;type=ct.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}};function uT(n){return n instanceof cn&&(n.code===St.Redirect||n.code===St.SupersededByNewNavigation)}var Ir=class extends Zt{reason;code;type=ct.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},ho=class extends Zt{error;target;type=ct.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},gs=class extends Zt{urlAfterRedirects;state;type=ct.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xd=class extends Zt{urlAfterRedirects;state;type=ct.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},eh=class extends Zt{urlAfterRedirects;state;shouldActivate;type=ct.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},th=class extends Zt{urlAfterRedirects;state;type=ct.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nh=class extends Zt{urlAfterRedirects;state;type=ct.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rh=class{route;type=ct.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ih=class{route;type=ct.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},oh=class{snapshot;type=ct.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sh=class{snapshot;type=ct.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ah=class{snapshot;type=ct.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ch=class{snapshot;type=ct.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ms=class{},ys=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function rL(n){return!(n instanceof ms)&&!(n instanceof ys)}var uh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return this.route?.snapshot._environmentInjector??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Es(this.rootInjector)}},Es=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new uh(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(oe(Ze))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Gy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Gy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Wy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Wy(e,this._root).map(t=>t.value)}};function Gy(n,e){if(n===e.value)return e;for(let t of e.children){let r=Gy(n,t);if(r)return r}return null}function Wy(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Wy(n,t);if(r.length)return r.unshift(e),r}return[]}var Jt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ds(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Rc=class extends lh{snapshot;constructor(e,t){super(e),this.snapshot=t,tv(this,e)}toString(){return this.snapshot.toString()}};function lT(n,e){let t=iL(n,e),r=new gt([new ri("",{})]),i=new gt({}),o=new gt({}),s=new gt({}),a=new gt(""),u=new oi(r,i,s,a,o,Z,n,t.root);return u.snapshot=t.root,new Rc(new Jt(u,[]),t)}function iL(n,e){let t={},r={},i={},s=new co([],t,i,"",r,Z,n,null,{},e);return new Mc("",new Jt(s,[]))}var oi=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Me(l=>l[Pc]))??le(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Me(e=>uo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Me(e=>uo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function dh(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:M(M({},e.params),n.params),data:M(M({},e.data),n.data),resolve:M(M(M(M({},n.data),e.data),i?.data),n._resolvedData)}:r={params:M({},n.params),data:M({},n.data),resolve:M(M({},n.data),n._resolvedData??{})},i&&hT(i)&&(r.resolve[Pc]=i.title),r}var co=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;_environmentInjector;get title(){return this.data?.[Pc]}constructor(e,t,r,i,o,s,a,u,l,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l,this._environmentInjector=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=uo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=uo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Mc=class extends lh{url;constructor(e,t){super(t),this.url=e,tv(this,t)}toString(){return dT(this._root)}};function tv(n,e){e.value._routerState=n,e.children.forEach(t=>tv(n,t))}function dT(n){let e=n.children.length>0?` { ${n.children.map(dT).join(", ")} } `:"";return`${n.value}${e}`}function Uy(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Wn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Wn(e.params,t.params)||n.paramsSubject.next(t.params),xF(e.url,t.url)||n.urlSubject.next(t.url),Wn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Ky(n,e){let t=Wn(n.params,e.params)&&LF(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Ky(n.parent,e.parent))}function hT(n){return typeof n.title=="string"||n.title===null}var fT=new $(""),kc=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Z;activateEvents=new Ge;deactivateEvents=new Ge;attachEvents=new Ge;detachEvents=new Ge;routerOutletData=m0();parentContexts=F(Es);location=F(ro);changeDetector=F(so);inputBinder=F(gh,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Qy(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=et({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[yr]})}return n})(),Qy=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===oi?this.route:e===Es?this.childContexts:e===fT?this.outletData:this.parent.get(e,t)}},gh=new $("");var nv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=En({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ge(0,"router-outlet")},dependencies:[kc],encapsulation:2})}return n})();function rv(n){let e=n.children&&n.children.map(rv),t=e?z(M({},n),{children:e}):M({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Z&&(t.component=nv),t}function oL(n,e,t){let r=Nc(n,e._root,t?t._root:void 0);return new Rc(r,e)}function Nc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=sL(n,e,t);return new Jt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Nc(n,a)),s}}let r=aL(e.value),i=e.children.map(o=>Nc(n,o));return new Jt(r,i)}}function sL(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Nc(n,r,i);return Nc(n,r)})}function aL(n){return new oi(new gt(n.url),new gt(n.params),new gt(n.queryParams),new gt(n.fragment),new gt(n.data),n.outlet,n.component,n)}var vs=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},pT="ngNavigationCancelingError";function hh(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ps(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=gT(!1,St.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function gT(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[pT]=!0,t.cancellationCode=e,t}function cL(n){return mT(n)&&ps(n.url)}function mT(n){return!!n&&n[pT]}var Yy=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Uy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ds(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ds(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ds(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ds(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new ch(o.value.snapshot))}),e.children.length&&this.forwardEvent(new sh(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Uy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Uy(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},fh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},fs=class{component;route;constructor(e,t){this.component=e,this.route=t}};function uL(n,e,t){let r=n._root,i=e?e._root:null;return Dc(r,i,t,[r.value])}function lL(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Is(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Sg(n)?n:e.get(n):r}function Dc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ds(e);return n.children.forEach(s=>{dL(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Tc(a,t.getContext(s),i)),i}function dL(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=hL(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new fh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Dc(n,e,a?a.children:null,r,i):Dc(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new fs(a.outlet.component,s))}else s&&Tc(e,a,i),i.canActivateChecks.push(new fh(r)),o.component?Dc(n,null,a?a.children:null,r,i):Dc(n,null,t,r,i);return i}function hL(n,e,t){if(typeof t=="function")return bt(e._environmentInjector,()=>t(n,e));switch(t){case"pathParamsChange":return!ao(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ao(n.url,e.url)||!Wn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ky(n,e)||!Wn(n.queryParams,e.queryParams);default:return!Ky(n,e)}}function Tc(n,e,t){let r=ds(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Tc(s,e.children.getContext(o),t):Tc(s,null,t):Tc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new fs(e.outlet.component,i)):t.canDeactivateChecks.push(new fs(null,i)):t.canDeactivateChecks.push(new fs(null,i))}function Fc(n){return typeof n=="function"}function fL(n){return typeof n=="boolean"}function pL(n){return n&&Fc(n.canLoad)}function gL(n){return n&&Fc(n.canActivate)}function mL(n){return n&&Fc(n.canActivateChild)}function yL(n){return n&&Fc(n.canDeactivate)}function vL(n){return n&&Fc(n.canMatch)}function yT(n){return n instanceof xi||n?.name==="EmptyError"}var Gd=Symbol("INITIAL_VALUE");function _s(){return ur(n=>sg(n.map(e=>e.pipe(ar(1),ug(Gd)))).pipe(Me(e=>{for(let t of e)if(t!==!0){if(t===Gd)return Gd;if(t===!1||_L(t))return t}return!0}),sr(e=>e!==Gd),ar(1)))}function _L(n){return ps(n)||n instanceof vs}function vT(n){return n.aborted?le(void 0).pipe(ar(1)):new he(e=>{let t=()=>{e.next(),e.complete()};return n.addEventListener("abort",t),()=>n.removeEventListener("abort",t)})}function _T(n){return Na(vT(n))}function EL(n){return xt(e=>{let{targetSnapshot:t,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:o}}=e;return o.length===0&&i.length===0?le(z(M({},e),{guardsResult:!0})):IL(o,t,r).pipe(xt(s=>s&&fL(s)?wL(t,i,n):le(s)),Me(s=>z(M({},e),{guardsResult:s})))})}function IL(n,e,t){return qe(n).pipe(xt(r=>SL(r.component,r.route,t,e)),cr(r=>r!==!0,!0))}function wL(n,e,t){return qe(e).pipe(bl(r=>Go(bL(r.route.parent,t),DL(r.route,t),TL(n,r.path),CL(n,r.route))),cr(r=>r!==!0,!0))}function DL(n,e){return n!==null&&e&&e(new ah(n)),le(!0)}function bL(n,e){return n!==null&&e&&e(new oh(n)),le(!0)}function CL(n,e){let t=e.routeConfig?e.routeConfig.canActivate:null;if(!t||t.length===0)return le(!0);let r=t.map(i=>Ra(()=>{let o=e._environmentInjector,s=Is(i,o),a=gL(s)?s.canActivate(e,n):bt(o,()=>s(e,n));return fo(a).pipe(cr())}));return le(r).pipe(_s())}function TL(n,e){let t=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(o=>lL(o)).filter(o=>o!==null).map(o=>Ra(()=>{let s=o.guards.map(a=>{let u=o.node._environmentInjector,l=Is(a,u),h=mL(l)?l.canActivateChild(t,n):bt(u,()=>l(t,n));return fo(h).pipe(cr())});return le(s).pipe(_s())}));return le(i).pipe(_s())}function SL(n,e,t,r){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return le(!0);let o=i.map(s=>{let a=e._environmentInjector,u=Is(s,a),l=yL(u)?u.canDeactivate(n,e,t,r):bt(a,()=>u(n,e,t,r));return fo(l).pipe(cr())});return le(o).pipe(_s())}function AL(n,e,t,r,i){let o=e.canLoad;if(o===void 0||o.length===0)return le(!0);let s=o.map(a=>{let u=Is(a,n),l=pL(u)?u.canLoad(e,t):bt(n,()=>u(e,t)),h=fo(l);return i?h.pipe(_T(i)):h});return le(s).pipe(_s(),ET(r))}function ET(n){return ng(xn(e=>{if(typeof e!="boolean")throw hh(n,e)}),Me(e=>e===!0))}function RL(n,e,t,r,i){let o=e.canMatch;if(!o||o.length===0)return le(!0);let s=o.map(a=>{let u=Is(a,n),l=vL(u)?u.canMatch(e,t):bt(n,()=>u(e,t));return fo(l).pipe(_T(i))});return le(s).pipe(_s(),ET(r))}var _r=class n extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,n.prototype)}},xc=class n extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,n.prototype)}};function ML(n){throw new H(4e3,!1)}function NL(n){throw gT(!1,St.GuardRejected)}var Jy=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}async lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[Z])throw ML(`${e.redirectTo}`);i=i.children[Z]}}async applyRedirectCommands(e,t,r,i,o){let s=await xL(t,i,o);if(s instanceof wn)throw new xc(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new xc(a);return a}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new wn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new ve(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new H(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function xL(n,e,t){if(typeof n=="string")return Promise.resolve(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p,paramMap:g,queryParamMap:y}=e;return Yd(fo(bt(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p,paramMap:g,queryParamMap:y}))))}function PL(n,e){return n.providers&&!n._injector&&(n._injector=lc(n.providers,e,`Route: ${n.path}`)),n._injector??e}function In(n){return n.outlet||Z}function OL(n,e){let t=n.filter(r=>In(r)===e);return t.push(...n.filter(r=>In(r)!==e)),t}var Zy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kL(n,e,t,r,i,o){let s=IT(n,e,t);return s.matched?(r=PL(e,r),RL(r,e,t,i,o).pipe(Me(a=>a===!0?s:M({},Zy)))):le(s)}function IT(n,e,t){if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?M({},Zy):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||W0)(t,n,e);if(!i)return M({},Zy);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?M(M({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function $0(n,e,t,r){return t.length>0&&VL(n,t,r)?{segmentGroup:new ve(e,LL(r,new ve(t,n.children))),slicedSegments:[]}:t.length===0&&jL(n,t,r)?{segmentGroup:new ve(n.segments,FL(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ve(n.segments,n.children),slicedSegments:t}}function FL(n,e,t,r){let i={};for(let o of t)if(mh(n,e,o)&&!r[In(o)]){let s=new ve([],{});i[In(o)]=s}return M(M({},r),i)}function LL(n,e){let t={};t[Z]=e;for(let r of n)if(r.path===""&&In(r)!==Z){let i=new ve([],{});t[In(r)]=i}return t}function VL(n,e,t){return t.some(r=>mh(n,e,r)&&In(r)!==Z)}function jL(n,e,t){return t.some(r=>mh(n,e,r))}function mh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function UL(n,e,t){return e.length===0&&!n.children[t]}var Xy=class{};async function BL(n,e,t,r,i,o,s="emptyOnly",a){return new ev(n,e,t,r,i,s,o,a).recognize()}var HL=31,ev=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a,u){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=u,this.applyRedirects=new Jy(this.urlSerializer,this.urlTree)}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}async recognize(){let e=$0(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:r}=await this.match(e),i=new Jt(r,t),o=new Mc("",i),s=iT(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(e){let t=new co([],Object.freeze({}),Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Z,this.rootComponentType,null,{},this.injector);try{return{children:await this.processSegmentGroup(this.injector,this.config,e,Z,t),rootSnapshot:t}}catch(r){if(r instanceof xc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof _r?this.noMatchError(r):r}}async processSegmentGroup(e,t,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,t,r,o);let s=await this.processSegment(e,t,r,r.segments,i,!0,o);return s instanceof Jt?[s]:[]}async processChildren(e,t,r,i){let o=[];for(let u of Object.keys(r.children))u==="primary"?o.unshift(u):o.push(u);let s=[];for(let u of o){let l=r.children[u],h=OL(t,u),p=await this.processSegmentGroup(e,h,l,u,i);s.push(...p)}let a=wT(s);return $L(a),a}async processSegment(e,t,r,i,o,s,a){for(let u of t)try{return await this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a)}catch(l){if(l instanceof _r||yT(l))continue;throw l}if(UL(r,i,o))return new Xy;throw new _r(r)}async processSegmentAgainstRoute(e,t,r,i,o,s,a,u){if(In(r)!==s&&(s===Z||!mh(i,o,r)))throw new _r(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,o,s,u);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u);throw new _r(i)}async expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=IT(t,i,o);if(!u)throw new _r(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>HL&&(this.allowRedirects=!1));let y=new co(o,l,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,z0(i),In(i),i.component??i._loadedComponent??null,i,q0(i),e),T=dh(y,a,this.paramsInheritanceStrategy);if(y.params=Object.freeze(T.params),y.data=Object.freeze(T.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let N=await this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e),P=await this.applyRedirects.lineralizeSegments(i,N);return this.processSegment(e,r,t,P.concat(g),s,!1,a)}async matchSegmentAgainstRoute(e,t,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await Yd(kL(t,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(t.children={}),!a?.matched)throw new _r(t);e=r._injector??e;let{routes:u}=await this.getChildConfig(e,r,i),l=r._loadedInjector??e,{parameters:h,consumedSegments:p,remainingSegments:g}=a,y=new co(p,h,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,z0(r),In(r),r.component??r._loadedComponent??null,r,q0(r),e),T=dh(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(T.params),y.data=Object.freeze(T.data);let{segmentGroup:N,slicedSegments:P}=$0(t,p,g,u);if(P.length===0&&N.hasChildren()){let me=await this.processChildren(l,u,N,y);return new Jt(y,me)}if(u.length===0&&P.length===0)return new Jt(y,[]);let j=In(r)===o,ee=await this.processSegment(l,u,N,P,j?Z:o,!0,y);return new Jt(y,ee instanceof Jt?[ee]:[])}async getChildConfig(e,t,r){if(t.children)return{routes:t.children,injector:e};if(t.loadChildren){if(t._loadedRoutes!==void 0){let o=t._loadedNgModuleFactory;return o&&!t._loadedInjector&&(t._loadedInjector=o.create(e).injector),{routes:t._loadedRoutes,injector:t._loadedInjector}}if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await Yd(AL(e,t,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(e,t);return t._loadedRoutes=o.routes,t._loadedInjector=o.injector,t._loadedNgModuleFactory=o.factory,o}throw NL(t)}return{routes:[],injector:e}}};function $L(n){n.sort((e,t)=>e.value.outlet===Z?-1:t.value.outlet===Z?1:e.value.outlet.localeCompare(t.value.outlet))}function zL(n){let e=n.value.routeConfig;return e&&e.path===""}function wT(n){let e=[],t=new Set;for(let r of n){if(!zL(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=wT(r.children);e.push(new Jt(r.value,i))}return e.filter(r=>!t.has(r))}function z0(n){return n.data||{}}function q0(n){return n.resolve||{}}function qL(n,e,t,r,i,o,s){return xt(async a=>{let{state:u,tree:l}=await BL(n,e,t,r,a.extractedUrl,i,o,s);return z(M({},a),{targetSnapshot:u,urlAfterRedirects:l})})}function GL(n){return xt(e=>{let{targetSnapshot:t,guards:{canActivateChecks:r}}=e;if(!r.length)return le(e);let i=new Set(r.map(a=>a.route)),o=new Set;for(let a of i)if(!o.has(a))for(let u of DT(a))o.add(u);let s=0;return qe(o).pipe(bl(a=>i.has(a)?WL(a,t,n):(a.data=dh(a,a.parent,n).resolve,le(void 0))),xn(()=>s++),Cl(1),xt(a=>s===o.size?le(e):mt))})}function DT(n){let e=n.children.map(t=>DT(t)).flat();return[n,...e]}function WL(n,e,t){let r=n.routeConfig,i=n._resolve;return r?.title!==void 0&&!hT(r)&&(i[Pc]=r.title),Ra(()=>(n.data=dh(n,n.parent,t).resolve,KL(i,n,e).pipe(Me(o=>(n._resolvedData=o,n.data=M(M({},n.data),o),null)))))}function KL(n,e,t){let r=Hy(n);if(r.length===0)return le({});let i={};return qe(r).pipe(xt(o=>QL(n[o],e,t).pipe(cr(),xn(s=>{if(s instanceof vs)throw hh(new ii,s);i[o]=s}))),Cl(1),Me(()=>i),Ma(o=>yT(o)?mt:og(o)))}function QL(n,e,t){let r=e._environmentInjector,i=Is(n,r),o=i.resolve?i.resolve(e,t):bt(r,()=>i(e,t));return fo(o)}function G0(n){return ur(e=>{let t=n(e);return t?qe(t).pipe(Me(()=>e)):le(e)})}var iv=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Z);return r}getResolvedTitleForRoute(t){return t.data[Pc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>F(bT),providedIn:"root"})}return n})(),bT=(()=>{class n extends iv{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(oe(L0))};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Lc=new $("",{factory:()=>({})}),Vc=new $(""),CT=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=F(my);async loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await Q0(bt(t,()=>r.loadComponent())),s=await AT(ST(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await TT(r,this.compiler,t,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,r._loadedNgModuleFactory=o.factory,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();async function TT(n,e,t,r){let i=await Q0(bt(t,()=>n.loadChildren())),o=await AT(ST(i)),s;o instanceof Sd||Array.isArray(o)?s=o:s=await e.compileModuleAsync(o),r&&r(n);let a,u,l=!1,h;return Array.isArray(s)?(u=s,l=!0):(a=s.create(t).injector,h=s,u=a.get(Vc,[],{optional:!0,self:!0}).flat()),{routes:u.map(rv),injector:a,factory:h}}function YL(n){return n&&typeof n=="object"&&"default"in n}function ST(n){return YL(n)?n.default:n}async function AT(n){return n}var yh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>F(JL),providedIn:"root"})}return n})(),JL=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),RT=new $("");var ZL=()=>{},MT=new $(""),NT=(()=>{class n{currentNavigation=Oe(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Oe(null);events=new nt;transitionAbortWithErrorSubject=new nt;configLoader=F(CT);environmentInjector=F(Ze);destroyRef=F(Vn);urlSerializer=F(Oc);rootContexts=F(Es);location=F(ls);inputBindingEnabled=F(gh,{optional:!0})!==null;titleStrategy=F(iv);options=F(Lc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=F(yh);createViewTransition=F(RT,{optional:!0});navigationErrorHandler=F(MT,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>le(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new rh(i)),r=i=>this.events.next(new ih(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;it(()=>{this.transitions?.next(z(M({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(t){return this.transitions=new gt(null),this.transitions.pipe(sr(r=>r!==null),ur(r=>{let i=!1,o=new AbortController,s=()=>!i&&this.currentTransition?.id===r.id;return le(r).pipe(ur(a=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",St.SupersededByNewNavigation),mt;this.currentTransition=r;let u=this.lastSuccessfulNavigation();this.currentNavigation.set({id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:u?z(M({},u),{previousNavigation:null}):null,abort:()=>o.abort()});let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=a.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&h!=="reload")return this.events.next(new Ir(a.id,this.urlSerializer.serialize(a.rawUrl),"",Ac.IgnoredSameUrlNavigation)),a.resolve(!1),mt;if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return le(a).pipe(ur(p=>(this.events.next(new lo(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),p.id!==this.navigationId?mt:Promise.resolve(p))),qL(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),xn(p=>{r.targetSnapshot=p.targetSnapshot,r.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation.update(y=>(y.finalUrl=p.urlAfterRedirects,y));let g=new gs(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:p,extractedUrl:g,source:y,restoredState:T,extras:N}=a,P=new lo(p,this.urlSerializer.serialize(g),y,T);this.events.next(P);let j=lT(this.rootComponentType,this.environmentInjector).snapshot;return this.currentTransition=r=z(M({},a),{targetSnapshot:j,urlAfterRedirects:g,extras:z(M({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(ee=>(ee.finalUrl=g,ee)),le(r)}else return this.events.next(new Ir(a.id,this.urlSerializer.serialize(a.extractedUrl),"",Ac.IgnoredByUrlHandlingStrategy)),a.resolve(!1),mt}),Me(a=>{let u=new Xd(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);return this.events.next(u),this.currentTransition=r=z(M({},a),{guards:uL(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),r}),EL(a=>this.events.next(a)),ur(a=>{if(r.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw hh(this.urlSerializer,a.guardsResult);let u=new eh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);if(this.events.next(u),!s())return mt;if(!a.guardsResult)return this.cancelNavigationTransition(a,"",St.GuardRejected),mt;if(a.guards.canActivateChecks.length===0)return le(a);let l=new th(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);if(this.events.next(l),!s())return mt;let h=!1;return le(a).pipe(GL(this.paramsInheritanceStrategy),xn({next:()=>{h=!0;let p=new nh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(p)},complete:()=>{h||this.cancelNavigationTransition(a,"",St.NoDataFromResolver)}}))}),G0(a=>{let u=h=>{let p=[];if(h.routeConfig?._loadedComponent)h.component=h.routeConfig?._loadedComponent;else if(h.routeConfig?.loadComponent){let g=h._environmentInjector;p.push(this.configLoader.loadComponent(g,h.routeConfig).then(y=>{h.component=y}))}for(let g of h.children)p.push(...u(g));return p},l=u(a.targetSnapshot.root);return l.length===0?le(a):qe(Promise.all(l).then(()=>a))}),G0(()=>this.afterPreactivation()),ur(()=>{let{currentSnapshot:a,targetSnapshot:u}=r,l=this.createViewTransition?.(this.environmentInjector,a.root,u.root);return l?qe(l).pipe(Me(()=>r)):le(r)}),ar(1),Me(a=>{let u=oL(t.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);this.currentTransition=r=a=z(M({},a),{targetRouterState:u}),this.currentNavigation.update(l=>(l.targetRouterState=u,l)),this.events.next(new ms),s()&&(new Yy(t.routeReuseStrategy,r.targetRouterState,r.currentRouterState,l=>this.events.next(l),this.inputBindingEnabled).activate(this.rootContexts),s()&&(i=!0,this.currentNavigation.update(l=>(l.abort=ZL,l)),this.lastSuccessfulNavigation.set(it(this.currentNavigation)),this.events.next(new Er(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)))}),Na(vT(o.signal).pipe(sr(()=>!i&&!r.targetRouterState),xn(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",St.Aborted)}))),xn({complete:()=>{i=!0}}),Na(this.transitionAbortWithErrorSubject.pipe(xn(a=>{throw a}))),cg(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",St.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Ma(a=>{if(i=!0,this.destroyed)return r.resolve(!1),mt;if(mT(a))this.events.next(new cn(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode)),cL(a)?this.events.next(new ys(a.url,a.navigationBehaviorOptions)):r.resolve(!1);else{let u=new ho(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);try{let l=bt(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(l instanceof vs){let{message:h,cancellationCode:p}=hh(this.urlSerializer,l);this.events.next(new cn(r.id,this.urlSerializer.serialize(r.extractedUrl),h,p)),this.events.next(new ys(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(u),a}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return mt}))}))}cancelNavigationTransition(t,r,i){let o=new cn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=it(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function XL(n){return n!==Cc}var xT=new $("");var PT=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>F(eV),providedIn:"root"})}return n})(),ph=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}shouldDestroyInjector(e){return!0}},eV=(()=>{class n extends ph{static \u0275fac=(()=>{let t;return function(i){return(t||(t=eo(n)))(i||n)}})();static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ov=(()=>{class n{urlSerializer=F(Oc);options=F(Lc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=F(ls);urlHandlingStrategy=F(yh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new wn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof wn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=lT(null,F(Ze));getRouterState(){return this.routerState}_stateMemento=this.createStateMemento();get stateMemento(){return this._stateMemento}updateStateMemento(){this._stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}restoredState(){return this.location.getState()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:()=>F(tV),providedIn:"root"})}return n})(),tV=(()=>{class n extends ov{currentPageId=0;lastSuccessfulId=-1;get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof lo?this.updateStateMemento():t instanceof Ir?this.commitTransition(r):t instanceof gs?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof ms?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof cn&&!uT(t)?this.restoreHistory(r):t instanceof ho?this.restoreHistory(r,!0):t instanceof Er&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=M(M({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=M(M({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=eo(n)))(i||n)}})();static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sv(n,e){n.events.pipe(sr(t=>t instanceof Er||t instanceof cn||t instanceof ho||t instanceof Ir),Me(t=>t instanceof Er||t instanceof Ir?0:(t instanceof cn?t.code===St.Redirect||t.code===St.SupersededByNewNavigation:!1)?2:1),sr(t=>t!==2),ar(1)).subscribe(()=>{e()})}var OT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},si=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=F(ly);stateManager=F(ov);options=F(Lc,{optional:!0})||{};pendingTasks=F(Yr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=F(NT);urlSerializer=F(Oc);location=F(ls);urlHandlingStrategy=F(yh);injector=F(Ze);_events=new nt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=F(PT);injectorCleanup=F(xT,{optional:!0});onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=F(Vc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!F(gh,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{}}),this.subscribeToNavigationEvents()}eventsSubscription=new pt;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=it(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof cn&&r.code!==St.Redirect&&r.code!==St.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Er)this.navigated=!0,this.injectorCleanup?.(this.routeReuseStrategy,this.routerState,this.config);else if(r instanceof ys){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=M({scroll:i.extras.scroll,browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||XL(i.source)},s);this.scheduleNavigation(a,Cc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}rL(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Cc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=M({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(jn)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return it(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(rv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=M(M({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=oT(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return sT(p,t,h,l??null,this.urlSerializer)}navigateByUrl(t,r={skipLocationChange:!1}){let i=ps(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Cc,null,r)}navigate(t,r={skipLocationChange:!1}){return nV(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Vi(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=M({},OT):r===!1?i=M({},kT):i=r,ps(t))return V0(this.currentUrlTree,t,i);let o=this.parseUrl(t);return V0(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return sv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nV(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new H(4008,!1)}var oV=new $("");function av(n,...e){return ja([{provide:Vc,multi:!0,useValue:n},[],{provide:oi,useFactory:sV},{provide:Ad,multi:!0,useFactory:aV},e.map(t=>t.\u0275providers)])}function sV(){return F(si).routerState.root}function aV(){let n=F(zt);return e=>{let t=n.get(io);if(e!==t.components[0])return;let r=n.get(si),i=n.get(cV);n.get(uV)===1&&r.initialNavigation(),n.get(lV,null,{optional:!0})?.setUpPreloading(),n.get(oV,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var cV=new $("",{factory:()=>new nt}),uV=new $("",{factory:()=>1});var lV=new $("");var vh=class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=En({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&ge(0,"router-outlet")},dependencies:[kc],encapsulation:2})}};var qT=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(pe(to),pe(Zr))};static \u0275dir=et({type:n})}return n})(),hV=(()=>{class n extends qT{static \u0275fac=(()=>{let t;return function(i){return(t||(t=eo(n)))(i||n)}})();static \u0275dir=et({type:n,features:[zn]})}return n})(),GT=new $("");var fV={provide:GT,useExisting:fr(()=>ci),multi:!0};function pV(){let n=an()?an().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var gV=new $(""),ci=(()=>{class n extends qT{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!pV())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(pe(to),pe(Zr),pe(gV,8))};static \u0275dir=et({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Re("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[us([fV]),zn]})}return n})();function mV(n){return n==null||yV(n)===0}function yV(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var lv=new $(""),WT=new $("");function vV(n){return mV(n.value)?{required:!0}:null}function LT(n){return null}function KT(n){return n!=null}function QT(n){return ei(n)?qe(n):n}function YT(n){let e={};return n.forEach(t=>{e=t!=null?M(M({},e),t):e}),Object.keys(e).length===0?null:e}function JT(n,e){return e.map(t=>t(n))}function _V(n){return!n.validate}function ZT(n){return n.map(e=>_V(e)?e:t=>e.validate(t))}function EV(n){if(!n)return null;let e=n.filter(KT);return e.length==0?null:function(t){return YT(JT(t,e))}}function dv(n){return n!=null?EV(ZT(n)):null}function IV(n){if(!n)return null;let e=n.filter(KT);return e.length==0?null:function(t){let r=JT(t,e).map(QT);return ag(r).pipe(Me(YT))}}function hv(n){return n!=null?IV(ZT(n)):null}function VT(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function wV(n){return n._rawValidators}function DV(n){return n._rawAsyncValidators}function cv(n){return n?Array.isArray(n)?n:[n]:[]}function Eh(n,e){return Array.isArray(n)?n.includes(e):n===e}function jT(n,e){let t=cv(e);return cv(n).forEach(i=>{Eh(t,i)||t.push(i)}),t}function UT(n,e){return cv(e).filter(t=>!Eh(n,t))}var Ih=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=dv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=hv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},bs=class extends Ih{name;get formDirective(){return null}get path(){return null}},zc=class extends Ih{_parent=null;name=null;valueAccessor=null},wh=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var Cs=(()=>{class n extends wh{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(pe(zc,2))};static \u0275dir=et({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Be("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[zn]})}return n})(),Sh=(()=>{class n extends wh{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(pe(bs,10))};static \u0275dir=et({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Be("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[zn]})}return n})();var jc="VALID",_h="INVALID",ws="PENDING",Uc="DISABLED",ai=class{},Dh=class extends ai{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Hc=class extends ai{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},$c=class extends ai{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Ds=class extends ai{status;source;constructor(e,t){super(),this.status=e,this.source=t}},uv=class extends ai{source;constructor(e){super(),this.source=e}},bh=class extends ai{source;constructor(e){super(),this.source=e}};function XT(n){return(Ah(n)?n.validators:n)||null}function bV(n){return Array.isArray(n)?dv(n):n||null}function eS(n,e){return(Ah(e)?e.asyncValidators:n)||null}function CV(n){return Array.isArray(n)?hv(n):n||null}function Ah(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function TV(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new H(1e3,"");if(!r[t])throw new H(1001,"")}function SV(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new H(1002,"")})}var Ch=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return it(this.statusReactive)}set status(e){it(()=>this.statusReactive.set(e))}_status=oo(()=>this.statusReactive());statusReactive=Oe(void 0);get valid(){return this.status===jc}get invalid(){return this.status===_h}get pending(){return this.status==ws}get disabled(){return this.status===Uc}get enabled(){return this.status!==Uc}errors;get pristine(){return it(this.pristineReactive)}set pristine(e){it(()=>this.pristineReactive.set(e))}_pristine=oo(()=>this.pristineReactive());pristineReactive=Oe(!0);get dirty(){return!this.pristine}get touched(){return it(this.touchedReactive)}set touched(e){it(()=>this.touchedReactive.set(e))}_touched=oo(()=>this.touchedReactive());touchedReactive=Oe(!1);get untouched(){return!this.touched}_events=new nt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(jT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(jT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(UT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(UT(e,this._rawAsyncValidators))}hasValidator(e){return Eh(this._rawValidators,e)}hasAsyncValidator(e){return Eh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(z(M({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new $c(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new $c(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(z(M({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Hc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Hc(!0,r))}markAsPending(e={}){this.status=ws;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ds(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(z(M({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Uc,this.errors=null,this._forEachChild(i=>{i.disable(z(M({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Dh(this.value,r)),this._events.next(new Ds(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(z(M({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=jc,this._forEachChild(r=>{r.enable(z(M({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(z(M({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jc||this.status===ws)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Dh(this.value,t)),this._events.next(new Ds(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(z(M({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Uc:jc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ws,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=QT(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ds(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ge,this.statusChanges=new Ge}_calculateStatus(){return this._allControlsDisabled()?Uc:this.errors?_h:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ws)?ws:this._anyControlsHaveStatus(_h)?_h:jc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Hc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new $c(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ah(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=bV(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=CV(this._rawAsyncValidators)}},Th=class extends Ch{constructor(e,t,r){super(XT(t),eS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){SV(this,!0,e),Object.keys(e).forEach(r=>{TV(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,z(M({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new bh(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var fv=new $("",{factory:()=>pv}),pv="always";function AV(n,e){return[...e.path,n]}function tS(n,e,t=pv){nS(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),MV(n,e),xV(n,e),NV(n,e),RV(n,e)}function BT(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function RV(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function nS(n,e){let t=wV(n);e.validator!==null?n.setValidators(VT(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=DV(n);e.asyncValidator!==null?n.setAsyncValidators(VT(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();BT(e._rawValidators,i),BT(e._rawAsyncValidators,i)}function MV(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&rS(n,e)})}function NV(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&rS(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function rS(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function xV(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function PV(n,e){n==null,nS(n,e)}function OV(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function kV(n){return Object.getPrototypeOf(n.constructor)===hV}function FV(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function LV(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===ci?t=o:kV(o)?r=o:i=o}),i||r||t||null}var VV={provide:bs,useExisting:fr(()=>qc)},Bc=Promise.resolve(),qc=(()=>{class n extends bs{callSetDisabledState;get submitted(){return it(this.submittedReactive)}_submitted=oo(()=>this.submittedReactive());submittedReactive=Oe(!1);_directives=new Set;form;ngSubmit=new Ge;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Th({},dv(t),hv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Bc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),tS(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Bc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Bc.then(()=>{let r=this._findContainer(t.path),i=new Th({});PV(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Bc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Bc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),FV(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new uv(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(pe(lv,10),pe(WT,10),pe(fv,8))};static \u0275dir=et({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Re("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[us([VV]),zn]})}return n})();function HT(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function $T(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var jV=class extends Ch{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(XT(t),eS(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ah(t)&&(t.nonNullable||t.initialValueIsDefault)&&($T(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),t.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new bh(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){HT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){HT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){$T(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var UV={provide:zc,useExisting:fr(()=>po)},zT=Promise.resolve(),po=(()=>{class n extends zc{_changeDetectorRef;callSetDisabledState;control=new jV;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ge;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=LV(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),OV(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){tS(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){zT.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&vr(r);zT.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?AV(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(pe(bs,9),pe(lv,10),pe(WT,10),pe(GT,10),pe(so,8),pe(fv,8))};static \u0275dir=et({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[us([UV]),zn,yr]})}return n})();var Rh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=et({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var BV=(()=>{class n{_validator=LT;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):LT,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=et({type:n,features:[yr]})}return n})();var HV={provide:lv,useExisting:fr(()=>Gc),multi:!0};var Gc=(()=>{class n extends BV{required;inputName="required";normalizeInput=vr;createValidator=t=>vV;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=eo(n)))(i||n)}})();static \u0275dir=et({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Rd("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[us([HV]),zn]})}return n})();var $V=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Xr({type:n});static \u0275inj=pr({})}return n})();var Ts=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:fv,useValue:t.callSetDisabledState??pv}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Xr({type:n});static \u0275inj=pr({imports:[$V]})}return n})();var iS=()=>{};var aS=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},zV=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},cS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(t[h],t[p],t[g],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(aS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):zV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new yv;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let T=l<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},yv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},qV=function(n){let e=aS(n);return cS.encodeByteArray(e,!0)},Kc=function(n){return qV(n).replace(/\./g,"")},Nh=function(n){try{return cS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function uS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var GV=()=>uS().__FIREBASE_DEFAULTS__,WV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},KV=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Nh(n[1]);return e&&JSON.parse(e)},xh=()=>{try{return iS()||GV()||WV()||KV()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},_v=n=>xh()?.emulatorHosts?.[n],lS=n=>{let e=_v(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Ev=()=>xh()?.config,Iv=n=>xh()?.[`_${n}`];var Mh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function ui(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ph(n){return(await fetch(n,{credentials:"include"})).ok}function dS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=M({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Kc(JSON.stringify(t)),Kc(JSON.stringify(s)),""].join(".")}var Wc={};function QV(){let n={prod:[],emulator:[]};for(let e of Object.keys(Wc))Wc[e]?n.emulator.push(e):n.prod.push(e);return n}function YV(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var oS=!1;function Oh(n,e){if(typeof window>"u"||typeof document>"u"||!ui(window.location.host)||Wc[n]===e||Wc[n]||oS)return;Wc[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=QV().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{oS=!0,s()},g}function h(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=YV(r),y=t("text"),T=document.getElementById(y)||document.createElement("span"),N=t("learnmore"),P=document.getElementById(N)||document.createElement("a"),j=t("preprendIcon"),ee=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let me=g.element;a(me),h(P,N);let Ut=l();u(ee,j),me.append(ee,T,P,Ut),document.body.appendChild(me)}o?(T.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function JV(){let n=xh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pS(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function gS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mS(){let n=ut();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function yS(){return!JV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wv(){try{return typeof indexedDB=="object"}catch{return!1}}function vS(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}var ZV="FirebaseError",Xt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=ZV,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wr.prototype.create)}},wr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?XV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Xt(i,a,r)}};function XV(n,e){return n.replace(e2,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var e2=/\{\$([^}]+)}/g;function _S(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Dn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(sS(o)&&sS(s)){if(!Dn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function sS(n){return n!==null&&typeof n=="object"}function Qc(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ss(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function As(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function ES(n,e){let t=new vv(n,e);return t.subscribe.bind(t)}var vv=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");t2(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=mv),i.error===void 0&&(i.error=mv),i.complete===void 0&&(i.complete=mv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function t2(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function mv(){}var lee=14400*1e3;function We(n){return n&&n._delegate?n._delegate:n}var un=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var go="[DEFAULT]";var Dv=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Mh;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(r2(e))try{this.getOrInitializeService({instanceIdentifier:go})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=go){return this.instances.has(e)}getOptions(e=go){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){let r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:n2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=go){return this.component?this.component.multipleInstances?e:go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function n2(n){return n===go?void 0:n}function r2(n){return n.instantiationMode==="EAGER"}var kh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Dv(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var i2=[],ae=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(ae||{}),o2={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},s2=ae.INFO,a2={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},c2=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=a2[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},li=class{constructor(e){this.name=e,this._logLevel=s2,this._logHandler=c2,this._userLogHandler=null,i2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?o2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}};var u2=(n,e)=>e.some(t=>n instanceof t),IS,wS;function l2(){return IS||(IS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function d2(){return wS||(wS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var DS=new WeakMap,Cv=new WeakMap,bS=new WeakMap,bv=new WeakMap,Sv=new WeakMap;function h2(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Kn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&DS.set(t,n)}).catch(()=>{}),Sv.set(e,n),e}function f2(n){if(Cv.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Cv.set(n,e)}var Tv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Cv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||bS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Kn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function CS(n){Tv=n(Tv)}function p2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Fh(this),e,...t);return bS.set(r,e.sort?e.sort():[e]),Kn(r)}:d2().includes(n)?function(...e){return n.apply(Fh(this),e),Kn(DS.get(this))}:function(...e){return Kn(n.apply(Fh(this),e))}}function g2(n){return typeof n=="function"?p2(n):(n instanceof IDBTransaction&&f2(n),u2(n,l2())?new Proxy(n,Tv):n)}function Kn(n){if(n instanceof IDBRequest)return h2(n);if(bv.has(n))return bv.get(n);let e=g2(n);return e!==n&&(bv.set(n,e),Sv.set(e,n)),e}var Fh=n=>Sv.get(n);function SS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Kn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Kn(s.result),u.oldVersion,u.newVersion,Kn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var m2=["get","getKey","getAll","getAllKeys","count"],y2=["put","add","delete","clear"],Av=new Map;function TS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Av.get(e))return Av.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=y2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||m2.includes(t)))return;let o=async function(s,...a){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[t](...a),i&&u.done]))[0]};return Av.set(e,o),o}CS(n=>z(M({},n),{get:(e,t,r)=>TS(e,t)||n.get(e,t,r),has:(e,t)=>!!TS(e,t)||n.has(e,t)}));var Mv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(v2(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function v2(n){return n.getComponent()?.type==="VERSION"}var Nv="@firebase/app",AS="0.14.7";var Dr=new li("@firebase/app"),_2="@firebase/app-compat",E2="@firebase/analytics-compat",I2="@firebase/analytics",w2="@firebase/app-check-compat",D2="@firebase/app-check",b2="@firebase/auth",C2="@firebase/auth-compat",T2="@firebase/database",S2="@firebase/data-connect",A2="@firebase/database-compat",R2="@firebase/functions",M2="@firebase/functions-compat",N2="@firebase/installations",x2="@firebase/installations-compat",P2="@firebase/messaging",O2="@firebase/messaging-compat",k2="@firebase/performance",F2="@firebase/performance-compat",L2="@firebase/remote-config",V2="@firebase/remote-config-compat",j2="@firebase/storage",U2="@firebase/storage-compat",B2="@firebase/firestore",H2="@firebase/ai",$2="@firebase/firestore-compat",z2="firebase",q2="12.8.0";var xv="[DEFAULT]",G2={[Nv]:"fire-core",[_2]:"fire-core-compat",[I2]:"fire-analytics",[E2]:"fire-analytics-compat",[D2]:"fire-app-check",[w2]:"fire-app-check-compat",[b2]:"fire-auth",[C2]:"fire-auth-compat",[T2]:"fire-rtdb",[S2]:"fire-data-connect",[A2]:"fire-rtdb-compat",[R2]:"fire-fn",[M2]:"fire-fn-compat",[N2]:"fire-iid",[x2]:"fire-iid-compat",[P2]:"fire-fcm",[O2]:"fire-fcm-compat",[k2]:"fire-perf",[F2]:"fire-perf-compat",[L2]:"fire-rc",[V2]:"fire-rc-compat",[j2]:"fire-gcs",[U2]:"fire-gcs-compat",[B2]:"fire-fst",[$2]:"fire-fst-compat",[H2]:"fire-vertex","fire-js":"fire-js",[z2]:"fire-js-all"};var Lh=new Map,W2=new Map,Pv=new Map;function RS(n,e){try{n.container.addComponent(e)}catch(t){Dr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function hi(n){let e=n.name;if(Pv.has(e))return Dr.debug(`There were multiple attempts to register component ${e}.`),!1;Pv.set(e,n);for(let t of Lh.values())RS(t,n);for(let t of W2.values())RS(t,n);return!0}function Jc(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function en(n){return n==null?!1:n.settings!==void 0}var K2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},di=new wr("app","Firebase",K2);var Ov=class{constructor(e,t,r){this._isDeleted=!1,this._options=M({},e),this._config=M({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new un("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw di.create("app-deleted",{appName:this._name})}};var fi=q2;function Zc(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=M({name:xv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw di.create("bad-app-name",{appName:String(i)});if(t||(t=Ev()),!t)throw di.create("no-options");let o=Lh.get(i);if(o){if(Dn(t,o.options)&&Dn(r,o.config))return o;throw di.create("duplicate-app",{appName:i})}let s=new kh(i);for(let u of Pv.values())s.addComponent(u);let a=new Ov(t,r,s);return Lh.set(i,a),a}function Vh(n=xv){let e=Lh.get(n);if(!e&&n===xv&&Ev())return Zc();if(!e)throw di.create("no-app",{appName:n});return e}function bn(n,e,t){let r=G2[n]??n;t&&(r+=`-${t}`);let i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Dr.warn(s.join(" "));return}hi(new un(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var Q2="firebase-heartbeat-database",Y2=1,Yc="firebase-heartbeat-store",Rv=null;function PS(){return Rv||(Rv=SS(Q2,Y2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Yc)}catch(t){console.warn(t)}}}}).catch(n=>{throw di.create("idb-open",{originalErrorMessage:n.message})})),Rv}async function J2(n){try{let t=(await PS()).transaction(Yc),r=await t.objectStore(Yc).get(OS(n));return await t.done,r}catch(e){if(e instanceof Xt)Dr.warn(e.message);else{let t=di.create("idb-get",{originalErrorMessage:e?.message});Dr.warn(t.message)}}}async function MS(n,e){try{let r=(await PS()).transaction(Yc,"readwrite");await r.objectStore(Yc).put(e,OS(n)),await r.done}catch(t){if(t instanceof Xt)Dr.warn(t.message);else{let r=di.create("idb-set",{originalErrorMessage:t?.message});Dr.warn(r.message)}}}function OS(n){return`${n.name}!${n.options.appId}`}var Z2=1024,X2=30,kv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Fv(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=NS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>X2){let i=tj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Dr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=NS(),{heartbeatsToSend:t,unsentEntries:r}=ej(this._heartbeatsCache.heartbeats),i=Kc(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Dr.warn(e),""}}};function NS(){return new Date().toISOString().substring(0,10)}function ej(n,e=Z2){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),xS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),xS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Fv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wv()?vS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await J2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return MS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return MS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function xS(n){return Kc(JSON.stringify({version:2,heartbeats:n})).length}function tj(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function nj(n){hi(new un("platform-logger",e=>new Mv(e),"PRIVATE")),hi(new un("heartbeat",e=>new kv(e),"PRIVATE")),bn(Nv,AS,n),bn(Nv,AS,"esm2020"),bn("fire-js","")}nj("");var rj="firebase",ij="12.8.0";bn(rj,ij,"app");var kS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},FS={};var br,Lv;(function(){var n;function e(w,v){function E(){}E.prototype=v.prototype,w.F=v.prototype,w.prototype=new E,w.prototype.constructor=w,w.D=function(D,I,C){for(var _=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)_[Ot-2]=arguments[Ot];return v.prototype[I].apply(D,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,E){E||(E=0);let D=Array(16);if(typeof v=="string")for(var I=0;I<16;++I)D[I]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(I=0;I<16;++I)D[I]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=w.g[0],E=w.g[1],I=w.g[2];let C=w.g[3],_;_=v+(C^E&(I^C))+D[0]+3614090360&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(I^v&(E^I))+D[1]+3905402710&4294967295,C=v+(_<<12&4294967295|_>>>20),_=I+(E^C&(v^E))+D[2]+606105819&4294967295,I=C+(_<<17&4294967295|_>>>15),_=E+(v^I&(C^v))+D[3]+3250441966&4294967295,E=I+(_<<22&4294967295|_>>>10),_=v+(C^E&(I^C))+D[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(I^v&(E^I))+D[5]+1200080426&4294967295,C=v+(_<<12&4294967295|_>>>20),_=I+(E^C&(v^E))+D[6]+2821735955&4294967295,I=C+(_<<17&4294967295|_>>>15),_=E+(v^I&(C^v))+D[7]+4249261313&4294967295,E=I+(_<<22&4294967295|_>>>10),_=v+(C^E&(I^C))+D[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(I^v&(E^I))+D[9]+2336552879&4294967295,C=v+(_<<12&4294967295|_>>>20),_=I+(E^C&(v^E))+D[10]+4294925233&4294967295,I=C+(_<<17&4294967295|_>>>15),_=E+(v^I&(C^v))+D[11]+2304563134&4294967295,E=I+(_<<22&4294967295|_>>>10),_=v+(C^E&(I^C))+D[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(I^v&(E^I))+D[13]+4254626195&4294967295,C=v+(_<<12&4294967295|_>>>20),_=I+(E^C&(v^E))+D[14]+2792965006&4294967295,I=C+(_<<17&4294967295|_>>>15),_=E+(v^I&(C^v))+D[15]+1236535329&4294967295,E=I+(_<<22&4294967295|_>>>10),_=v+(I^C&(E^I))+D[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^I&(v^E))+D[6]+3225465664&4294967295,C=v+(_<<9&4294967295|_>>>23),_=I+(v^E&(C^v))+D[11]+643717713&4294967295,I=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(I^C))+D[0]+3921069994&4294967295,E=I+(_<<20&4294967295|_>>>12),_=v+(I^C&(E^I))+D[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^I&(v^E))+D[10]+38016083&4294967295,C=v+(_<<9&4294967295|_>>>23),_=I+(v^E&(C^v))+D[15]+3634488961&4294967295,I=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(I^C))+D[4]+3889429448&4294967295,E=I+(_<<20&4294967295|_>>>12),_=v+(I^C&(E^I))+D[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^I&(v^E))+D[14]+3275163606&4294967295,C=v+(_<<9&4294967295|_>>>23),_=I+(v^E&(C^v))+D[3]+4107603335&4294967295,I=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(I^C))+D[8]+1163531501&4294967295,E=I+(_<<20&4294967295|_>>>12),_=v+(I^C&(E^I))+D[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^I&(v^E))+D[2]+4243563512&4294967295,C=v+(_<<9&4294967295|_>>>23),_=I+(v^E&(C^v))+D[7]+1735328473&4294967295,I=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(I^C))+D[12]+2368359562&4294967295,E=I+(_<<20&4294967295|_>>>12),_=v+(E^I^C)+D[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^I)+D[8]+2272392833&4294967295,C=v+(_<<11&4294967295|_>>>21),_=I+(C^v^E)+D[11]+1839030562&4294967295,I=C+(_<<16&4294967295|_>>>16),_=E+(I^C^v)+D[14]+4259657740&4294967295,E=I+(_<<23&4294967295|_>>>9),_=v+(E^I^C)+D[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^I)+D[4]+1272893353&4294967295,C=v+(_<<11&4294967295|_>>>21),_=I+(C^v^E)+D[7]+4139469664&4294967295,I=C+(_<<16&4294967295|_>>>16),_=E+(I^C^v)+D[10]+3200236656&4294967295,E=I+(_<<23&4294967295|_>>>9),_=v+(E^I^C)+D[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^I)+D[0]+3936430074&4294967295,C=v+(_<<11&4294967295|_>>>21),_=I+(C^v^E)+D[3]+3572445317&4294967295,I=C+(_<<16&4294967295|_>>>16),_=E+(I^C^v)+D[6]+76029189&4294967295,E=I+(_<<23&4294967295|_>>>9),_=v+(E^I^C)+D[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^I)+D[12]+3873151461&4294967295,C=v+(_<<11&4294967295|_>>>21),_=I+(C^v^E)+D[15]+530742520&4294967295,I=C+(_<<16&4294967295|_>>>16),_=E+(I^C^v)+D[2]+3299628645&4294967295,E=I+(_<<23&4294967295|_>>>9),_=v+(I^(E|~C))+D[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~I))+D[7]+1126891415&4294967295,C=v+(_<<10&4294967295|_>>>22),_=I+(v^(C|~E))+D[14]+2878612391&4294967295,I=C+(_<<15&4294967295|_>>>17),_=E+(C^(I|~v))+D[5]+4237533241&4294967295,E=I+(_<<21&4294967295|_>>>11),_=v+(I^(E|~C))+D[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~I))+D[3]+2399980690&4294967295,C=v+(_<<10&4294967295|_>>>22),_=I+(v^(C|~E))+D[10]+4293915773&4294967295,I=C+(_<<15&4294967295|_>>>17),_=E+(C^(I|~v))+D[1]+2240044497&4294967295,E=I+(_<<21&4294967295|_>>>11),_=v+(I^(E|~C))+D[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~I))+D[15]+4264355552&4294967295,C=v+(_<<10&4294967295|_>>>22),_=I+(v^(C|~E))+D[6]+2734768916&4294967295,I=C+(_<<15&4294967295|_>>>17),_=E+(C^(I|~v))+D[13]+1309151649&4294967295,E=I+(_<<21&4294967295|_>>>11),_=v+(I^(E|~C))+D[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~I))+D[11]+3174756917&4294967295,C=v+(_<<10&4294967295|_>>>22),_=I+(v^(C|~E))+D[2]+718787259&4294967295,I=C+(_<<15&4294967295|_>>>17),_=E+(C^(I|~v))+D[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(I+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+I&4294967295,w.g[3]=w.g[3]+C&4294967295}r.prototype.v=function(w,v){v===void 0&&(v=w.length);let E=v-this.blockSize,D=this.C,I=this.h,C=0;for(;C<v;){if(I==0)for(;C<=E;)i(this,w,C),C+=this.blockSize;if(typeof w=="string"){for(;C<v;)if(D[I++]=w.charCodeAt(C++),I==this.blockSize){i(this,D),I=0;break}}else for(;C<v;)if(D[I++]=w[C++],I==this.blockSize){i(this,D),I=0;break}}this.h=I,this.o+=v},r.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;v=this.o*8;for(var E=w.length-8;E<w.length;++E)w[E]=v&255,v/=256;for(this.v(w),w=Array(16),v=0,E=0;E<4;++E)for(let D=0;D<32;D+=8)w[v++]=this.g[E]>>>D&255;return w};function o(w,v){var E=a;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=v(w)}function s(w,v){this.h=v;let E=[],D=!0;for(let I=w.length-1;I>=0;I--){let C=w[I]|0;D&&C==v||(E[I]=C,D=!1)}this.g=E}var a={};function u(w){return-128<=w&&w<128?o(w,function(v){return new s([v|0],v<0?-1:0)}):new s([w|0],w<0?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(w<0)return P(l(-w));let v=[],E=1;for(let D=0;w>=E;D++)v[D]=w/E|0,E*=4294967296;return new s(v,0)}function h(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return P(h(w.substring(1),v));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');let E=l(Math.pow(v,8)),D=p;for(let C=0;C<w.length;C+=8){var I=Math.min(8,w.length-C);let _=parseInt(w.substring(C,C+I),v);I<8?(I=l(Math.pow(v,I)),D=D.j(I).add(l(_))):(D=D.j(E),D=D.add(l(_)))}return D}var p=u(0),g=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(N(this))return-P(this).m();let w=0,v=1;for(let E=0;E<this.g.length;E++){let D=this.i(E);w+=(D>=0?D:4294967296+D)*v,v*=4294967296}return w},n.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(T(this))return"0";if(N(this))return"-"+P(this).toString(w);let v=l(Math.pow(w,6));var E=this;let D="";for(;;){let I=Ut(E,v).g;E=j(E,I.j(v));let C=((E.g.length>0?E.g[0]:E.h)>>>0).toString(w);if(E=I,T(E))return C+D;for(;C.length<6;)C="0"+C;D=C+D}},n.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function T(w){if(w.h!=0)return!1;for(let v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function N(w){return w.h==-1}n.l=function(w){return w=j(this,w),N(w)?-1:T(w)?0:1};function P(w){let v=w.g.length,E=[];for(let D=0;D<v;D++)E[D]=~w.g[D];return new s(E,~w.h).add(g)}n.abs=function(){return N(this)?P(this):this},n.add=function(w){let v=Math.max(this.g.length,w.g.length),E=[],D=0;for(let I=0;I<=v;I++){let C=D+(this.i(I)&65535)+(w.i(I)&65535),_=(C>>>16)+(this.i(I)>>>16)+(w.i(I)>>>16);D=_>>>16,C&=65535,_&=65535,E[I]=_<<16|C}return new s(E,E[E.length-1]&-2147483648?-1:0)};function j(w,v){return w.add(P(v))}n.j=function(w){if(T(this)||T(w))return p;if(N(this))return N(w)?P(this).j(P(w)):P(P(this).j(w));if(N(w))return P(this.j(P(w)));if(this.l(y)<0&&w.l(y)<0)return l(this.m()*w.m());let v=this.g.length+w.g.length,E=[];for(var D=0;D<2*v;D++)E[D]=0;for(D=0;D<this.g.length;D++)for(let I=0;I<w.g.length;I++){let C=this.i(D)>>>16,_=this.i(D)&65535,Ot=w.i(I)>>>16,kr=w.i(I)&65535;E[2*D+2*I]+=_*kr,ee(E,2*D+2*I),E[2*D+2*I+1]+=C*kr,ee(E,2*D+2*I+1),E[2*D+2*I+1]+=_*Ot,ee(E,2*D+2*I+1),E[2*D+2*I+2]+=C*Ot,ee(E,2*D+2*I+2)}for(w=0;w<v;w++)E[w]=E[2*w+1]<<16|E[2*w];for(w=v;w<2*v;w++)E[w]=0;return new s(E,0)};function ee(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function me(w,v){this.g=w,this.h=v}function Ut(w,v){if(T(v))throw Error("division by zero");if(T(w))return new me(p,p);if(N(w))return v=Ut(P(w),v),new me(P(v.g),P(v.h));if(N(v))return v=Ut(w,P(v)),new me(P(v.g),v.h);if(w.g.length>30){if(N(w)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var E=g,D=v;D.l(w)<=0;)E=hn(E),D=hn(D);var I=ft(E,1),C=ft(D,1);for(D=ft(D,2),E=ft(E,2);!T(D);){var _=C.add(D);_.l(w)<=0&&(I=I.add(E),C=_),D=ft(D,1),E=ft(E,1)}return v=j(w,I.j(v)),new me(I,v)}for(I=p;w.l(v)>=0;){for(E=Math.max(1,Math.floor(w.m()/v.m())),D=Math.ceil(Math.log(E)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),C=l(E),_=C.j(v);N(_)||_.l(w)>0;)E-=D,C=l(E),_=C.j(v);T(C)&&(C=g),I=I.add(C),w=j(w,_)}return new me(I,w)}n.B=function(w){return Ut(this,w).h},n.and=function(w){let v=Math.max(this.g.length,w.g.length),E=[];for(let D=0;D<v;D++)E[D]=this.i(D)&w.i(D);return new s(E,this.h&w.h)},n.or=function(w){let v=Math.max(this.g.length,w.g.length),E=[];for(let D=0;D<v;D++)E[D]=this.i(D)|w.i(D);return new s(E,this.h|w.h)},n.xor=function(w){let v=Math.max(this.g.length,w.g.length),E=[];for(let D=0;D<v;D++)E[D]=this.i(D)^w.i(D);return new s(E,this.h^w.h)};function hn(w){let v=w.g.length+1,E=[];for(let D=0;D<v;D++)E[D]=w.i(D)<<1|w.i(D-1)>>>31;return new s(E,w.h)}function ft(w,v){let E=v>>5;v%=32;let D=w.g.length-E,I=[];for(let C=0;C<D;C++)I[C]=v>0?w.i(C+E)>>>v|w.i(C+E+1)<<32-v:w.i(C+E);return new s(I,w.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Lv=FS.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,br=FS.Integer=s}).apply(typeof kS<"u"?kS:typeof self<"u"?self:typeof window<"u"?window:{});var jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Cr={};var Vv,oj,Rs,jv,Xc,Uh,Uv,Bv,Hv;(function(){var n,e=Object.defineProperty;function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof jh=="object"&&jh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var b=c[m];if(!(b in f))break e;f=f[b]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}i("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(c){return c||function(d){var f=[],m;for(m in d)Object.prototype.hasOwnProperty.call(d,m)&&f.push([m,d[m]]);return f}});var o=o||{},s=this||self;function a(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function u(c,d,f){return c.call.apply(c.bind,arguments)}function l(c,d,f){return l=u,l.apply(null,arguments)}function h(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function p(c,d){function f(){}f.prototype=d.prototype,c.Z=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Ob=function(m,b,S){for(var V=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)V[ie-2]=arguments[ie];return d.prototype[b].apply(m,V)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function y(c){let d=c.length;if(d>0){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function T(c,d){for(let m=1;m<arguments.length;m++){let b=arguments[m];var f=typeof b;if(f=f!="object"?f:b?Array.isArray(b)?"array":f:"null",f=="array"||f=="object"&&typeof b.length=="number"){f=c.length||0;let S=b.length||0;c.length=f+S;for(let V=0;V<S;V++)c[f+V]=b[V]}else c.push(b)}}class N{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function P(c){s.setTimeout(()=>{throw c},0)}function j(){var c=w;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class ee{constructor(){this.h=this.g=null}add(d,f){let m=me.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var me=new N(()=>new Ut,c=>c.reset());class Ut{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let hn,ft=!1,w=new ee,v=()=>{let c=Promise.resolve(void 0);hn=()=>{c.then(E)}};function E(){for(var c;c=j();){try{c.h.call(c.g)}catch(f){P(f)}var d=me;d.j(c),d.h<100&&(d.h++,c.next=d.g,d.g=c)}ft=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var C=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};s.addEventListener("test",f,d),s.removeEventListener("test",f,d)}catch{}return c})();function _(c){return/^[\s\xa0]*$/.test(c)}function Ot(c,d){I.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,d)}p(Ot,I),Ot.prototype.init=function(c,d){let f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget,d||(f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement)),this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ot.Z.h.call(this)},Ot.prototype.h=function(){Ot.Z.h.call(this);let c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var kr="closure_listenable_"+(Math.random()*1e6|0),uN=0;function lN(c,d,f,m,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=b,this.key=++uN,this.da=this.fa=!1}function xu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pu(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function dN(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function II(c){let d={};for(let f in c)d[f]=c[f];return d}let wI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function DI(c,d){let f,m;for(let b=1;b<arguments.length;b++){m=arguments[b];for(f in m)c[f]=m[f];for(let S=0;S<wI.length;S++)f=wI[S],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function Ou(c){this.src=c,this.g={},this.h=0}Ou.prototype.add=function(c,d,f,m,b){let S=c.toString();c=this.g[S],c||(c=this.g[S]=[],this.h++);let V=pp(c,d,m,b);return V>-1?(d=c[V],f||(d.fa=!1)):(d=new lN(d,this.src,S,!!m,b),d.fa=f,c.push(d)),d};function fp(c,d){let f=d.type;if(f in c.g){var m=c.g[f],b=Array.prototype.indexOf.call(m,d,void 0),S;(S=b>=0)&&Array.prototype.splice.call(m,b,1),S&&(xu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function pp(c,d,f,m){for(let b=0;b<c.length;++b){let S=c[b];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==m)return b}return-1}var gp="closure_lm_"+(Math.random()*1e6|0),mp={};function bI(c,d,f,m,b){if(m&&m.once)return TI(c,d,f,m,b);if(Array.isArray(d)){for(let S=0;S<d.length;S++)bI(c,d[S],f,m,b);return null}return f=Ep(f),c&&c[kr]?c.J(d,f,a(m)?!!m.capture:!!m,b):CI(c,d,f,!1,m,b)}function CI(c,d,f,m,b,S){if(!d)throw Error("Invalid event type");let V=a(b)?!!b.capture:!!b,ie=vp(c);if(ie||(c[gp]=ie=new Ou(c)),f=ie.add(d,f,m,V,S),f.proxy)return f;if(m=hN(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)C||(b=V),b===void 0&&(b=!1),c.addEventListener(d.toString(),m,b);else if(c.attachEvent)c.attachEvent(AI(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function hN(){function c(f){return d.call(c.src,c.listener,f)}let d=fN;return c}function TI(c,d,f,m,b){if(Array.isArray(d)){for(let S=0;S<d.length;S++)TI(c,d[S],f,m,b);return null}return f=Ep(f),c&&c[kr]?c.K(d,f,a(m)?!!m.capture:!!m,b):CI(c,d,f,!0,m,b)}function SI(c,d,f,m,b){if(Array.isArray(d))for(var S=0;S<d.length;S++)SI(c,d[S],f,m,b);else m=a(m)?!!m.capture:!!m,f=Ep(f),c&&c[kr]?(c=c.i,S=String(d).toString(),S in c.g&&(d=c.g[S],f=pp(d,f,m,b),f>-1&&(xu(d[f]),Array.prototype.splice.call(d,f,1),d.length==0&&(delete c.g[S],c.h--)))):c&&(c=vp(c))&&(d=c.g[d.toString()],c=-1,d&&(c=pp(d,f,m,b)),(f=c>-1?d[c]:null)&&yp(f))}function yp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[kr])fp(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(AI(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=vp(d))?(fp(f,c),f.h==0&&(f.src=null,d[gp]=null)):xu(c)}}}function AI(c){return c in mp?mp[c]:mp[c]="on"+c}function fN(c,d){if(c.da)c=!0;else{d=new Ot(d,this);let f=c.listener,m=c.ha||c.src;c.fa&&yp(c),c=f.call(m,d)}return c}function vp(c){return c=c[gp],c instanceof Ou?c:null}var _p="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ep(c){return typeof c=="function"?c:(c[_p]||(c[_p]=function(d){return c.handleEvent(d)}),c[_p])}function wt(){D.call(this),this.i=new Ou(this),this.M=this,this.G=null}p(wt,D),wt.prototype[kr]=!0,wt.prototype.removeEventListener=function(c,d,f,m){SI(this,c,d,f,m)};function Rt(c,d){var f,m=c.G;if(m)for(f=[];m;m=m.G)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new I(d,c);else if(d instanceof I)d.target=d.target||c;else{var b=d;d=new I(m,c),DI(d,b)}b=!0;let S,V;if(f)for(V=f.length-1;V>=0;V--)S=d.g=f[V],b=ku(S,m,!0,d)&&b;if(S=d.g=c,b=ku(S,m,!0,d)&&b,b=ku(S,m,!1,d)&&b,f)for(V=0;V<f.length;V++)S=d.g=f[V],b=ku(S,m,!1,d)&&b}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var c=this.i;for(let d in c.g){let f=c.g[d];for(let m=0;m<f.length;m++)xu(f[m]);delete c.g[d],c.h--}}this.G=null},wt.prototype.J=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},wt.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function ku(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();let b=!0;for(let S=0;S<d.length;++S){let V=d[S];if(V&&!V.da&&V.capture==f){let ie=V.listener,Je=V.ha||V.src;V.fa&&fp(c.i,V),b=ie.call(Je,m)!==!1&&b}}return b&&!m.defaultPrevented}function pN(c,d){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=l(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:s.setTimeout(c,d||0)}function RI(c){c.g=pN(()=>{c.g=null,c.i&&(c.i=!1,RI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class gN extends D{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:RI(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sa(c){D.call(this),this.h=c,this.g={}}p(sa,D);var MI=[];function NI(c){Pu(c.g,function(d,f){this.g.hasOwnProperty(f)&&yp(d)},c),c.g={}}sa.prototype.N=function(){sa.Z.N.call(this),NI(this)},sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ip=s.JSON.stringify,mN=s.JSON.parse,yN=class{stringify(c){return s.JSON.stringify(c,void 0)}parse(c){return s.JSON.parse(c,void 0)}};function xI(){}function PI(){}var aa={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function wp(){I.call(this,"d")}p(wp,I);function Dp(){I.call(this,"c")}p(Dp,I);var bi={},OI=null;function Fu(){return OI=OI||new wt}bi.Ia="serverreachability";function kI(c){I.call(this,bi.Ia,c)}p(kI,I);function ca(c){let d=Fu();Rt(d,new kI(d))}bi.STAT_EVENT="statevent";function FI(c,d){I.call(this,bi.STAT_EVENT,c),this.stat=d}p(FI,I);function Mt(c){let d=Fu();Rt(d,new FI(d,c))}bi.Ja="timingevent";function LI(c,d){I.call(this,bi.Ja,c),this.size=d}p(LI,I);function ua(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){c()},d)}function la(){this.g=!0}la.prototype.ua=function(){this.g=!1};function vN(c,d,f,m,b,S){c.info(function(){if(c.g)if(S){var V="",ie=S.split("&");for(let Ce=0;Ce<ie.length;Ce++){var Je=ie[Ce].split("=");if(Je.length>1){let tt=Je[0];Je=Je[1];let Nn=tt.split("_");V=Nn.length>=2&&Nn[1]=="type"?V+(tt+"="+Je+"&"):V+(tt+"=redacted&")}}}else V=null;else V=S;return"XMLHTTP REQ ("+m+") [attempt "+b+"]: "+d+`
`+f+`
`+V})}function _N(c,d,f,m,b,S,V){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+b+"]: "+d+`
`+f+`
`+S+" "+V})}function Lo(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+IN(c,f)+(m?" "+m:"")})}function EN(c,d){c.info(function(){return"TIMEOUT: "+d})}la.prototype.info=function(){};function IN(c,d){if(!c.g)return d;if(!d)return null;try{let S=JSON.parse(d);if(S){for(c=0;c<S.length;c++)if(Array.isArray(S[c])){var f=S[c];if(!(f.length<2)){var m=f[1];if(Array.isArray(m)&&!(m.length<1)){var b=m[0];if(b!="noop"&&b!="stop"&&b!="close")for(let V=1;V<m.length;V++)m[V]=""}}}}return Ip(S)}catch{return d}}var Lu={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},VI={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},jI;function bp(){}p(bp,xI),bp.prototype.g=function(){return new XMLHttpRequest},jI=new bp;function da(c){return encodeURIComponent(String(c))}function wN(c){var d=1;c=c.split(":");let f=[];for(;d>0&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function Fr(c,d,f,m){this.j=c,this.i=d,this.l=f,this.S=m||1,this.V=new sa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new UI}function UI(){this.i=null,this.g="",this.h=!1}var BI={},Cp={};function Tp(c,d,f){c.M=1,c.A=ju(Mn(d)),c.u=f,c.R=!0,HI(c,null)}function HI(c,d){c.F=Date.now(),Vu(c),c.B=Mn(c.A);var f=c.B,m=c.S;Array.isArray(m)||(m=[String(m)]),tw(f.i,"t",m),c.C=0,f=c.j.L,c.h=new UI,c.g=_w(c.j,f?d:null,!c.u),c.P>0&&(c.O=new gN(l(c.Y,c,c.g),c.P)),d=c.V,f=c.g,m=c.ba;var b="readystatechange";Array.isArray(b)||(b&&(MI[0]=b.toString()),b=MI);for(let S=0;S<b.length;S++){let V=bI(f,b[S],m||d.handleEvent,!1,d.h||d);if(!V)break;d.g[V.key]=V}d=c.J?II(c.J):{},c.u?(c.v||(c.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,d)):(c.v="GET",c.g.ea(c.B,c.v,null,d)),ca(),vN(c.i,c.v,c.B,c.l,c.S,c.u)}Fr.prototype.ba=function(c){c=c.target;let d=this.O;d&&jr(c)==3?d.j():this.Y(c)},Fr.prototype.Y=function(c){try{if(c==this.g)e:{let ie=jr(this.g),Je=this.g.ya(),Ce=this.g.ca();if(!(ie<3)&&(ie!=3||this.g&&(this.h.h||this.g.la()||cw(this.g)))){this.K||ie!=4||Je==7||(Je==8||Ce<=0?ca(3):ca(2)),Sp(this);var d=this.g.ca();this.X=d;var f=DN(this);if(this.o=d==200,_N(this.i,this.v,this.B,this.l,this.S,ie,d),this.o){if(this.U&&!this.L){t:{if(this.g){var m,b=this.g;if((m=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(m)){var S=m;break t}}S=null}if(c=S)Lo(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ap(this,c);else{this.o=!1,this.m=3,Mt(12),Ci(this),ha(this);break e}}if(this.R){c=!0;let tt;for(;!this.K&&this.C<f.length;)if(tt=bN(this,f),tt==Cp){ie==4&&(this.m=4,Mt(14),c=!1),Lo(this.i,this.l,null,"[Incomplete Response]");break}else if(tt==BI){this.m=4,Mt(15),Lo(this.i,this.l,f,"[Invalid Chunk]"),c=!1;break}else Lo(this.i,this.l,tt,null),Ap(this,tt);if($I(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ie!=4||f.length!=0||this.h.h||(this.m=1,Mt(16),c=!1),this.o=this.o&&c,!c)Lo(this.i,this.l,f,"[Invalid Chunked Response]"),Ci(this),ha(this);else if(f.length>0&&!this.W){this.W=!0;var V=this.j;V.g==this&&V.aa&&!V.P&&(V.j.info("Great, no buffering proxy detected. Bytes received: "+f.length),kp(V),V.P=!0,Mt(11))}}else Lo(this.i,this.l,f,null),Ap(this,f);ie==4&&Ci(this),this.o&&!this.K&&(ie==4?gw(this.j,this):(this.o=!1,Vu(this)))}else VN(this.g),d==400&&f.indexOf("Unknown SID")>0?(this.m=3,Mt(12)):(this.m=0,Mt(13)),Ci(this),ha(this)}}}catch{}};function DN(c){if(!$I(c))return c.g.la();let d=cw(c.g);if(d==="")return"";let f="",m=d.length,b=jr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Ci(c),ha(c),"";c.h.i=new s.TextDecoder}for(let S=0;S<m;S++)c.h.h=!0,f+=c.h.i.decode(d[S],{stream:!(b&&S==m-1)});return d.length=0,c.h.g+=f,c.C=0,c.h.g}function $I(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function bN(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?Cp:(f=Number(d.substring(f,m)),isNaN(f)?BI:(m+=1,m+f>d.length?Cp:(d=d.slice(m,m+f),c.C=m+f,d)))}Fr.prototype.cancel=function(){this.K=!0,Ci(this)};function Vu(c){c.T=Date.now()+c.H,zI(c,c.H)}function zI(c,d){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ua(l(c.aa,c),d)}function Sp(c){c.D&&(s.clearTimeout(c.D),c.D=null)}Fr.prototype.aa=function(){this.D=null;let c=Date.now();c-this.T>=0?(EN(this.i,this.B),this.M!=2&&(ca(),Mt(17)),Ci(this),this.m=2,ha(this)):zI(this,this.T-c)};function ha(c){c.j.I==0||c.K||gw(c.j,c)}function Ci(c){Sp(c);var d=c.O;d&&typeof d.dispose=="function"&&d.dispose(),c.O=null,NI(c.V),c.g&&(d=c.g,c.g=null,d.abort(),d.dispose())}function Ap(c,d){try{var f=c.j;if(f.I!=0&&(f.g==c||Rp(f.h,c))){if(!c.L&&Rp(f.h,c)&&f.I==3){try{var m=f.Ba.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var b=m;if(b[0]==0){e:if(!f.v){if(f.g)if(f.g.F+3e3<c.F)qu(f),$u(f);else break e;Op(f),Mt(18)}}else f.xa=b[1],0<f.xa-f.K&&b[2]<37500&&f.F&&f.A==0&&!f.C&&(f.C=ua(l(f.Va,f),6e3));WI(f.h)<=1&&f.ta&&(f.ta=void 0)}else Si(f,11)}else if((c.L||f.g==c)&&qu(f),!_(d))for(b=f.Ba.g.parse(d),d=0;d<b.length;d++){let Ce=b[d],tt=Ce[0];if(!(tt<=f.K))if(f.K=tt,Ce=Ce[1],f.I==2)if(Ce[0]=="c"){f.M=Ce[1],f.ba=Ce[2];let Nn=Ce[3];Nn!=null&&(f.ka=Nn,f.j.info("VER="+f.ka));let Ai=Ce[4];Ai!=null&&(f.za=Ai,f.j.info("SVER="+f.za));let Ur=Ce[5];Ur!=null&&typeof Ur=="number"&&Ur>0&&(m=1.5*Ur,f.O=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let Br=c.g;if(Br){let Wu=Br.g?Br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wu){var S=m.h;S.g||Wu.indexOf("spdy")==-1&&Wu.indexOf("quic")==-1&&Wu.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Mp(S,S.h),S.h=null))}if(m.G){let Fp=Br.g?Br.g.getResponseHeader("X-HTTP-Session-Id"):null;Fp&&(m.wa=Fp,Ae(m.J,m.G,Fp))}}f.I=3,f.l&&f.l.ra(),f.aa&&(f.T=Date.now()-c.F,f.j.info("Handshake RTT: "+f.T+"ms")),m=f;var V=c;if(m.na=vw(m,m.L?m.ba:null,m.W),V.L){KI(m.h,V);var ie=V,Je=m.O;Je&&(ie.H=Je),ie.D&&(Sp(ie),Vu(ie)),m.g=V}else fw(m);f.i.length>0&&zu(f)}else Ce[0]!="stop"&&Ce[0]!="close"||Si(f,7);else f.I==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?Si(f,7):Pp(f):Ce[0]!="noop"&&f.l&&f.l.qa(Ce),f.A=0)}}ca(4)}catch{}}var CN=class{constructor(c,d){this.g=c,this.map=d}};function qI(c){this.l=c||10,s.PerformanceNavigationTiming?(c=s.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function GI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function WI(c){return c.h?1:c.g?c.g.size:0}function Rp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Mp(c,d){c.g?c.g.add(d):c.h=d}function KI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}qI.prototype.cancel=function(){if(this.i=QI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function QI(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.G);return d}return y(c.i)}var YI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function TN(c,d){if(c){c=c.split("&");for(let f=0;f<c.length;f++){let m=c[f].indexOf("="),b,S=null;m>=0?(b=c[f].substring(0,m),S=c[f].substring(m+1)):b=c[f],d(b,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function Lr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;c instanceof Lr?(this.l=c.l,fa(this,c.j),this.o=c.o,this.g=c.g,pa(this,c.u),this.h=c.h,Np(this,nw(c.i)),this.m=c.m):c&&(d=String(c).match(YI))?(this.l=!1,fa(this,d[1]||"",!0),this.o=ga(d[2]||""),this.g=ga(d[3]||"",!0),pa(this,d[4]),this.h=ga(d[5]||"",!0),Np(this,d[6]||"",!0),this.m=ga(d[7]||"")):(this.l=!1,this.i=new ya(null,this.l))}Lr.prototype.toString=function(){let c=[];var d=this.j;d&&c.push(ma(d,JI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ma(d,JI,!0),"@"),c.push(da(f).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.u,f!=null&&c.push(":",String(f))),(f=this.h)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(ma(f,f.charAt(0)=="/"?RN:AN,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",ma(f,NN)),c.join("")},Lr.prototype.resolve=function(c){let d=Mn(this),f=!!c.j;f?fa(d,c.j):f=!!c.o,f?d.o=c.o:f=!!c.g,f?d.g=c.g:f=c.u!=null;var m=c.h;if(f)pa(d,c.u);else if(f=!!c.h){if(m.charAt(0)!="/")if(this.g&&!this.h)m="/"+m;else{var b=d.h.lastIndexOf("/");b!=-1&&(m=d.h.slice(0,b+1)+m)}if(b=m,b==".."||b==".")m="";else if(b.indexOf("./")!=-1||b.indexOf("/.")!=-1){m=b.lastIndexOf("/",0)==0,b=b.split("/");let S=[];for(let V=0;V<b.length;){let ie=b[V++];ie=="."?m&&V==b.length&&S.push(""):ie==".."?((S.length>1||S.length==1&&S[0]!="")&&S.pop(),m&&V==b.length&&S.push("")):(S.push(ie),m=!0)}m=S.join("/")}else m=b}return f?d.h=m:f=c.i.toString()!=="",f?Np(d,nw(c.i)):f=!!c.m,f&&(d.m=c.m),d};function Mn(c){return new Lr(c)}function fa(c,d,f){c.j=f?ga(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function pa(c,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);c.u=d}else c.u=null}function Np(c,d,f){d instanceof ya?(c.i=d,xN(c.i,c.l)):(f||(d=ma(d,MN)),c.i=new ya(d,c.l))}function Ae(c,d,f){c.i.set(d,f)}function ju(c){return Ae(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ga(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ma(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,SN),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function SN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var JI=/[#\/\?@]/g,AN=/[#\?:]/g,RN=/[#\?]/g,MN=/[#\?@]/g,NN=/#/g;function ya(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Ti(c){c.g||(c.g=new Map,c.h=0,c.i&&TN(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=ya.prototype,n.add=function(c,d){Ti(this),this.i=null,c=Vo(this,c);let f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function ZI(c,d){Ti(c),d=Vo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function XI(c,d){return Ti(c),d=Vo(c,d),c.g.has(d)}n.forEach=function(c,d){Ti(this),this.g.forEach(function(f,m){f.forEach(function(b){c.call(d,b,m,this)},this)},this)};function ew(c,d){Ti(c);let f=[];if(typeof d=="string")XI(c,d)&&(f=f.concat(c.g.get(Vo(c,d))));else for(c=Array.from(c.g.values()),d=0;d<c.length;d++)f=f.concat(c[d]);return f}n.set=function(c,d){return Ti(this),this.i=null,c=Vo(this,c),XI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=ew(this,c),c.length>0?String(c[0]):d):d};function tw(c,d,f){ZI(c,d),f.length>0&&(c.i=null,c.g.set(Vo(c,d),y(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(let m=0;m<d.length;m++){var f=d[m];let b=da(f);f=ew(this,f);for(let S=0;S<f.length;S++){let V=b;f[S]!==""&&(V+="="+da(f[S])),c.push(V)}}return this.i=c.join("&")};function nw(c){let d=new ya;return d.i=c.i,c.g&&(d.g=new Map(c.g),d.h=c.h),d}function Vo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function xN(c,d){d&&!c.j&&(Ti(c),c.i=null,c.g.forEach(function(f,m){let b=m.toLowerCase();m!=b&&(ZI(this,m),tw(this,b,f))},c)),c.j=d}function PN(c,d){let f=new la;if(s.Image){let m=new Image;m.onload=h(Vr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=h(Vr,f,"TestLoadImage: error",!1,d,m),m.onabort=h(Vr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=h(Vr,f,"TestLoadImage: timeout",!1,d,m),s.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function ON(c,d){let f=new la,m=new AbortController,b=setTimeout(()=>{m.abort(),Vr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(S=>{clearTimeout(b),S.ok?Vr(f,"TestPingServer: ok",!0,d):Vr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Vr(f,"TestPingServer: error",!1,d)})}function Vr(c,d,f,m,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),m(f)}catch{}}function kN(){this.g=new yN}function Uu(c){this.i=c.Sb||null,this.h=c.ab||!1}p(Uu,xI),Uu.prototype.g=function(){return new Bu(this.i,this.h)};function Bu(c,d){wt.call(this),this.H=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Bu,wt),n=Bu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=d,this.readyState=1,_a(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(d.body=c),(this.H||s).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,va(this)),this.readyState=0},n.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,_a(this)),this.g&&(this.readyState=3,_a(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;rw(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function rw(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}n.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?va(this):_a(this),this.readyState==3&&rw(this)}},n.Oa=function(c){this.g&&(this.response=this.responseText=c,va(this))},n.Na=function(c){this.g&&(this.response=c,va(this))},n.ga=function(){this.g&&va(this)};function va(c){c.readyState=4,c.l=null,c.j=null,c.B=null,_a(c)}n.setRequestHeader=function(c,d){this.A.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function _a(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Bu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function iw(c){let d="";return Pu(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function xp(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=iw(f),typeof c=="string"?f!=null&&da(f):Ae(c,d,f))}function Le(c){wt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Le,wt);var FN=/^https?$/i,LN=["POST","PUT"];n=Le.prototype,n.Fa=function(c){this.H=c},n.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():jI.g(),this.g.onreadystatechange=g(l(this.Ca,this));try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(S){ow(this,S);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var b in m)f.set(b,m[b]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let S of m.keys())f.set(S,m.get(S));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),b=s.FormData&&c instanceof s.FormData,!(Array.prototype.indexOf.call(LN,d,void 0)>=0)||m||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,V]of f)this.g.setRequestHeader(S,V);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(S){ow(this,S)}};function ow(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.o=5,sw(c),Hu(c)}function sw(c){c.A||(c.A=!0,Rt(c,"complete"),Rt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Rt(this,"complete"),Rt(this,"abort"),Hu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hu(this,!0)),Le.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?aw(this):this.Xa())},n.Xa=function(){aw(this)};function aw(c){if(c.h&&typeof o<"u"){if(c.v&&jr(c)==4)setTimeout(c.Ca.bind(c),0);else if(Rt(c,"readystatechange"),jr(c)==4){c.h=!1;try{let S=c.ca();e:switch(S){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=S===0){let V=String(c.D).match(YI)[1]||null;!V&&s.self&&s.self.location&&(V=s.self.location.protocol.slice(0,-1)),m=!FN.test(V?V.toLowerCase():"")}f=m}if(f)Rt(c,"complete"),Rt(c,"success");else{c.o=6;try{var b=jr(c)>2?c.g.statusText:""}catch{b=""}c.l=b+" ["+c.ca()+"]",sw(c)}}finally{Hu(c)}}}}function Hu(c,d){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);let f=c.g;c.g=null,d||Rt(c,"ready");try{f.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function jr(c){return c.g?c.g.readyState:0}n.ca=function(){try{return jr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),mN(d)}};function cw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function VN(c){let d={};c=(c.g&&jr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(_(c[m]))continue;var f=wN(c[m]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[b]||[];d[b]=S,S.push(f)}dN(d,function(m){return m.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ea(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function uw(c){this.za=0,this.i=[],this.j=new la,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ea("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ea("baseRetryDelayMs",5e3,c),this.Za=Ea("retryDelaySeedMs",1e4,c),this.Ta=Ea("forwardChannelMaxRetries",2,c),this.va=Ea("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new qI(c&&c.concurrentRequestLimit),this.Ba=new kN,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=uw.prototype,n.ka=8,n.I=1,n.connect=function(c,d,f,m){Mt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.J=vw(this,null,this.W),zu(this)};function Pp(c){if(lw(c),c.I==3){var d=c.V++,f=Mn(c.J);if(Ae(f,"SID",c.M),Ae(f,"RID",d),Ae(f,"TYPE","terminate"),Ia(c,f),d=new Fr(c,c.j,d),d.M=2,d.A=ju(Mn(f)),f=!1,s.navigator&&s.navigator.sendBeacon)try{f=s.navigator.sendBeacon(d.A.toString(),"")}catch{}!f&&s.Image&&(new Image().src=d.A,f=!0),f||(d.g=_w(d.j,null),d.g.ea(d.A)),d.F=Date.now(),Vu(d)}yw(c)}function $u(c){c.g&&(kp(c),c.g.cancel(),c.g=null)}function lw(c){$u(c),c.v&&(s.clearTimeout(c.v),c.v=null),qu(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&s.clearTimeout(c.m),c.m=null)}function zu(c){if(!GI(c.h)&&!c.m){c.m=!0;var d=c.Ea;hn||v(),ft||(hn(),ft=!0),w.add(d,c),c.D=0}}function jN(c,d){return WI(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=d.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ua(l(c.Ea,c,d),mw(c,c.D)),c.D++,!0)}n.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;let b=new Fr(this,this.j,c),S=this.o;if(this.U&&(S?(S=II(S),DI(S,this.U)):S=this.U),this.u!==null||this.R||(b.J=S,S=null),this.S)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,d>4096){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=hw(this,b,d),f=Mn(this.J),Ae(f,"RID",c),Ae(f,"CVER",22),this.G&&Ae(f,"X-HTTP-Session-Id",this.G),Ia(this,f),S&&(this.R?d="headers="+da(iw(S))+"&"+d:this.u&&xp(f,this.u,S)),Mp(this.h,b),this.Ra&&Ae(f,"TYPE","init"),this.S?(Ae(f,"$req",d),Ae(f,"SID","null"),b.U=!0,Tp(b,f,null)):Tp(b,f,d),this.I=2}}else this.I==3&&(c?dw(this,c):this.i.length==0||GI(this.h)||dw(this))};function dw(c,d){var f;d?f=d.l:f=c.V++;let m=Mn(c.J);Ae(m,"SID",c.M),Ae(m,"RID",f),Ae(m,"AID",c.K),Ia(c,m),c.u&&c.o&&xp(m,c.u,c.o),f=new Fr(c,c.j,f,c.D+1),c.u===null&&(f.J=c.o),d&&(c.i=d.G.concat(c.i)),d=hw(c,f,1e3),f.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Mp(c.h,f),Tp(f,m,d)}function Ia(c,d){c.H&&Pu(c.H,function(f,m){Ae(d,m,f)}),c.l&&Pu({},function(f,m){Ae(d,m,f)})}function hw(c,d,f){f=Math.min(c.i.length,f);let m=c.l?l(c.l.Ka,c.l,c):null;e:{var b=c.i;let ie=-1;for(;;){let Je=["count="+f];ie==-1?f>0?(ie=b[0].g,Je.push("ofs="+ie)):ie=0:Je.push("ofs="+ie);let Ce=!0;for(let tt=0;tt<f;tt++){var S=b[tt].g;let Nn=b[tt].map;if(S-=ie,S<0)ie=Math.max(0,b[tt].g-100),Ce=!1;else try{S="req"+S+"_"||"";try{var V=Nn instanceof Map?Nn:Object.entries(Nn);for(let[Ai,Ur]of V){let Br=Ur;a(Ur)&&(Br=Ip(Ur)),Je.push(S+Ai+"="+encodeURIComponent(Br))}}catch(Ai){throw Je.push(S+"type="+encodeURIComponent("_badmap")),Ai}}catch{m&&m(Nn)}}if(Ce){V=Je.join("&");break e}}V=void 0}return c=c.i.splice(0,f),d.G=c,V}function fw(c){if(!c.g&&!c.v){c.Y=1;var d=c.Da;hn||v(),ft||(hn(),ft=!0),w.add(d,c),c.A=0}}function Op(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ua(l(c.Da,c),mw(c,c.A)),c.A++,!0)}n.Da=function(){if(this.v=null,pw(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ua(l(this.Wa,this),c)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Mt(10),$u(this),pw(this))};function kp(c){c.B!=null&&(s.clearTimeout(c.B),c.B=null)}function pw(c){c.g=new Fr(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var d=Mn(c.na);Ae(d,"RID","rpc"),Ae(d,"SID",c.M),Ae(d,"AID",c.K),Ae(d,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ae(d,"TO",c.ia),Ae(d,"TYPE","xmlhttp"),Ia(c,d),c.u&&c.o&&xp(d,c.u,c.o),c.O&&(c.g.H=c.O);var f=c.g;c=c.ba,f.M=1,f.A=ju(Mn(d)),f.u=null,f.R=!0,HI(f,c)}n.Va=function(){this.C!=null&&(this.C=null,$u(this),Op(this),Mt(19))};function qu(c){c.C!=null&&(s.clearTimeout(c.C),c.C=null)}function gw(c,d){var f=null;if(c.g==d){qu(c),kp(c),c.g=null;var m=2}else if(Rp(c.h,d))f=d.G,KI(c.h,d),m=1;else return;if(c.I!=0){if(d.o)if(m==1){f=d.u?d.u.length:0,d=Date.now()-d.F;var b=c.D;m=Fu(),Rt(m,new LI(m,f)),zu(c)}else fw(c);else if(b=d.m,b==3||b==0&&d.X>0||!(m==1&&jN(c,d)||m==2&&Op(c)))switch(f&&f.length>0&&(d=c.h,d.i=d.i.concat(f)),b){case 1:Si(c,5);break;case 4:Si(c,10);break;case 3:Si(c,6);break;default:Si(c,2)}}}function mw(c,d){let f=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(f*=2),f*d}function Si(c,d){if(c.j.info("Error code "+d),d==2){var f=l(c.bb,c),m=c.Ua;let b=!m;m=new Lr(m||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||fa(m,"https"),ju(m),b?PN(m.toString(),f):ON(m.toString(),f)}else Mt(2);c.I=0,c.l&&c.l.pa(d),yw(c),lw(c)}n.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function yw(c){if(c.I=0,c.ja=[],c.l){let d=QI(c.h);(d.length!=0||c.i.length!=0)&&(T(c.ja,d),T(c.ja,c.i),c.h.i.length=0,y(c.i),c.i.length=0),c.l.oa()}}function vw(c,d,f){var m=f instanceof Lr?Mn(f):new Lr(f);if(m.g!="")d&&(m.g=d+"."+m.g),pa(m,m.u);else{var b=s.location;m=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;let S=new Lr(null);m&&fa(S,m),d&&(S.g=d),b&&pa(S,b),f&&(S.h=f),m=S}return f=c.G,d=c.wa,f&&d&&Ae(m,f,d),Ae(m,"VER",c.ka),Ia(c,m),m}function _w(c,d,f){if(d&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Aa&&!c.ma?new Le(new Uu({ab:f})):new Le(c.ma),d.Fa(c.L),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ew(){}n=Ew.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Gu(){}Gu.prototype.g=function(c,d){return new Bt(c,d)};function Bt(c,d){wt.call(this),this.g=new uw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(c?c["X-WebChannel-Client-Profile"]=d.sa:c={"X-WebChannel-Client-Profile":d.sa}),this.g.U=c,(c=d&&d.Qb)&&!_(c)&&(this.g.u=c),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!_(d)&&(this.g.G=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new jo(this)}p(Bt,wt),Bt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Bt.prototype.close=function(){Pp(this.g)},Bt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.v&&(f={},f.__data__=Ip(c),c=f);d.i.push(new CN(d.Ya++,c)),d.I==3&&zu(d)},Bt.prototype.N=function(){this.g.l=null,delete this.j,Pp(this.g),delete this.g,Bt.Z.N.call(this)};function Iw(c){wp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}p(Iw,wp);function ww(){Dp.call(this),this.status=1}p(ww,Dp);function jo(c){this.g=c}p(jo,Ew),jo.prototype.ra=function(){Rt(this.g,"a")},jo.prototype.qa=function(c){Rt(this.g,new Iw(c))},jo.prototype.pa=function(c){Rt(this.g,new ww)},jo.prototype.oa=function(){Rt(this.g,"b")},Gu.prototype.createWebChannel=Gu.prototype.g,Bt.prototype.send=Bt.prototype.o,Bt.prototype.open=Bt.prototype.m,Bt.prototype.close=Bt.prototype.close,Hv=Cr.createWebChannelTransport=function(){return new Gu},Bv=Cr.getStatEventTarget=function(){return Fu()},Uv=Cr.Event=bi,Uh=Cr.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Lu.NO_ERROR=0,Lu.TIMEOUT=8,Lu.HTTP_ERROR=6,Xc=Cr.ErrorCode=Lu,VI.COMPLETE="complete",jv=Cr.EventType=VI,PI.EventType=aa,aa.OPEN="a",aa.CLOSE="b",aa.ERROR="c",aa.MESSAGE="d",wt.prototype.listen=wt.prototype.J,Rs=Cr.WebChannel=PI,oj=Cr.FetchXmlHttpFactory=Uu,Le.prototype.listenOnce=Le.prototype.K,Le.prototype.getLastError=Le.prototype.Ha,Le.prototype.getLastErrorCode=Le.prototype.ya,Le.prototype.getStatus=Le.prototype.ca,Le.prototype.getResponseJson=Le.prototype.La,Le.prototype.getResponseText=Le.prototype.la,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Fa,Vv=Cr.XhrIo=Le}).apply(typeof jh<"u"?jh:typeof self<"u"?self:typeof window<"u"?window:{});var lt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};lt.UNAUTHENTICATED=new lt(null),lt.GOOGLE_CREDENTIALS=new lt("google-credentials-uid"),lt.FIRST_PARTY=new lt("first-party-uid"),lt.MOCK_USER=new lt("mock-user");var Js="12.8.0";function wA(n){Js=n}var vo=new li("@firebase/firestore");function Ms(){return vo.logLevel}function U(n,...e){if(vo.logLevel<=ae.DEBUG){let t=e.map(vE);vo.debug(`Firestore (${Js}): ${n}`,...t)}}function Ar(n,...e){if(vo.logLevel<=ae.ERROR){let t=e.map(vE);vo.error(`Firestore (${Js}): ${n}`,...t)}}function pi(n,...e){if(vo.logLevel<=ae.WARN){let t=e.map(vE);vo.warn(`Firestore (${Js}): ${n}`,...t)}}function vE(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function W(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,DA(n,r,t)}function DA(n,e,t){let r=`FIRESTORE (${Js}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ar(r),new Error(r)}function we(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||DA(e,i,r)}function X(n,e){return n}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=class extends Xt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Cn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Wh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Kh=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(lt.UNAUTHENTICATED))}shutdown(){}},Kv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Qh=class{constructor(e){this.t=e,this.currentUser=lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){we(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Cn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Cn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Cn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string",31837,{l:r}),new Wh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string",2055,{h:e}),new lt(e)}},Qv=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=lt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);let e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}},Yv=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Qv(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Yh=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Jh=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,en(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){we(this.o===void 0,3512);let r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Yh(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(we(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Yh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function sj(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var _o=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=sj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function ue(n,e){return n<e?-1:n>e?1:0}function Jv(n,e){let t=Math.min(n.length,e.length);for(let r=0;r<t;r++){let i=n.charAt(r),o=e.charAt(r);if(i!==o)return $v(i)===$v(o)?ue(i,o):$v(i)?1:-1}return ue(n.length,e.length)}var aj=55296,cj=57343;function $v(n){let e=n.charCodeAt(0);return e>=aj&&e<=cj}function Ls(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var LS="__name__",Zh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&W(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&W(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return ue(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):Jv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return br.fromString(e.substring(4,e.length-2))}},xe=class n extends Zh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new B(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},uj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,jt=class n extends Zh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return uj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===LS}static keyField(){return new n([LS])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new B(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new B(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new B(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new B(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var q=class n{constructor(e){this.path=e}static fromPath(e){return new n(xe.fromString(e))}static fromName(e){return new n(xe.fromString(e).popFirst(5))}static empty(){return new n(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return xe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new xe(e.slice()))}};function bA(n,e,t){if(!t)throw new B(O.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function CA(n,e,t,r){if(e===!0&&r===!0)throw new B(O.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function VS(n){if(!q.isDocumentKey(n))throw new B(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function jS(n){if(q.isDocumentKey(n))throw new B(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function TA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Nf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":W(12329,{type:typeof n})}function An(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new B(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Nf(n);throw new B(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function He(n,e){let t={typeString:n};return e&&(t.value=e),t}function Zs(n,e){if(!TA(n))throw new B(O.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new B(O.INVALID_ARGUMENT,t);return!0}var US=-62135596800,BS=1e6,$e=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*BS);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new B(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new B(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<US)throw new B(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BS}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zs(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-US;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};$e._jsonSchemaVersion="firestore/timestamp/1.0",$e._jsonSchema={type:He("string",$e._jsonSchemaVersion),seconds:He("number"),nanoseconds:He("number")};var re=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new $e(0,0))}static max(){return new n(new $e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ou=-1,Xh=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Xh.UNKNOWN_ID=-1;function lj(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new $e(t+1,0):new $e(t,r));return new Eo(i,q.empty(),e)}function dj(n){return new Eo(n.readTime,n.key,ou)}var Eo=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(re.min(),q.empty(),ou)}static max(){return new n(re.max(),q.empty(),ou)}};function hj(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=q.comparator(n.documentKey,e.documentKey),t!==0?t:ue(n.largestBatchId,e.largestBatchId))}var fj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Zv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function Xs(n){if(n.code!==O.FAILED_PRECONDITION||n.message!==fj)throw n;U("LocalStore","Unexpectedly lost primary lease")}var k=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&W(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function pj(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ea(n){return n.name==="IndexedDbTransactionError"}var _E=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ue&&this.ue(t),t}}n.ce=-1;return n})(),EE=-1;function xf(n){return n==null}function su(n){return n===0&&1/n==-1/0}function gj(n){return typeof n=="number"&&Number.isInteger(n)&&!su(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var SA="";function mj(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=HS(e)),e=yj(n.get(t),e);return HS(e)}function yj(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case SA:t+="";break;default:t+=o}}return t}function HS(n){return n+SA+""}var vj="remoteDocuments",AA="owner";var RA="mutationQueues";var MA="mutations";var NA="documentMutations",_j="remoteDocumentsV14";var xA="remoteDocumentGlobal";var PA="targets";var OA="targetDocuments";var kA="targetGlobal",FA="collectionParents";var LA="clientMetadata";var VA="bundles";var jA="namedQueries";var Ej="indexConfiguration";var Ij="indexState";var wj="indexEntries";var UA="documentOverlays";var Dj="globals";var bj=[RA,MA,NA,vj,PA,AA,kA,OA,LA,xA,FA,VA,jA],Gee=[...bj,UA],Cj=[RA,MA,NA,_j,PA,AA,kA,OA,LA,xA,FA,VA,jA,UA],Tj=Cj,Sj=[...Tj,Ej,Ij,wj];var Wee=[...Sj,Dj];function $S(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function vi(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function BA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ve=class n{constructor(e,t){this.comparator=e,this.root=t||Qn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Os(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Os(this.root,e,this.comparator,!1)}getReverseIterator(){return new Os(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Os(this.root,e,this.comparator,!0)}},Os=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Qn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw W(43730,{key:this.key,value:this.value});if(this.right.isRed())throw W(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw W(27949);return e+(this.isRed()?0:1)}};Qn.EMPTY=null,Qn.RED=!0,Qn.BLACK=!1;Qn.EMPTY=new class{constructor(){this.size=0}get key(){throw W(57766)}get value(){throw W(16141)}get color(){throw W(16727)}get left(){throw W(29726)}get right(){throw W(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Qn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var dt=class n{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ef(this.data.getIterator())}getIteratorFrom(e){return new ef(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},ef=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var dn=class n{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new n([])}unionWith(e){let t=new dt(jt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ls(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var tf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Et=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new tf("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Et.EMPTY_BYTE_STRING=new Et("");var Aj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rr(n){if(we(!!n,39018),typeof n=="string"){let e=0,t=Aj.exec(n);if(we(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ne(n.seconds),nanos:Ne(n.nanos)}}function Ne(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Mr(n){return typeof n=="string"?Et.fromBase64String(n):Et.fromUint8Array(n)}var HA="server_timestamp",$A="__type__",zA="__previous_value__",qA="__local_write_time__";function Pf(n){return(n?.mapValue?.fields||{})[$A]?.stringValue===HA}function Of(n){let e=n.mapValue.fields[zA];return Pf(e)?Of(e):e}function au(n){let e=Rr(n.mapValue.fields[qA].timestampValue);return new $e(e.seconds,e.nanos)}var Xv=class{constructor(e,t,r,i,o,s,a,u,l,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h,this.apiKey=p}},nf="(default)",cu=class n{constructor(e,t){this.projectId=e,this.database=t||nf}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===nf}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};function GA(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new B(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(n.options.projectId,e)}var IE="__type__",WA="__max__",Bh={mapValue:{fields:{__type__:{stringValue:WA}}}},wE="__vector__",Vs="value";function gi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Pf(n)?4:QA(n)?9007199254740991:KA(n)?10:11:W(28295,{value:n})}function tr(n,e){if(n===e)return!0;let t=gi(n);if(t!==gi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return au(n).isEqual(au(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Rr(i.timestampValue),a=Rr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Mr(i.bytesValue).isEqual(Mr(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ne(i.geoPointValue.latitude)===Ne(o.geoPointValue.latitude)&&Ne(i.geoPointValue.longitude)===Ne(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ne(i.integerValue)===Ne(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ne(i.doubleValue),a=Ne(o.doubleValue);return s===a?su(s)===su(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return Ls(n.arrayValue.values||[],e.arrayValue.values||[],tr);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if($S(s)!==$S(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!tr(s[u],a[u])))return!1;return!0})(n,e);default:return W(52216,{left:n})}}function uu(n,e){return(n.values||[]).find(t=>tr(t,e))!==void 0}function js(n,e){if(n===e)return 0;let t=gi(n),r=gi(e);if(t!==r)return ue(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ue(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Ne(o.integerValue||o.doubleValue),u=Ne(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(n,e);case 3:return zS(n.timestampValue,e.timestampValue);case 4:return zS(au(n),au(e));case 5:return Jv(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=Mr(o),u=Mr(s);return a.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ue(a[l],u[l]);if(h!==0)return h}return ue(a.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=ue(Ne(o.latitude),Ne(s.latitude));return a!==0?a:ue(Ne(o.longitude),Ne(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return qS(n.arrayValue,e.arrayValue);case 10:return(function(o,s){let a=o.fields||{},u=s.fields||{},l=a[Vs]?.arrayValue,h=u[Vs]?.arrayValue,p=ue(l?.values?.length||0,h?.values?.length||0);return p!==0?p:qS(l,h)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Bh.mapValue&&s===Bh.mapValue)return 0;if(o===Bh.mapValue)return 1;if(s===Bh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=Jv(u[p],h[p]);if(g!==0)return g;let y=js(a[u[p]],l[h[p]]);if(y!==0)return y}return ue(u.length,h.length)})(n.mapValue,e.mapValue);default:throw W(23264,{he:t})}}function zS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ue(n,e);let t=Rr(n),r=Rr(e),i=ue(t.seconds,r.seconds);return i!==0?i:ue(t.nanos,r.nanos)}function qS(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=js(t[i],r[i]);if(o)return o}return ue(t.length,r.length)}function Us(n){return e_(n)}function e_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=Rr(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Mr(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return q.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=e_(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${e_(t.fields[s])}`;return i+"}"})(n.mapValue):W(61005,{value:n})}function zh(n){switch(gi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Of(n);return e?16+zh(e):16;case 5:return 2*n.stringValue.length;case 6:return Mr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+zh(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return vi(r.fields,(o,s)=>{i+=o.length+zh(s)}),i})(n.mapValue);default:throw W(13486,{value:n})}}function t_(n){return!!n&&"integerValue"in n}function DE(n){return!!n&&"arrayValue"in n}function GS(n){return!!n&&"nullValue"in n}function WS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qh(n){return!!n&&"mapValue"in n}function KA(n){return(n?.mapValue?.fields||{})[IE]?.stringValue===wE}function nu(n){if(n.geoPointValue)return{geoPointValue:M({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:M({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return vi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=nu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nu(n.arrayValue.values[t]);return e}return M({},n)}function QA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===WA}var Qee={mapValue:{fields:{[IE]:{stringValue:wE},[Vs]:{arrayValue:{}}}}};var Vt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(t)}setAll(e){let t=jt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=nu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());qh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return tr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];qh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){vi(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(nu(this.value))}};function YA(n){let e=[];return vi(n.fields,(t,r)=>{let i=new jt([t]);if(qh(r)){let o=YA(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new dn(e)}var Tn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,re.min(),re.min(),re.min(),Vt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,re.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,re.min(),re.min(),Vt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,re.min(),re.min(),Vt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Io=class{constructor(e,t){this.position=e,this.inclusive=t}};function KS(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=q.comparator(q.fromName(s.referenceValue),t.key):r=js(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function QS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!tr(n.position[t],e.position[t]))return!1;return!0}var wo=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Rj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var rf=class{},Ye=class n extends rf{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new r_(e,t,r):t==="array-contains"?new s_(e,r):t==="in"?new a_(e,r):t==="not-in"?new c_(e,r):t==="array-contains-any"?new u_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new i_(e,r):new o_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(js(t,this.value)):t!==null&&gi(this.value)===gi(t)&&this.matchesComparison(js(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return W(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Sn=class n extends rf{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new n(e,t)}matches(e){return JA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function JA(n){return n.op==="and"}function ZA(n){return Mj(n)&&JA(n)}function Mj(n){for(let e of n.filters)if(e instanceof Sn)return!1;return!0}function n_(n){if(n instanceof Ye)return n.field.canonicalString()+n.op.toString()+Us(n.value);if(ZA(n))return n.filters.map(e=>n_(e)).join(",");{let e=n.filters.map(t=>n_(t)).join(",");return`${n.op}(${e})`}}function XA(n,e){return n instanceof Ye?(function(r,i){return i instanceof Ye&&r.op===i.op&&r.field.isEqual(i.field)&&tr(r.value,i.value)})(n,e):n instanceof Sn?(function(r,i){return i instanceof Sn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&XA(s,i.filters[a]),!0):!1})(n,e):void W(19439)}function eR(n){return n instanceof Ye?(function(t){return`${t.field.canonicalString()} ${t.op} ${Us(t.value)}`})(n):n instanceof Sn?(function(t){return t.op.toString()+" {"+t.getFilters().map(eR).join(" ,")+"}"})(n):"Filter"}var r_=class extends Ye{constructor(e,t,r){super(e,t,r),this.key=q.fromName(r.referenceValue)}matches(e){let t=q.comparator(e.key,this.key);return this.matchesComparison(t)}},i_=class extends Ye{constructor(e,t){super(e,"in",t),this.keys=tR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},o_=class extends Ye{constructor(e,t){super(e,"not-in",t),this.keys=tR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function tR(n,e){return(e.arrayValue?.values||[]).map(t=>q.fromName(t.referenceValue))}var s_=class extends Ye{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return DE(t)&&uu(t.arrayValue,this.value)}},a_=class extends Ye{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&uu(this.value.arrayValue,t)}},c_=class extends Ye{constructor(e,t){super(e,"not-in",t)}matches(e){if(uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!uu(this.value.arrayValue,t)}},u_=class extends Ye{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!DE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>uu(this.value.arrayValue,r))}};var l_=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}};function YS(n,e=null,t=[],r=[],i=null,o=null,s=null){return new l_(n,e,t,r,i,o,s)}function bE(n){let e=X(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>n_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),xf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Us(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Us(r)).join(",")),e.Te=t}return e.Te}function CE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Rj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!XA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!QS(n.startAt,e.startAt)&&QS(n.endAt,e.endAt)}function d_(n){return q.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Bs=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}};function Nj(n,e,t,r,i,o,s,a){return new Bs(n,e,t,r,i,o,s,a)}function kf(n){return new Bs(n)}function JS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function xj(n){return q.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function nR(n){return n.collectionGroup!==null}function ks(n){let e=X(n);if(e.Ie===null){e.Ie=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new dt(jt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new wo(o,r))}),t.has(jt.keyField().canonicalString())||e.Ie.push(new wo(jt.keyField(),r))}return e.Ie}function Yn(n){let e=X(n);return e.Ee||(e.Ee=Pj(e,ks(n))),e.Ee}function Pj(n,e){if(n.limitType==="F")return YS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new wo(i.field,o)});let t=n.endAt?new Io(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Io(n.startAt.position,n.startAt.inclusive):null;return YS(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function of(n,e,t){return new Bs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ff(n,e){return CE(Yn(n),Yn(e))&&n.limitType===e.limitType}function rR(n){return`${bE(Yn(n))}|lt:${n.limitType}`}function Ns(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>eR(i)).join(", ")}]`),xf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Us(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Us(i)).join(",")),`Target(${r})`})(Yn(n))}; limitType=${n.limitType})`}function Lf(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of ks(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=KS(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,ks(r),i)||r.endAt&&!(function(s,a,u){let l=KS(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,ks(r),i))})(n,e)}function Oj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function iR(n){return(e,t)=>{let r=!1;for(let i of ks(n)){let o=kj(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function kj(n,e,t){let r=n.field.isKeyField()?q.comparator(e.key,t.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?js(u,l):W(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return W(19790,{direction:n.dir})}}var Nr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vi(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return BA(this.inner)}size(){return this.innerSize}};var Fj=new Ve(q.comparator);function xr(){return Fj}var oR=new Ve(q.comparator);function tu(...n){let e=oR;for(let t of n)e=e.insert(t.key,t);return e}function sR(n){let e=oR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function mo(){return ru()}function aR(){return ru()}function ru(){return new Nr(n=>n.toString(),(n,e)=>n.isEqual(e))}var Lj=new Ve(q.comparator),Vj=new dt(q.comparator);function ce(...n){let e=Vj;for(let t of n)e=e.add(t);return e}var jj=new dt(ue);function Uj(){return jj}function TE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:su(e)?"-0":e}}function cR(n){return{integerValue:""+n}}function Bj(n,e){return gj(e)?cR(e):TE(n,e)}var Hs=class{constructor(){this._=void 0}};function Hj(n,e,t){return n instanceof $s?(function(i,o){let s={fields:{[$A]:{stringValue:HA},[qA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Pf(o)&&(o=Of(o)),o&&(s.fields[zA]=o),{mapValue:s}})(t,e):n instanceof Do?lR(n,e):n instanceof bo?dR(n,e):(function(i,o){let s=uR(i,o),a=ZS(s)+ZS(i.Ae);return t_(s)&&t_(i.Ae)?cR(a):TE(i.serializer,a)})(n,e)}function $j(n,e,t){return n instanceof Do?lR(n,e):n instanceof bo?dR(n,e):t}function uR(n,e){return n instanceof zs?(function(r){return t_(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var $s=class extends Hs{},Do=class extends Hs{constructor(e){super(),this.elements=e}};function lR(n,e){let t=hR(e);for(let r of n.elements)t.some(i=>tr(i,r))||t.push(r);return{arrayValue:{values:t}}}var bo=class extends Hs{constructor(e){super(),this.elements=e}};function dR(n,e){let t=hR(e);for(let r of n.elements)t=t.filter(i=>!tr(i,r));return{arrayValue:{values:t}}}var zs=class extends Hs{constructor(e,t){super(),this.serializer=e,this.Ae=t}};function ZS(n){return Ne(n.integerValue||n.doubleValue)}function hR(n){return DE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function zj(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Do&&i instanceof Do||r instanceof bo&&i instanceof bo?Ls(r.elements,i.elements,tr):r instanceof zs&&i instanceof zs?tr(r.Ae,i.Ae):r instanceof $s&&i instanceof $s})(n.transform,e.transform)}var h_=class{constructor(e,t){this.version=e,this.transformResults=t}},Jn=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Gh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var qs=class{};function fR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Gs(n.key,Jn.none()):new Co(n.key,n.data,Jn.none());{let t=n.data,r=Vt.empty(),i=new dt(jt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new nr(n.key,r,new dn(i.toArray()),Jn.none())}}function qj(n,e,t){n instanceof Co?(function(i,o,s){let a=i.value.clone(),u=eA(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof nr?(function(i,o,s){if(!Gh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=eA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(pR(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function iu(n,e,t,r){return n instanceof Co?(function(o,s,a,u){if(!Gh(o.precondition,s))return a;let l=o.value.clone(),h=tA(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof nr?(function(o,s,a,u){if(!Gh(o.precondition,s))return a;let l=tA(o.fieldTransforms,u,s),h=s.data;return h.setAll(pR(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,a){return Gh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function Gj(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=uR(r.transform,i||null);o!=null&&(t===null&&(t=Vt.empty()),t.set(r.field,o))}return t||null}function XS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ls(r,i,(o,s)=>zj(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Co=class extends qs{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},nr=class extends qs{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function pR(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function eA(n,e,t){let r=new Map;we(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,$j(s,a,t[i]))}return r}function tA(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,Hj(o,s,e))}return r}var Gs=class extends qs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},f_=class extends qs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var p_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&qj(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=iu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=iu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=aR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=fR(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ce())}isEqual(e){return this.batchId===e.batchId&&Ls(this.mutations,e.mutations,(t,r)=>XS(t,r))&&Ls(this.baseMutations,e.baseMutations,(t,r)=>XS(t,r))}},g_=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){we(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Lj})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var m_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var y_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ke,de;function Wj(n){switch(n){case O.OK:return W(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return W(15467,{code:n})}}function gR(n){if(n===void 0)return Ar("GRPC error has no .code"),O.UNKNOWN;switch(n){case Ke.OK:return O.OK;case Ke.CANCELLED:return O.CANCELLED;case Ke.UNKNOWN:return O.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return O.INTERNAL;case Ke.UNAVAILABLE:return O.UNAVAILABLE;case Ke.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Ke.NOT_FOUND:return O.NOT_FOUND;case Ke.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Ke.ABORTED:return O.ABORTED;case Ke.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Ke.DATA_LOSS:return O.DATA_LOSS;default:return W(39323,{code:n})}}(de=Ke||(Ke={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";var Kj=null;function Qj(){return new TextEncoder}var Yj=new br([4294967295,4294967295],0);function nA(n){let e=Qj().encode(n),t=new Lv;return t.update(e),new Uint8Array(t.digest())}function rA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new br([t,r],0),new br([i,o],0)]}var v_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new yo(`Invalid padding: ${t}`);if(r<0)throw new yo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yo(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new yo(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=br.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(br.fromNumber(r)));return i.compare(Yj)===1&&(i=new br([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let t=nA(e),[r,i]=rA(t);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;let t=nA(e),[r,i]=rA(t);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);this.be(s)}}be(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},yo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var sf=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(re.min(),i,new Ve(ue),xr(),ce())}},lu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ce(),ce(),ce())}};var Fs=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=i}},af=class{constructor(e,t){this.targetId=e,this.Ce=t}},cf=class{constructor(e,t,r=Et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},uf=class{constructor(){this.ve=0,this.Fe=iA(),this.Me=Et.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ce(),t=ce(),r=ce();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:W(38017,{changeType:o})}}),new lu(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=iA()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,we(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}},__=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=xr(),this.He=Hh(),this.Je=Hh(),this.Ze=new Ve(ue)}Xe(e){for(let t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{let r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:W(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,i)=>{this.rt(i)&&t(i)})}st(e){let t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){let o=i.target;if(d_(o))if(r===0){let s=new q(o.path);this.et(t,s,Tn.newNoDocument(s,re.min()))}else we(r===1,20013,{expectedCount:r});else{let s=this._t(t);if(s!==r){let a=this.ut(e),u=a?this.ct(a,e,s):1;if(u!==0){this.it(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,l)}Kj?.lt((function(h,p,g,y,T){let N={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},P=p.unchangedNames;return P&&(N.bloomFilter={applied:T===0,hashCount:P?.hashCount??0,bitmapLength:P?.bits?.bitmap?.length??0,padding:P?.bits?.padding??0,mightContain:j=>y?.mightContain(j)??!1}),N})(s,e.Ce,this.Ge.ht(),a,u))}}}}ut(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Mr(r).toUint8Array()}catch(u){if(u instanceof tf)return pi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new v_(s,i,o)}catch(u){return pi(u instanceof yo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){let r=this.Ge.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(t,o,null),i++)}),i}Tt(e){let t=new Map;this.ze.forEach((o,s)=>{let a=this.ot(s);if(a){if(o.current&&d_(a.target)){let u=new q(a.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,Tn.newNoDocument(u,e))}o.Be&&(t.set(s,o.ke()),o.Ke())}});let r=ce();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.ot(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));let i=new sf(e,t,this.Ze,this.je,r);return this.je=xr(),this.He=Hh(),this.Je=Hh(),this.Ze=new Ve(ue),i}Ye(e,t){if(!this.rt(e))return;let r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;let i=this.nt(e);this.Et(e,t)?i.qe(t,1):i.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new uf,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new dt(ue),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new dt(ue),this.He=this.He.insert(e,t)),t}rt(e){let t=this.ot(e)!==null;return t||U("WatchChangeAggregator","Detected inactive target",e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new uf),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}};function Hh(){return new Ve(q.comparator)}function iA(){return new Ve(q.comparator)}var Jj={asc:"ASCENDING",desc:"DESCENDING"},Zj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xj={and:"AND",or:"OR"},E_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function I_(n,e){return n.useProto3Json||xf(e)?e:{value:e}}function lf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function eU(n,e){return lf(n,e.toTimestamp())}function Zn(n){return we(!!n,49232),re.fromTimestamp((function(t){let r=Rr(t);return new $e(r.seconds,r.nanos)})(n))}function SE(n,e){return w_(n,e).canonicalString()}function w_(n,e){let t=(function(i){return new xe(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function yR(n){let e=xe.fromString(n);return we(wR(e),10190,{key:e.toString()}),e}function D_(n,e){return SE(n.databaseId,e.path)}function zv(n,e){let t=yR(e);if(t.get(1)!==n.databaseId.projectId)throw new B(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new B(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new q(_R(t))}function vR(n,e){return SE(n.databaseId,e)}function tU(n){let e=yR(n);return e.length===4?xe.emptyPath():_R(e)}function b_(n){return new xe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function _R(n){return we(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function oA(n,e,t){return{name:D_(n,e),fields:t.value.mapValue.fields}}function nU(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:W(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(we(h===void 0||typeof h=="string",58123),Et.fromBase64String(h||"")):(we(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Et.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?O.UNKNOWN:gR(l.code);return new B(h,l.message||"")})(s);t=new cf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=zv(n,r.document.name),o=Zn(r.document.updateTime),s=r.document.createTime?Zn(r.document.createTime):re.min(),a=new Vt({mapValue:{fields:r.document.fields}}),u=Tn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Fs(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=zv(n,r.document),o=r.readTime?Zn(r.readTime):re.min(),s=Tn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Fs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=zv(n,r.document),o=r.removedTargetIds||[];t=new Fs([],o,i,null)}else{if(!("filter"in e))return W(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new y_(i,o),a=r.targetId;t=new af(a,s)}}return t}function rU(n,e){let t;if(e instanceof Co)t={update:oA(n,e.key,e.value)};else if(e instanceof Gs)t={delete:D_(n,e.key)};else if(e instanceof nr)t={update:oA(n,e.key,e.data),updateMask:hU(e.fieldMask)};else{if(!(e instanceof f_))return W(16599,{dt:e.type});t={verify:D_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof $s)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Do)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof zs)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw W(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:eU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:W(27497)})(n,e.precondition)),t}function iU(n,e){return n&&n.length>0?(we(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?Zn(i.updateTime):Zn(o);return s.isEqual(re.min())&&(s=Zn(o)),new h_(s,i.transformResults||[])})(t,e))):[]}function oU(n,e){return{documents:[vR(n,e.path)]}}function sU(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=vR(n,i);let o=(function(l){if(l.length!==0)return IR(Sn.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(g){return{field:xs(g.field),direction:uU(g.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=I_(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{ft:t,parent:i}}function aU(n){let e=tU(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){we(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(p){let g=ER(p);return g instanceof Sn&&ZA(g)?g.getFilters():[g]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(g=>(function(T){return new wo(Ps(T.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(g))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let g;return g=typeof p=="object"?p.value:p,xf(g)?null:g})(t.limit));let u=null;t.startAt&&(u=(function(p){let g=!!p.before,y=p.values||[];return new Io(y,g)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let g=!p.before,y=p.values||[];return new Io(y,g)})(t.endAt)),Nj(e,i,s,o,a,"F",u,l)}function cU(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return W(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ER(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Ps(t.unaryFilter.field);return Ye.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ps(t.unaryFilter.field);return Ye.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ps(t.unaryFilter.field);return Ye.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ps(t.unaryFilter.field);return Ye.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return W(61313);default:return W(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ye.create(Ps(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return W(58110);default:return W(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Sn.create(t.compositeFilter.filters.map(r=>ER(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return W(1026)}})(t.compositeFilter.op))})(n):W(30097,{filter:n})}function uU(n){return Jj[n]}function lU(n){return Zj[n]}function dU(n){return Xj[n]}function xs(n){return{fieldPath:n.canonicalString()}}function Ps(n){return jt.fromServerFormat(n.fieldPath)}function IR(n){return n instanceof Ye?(function(t){if(t.op==="=="){if(WS(t.value))return{unaryFilter:{field:xs(t.field),op:"IS_NAN"}};if(GS(t.value))return{unaryFilter:{field:xs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(WS(t.value))return{unaryFilter:{field:xs(t.field),op:"IS_NOT_NAN"}};if(GS(t.value))return{unaryFilter:{field:xs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xs(t.field),op:lU(t.op),value:t.value}}})(n):n instanceof Sn?(function(t){let r=t.getFilters().map(i=>IR(i));return r.length===1?r[0]:{compositeFilter:{op:dU(t.op),filters:r}}})(n):W(54877,{filter:n})}function hU(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function wR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function DR(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}var du=class n{constructor(e,t,r,i,o=re.min(),s=re.min(),a=Et.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var C_=class{constructor(e){this.yt=e}};function bR(n){let e=aU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?of(e,e.limit,"L"):e}var df=class{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Ne(e.integerValue));else if("doubleValue"in e){let r=Ne(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),su(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=Rr(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Mr(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?QA(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):KA(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):W(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){let r=e.fields||{};this.Ft(t,55);for(let i of Object.keys(r))this.Ot(i,t),this.Ct(r[i],t)}kt(e,t){let r=e.fields||{};this.Ft(t,53);let i=Vs,o=r[i].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Ne(o)),this.Ot(i,t),this.Ct(r[i],t)}qt(e,t){let r=e.values||[];this.Ft(t,50);for(let i of r)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),q.fromName(e).path.forEach(r=>{this.Ft(t,60),this.$t(r,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}};df.Wt=new df;var T_=class{constructor(){this.Sn=new S_}addToCollectionParentIndex(e,t){return this.Sn.add(t),k.resolve()}getCollectionParents(e,t){return k.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return k.resolve()}deleteFieldIndex(e,t){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,t){return k.resolve()}getDocumentsMatchingTarget(e,t){return k.resolve(null)}getIndexType(e,t){return k.resolve(0)}getFieldIndexes(e,t){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,t){return k.resolve(Eo.min())}getMinOffsetFromCollectionGroup(e,t){return k.resolve(Eo.min())}updateCollectionGroup(e,t,r){return k.resolve()}updateIndexEntries(e,t){return k.resolve()}},S_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new dt(xe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new dt(xe.comparator)).toArray()}};var Yee=new Uint8Array(0);var sA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CR=41943040,ln=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(CR,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);var hu=class n{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new n(0)}static ar(){return new n(-1)}};var aA="LruGarbageCollector",fU=1048576;function cA([n,e],[t,r]){let i=ue(n,t);return i===0?ue(e,r):i}var A_=class{constructor(e){this.Pr=e,this.buffer=new dt(cA),this.Tr=0}Ir(){return++this.Tr}Er(e){let t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();cA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},R_=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){U(aA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ea(t)?U(aA,"Ignoring IndexedDB error during garbage collection: ",t):await Xs(t)}await this.Ar(3e5)})}},M_=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return k.resolve(_E.ce);let r=new A_(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(U("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(sA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sA):this.gr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Ms()<=ae.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function pU(n,e){return new M_(n,e)}var N_=class{constructor(){this.changes=new Nr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?k.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var x_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var P_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&iu(r.mutation,i,dn.empty(),$e.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ce()){let i=mo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=tu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=mo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ce()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=xr(),s=ru(),a=(function(){return ru()})();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof nr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),iu(h.mutation,l,h.mutation.getFieldMask(),$e.now())):s.set(l.key,dn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>a.set(l,new x_(h,s.get(l)??null))),a))}recalculateAndSaveOverlays(e,t){let r=ru(),i=new Ve((s,a)=>s-a),o=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||dn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ce()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=aR();h.forEach(g=>{if(!o.has(g)){let y=fR(t.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return k.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return xj(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):nR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):k.resolve(mo()),a=ou,u=o;return s.next(l=>k.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?k.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ce())).next(h=>({batchId:a,changes:sR(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new q(t)).next(r=>{let i=tu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=tu();return this.indexManager.getCollectionParents(e,o).next(a=>k.forEach(a,u=>{let l=(function(p,g){return new Bs(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Tn.newInvalidDocument(h)))});let a=tu();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&iu(h.mutation,l,dn.empty(),$e.now()),Lf(t,l)&&(a=a.insert(u,l))}),a})}};var O_=class{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return k.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Zn(i.createTime)}})(t)),k.resolve()}getNamedQuery(e,t){return k.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(i){return{name:i.name,query:bR(i.bundledQuery),readTime:Zn(i.readTime)}})(t)),k.resolve()}};var k_=class{constructor(){this.overlays=new Ve(q.comparator),this.Lr=new Map}getOverlay(e,t){return k.resolve(this.overlays.get(t))}getOverlays(e,t){let r=mo();return k.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.bt(e,t,o)}),k.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Lr.delete(r)),k.resolve()}getOverlaysForCollection(e,t,r){let i=mo(),o=t.length+1,s=new q(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return k.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ve((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=mo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=mo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return k.resolve(a)}bt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new m_(t,r));let o=this.Lr.get(t);o===void 0&&(o=ce(),this.Lr.set(t,o)),this.Lr.set(t,o.add(r.key))}};var F_=class{constructor(){this.sessionToken=Et.EMPTY_BYTE_STRING}getSessionToken(e){return k.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,k.resolve()}};var fu=class{constructor(){this.kr=new dt(Qe.Kr),this.qr=new dt(Qe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){let r=new Qe(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Qe(e,t))}Qr(e,t){e.forEach(r=>this.removeReference(r,t))}Gr(e){let t=new q(new xe([])),r=new Qe(t,e),i=new Qe(t,e+1),o=[];return this.qr.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){let t=new q(new xe([])),r=new Qe(t,e),i=new Qe(t,e+1),o=ce();return this.qr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Qe(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Qe=class{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return q.comparator(e.key,t.key)||ue(e.Hr,t.Hr)}static Ur(e,t){return ue(e.Hr,t.Hr)||q.comparator(e.key,t.key)}};var L_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new dt(Qe.Kr)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new p_(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Jr=this.Jr.add(new Qe(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(s)}lookupMutationBatch(e,t){return k.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return k.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?EE:this.Yn-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Qe(t,0),i=new Qe(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),k.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new dt(ue);return t.forEach(i=>{let o=new Qe(i,0),s=new Qe(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),k.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;q.isDocumentKey(o)||(o=o.child(""));let s=new Qe(new q(o),0),a=new dt(ue);return this.Jr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),k.resolve(this.Yr(a))}Yr(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){we(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return k.forEach(t.mutations,i=>{let o=new Qe(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,t){let r=new Qe(t,0),i=this.Jr.firstAfterOrEqual(r);return k.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var V_=class{constructor(e){this.ti=e,this.docs=(function(){return new Ve(q.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return k.resolve(r?r.document.mutableCopy():Tn.newInvalidDocument(t))}getEntries(e,t){let r=xr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Tn.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=xr(),s=t.path,a=new q(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||hj(dj(h),r)<=0||(i.has(h.key)||Lf(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return k.resolve(o)}getAllFromCollectionGroup(e,t,r,i){W(9500)}ni(e,t){return k.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new j_(this)}getSize(e){return k.resolve(this.size)}},j_=class extends N_{constructor(e){super(),this.Mr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)}),k.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}};var U_=class{constructor(e){this.persistence=e,this.ri=new Nr(t=>bE(t),CE),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.ii=0,this.si=new fu,this.targetCount=0,this.oi=hu._r()}forEachTarget(e,t){return this.ri.forEach((r,i)=>t(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),k.resolve()}lr(e){this.ri.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.oi=new hu(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,k.resolve()}updateTargetData(e,t){return this.lr(t),k.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ri.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ri.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),k.waitFor(o).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,t){let r=this.ri.get(t)||null;return k.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),k.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),k.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),k.resolve()}getMatchingKeysForTargetId(e,t){let r=this.si.jr(t);return k.resolve(r)}containsKey(e,t){return k.resolve(this.si.containsKey(t))}};var hf=class{constructor(e,t){this._i={},this.overlays={},this.ai=new _E(0),this.ui=!1,this.ui=!0,this.ci=new F_,this.referenceDelegate=e(this),this.li=new U_(this),this.indexManager=new T_,this.remoteDocumentCache=(function(i){return new V_(i)})(r=>this.referenceDelegate.hi(r)),this.serializer=new C_(t),this.Pi=new O_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new k_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new L_(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){U("MemoryPersistence","Starting transaction:",e);let i=new B_(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(o=>this.referenceDelegate.Ii(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return k.or(Object.values(this._i).map(r=>()=>r.containsKey(e,t)))}},B_=class extends Zv{constructor(e){super(),this.currentSequenceNumber=e}},H_=class n{constructor(e){this.persistence=e,this.Ri=new fu,this.Ai=null}static Vi(e){return new n(e)}get di(){if(this.Ai)return this.Ai;throw W(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),k.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),k.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach(i=>this.di.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ti(){this.Ai=new Set}Ii(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.di,r=>{let i=q.fromPath(r);return this.mi(e,i).next(o=>{o||t.removeEntry(i,re.min())})}).next(()=>(this.Ai=null,t.apply(e)))}updateLimboDocument(e,t){return this.mi(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}hi(e){return 0}mi(e,t){return k.or([()=>k.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},ff=class n{constructor(e,t){this.persistence=e,this.fi=new Nr(r=>mj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=pU(this,t)}static Vi(e,t){return new n(e,t)}Ti(){}Ii(e){return k.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){let t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}pr(e){let t=0;return this.mr(e,r=>{t++}).next(()=>t)}mr(e,t){return k.forEach(this.fi,(r,i)=>this.wr(e,r,i).next(o=>o?k.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ni(e,s=>this.wr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,re.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),k.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),k.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),k.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),k.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=zh(e.data.value)),t}wr(e,t,r){return k.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.fi.get(t);return k.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var $_=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=i}static Es(e,t){let r=ce(),i=ce();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var z_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var q_=class{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return yS()?8:pj(ut())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.gs(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ps(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new z_;return this.ys(e,t,s).next(a=>{if(o.result=a,this.As)return this.ws(e,t,s,a.size)})}).next(()=>o.result)}ws(e,t,r,i){return r.documentReadCount<this.Vs?(Ms()<=ae.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Ns(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),k.resolve()):(Ms()<=ae.DEBUG&&U("QueryEngine","Query:",Ns(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Ms()<=ae.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Ns(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yn(t))):k.resolve())}gs(e,t){if(JS(t))return k.resolve(null);let r=Yn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=of(t,null,"F"),r=Yn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ce(...o);return this.fs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ss(t,l,s,u.readTime)?this.gs(e,of(t,null,"F")):this.Ds(e,l,t,u)}))})))}ps(e,t,r,i){return JS(t)||i.isEqual(re.min())?k.resolve(null):this.fs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ss(t,s,r,i)?k.resolve(null):(Ms()<=ae.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ns(t)),this.Ds(e,s,t,lj(i,ou)).next(a=>a))})}bs(e,t){let r=new dt(iR(e));return t.forEach((i,o)=>{Lf(e,o)&&(r=r.add(o))}),r}Ss(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ys(e,t,r){return Ms()<=ae.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Ns(t)),this.fs.getDocumentsMatchingQuery(e,t,Eo.min(),r)}Ds(e,t,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var AE="LocalStore",gU=3e8,G_=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.vs=new Ve(ue),this.Fs=new Nr(o=>bE(o),CE),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new P_(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.vs))}};function mU(n,e,t,r){return new G_(n,e,t,r)}async function TR(n,e){let t=X(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Os(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ce();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Ns:l,removedBatchIds:s,addedBatchIds:a}))})})}function yU(n,e){let t=X(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,h){let p=l.batch,g=p.keys(),y=k.resolve();return g.forEach(T=>{y=y.next(()=>h.getEntry(u,T)).next(N=>{let P=l.docVersions.get(T);we(P!==null,48541),N.version.compareTo(P)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=ce();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function SR(n){let e=X(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.li.getLastRemoteSnapshotVersion(t))}function vU(n,e){let t=X(n),r=e.snapshotVersion,i=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.xs.newChangeBuffer({trackRemovals:!0});i=t.vs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(t.li.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.li.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Et.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(N,P,j){return N.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=gU?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(g,y,h)&&a.push(t.li.updateTargetData(o,y))});let u=xr(),l=ce();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(_U(o,s,e.documentUpdates).next(h=>{u=h.Bs,l=h.Ls})),!r.isEqual(re.min())){let h=t.li.getLastRemoteSnapshotVersion(o).next(p=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return k.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.vs=i,o))}function _U(n,e,t){let r=ce(),i=ce();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=xr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(re.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):U(AE,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Bs:s,Ls:i}})}function EU(n,e){let t=X(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=EE),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function IU(n,e){let t=X(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.li.getTargetData(r,e).next(o=>o?(i=o,k.resolve(i)):t.li.allocateTargetId(r).next(s=>(i=new du(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r})}async function W_(n,e,t){let r=X(n),i=r.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ea(s))throw s;U(AE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function uA(n,e,t){let r=X(n),i=re.min(),o=ce();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=X(u),g=p.Fs.get(h);return g!==void 0?k.resolve(p.vs.get(g)):p.li.getTargetData(l,h)})(r,s,Yn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:re.min(),t?o:ce())).next(a=>(wU(r,Oj(e),a),{documents:a,ks:o})))}function wU(n,e,t){let r=n.Ms.get(e)||re.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ms.set(e,r)}var pf=class{constructor(){this.activeTargetIds=Uj()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var K_=class{constructor(){this.vo=new pf,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new pf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Q_=class{Mo(e){}shutdown(){}};var lA="ConnectivityMonitor",gf=class{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){U(lA,"Network connectivity changed: AVAILABLE");for(let e of this.Lo)e(0)}Bo(){U(lA,"Network connectivity changed: UNAVAILABLE");for(let e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var $h=null;function Y_(){return $h===null?$h=(function(){return 268435456+Math.round(2147483648*Math.random())})():$h++,"0x"+$h.toString(16)}var qv="RestConnection",DU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"},J_=class{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===nf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=Y_(),a=this.Qo(e,t.toUriEncodedString());U(qv,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,i,o);let{host:l}=new URL(a),h=ui(l);return this.zo(e,a,u,r,h).then(p=>(U(qv,`Received RPC '${e}' ${s}: `,p),p),p=>{throw pi(qv,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Js})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Qo(e,t){let r=DU[e],i=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}};var Z_=class{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}};var At="WebChannelConnection",eu=(n,e,t)=>{n.listen(e,r=>{try{t(r)}catch(i){setTimeout(()=>{throw i},0)}})},mf=class n extends J_{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!n.c_){let e=Bv();eu(e,Uv.STAT_EVENT,t=>{t.stat===Uh.PROXY?U(At,"STAT_EVENT: detected buffering proxy"):t.stat===Uh.NOPROXY&&U(At,"STAT_EVENT: detected no buffering proxy")}),n.c_=!0}}zo(e,t,r,i,o){let s=Y_();return new Promise((a,u)=>{let l=new Vv;l.setWithCredentials(!0),l.listenOnce(jv.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Xc.NO_ERROR:let p=l.getResponseJson();U(At,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Xc.TIMEOUT:U(At,`RPC '${e}' ${s} timed out`),u(new B(O.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:let g=l.getStatus();if(U(At,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let T=y?.error;if(T&&T.status&&T.message){let N=(function(j){let ee=j.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(ee)>=0?ee:O.UNKNOWN})(T.status);u(new B(N,T.message))}else u(new B(O.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new B(O.UNAVAILABLE,"Connection failed."));break;default:W(9055,{l_:e,streamId:s,h_:l.getLastErrorCode(),P_:l.getLastError()})}}finally{U(At,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);U(At,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}T_(e,t,r){let i=Y_(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(a.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,t,r),a.encodeInitMessageHeaders=!0;let l=o.join("");U(At,`Creating RPC '${e}' stream ${i}: ${l}`,a);let h=s.createWebChannel(l,a);this.I_(h);let p=!1,g=!1,y=new Z_({Ho:T=>{g?U(At,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(p||(U(At,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),U(At,`RPC '${e}' stream ${i} sending:`,T),h.send(T))},Jo:()=>h.close()});return eu(h,Rs.EventType.OPEN,()=>{g||(U(At,`RPC '${e}' stream ${i} transport opened.`),y.i_())}),eu(h,Rs.EventType.CLOSE,()=>{g||(g=!0,U(At,`RPC '${e}' stream ${i} transport closed`),y.o_(),this.E_(h))}),eu(h,Rs.EventType.ERROR,T=>{g||(g=!0,pi(At,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),y.o_(new B(O.UNAVAILABLE,"The operation could not be completed")))}),eu(h,Rs.EventType.MESSAGE,T=>{if(!g){let N=T.data[0];we(!!N,16349);let P=N,j=P?.error||P[0]?.error;if(j){U(At,`RPC '${e}' stream ${i} received error:`,j);let ee=j.status,me=(function(ft){let w=Ke[ft];if(w!==void 0)return gR(w)})(ee),Ut=j.message;me===void 0&&(me=O.INTERNAL,Ut="Unknown error status: "+ee+" with message "+j.message),g=!0,y.o_(new B(me,Ut)),h.close()}else U(At,`RPC '${e}' stream ${i} received:`,N),y.__(N)}}),n.u_(),setTimeout(()=>{y.s_()},0),y}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(t=>t===e)}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Hv()}};function bU(n){return new mf(n)}function Gv(){return typeof document<"u"?document:null}function yu(n){return new E_(n,!0)}mf.c_=!1;var yf=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=i,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();let t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}};var dA="PersistentStream",vf=class{constructor(e,t,r,i,o,s,a,u){this.Ci=e,this.b_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yf(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===O.RESOURCE_EXHAUSTED?(Ar(t.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;let e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===t&&this.G_(r,i)},r=>{e(()=>{let i=new B(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,t){let r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return U(dA,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget(()=>this.D_===e?t():(U(dA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},X_=class extends vf{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=nU(this.serializer,e),r=(function(o){if(!("targetChange"in o))return re.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?re.min():s.readTime?Zn(s.readTime):re.min()})(e);return this.listener.J_(t,r)}Z_(e){let t={};t.database=b_(this.serializer),t.addTarget=(function(o,s){let a,u=s.target;if(a=d_(u)?{documents:oU(o,u)}:{query:sU(o,u).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=mR(o,s.resumeToken);let l=I_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(re.min())>0){a.readTime=lf(o,s.snapshotVersion.toTimestamp());let l=I_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=cU(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){let t={};t.database=b_(this.serializer),t.removeTarget=e,this.K_(t)}},eE=class extends vf{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return we(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){we(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let t=iU(e.writeResults,e.commitTime),r=Zn(e.commitTime);return this.listener.na(r,t)}ra(){let e={};e.database=b_(this.serializer),this.K_(e)}ea(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>rU(this.serializer,r))};this.K_(t)}};var tE=class{},nE=class extends tE{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new B(O.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,w_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(O.UNKNOWN,o.toString())})}jo(e,t,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.jo(e,w_(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(O.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}};function CU(n,e,t,r){return new nE(n,e,t,r)}var rE=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ar(t),this.aa=!1):U("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var To="RemoteStore",iE=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo(s=>{r.enqueueAndForget(async()=>{Ro(this)&&(U(To,"Restarting streams for network reachability change."),await(async function(u){let l=X(u);l.Ea.add(4),await vu(l),l.Va.set("Unknown"),l.Ea.delete(4),await Vf(l)})(this))})}),this.Va=new rE(r,i)}};async function Vf(n){if(Ro(n))for(let e of n.Ra)await e(!0)}async function vu(n){for(let e of n.Ra)await e(!1)}function AR(n,e){let t=X(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),xE(t)?NE(t):ta(t).O_()&&ME(t,e))}function RE(n,e){let t=X(n),r=ta(t);t.Ia.delete(e),r.O_()&&RR(t,e),t.Ia.size===0&&(r.O_()?r.L_():Ro(t)&&t.Va.set("Unknown"))}function ME(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ta(n).Z_(e)}function RR(n,e){n.da.$e(e),ta(n).X_(e)}function NE(n){n.da=new __({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),ta(n).start(),n.Va.ua()}function xE(n){return Ro(n)&&!ta(n).x_()&&n.Ia.size>0}function Ro(n){return X(n).Ea.size===0}function MR(n){n.da=void 0}async function TU(n){n.Va.set("Online")}async function SU(n){n.Ia.forEach((e,t)=>{ME(n,e)})}async function AU(n,e){MR(n),xE(n)?(n.Va.ha(e),NE(n)):n.Va.set("Unknown")}async function RU(n,e,t){if(n.Va.set("Online"),e instanceof cf&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.da.removeTarget(a))})(n,e)}catch(r){U(To,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _f(n,r)}else if(e instanceof Fs?n.da.Xe(e):e instanceof af?n.da.st(e):n.da.tt(e),!t.isEqual(re.min()))try{let r=await SR(n.localStore);t.compareTo(r)>=0&&await(function(o,s){let a=o.da.Tt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ia.get(l);h&&o.Ia.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ia.get(u);if(!h)return;o.Ia.set(u,h.withResumeToken(Et.EMPTY_BYTE_STRING,h.snapshotVersion)),RR(o,u);let p=new du(h.target,u,l,h.sequenceNumber);ME(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t)}catch(r){U(To,"Failed to raise snapshot:",r),await _f(n,r)}}async function _f(n,e,t){if(!ea(e))throw e;n.Ea.add(1),await vu(n),n.Va.set("Offline"),t||(t=()=>SR(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{U(To,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Vf(n)})}function NR(n,e){return e().catch(t=>_f(n,t,e))}async function jf(n){let e=X(n),t=mi(e),r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:EE;for(;MU(e);)try{let i=await EU(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,NU(e,i)}catch(i){await _f(e,i)}xR(e)&&PR(e)}function MU(n){return Ro(n)&&n.Ta.length<10}function NU(n,e){n.Ta.push(e);let t=mi(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function xR(n){return Ro(n)&&!mi(n).x_()&&n.Ta.length>0}function PR(n){mi(n).start()}async function xU(n){mi(n).ra()}async function PU(n){let e=mi(n);for(let t of n.Ta)e.ea(t.mutations)}async function OU(n,e,t){let r=n.Ta.shift(),i=g_.from(r,e,t);await NR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await jf(n)}async function kU(n,e){e&&mi(n).Y_&&await(async function(r,i){if((function(s){return Wj(s)&&s!==O.ABORTED})(i.code)){let o=r.Ta.shift();mi(r).B_(),await NR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await jf(r)}})(n,e),xR(n)&&PR(n)}async function hA(n,e){let t=X(n);t.asyncQueue.verifyOperationInProgress(),U(To,"RemoteStore received new credentials");let r=Ro(t);t.Ea.add(3),await vu(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Vf(t)}async function FU(n,e){let t=X(n);e?(t.Ea.delete(2),await Vf(t)):e||(t.Ea.add(2),await vu(t),t.Va.set("Unknown"))}function ta(n){return n.ma||(n.ma=(function(t,r,i){let o=X(t);return o.sa(),new X_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:TU.bind(null,n),Yo:SU.bind(null,n),t_:AU.bind(null,n),J_:RU.bind(null,n)}),n.Ra.push(async e=>{e?(n.ma.B_(),xE(n)?NE(n):n.Va.set("Unknown")):(await n.ma.stop(),MR(n))})),n.ma}function mi(n){return n.fa||(n.fa=(function(t,r,i){let o=X(t);return o.sa(),new eE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:xU.bind(null,n),t_:kU.bind(null,n),ta:PU.bind(null,n),na:OU.bind(null,n)}),n.Ra.push(async e=>{e?(n.fa.B_(),await jf(n)):(await n.fa.stop(),n.Ta.length>0&&(U(To,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}var oE=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function PE(n,e){if(Ar("AsyncQueue",`${e}: ${n}`),ea(n))return new B(O.UNAVAILABLE,`${e}: ${n}`);throw n}var pu=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||q.comparator(t.key,r.key):(t,r)=>q.comparator(t.key,r.key),this.keyedMap=tu(),this.sortedSet=new Ve(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Ef=class{constructor(){this.ga=new Ve(q.comparator)}track(e){let t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):W(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}},So=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,pu.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var sE=class{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}},aE=class{constructor(){this.queries=fA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=X(t),o=i.queries;i.queries=fA(),o.forEach((s,a)=>{for(let u of a.ba)u.onError(r)})})(this,new B(O.ABORTED,"Firestore shutting down"))}};function fA(){return new Nr(n=>rR(n),Ff)}async function OR(n,e){let t=X(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.Da()&&(r=2):(o=new sE,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(i,!0);break;case 1:o.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){let a=PE(s,`Initialization of query '${Ns(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&OE(t)}async function kR(n,e){let t=X(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.ba.indexOf(e);s>=0&&(o.ba.splice(s,1),o.ba.length===0?i=e.Da()?0:1:!o.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function LU(n,e){let t=X(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.ba)a.Fa(i)&&(r=!0);s.wa=i}}r&&OE(t)}function VU(n,e,t){let r=X(n),i=r.queries.get(e);if(i)for(let o of i.ba)o.onError(t);r.queries.delete(e)}function OE(n){n.Ca.forEach(e=>{e.next()})}var cE,pA;(pA=cE||(cE={})).Ma="default",pA.Cache="cache";var If=class{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new So(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;let r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=So.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cE.Cache}};var wf=class{constructor(e){this.key=e}},Df=class{constructor(e){this.key=e}},uE=class{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ce(),this.mutatedKeys=ce(),this.eu=iR(e),this.tu=new pu(this.eu)}get nu(){return this.Za}ru(e,t){let r=t?t.iu:new Ef,i=t?t.tu:this.tu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=Lf(this.query,p)?p:null,T=!!g&&this.mutatedKeys.has(g.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),P=!1;g&&y?g.data.isEqual(y.data)?T!==N&&(r.track({type:3,doc:y}),P=!0):this.su(g,y)||(r.track({type:2,doc:y}),P=!0,(u&&this.eu(y,u)>0||l&&this.eu(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),P=!0):g&&!y&&(r.track({type:1,doc:g}),P=!0,(u||l)&&(a=!0)),P&&(y?(s=s.add(y),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{tu:s,iu:r,Ss:a,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let s=e.iu.ya();s.sort((h,p)=>(function(y,T){let N=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return W(20277,{Vt:P})}};return N(y)-N(T)})(h.type,p.type)||this.eu(h.doc,p.doc)),this.ou(r),i=i??!1;let a=t&&!i?this._u():[],u=this.Ya.size===0&&this.current&&!i?1:0,l=u!==this.Xa;return this.Xa=u,s.length!==0||l?{snapshot:new So(this.query,e.tu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ef,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Za=this.Za.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Za=this.Za.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Ya;this.Ya=ce(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});let t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new Df(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new wf(r))}),t}cu(e){this.Za=e.ks,this.Ya=ce();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return So.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}},kE="SyncEngine",lE=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},dE=class{constructor(e){this.key=e,this.hu=!1}},hE=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Nr(a=>rR(a),Ff),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ve(q.comparator),this.Au=new Map,this.Vu=new fu,this.du={},this.mu=new Map,this.fu=hu.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};async function jU(n,e,t=!0){let r=BR(n),i,o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await FR(r,e,t,!0),i}async function UU(n,e){let t=BR(n);await FR(t,e,!0,!1)}async function FR(n,e,t,r){let i=await IU(n.localStore,Yn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=await BU(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&AR(n.remoteStore,i),a}async function BU(n,e,t,r,i){n.pu=(p,g,y)=>(async function(N,P,j,ee){let me=P.view.ru(j);me.Ss&&(me=await uA(N.localStore,P.query,!1).then(({documents:w})=>P.view.ru(w,me)));let Ut=ee&&ee.targetChanges.get(P.targetId),hn=ee&&ee.targetMismatches.get(P.targetId)!=null,ft=P.view.applyChanges(me,N.isPrimaryClient,Ut,hn);return mA(N,P.targetId,ft.au),ft.snapshot})(n,p,g,y);let o=await uA(n.localStore,e,!0),s=new uE(e,o.ks),a=s.ru(o.documents),u=lu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);mA(n,t,l.au);let h=new lE(e,t,s);return n.Tu.set(e,h),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),l.snapshot}async function HU(n,e,t){let r=X(n),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!Ff(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await W_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&RE(r.remoteStore,i.targetId),fE(r,i.targetId)}).catch(Xs)):(fE(r,i.targetId),await W_(r.localStore,i.targetId,!0))}async function $U(n,e){let t=X(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),RE(t.remoteStore,r.targetId))}async function zU(n,e,t){let r=JU(n);try{let i=await(function(s,a){let u=X(s),l=$e.now(),h=a.reduce((y,T)=>y.add(T.key),ce()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=xr(),N=ce();return u.xs.getEntries(y,h).next(P=>{T=P,T.forEach((j,ee)=>{ee.isValidDocument()||(N=N.add(j))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,T)).next(P=>{p=P;let j=[];for(let ee of a){let me=Gj(ee,p.get(ee.key).overlayedDocument);me!=null&&j.push(new nr(ee.key,me,YA(me.value.mapValue),Jn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,j,a)}).next(P=>{g=P;let j=P.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(y,P.batchId,j)})}).then(()=>({batchId:g.batchId,changes:sR(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.du[s.currentUser.toKey()];l||(l=new Ve(ue)),l=l.insert(a,u),s.du[s.currentUser.toKey()]=l})(r,i.batchId,t),await _u(r,i.changes),await jf(r.remoteStore)}catch(i){let o=PE(i,"Failed to persist write");t.reject(o)}}async function LR(n,e){let t=X(n);try{let r=await vU(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Au.get(o);s&&(we(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?we(s.hu,14607):i.removedDocuments.size>0&&(we(s.hu,42227),s.hu=!1))}),await _u(t,r,e)}catch(r){await Xs(r)}}function gA(n,e,t){let r=X(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Tu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=X(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.ba)g.va(a)&&(l=!0)}),l&&OE(u)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qU(n,e,t){let r=X(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Au.get(e),o=i&&i.key;if(o){let s=new Ve(q.comparator);s=s.insert(o,Tn.newNoDocument(o,re.min()));let a=ce().add(o),u=new sf(re.min(),new Map,new Ve(ue),s,a);await LR(r,u),r.Ru=r.Ru.remove(o),r.Au.delete(e),FE(r)}else await W_(r.localStore,e,!1).then(()=>fE(r,e,t)).catch(Xs)}async function GU(n,e){let t=X(n),r=e.batch.batchId;try{let i=await yU(t.localStore,e);jR(t,r,null),VR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await _u(t,i)}catch(i){await Xs(i)}}async function WU(n,e,t){let r=X(n);try{let i=await(function(s,a){let u=X(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(we(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);jR(r,e,t),VR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await _u(r,i)}catch(i){await Xs(i)}}function VR(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function jR(n,e,t){let r=X(n),i=r.du[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function fE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach(r=>{n.Vu.containsKey(r)||UR(n,r)})}function UR(n,e){n.Eu.delete(e.path.canonicalString());let t=n.Ru.get(e);t!==null&&(RE(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),FE(n))}function mA(n,e,t){for(let r of t)r instanceof wf?(n.Vu.addReference(r.key,e),KU(n,r)):r instanceof Df?(U(kE,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||UR(n,r.key)):W(19791,{wu:r})}function KU(n,e){let t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(U(kE,"New document in limbo: "+t),n.Eu.add(r),FE(n))}function FE(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){let e=n.Eu.values().next().value;n.Eu.delete(e);let t=new q(xe.fromString(e)),r=n.fu.next();n.Au.set(r,new dE(t)),n.Ru=n.Ru.insert(t,r),AR(n.remoteStore,new du(Yn(kf(t.path)),r,"TargetPurposeLimboResolution",_E.ce))}}async function _u(n,e,t){let r=X(n),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{s.push(r.pu(u,e,t).then(l=>{if((l||t)&&r.isPrimaryClient){let h=l?!l.fromCache:t?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(l){i.push(l);let h=$_.Es(u.targetId,l);o.push(h)}}))}),await Promise.all(s),r.Pu.J_(i),await(async function(u,l){let h=X(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>k.forEach(l,g=>k.forEach(g.Ts,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>k.forEach(g.Is,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!ea(p))throw p;U(AE,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.vs.get(g),T=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(T);h.vs=h.vs.insert(g,N)}}})(r.localStore,o))}async function QU(n,e){let t=X(n);if(!t.currentUser.isEqual(e)){U(kE,"User change. New user:",e.toKey());let r=await TR(t.localStore,e);t.currentUser=e,(function(o,s){o.mu.forEach(a=>{a.forEach(u=>{u.reject(new B(O.CANCELLED,s))})}),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _u(t,r.Ns)}}function YU(n,e){let t=X(n),r=t.Au.get(e);if(r&&r.hu)return ce().add(r.key);{let i=ce(),o=t.Iu.get(e);if(!o)return i;for(let s of o){let a=t.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function BR(n){let e=X(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=LR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qU.bind(null,e),e.Pu.J_=LU.bind(null,e.eventManager),e.Pu.yu=VU.bind(null,e.eventManager),e}function JU(n){let e=X(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WU.bind(null,e),e}var LE=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=yu(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return mU(this.persistence,new q_,t.initialUser,this.serializer)}Cu(t){return new hf(H_.Vi,this.serializer)}Du(t){return new K_}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),bf=class extends LE{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){we(this.persistence.referenceDelegate instanceof ff,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new R_(r,e.asyncQueue,t)}Cu(e){let t=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new hf(r=>ff.Vi(r,t),this.serializer)}};var HR=(()=>{class n{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>gA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=QU.bind(null,this.syncEngine),await FU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new aE})()}createDatastore(t){let r=yu(t.databaseInfo.databaseId),i=bU(t.databaseInfo);return CU(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,u){return new iE(i,o,s,a,u)})(this.localStore,this.datastore,t.asyncQueue,r=>gA(this.syncEngine,r,0),(function(){return gf.v()?new gf:new Q_})())}createSyncEngine(t,r){return(function(o,s,a,u,l,h,p){let g=new hE(o,s,a,u,l,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){let i=X(r);U(To,"RemoteStore shutting down."),i.Ea.add(5),await vu(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}return n.provider={build:()=>new n},n})();var Cf=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ar("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var yi="FirestoreClient",pE=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=i,this.user=lt.UNAUTHENTICATED,this.clientId=_o.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{U(yi,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(U(yi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=PE(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function Wv(n,e){n.asyncQueue.verifyOperationInProgress(),U(yi,"Initializing OfflineComponentProvider");let t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await TR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function yA(n,e){n.asyncQueue.verifyOperationInProgress();let t=await ZU(n);U(yi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>hA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>hA(e.remoteStore,i)),n._onlineComponents=e}async function ZU(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){U(yi,"Using user provided OfflineComponentProvider");try{await Wv(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;pi("Error using user provided cache. Falling back to memory cache: "+t),await Wv(n,new LE)}}else U(yi,"Using default OfflineComponentProvider"),await Wv(n,new bf(void 0));return n._offlineComponents}async function $R(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(U(yi,"Using user provided OnlineComponentProvider"),await yA(n,n._uninitializedComponentsProvider._online)):(U(yi,"Using default OnlineComponentProvider"),await yA(n,new HR))),n._onlineComponents}function XU(n){return $R(n).then(e=>e.syncEngine)}async function zR(n){let e=await $R(n),t=e.eventManager;return t.onListen=jU.bind(null,e.syncEngine),t.onUnlisten=HU.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=UU.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=$U.bind(null,e.syncEngine),t}function qR(n,e,t={}){let r=new Cn;return n.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,u,l){let h=new Cf({next:g=>{h.Nu(),s.enqueueAndForget(()=>kR(o,p));let y=g.docs.has(a);!y&&g.fromCache?l.reject(new B(O.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&u&&u.source==="server"?l.reject(new B(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new If(kf(a.path),h,{includeMetadataChanges:!0,Ka:!0});return OR(o,p)})(await zR(n),n.asyncQueue,e,t,r)),r.promise}function GR(n,e,t={}){let r=new Cn;return n.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,u,l){let h=new Cf({next:g=>{h.Nu(),s.enqueueAndForget(()=>kR(o,p)),g.fromCache&&u.source==="server"?l.reject(new B(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new If(a,h,{includeMetadataChanges:!0,Ka:!0});return OR(o,p)})(await zR(n),n.asyncQueue,e,t,r)),r.promise}function WR(n,e){let t=new Cn;return n.asyncQueue.enqueueAndForget(async()=>zU(await XU(n),e,t)),t.promise}function KR(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var eB="ComponentProvider",vA=new Map;function tB(n,e,t,r,i){return new Xv(n,e,t,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,KR(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}var QR="firestore.googleapis.com",_A=!0,Tf=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new B(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QR,this.ssl=_A}else this.host=e.host,this.ssl=e.ssl??_A;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=CR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fU)throw new B(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KR(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new B(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new B(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new B(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ws=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new B(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Kh;switch(r.type){case"firstParty":return new Yv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=vA.get(t);r&&(U(eB,"Removing Datastore"),vA.delete(t),r.terminate())})(this),Promise.resolve()}};function YR(n,e,t,r={}){n=An(n,Ws);let i=ui(e),o=n._getSettings(),s=z(M({},o),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;i&&(Ph(`https://${a}`),Oh("Firestore",!0)),o.host!==QR&&o.host!==a&&pi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=z(M({},o),{host:a,ssl:i,emulatorOptions:r});if(!Dn(u,s)&&(n._setSettings(u),r.mockUserToken)){let l,h;if(typeof r.mockUserToken=="string")l=r.mockUserToken,h=lt.MOCK_USER;else{l=dS(r.mockUserToken,n._app?.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new B(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new lt(p)}n._authCredentials=new Kv(new Wh(l,h))}}var Ks=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},ht=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Zs(t,n._jsonSchema))return new n(e,r||null,new q(xe.fromString(t.referencePath)))}};ht._jsonSchemaVersion="firestore/documentReference/1.0",ht._jsonSchema={type:He("string",ht._jsonSchemaVersion),referencePath:He("string")};var Tr=class n extends Ks{constructor(e,t,r){super(e,t,kf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ht(this.firestore,null,new q(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function It(n,e,...t){if(n=We(n),bA("collection","path",e),n instanceof Ws){let r=xe.fromString(e,...t);return jS(r),new Tr(n,null,r)}{if(!(n instanceof ht||n instanceof Tr))throw new B(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(xe.fromString(e,...t));return jS(r),new Tr(n.firestore,null,r)}}function tn(n,e,...t){if(n=We(n),arguments.length===1&&(e=_o.newId()),bA("doc","path",e),n instanceof Ws){let r=xe.fromString(e,...t);return VS(r),new ht(n,null,new q(r))}{if(!(n instanceof ht||n instanceof Tr))throw new B(O.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(xe.fromString(e,...t));return VS(r),new ht(n.firestore,n instanceof Tr?n.converter:null,new q(r))}}var EA="AsyncQueue",Sf=class{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yf(this,"async_queue_retry"),this._c=()=>{let r=Gv();r&&U(EA,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;let t=Gv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=Gv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let t=new Cn;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ea(e))throw e;U(EA,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){let t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ar("INTERNAL UNHANDLED ERROR: ",IA(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let i=oE.createAndSchedule(this,e,t,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&W(47125,{Pc:IA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}};function IA(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var rr=class extends Ws{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Sf,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Sf(e),this._firestoreClient=void 0,await e}}};function Eu(n,e){let t=typeof n=="object"?n:Vh(),r=typeof n=="string"?n:e||nf,i=Jc(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=lS("firestore");o&&YR(i,...o)}return i}function Iu(n){if(n._terminated)throw new B(O.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||nB(n),n._firestoreClient}function nB(n){let e=n._freezeSettings(),t=tB(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new pE(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(i){let o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(n._componentsProvider))}var Xn=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Et.fromBase64String(e))}catch(t){throw new B(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zs(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:He("string",Xn._jsonSchemaVersion),bytes:He("string")};var Ao=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new B(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Qs=class{constructor(e){this._methodName=e}};var Sr=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new B(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new B(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Zs(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Sr._jsonSchemaVersion="firestore/geoPoint/1.0",Sr._jsonSchema={type:He("string",Sr._jsonSchemaVersion),latitude:He("number"),longitude:He("number")};var er=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zs(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new B(O.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};er._jsonSchemaVersion="firestore/vectorValue/1.0",er._jsonSchema={type:He("string",er._jsonSchemaVersion),vectorValues:He("object")};var rB=/^__.*__$/,gE=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new nr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Co(e,this.data,t,this.fieldTransforms)}},Af=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new nr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function JR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw W(40011,{dataSource:n})}}var mE=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new n(M(M({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){let t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){let t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Mf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(JR(this.dataSource)&&rB.test(e))throw this.createError('Document fields cannot begin and end with "__"')}},yE=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||yu(e)}createContext(e,t,r,i=!1){return new mE({dataSource:e,methodName:t,targetDoc:r,path:jt.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function VE(n){let e=n._freezeSettings(),t=yu(n._databaseId);return new yE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ZR(n,e,t,r,i,o={}){let s=n.createContext(o.merge||o.mergeFields?2:0,e,t,i);jE("Data must be an object, but it was:",s,r);let a=tM(r,s),u,l;if(o.merge)u=new dn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=Ys(e,p,t);if(!s.contains(g))throw new B(O.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);rM(h,g)||h.push(g)}u=new dn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new gE(new Vt(a),u,l)}var Rf=class n extends Qs{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function XR(n,e,t,r){let i=n.createContext(1,e,t);jE("Data must be an object, but it was:",i,r);let o=[],s=Vt.empty();vi(r,(u,l)=>{let h=UE(e,u,t);l=We(l);let p=i.childContextForFieldPath(h);if(l instanceof Rf)o.push(h);else{let g=Uf(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new dn(o);return new Af(s,a,i.fieldTransforms)}function eM(n,e,t,r,i,o){let s=n.createContext(1,e,t),a=[Ys(e,r,t)],u=[i];if(o.length%2!=0)throw new B(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(Ys(e,o[g])),u.push(o[g+1]);let l=[],h=Vt.empty();for(let g=a.length-1;g>=0;--g)if(!rM(l,a[g])){let y=a[g],T=u[g];T=We(T);let N=s.childContextForFieldPath(y);if(T instanceof Rf)l.push(y);else{let P=Uf(T,N);P!=null&&(l.push(y),h.set(y,P))}}let p=new dn(l);return new Af(h,p,s.fieldTransforms)}function Uf(n,e){if(nM(n=We(n)))return jE("Unsupported field value:",e,n),tM(n,e);if(n instanceof Qs)return(function(r,i){if(!JR(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=Uf(a,i.childContextForArray(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=We(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Bj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=$e.fromDate(r);return{timestampValue:lf(i.serializer,o)}}if(r instanceof $e){let o=new $e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lf(i.serializer,o)}}if(r instanceof Sr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xn)return{bytesValue:mR(i.serializer,r._byteString)};if(r instanceof ht){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:SE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof er)return(function(s,a){let u=s instanceof er?s.toArray():s;return{mapValue:{fields:{[IE]:{stringValue:wE},[Vs]:{arrayValue:{values:u.map(h=>{if(typeof h!="number")throw a.createError("VectorValues must only contain numeric values.");return TE(a.serializer,h)})}}}}}})(r,i);if(DR(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Nf(r)}`)})(n,e)}function tM(n,e){let t={};return BA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vi(n,(r,i)=>{let o=Uf(i,e.childContextForField(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function nM(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof $e||n instanceof Sr||n instanceof Xn||n instanceof ht||n instanceof Qs||n instanceof er||DR(n))}function jE(n,e,t){if(!nM(t)||!TA(t)){let r=Nf(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function Ys(n,e,t){if((e=We(e))instanceof Ao)return e._internalPath;if(typeof e=="string")return UE(n,e);throw Mf("Field path arguments must be of type string or ",n,!1,void 0,t)}var iB=new RegExp("[~\\*/\\[\\]]");function UE(n,e,t){if(e.search(iB)>=0)throw Mf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ao(...e.split("."))._internalPath}catch{throw Mf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Mf(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new B(O.INVALID_ARGUMENT,a+n+u)}function rM(n,e){return n.some(t=>t.isEqual(e))}var gu=class{convertValue(e,t="none"){switch(gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw W(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return vi(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){let t=e.fields?.[Vs].arrayValue?.values?.map(r=>Ne(r.doubleValue));return new er(t)}convertGeoPoint(e){return new Sr(Ne(e.latitude),Ne(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Of(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(au(e));default:return null}}convertTimestamp(e){let t=Rr(e);return new $e(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=xe.fromString(e);we(wR(r),9688,{name:e});let i=new cu(r.get(1),r.get(3)),o=new q(r.popFirst(5));return i.isEqual(t)||Ar(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var mu=class extends gu{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new ht(this.firestore,null,t)}};var iM="@firebase/firestore",oM="4.10.0";var Bf=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new BE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){let t=this._document.data.field(Ys("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},BE=class extends Bf{data(){return super.data()}};function cB(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new B(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function uB(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Mo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},No=class n extends Bf{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new na(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Ys("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new B(O.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};No._jsonSchemaVersion="firestore/documentSnapshot/1.0",No._jsonSchema={type:He("string",No._jsonSchemaVersion),bundleSource:He("string","DocumentSnapshot"),bundleName:He("string"),bundle:He("string")};var na=class extends No{data(e={}){return super.data(e)}},ra=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Mo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new na(this._firestore,this._userDataWriter,r.key,r,new Mo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new B(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new na(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Mo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new na(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Mo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:lB(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new B(O.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_o.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function lB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return W(61501,{type:n})}}ra._jsonSchemaVersion="firestore/querySnapshot/1.0",ra._jsonSchema={type:He("string",ra._jsonSchemaVersion),bundleSource:He("string","QuerySnapshot"),bundleName:He("string"),bundle:He("string")};function sM(n){n=An(n,ht);let e=An(n.firestore,rr),t=Iu(e);return qR(t,n._key).then(r=>dB(e,n,r))}function Rn(n){n=An(n,Ks);let e=An(n.firestore,rr),t=Iu(e),r=new mu(e);return cB(n._query),GR(t,n._query).then(i=>new ra(e,r,n,i))}function Hf(n,e,t,...r){n=An(n,ht);let i=An(n.firestore,rr),o=VE(i),s;return s=typeof(e=We(e))=="string"||e instanceof Ao?eM(o,"updateDoc",n._key,e,t,r):XR(o,"updateDoc",n._key,e),HE(i,[s.toMutation(n._key,Jn.exists(!0))])}function wu(n){return HE(An(n.firestore,rr),[new Gs(n._key,Jn.none())])}function xo(n,e){let t=An(n.firestore,rr),r=tn(n),i=uB(n.converter,e),o=VE(n.firestore);return HE(t,[ZR(o,"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Jn.exists(!1))]).then(()=>r)}function HE(n,e){let t=Iu(n);return WR(t,e)}function dB(n,e,t){let r=t.docs.get(e._key),i=new mu(n);return new No(n,i,e._key,r,new Mo(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){wA(fi),hi(new un("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new rr(new Qh(r.getProvider("auth-internal")),new Jh(s,r.getProvider("app-check-internal")),GA(s,i),s);return o=M({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),bn(iM,oM,e),bn(iM,oM,"esm2020")})();var hB=()=>[1,2,3,4,5,6,7,8],aM=()=>[1,2,3,4,5],fB=(n,e)=>e.id,zf=(n,e)=>e.name,pB=(n,e)=>e.title;function gB(n,e){if(n&1&&ge(0,"div",42),n&2){let t=e.$implicit;Gn("left",t*12,"%")("animation-delay",t*.3,"s")}}function mB(n,e){if(n&1&&(A(0,"div",1),ge(1,"div",29),A(2,"div",30),ge(3,"div",31)(4,"div",32)(5,"img",33),R(),A(6,"div",34)(7,"h2",35),L(8,"Isaac Barbearia"),R(),A(9,"p",36),L(10,"Preparando a experi\xEAncia..."),R()(),A(11,"div",37),ge(12,"div",38),R(),A(13,"p",39),L(14),R(),A(15,"div",40),Qt(16,gB,1,4,"div",41,dc),R()()),n&2){let t=J();x(12),Gn("width",t.loadingProgress(),"%"),x(2),Pt("",t.loadingProgress().toFixed(0),"%"),x(2),Yt(fc(3,hB))}}function yB(n,e){if(n&1&&ge(0,"div",43),n&2){let t=e.$implicit;Gn("left",t.left)("width",t.size)("height",t.size)("animation-duration",t.animationDuration)("animation-delay",t.animationDelay)("opacity",t.opacity)}}function vB(n,e){if(n&1&&ge(0,"div",44),n&2){let t=e.$implicit;Gn("left",t.left)("width",t.size)("height",t.size)("animation-duration",t.animationDuration)("animation-delay",t.animationDelay)("opacity",t.opacity)}}function _B(n,e){n&1&&(Tt(),A(0,"svg",51),ge(1,"path",65),R())}function EB(n,e){n&1&&(Tt(),A(0,"svg",52),ge(1,"path",66),R())}function IB(n,e){n&1&&(Tt(),A(0,"svg",52),ge(1,"path",67),R())}function wB(n,e){n&1&&(Tt(),A(0,"svg",51),ge(1,"path",68),R())}function DB(n,e){n&1&&(Tt(),A(0,"svg",51),ge(1,"path",69),R())}function bB(n,e){n&1&&(Tt(),A(0,"svg",51),ge(1,"path",70),R())}function CB(n,e){n&1&&(Tt(),A(0,"svg",51),ge(1,"path",71)(2,"path",72),R())}function TB(n,e){n&1&&(Tt(),A(0,"svg",51),ge(1,"path",73),R())}function SB(n,e){n&1&&(A(0,"span",54),L(1," Essencial "),R())}function AB(n,e){if(n&1&&(A(0,"p",60),L(1),R()),n&2){let t=J().$implicit;x(),be(t.content)}}function RB(n,e){if(n&1&&(A(0,"p",61),L(1),R()),n&2){let t=J().$implicit;x(),be(t.content)}}function MB(n,e){if(n&1&&(A(0,"div",74),ge(1,"img",75),A(2,"div")(3,"h4",76),L(4),R(),A(5,"p",77),L(6),R()()()),n&2){let t=e.$implicit;x(),ot("src",t.imageUrl,cs)("alt",t.name),x(3),be(t.name),x(2),be(t.specialty)}}function NB(n,e){if(n&1&&(A(0,"div",62),Qt(1,MB,7,4,"div",74,zf),R()),n&2){let t=J().$implicit;x(),Yt(t.teamMembers)}}function xB(n,e){if(n&1&&(A(0,"span",86),L(1,"\u2022"),R(),A(2,"span",84),L(3,"\u{1F4CD}"),R(),A(4,"span"),L(5),R()),n&2){let t=J().$implicit;x(5),be(t.location)}}function PB(n,e){if(n&1&&(A(0,"div",78)(1,"div",79)(2,"div",80)(3,"h4",81),L(4),R(),A(5,"p",82),L(6),R(),A(7,"div",83)(8,"span",84),L(9,"\u{1F4C5}"),R(),A(10,"span",85),L(11),R(),ke(12,xB,6,1),R()()()()),n&2){let t=e.$implicit;x(4),be(t.title),x(2),be(t.description||"Participa\xE7\xE3o comunit\xE1ria"),x(5),be(t.date),x(),Fe(t.location?12:-1)}}function OB(n,e){if(n&1&&(A(0,"div",63),Qt(1,PB,13,4,"div",78,pB),R()),n&2){let t=J().$implicit;x(),Yt(t.projectGallery)}}function kB(n,e){if(n&1&&(A(0,"div",88)(1,"div",93),ge(2,"img",94),R(),A(3,"h4",95),L(4),R(),A(5,"p",96),L(6),R()()),n&2){let t=e.$implicit;x(2),ot("src",t.imageUrl,cs)("alt",t.name),x(2),be(t.name),x(2),be(t.role)}}function FB(n,e){if(n&1&&(A(0,"div",64)(1,"div",87),Qt(2,kB,7,4,"div",88,zf),R(),A(4,"div",89)(5,"p",90),L(6,"Quer ser um parceiro?"),R(),A(7,"a",91),Tt(),A(8,"svg",92),ge(9,"path",19),R(),L(10," Entre em contato via WhatsApp "),R()()()),n&2){let t=J().$implicit,r=J();x(2),Yt(t.partners),x(5),ot("href",r.whatsappLink(),cs)}}function LB(n,e){if(n&1&&(A(0,"li",100)(1,"span",101),L(2),R(),A(3,"div",16)(4,"span",102),L(5),R(),A(6,"span",103),L(7),R()()()),n&2){let t=e.$implicit;x(2),be(t.name),x(2),Be("bg-green-500/20",t.available)("text-green-400",t.available)("border",t.available)("border-green-500/30",t.available)("bg-red-500/10",!t.available)("text-red-500",!t.available),x(),Pt(" ",t.available?"Sim":"N\xE3o"," "),x(),Be("text-brand-fireOrange",t.available)("text-gray-600",!t.available),x(),Pt(" ",t.price," ")}}function VB(n,e){if(n&1&&(A(0,"div",63)(1,"div",97)(2,"span"),L(3,"Servi\xE7o"),R(),A(4,"span",98)(5,"span"),L(6,"Realizamos?"),R(),A(7,"span",99),L(8,"Pre\xE7o"),R()()(),Qt(9,LB,8,19,"li",100,zf),R()),n&2){let t=J().$implicit;x(9),Yt(t.listItems)}}function jB(n,e){n&1&&(A(0,"span",109),L(1,"Novo"),R())}function UB(n,e){n&1&&L(0," \u2605 ")}function BB(n,e){n&1&&L(0," \u2606 ")}function HB(n,e){if(n&1&&ke(0,UB,1,0)(1,BB,1,0),n&2){let t=e.$implicit,r=J().$implicit;Fe(t<=r.rating?0:1)}}function $B(n,e){if(n&1&&(A(0,"div",108),ke(1,jB,2,0,"span",109),A(2,"div",110)(3,"span",111),L(4),R(),A(5,"div",112),Qt(6,HB,2,1,null,null,dc),R()(),A(8,"p",113),L(9),R()()),n&2){let t=e.$implicit;Be("border-brand-fireOrange",t.isNew),x(),Fe(t.isNew?1:-1),x(3),be(t.name),x(2),Yt(fc(5,aM)),x(3),Pt('"',t.comment,'"')}}function zB(n,e){if(n&1){let t=Ft();A(0,"button",121),Re("click",function(){let i=Te(t).$implicit,o=J(4);return Se(o.setReviewRating(i))}),A(1,"span"),L(2," \u2605 "),R()()}if(n&2){let t=e.$implicit,r=J(4);x(),Be("text-brand-fireOrange",t<=r.newReviewRating())("text-gray-600",t>r.newReviewRating())("drop-shadow-[0_0_5px_rgba(255,140,0,0",t<=r.newReviewRating())}}function qB(n,e){if(n&1){let t=Ft();A(0,"div",107)(1,"h4",114),L(2,"Sua Opini\xE3o Importa"),R(),A(3,"div",115),Qt(4,zB,3,6,"button",116,dc),R(),A(6,"div",117)(7,"input",118),at("ngModelChange",function(i){Te(t);let o=J(3);return _t(o.newReviewName,i)||(o.newReviewName=i),Se(i)}),R(),A(8,"textarea",119),at("ngModelChange",function(i){Te(t);let o=J(3);return _t(o.newReviewMessage,i)||(o.newReviewMessage=i),Se(i)}),R(),A(9,"button",120),Re("click",function(){Te(t);let i=J(3);return Se(i.submitReview())}),L(10," Enviar Avalia\xE7\xE3o "),R()()()}if(n&2){let t=J(3);x(4),Yt(fc(2,aM)),x(3),st("ngModel",t.newReviewName),x(),st("ngModel",t.newReviewMessage)}}function GB(n,e){if(n&1){let t=Ft();A(0,"div",62),Qt(1,$B,10,6,"div",104,zf),A(3,"div",105)(4,"button",106),Re("click",function(){Te(t);let i=J(2);return Se(i.toggleReviewForm())}),L(5),R()(),ke(6,qB,11,3,"div",107),R()}if(n&2){let t=J().$implicit,r=J();x(),Yt(t.testimonials),x(4),Pt(" ",r.showReviewForm()?"Cancelar":"Escrever Avalia\xE7\xE3o"," "),x(),Fe(r.showReviewForm()?6:-1)}}function WB(n,e){if(n&1){let t=Ft();A(0,"div",45)(1,"div",46)(2,"button",47),Re("click",function(){let i=Te(t).$implicit,o=J();return Se(o.toggleItem(i.id))}),ge(3,"div",48),A(4,"div",49)(5,"div",50),ke(6,_B,2,0,":svg:svg",51),ke(7,EB,2,0,":svg:svg",52),ke(8,IB,2,0,":svg:svg",52),ke(9,wB,2,0,":svg:svg",51),ke(10,DB,2,0,":svg:svg",51),ke(11,bB,2,0,":svg:svg",51),ke(12,CB,3,0,":svg:svg",51),ke(13,TB,2,0,":svg:svg",51),R(),A(14,"span",53),L(15),R(),ke(16,SB,2,0,"span",54),R(),Tt(),A(17,"svg",55),ge(18,"path",56),R()(),Wi(),A(19,"div",57)(20,"div",58)(21,"div",59),ke(22,AB,2,1,"p",60),ke(23,RB,2,1,"p",61),ke(24,NB,3,0,"div",62),ke(25,OB,3,0,"div",63),ke(26,FB,11,1,"div",64),ke(27,VB,11,0,"div",63),ke(28,GB,7,2,"div",62),R()()()()()}if(n&2){let t=e.$implicit;Be("z-30",t.isOpen)("z-0",!t.isOpen)("scale-[1",t.isOpen)("my-2",t.isOpen),x(),Be("border-brand-fireOrange",t.isOpen)("shadow-[0_0_25px_rgba(255,69,0,0",t.isOpen)("border-white/10",!t.isOpen)("bg-[#0F0F0F]",t.isOpen)("bg-black",!t.isOpen),x(),Be("featured-service",t.featured),x(3),Be("text-brand-fireOrange",t.isOpen)("scale-110",t.isOpen)("drop-shadow-[0_0_8px_rgba(255,69,0,0",t.isOpen),x(),Fe(t.icon==="scissors"?6:-1),x(),Fe(t.icon==="users"?7:-1),x(),Fe(t.icon==="image"?8:-1),x(),Fe(t.icon==="clock"?9:-1),x(),Fe(t.icon==="star"?10:-1),x(),Fe(t.icon==="calendar"?11:-1),x(),Fe(t.icon==="map"?12:-1),x(),Fe(t.icon==="briefcase"?13:-1),x(),Be("text-white",t.isOpen)("text-gray-400",!t.isOpen),x(),Pt(" ",t.title," "),x(),Fe(t.featured?16:-1),x(),Be("rotate-180",t.isOpen)("text-brand-fireOrange",t.isOpen),x(2),Gn("grid-template-rows",t.isOpen?"1fr":"0fr"),x(3),Fe(t.type==="text"?22:-1),x(),Fe(t.type==="hours"?23:-1),x(),Fe(t.type==="team"?24:-1),x(),Fe(t.type==="projects"?25:-1),x(),Fe(t.type==="partners"?26:-1),x(),Fe(t.type==="list"?27:-1),x(),Fe(t.type==="feedback"?28:-1)}}var $f=class n{constructor(){this.firebaseConfig={apiKey:"AIzaSyDE2tWDNCDrY6O20EWrDt-NkvZmCm_MR10",authDomain:"isaacbarbearia-admin.firebaseapp.com",projectId:"isaacbarbearia-admin",storageBucket:"isaacbarbearia-admin.firebasestorage.app",messagingSenderId:"308982033120",appId:"1:308982033120:web:38b82c1a3ca9e933be7e85"};this.app=Zc(this.firebaseConfig);this.db=Eu(this.app);this.isLoading=Oe(!0);this.loadingProgress=Oe(0);this.whatsappLink=Oe("https://wa.me/5585999999999");this.locationLink=Oe("#");this.embers=Oe([]);this.sparks=Oe([]);this.showReviewForm=Oe(!1);this.newReviewName=Oe("");this.newReviewMessage=Oe("");this.newReviewRating=Oe(5);this.items=Oe([{id:"services",title:"Nossos Servi\xE7os & Pre\xE7os",isOpen:!1,featured:!0,type:"list",icon:"scissors",listItems:[]},{id:"team",title:"Nossos Profissionais",isOpen:!1,type:"team",icon:"users",teamMembers:[{name:"Isaac Alencar",specialty:"Fundador & Mestre Barbeiro",imageUrl:"https://picsum.photos/id/1005/200/200"},{name:"Bruno Santos",specialty:"Expert em Degrad\xEA & Barba",imageUrl:"https://picsum.photos/id/1011/200/200"}]},{id:"projects",title:"Participa\xE7\xE3o Comunit\xE1ria",isOpen:!1,type:"projects",icon:"image",projectGallery:[{title:"Projeto Bairro Livre",imageUrl:"https://picsum.photos/seed/bairro/300/300",projectUrl:"#",date:"25/07/2024",location:"Pra\xE7a Central"},{title:"Corte Solid\xE1rio",imageUrl:"https://picsum.photos/seed/solidario/300/300",projectUrl:"#",date:"10/06/2024",location:"Abrigo Municipal"},{title:"Barbeiros do Bem",imageUrl:"https://picsum.photos/seed/corte2/300/300",projectUrl:"#",date:"05/04/2024",location:"Comunidade S. Jorge"},{title:"Apoio ao Esporte Local",imageUrl:"https://picsum.photos/seed/barba2/300/300",projectUrl:"#",date:"18/03/2024",location:"Gin\xE1sio da Cidade"}]},{id:"partnerships",title:"Parceiros & Conv\xEAnios",isOpen:!1,type:"partners",icon:"briefcase",partners:[{name:"Iron Gym",role:"10% OFF na Mensalidade",imageUrl:"https://picsum.photos/id/237/200/200"},{name:"Viking Pub",role:"1\xAA Chopp Gr\xE1tis",imageUrl:"https://picsum.photos/id/292/200/200"},{name:"Tattoo Ink",role:"Flash Day Exclusivo",imageUrl:"https://picsum.photos/id/1062/200/200"},{name:"Rota 66 Moto Clube",role:"Desconto em Eventos",imageUrl:"https://picsum.photos/id/1118/200/200"}]},{id:"feedback",title:"Avalia\xE7\xF5es dos Clientes",isOpen:!1,type:"feedback",icon:"star",testimonials:[{name:"Carlos Eduardo",comment:"Melhor degrad\xEA da regi\xE3o. O atendimento \xE9 vip!",rating:5},{name:"Rafael Silva",comment:"Ambiente sensacional e profissionais muito qualificados.",rating:5},{name:"Pedro Henrique",comment:"A consultoria de estilo mudou meu visual. Recomendo!",rating:5}]},{id:"booking",title:"Agendamento",isOpen:!1,type:"text",icon:"calendar",content:"O agendamento \xE9 feito preferencialmente via WhatsApp ou telefone. Clique no \xEDcone do WhatsApp acima ou ligue para (11) 99999-9999."},{id:"hours",title:"Hor\xE1rios",isOpen:!1,type:"hours",icon:"clock",content:`Segunda a S\xE1bado: 09:00 \xE0s 20:00
Domingo: Fechado`},{id:"location",title:"Localiza\xE7\xE3o",isOpen:!1,type:"text",icon:"map",content:"Estamos na Rua das Pedras, 123 - Centro. Pr\xF3ximo \xE0 pra\xE7a principal."}]);this.currentYear=new Date().getFullYear()}ngOnInit(){this.startLoading(),this.generateEmbers(),this.generateSparks()}async startLoading(){let e=Date.now(),t=3e4;await this.loadDynamicData();let r=Date.now()-e,i=Math.max(0,t-r),o=0,s=setInterval(()=>{o+=Math.random()*2,o>85&&(o=85,clearInterval(s)),this.loadingProgress.set(Math.min(o,100))},500);setTimeout(()=>{clearInterval(s);let a=85,u=setInterval(()=>{a+=2,a>=100&&(clearInterval(u),a=100),this.loadingProgress.set(a)},150);setTimeout(()=>{clearInterval(u),this.loadingProgress.set(100),setTimeout(()=>{this.isLoading.set(!1)},800)},8e3)},i)}async loadDynamicData(){try{let[e,t,r,i,o,s]=await Promise.all([Rn(It(this.db,"profissionais")),Rn(It(this.db,"parceiros")),Rn(It(this.db,"participacoes")),Rn(It(this.db,"avaliacoes")),Rn(It(this.db,"servicos")),sM(tn(this.db,"config","agendamento"))]),a=e.docs.map(g=>{let y=g.data();return{name:y.nome||"Profissional",specialty:y.especialidade||"Especialidade",imageUrl:y.imagem||`https://picsum.photos/seed/${encodeURIComponent(y.nome||g.id)}/200/200`}}),u=o.docs.map(g=>{let y=g.data(),T=y.realiza&&y.preco&&y.preco>0?`R$ ${y.preco}`:"-";return{name:y.nome||"Servi\xE7o",price:T,available:y.realiza!==!1}}),l=t.docs.map(g=>{let y=g.data(),T=y.desconto?`${y.desconto}% OFF`:y.descricao||"Parceiro";return{name:y.nome||"Parceiro",role:T,imageUrl:y.imagem||`https://picsum.photos/seed/${encodeURIComponent(y.nome||g.id)}/200/200`}}),h=r.docs.map(g=>{let y=g.data();return{title:y.titulo||"Evento",imageUrl:`https://picsum.photos/seed/${encodeURIComponent(y.titulo||g.id)}/300/300`,projectUrl:"#",date:y.data||"Data a definir",location:y.descricao||"Comunidade"}}),p=i.docs.map(g=>{let y=g.data();return{name:y.cliente||"Cliente",comment:y.comentario||"\xD3timo atendimento!",rating:y.estrelas||5}});if(s.exists()){let g=s.data();if(g.whatsapp){let y=g.whatsapp.replace(/\D/g,"");this.whatsappLink.set(`https://wa.me/${y}`)}}(a.length||l.length||h.length||p.length||u.length)&&this.items.update(g=>g.map(y=>y.id==="services"&&u.length?z(M({},y),{listItems:u}):y.id==="team"&&a.length?z(M({},y),{teamMembers:a}):y.id==="partnerships"&&l.length?z(M({},y),{partners:l}):y.id==="projects"&&h.length?z(M({},y),{projectGallery:h}):y.id==="feedback"&&p.length?z(M({},y),{testimonials:p}):y))}catch(e){console.error("Erro ao carregar dados do Firebase:",e)}}generateEmbers(){let e=[];for(let r=0;r<25;r++)e.push({left:Math.random()*100+"%",animationDuration:Math.random()*5+5+"s",animationDelay:Math.random()*5+"s",opacity:Math.random()*.5+.2,size:Math.random()*3+2+"px"});this.embers.set(e)}generateSparks(){let e=[];for(let r=0;r<20;r++)e.push({left:Math.random()*100+"%",animationDuration:Math.random()*3+3+"s",animationDelay:Math.random()*5+"s",opacity:Math.random()*.7+.3,size:Math.random()*2+1+"px"});this.sparks.set(e)}toggleItem(e){this.items.update(t=>t.map(r=>z(M({},r),{isOpen:r.id===e?!r.isOpen:!1})))}toggleReviewForm(){this.showReviewForm.update(e=>!e)}setReviewRating(e){this.newReviewRating.set(e)}async submitReview(){let e=this.newReviewName().trim(),t=this.newReviewMessage().trim(),r=this.newReviewRating();if(!e||!t){alert("Por favor, preencha nome e coment\xE1rio!");return}try{console.log("Salvando avalia\xE7\xE3o:",{name:e,message:t,rating:r});let i=await xo(It(this.db,"avaliacoes"),{cliente:e,comentario:t,estrelas:r,data:new Date().toLocaleDateString("pt-BR")});console.log("Avalia\xE7\xE3o salva com ID:",i.id),this.items.update(o=>o.map(s=>s.id==="feedback"&&s.testimonials?z(M({},s),{testimonials:[{name:e,comment:t,rating:r,isNew:!0},...s.testimonials]}):s)),this.newReviewName.set(""),this.newReviewMessage.set(""),this.newReviewRating.set(5),this.showReviewForm.set(!1),alert("Avalia\xE7\xE3o enviada com sucesso!")}catch(i){console.error("Erro ao salvar avalia\xE7\xE3o:",i),alert("Erro ao salvar avalia\xE7\xE3o. Verifique o console.")}}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=En({type:n,selectors:[["app-root"]],decls:37,vars:3,consts:[[1,"min-h-screen","bg-black","text-[#e0e0e0]","font-sans","flex","flex-col","items-center","py-12","px-4","relative","overflow-x-hidden"],[1,"fixed","inset-0","z-[9999]","bg-black","flex","flex-col","items-center","justify-center","loading-screen"],[1,"fixed","inset-0","pointer-events-none","z-0","overflow-hidden"],[1,"absolute","bottom-0","left-0","w-full","h-64","bg-gradient-to-t","from-brand-fireOrange/15","to-transparent"],[1,"absolute","top-0","left-0","w-full","h-48","bg-gradient-to-b","from-brand-fireOrange/10","to-transparent"],[1,"ember",3,"left","width","height","animation-duration","animation-delay","opacity"],[1,"spark",3,"left","width","height","animation-duration","animation-delay","opacity"],[1,"relative","z-10","w-full","max-w-md","flex","flex-col","flex-grow","neon-gold-border-container","rounded-2xl"],[1,"flex","flex-col","items-center","mb-8","animate-fade-in"],[1,"relative","w-80","mb-8","mt-4"],["ngSrc","https://i.postimg.cc/xT0TDh50/isaacbarbearia.png","priority","","width","1280","height","1119","alt","Isaac Barbearia Logo",1,"relative","z-10","w-full","h-auto","object-contain","transition-all","duration-300"],[1,"w-full","max-w-xs","flex","items-center","gap-4","-mt-6","mb-8","animate-fade-in"],[1,"h-px","flex-grow","bg-gradient-to-r","from-transparent","to-brand-gold/30"],[1,"text-fire-gradient","font-serif","text-sm","uppercase","tracking-[0.2em]","animate-shimmer"],[1,"h-px","flex-grow","bg-gradient-to-l","from-transparent","to-brand-gold/30"],[1,"w-full","p-3","bg-black/30","backdrop-blur-md","rounded-2xl","border","border-white/10","shadow-2xl","shadow-black","mb-12","flex","flex-row","items-center","justify-between"],[1,"flex","items-center","gap-4"],["target","_blank","aria-label","WhatsApp",1,"w-14","h-14","flex","items-center","justify-center","rounded-2xl","bg-[#111]","border","border-white/10","text-brand-gold","shadow-lg","hover:text-green-500","hover:border-green-500","hover:scale-110","btn-neon-green",3,"href"],["viewBox","0 0 24 24","fill","currentColor",1,"w-7","h-7"],["d","M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"],["href","#","target","_blank","aria-label","Localiza\xE7\xE3o",1,"w-14","h-14","flex","items-center","justify-center","rounded-2xl","bg-[#111]","border","border-white/10","text-brand-gold","shadow-lg","hover:text-blue-500","hover:border-blue-500","hover:scale-110","btn-neon-blue"],["fill-rule","evenodd","d","M11.54 22.351l.07.04.028.016a.76.76 0 00.723 0l.028-.015.071-.041a16.975 16.975 0 001.144-.742 19.58 19.58 0 002.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 00-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 002.682 2.282 16.975 16.975 0 001.145.742zM12 13.5a3 3 0 100-6 3 3 0 000 6z","clip-rule","evenodd"],["href","https://www.instagram.com/isaac._barbearia","target","_blank","rel","noopener noreferrer",1,"btn-fire","flex","items-center","justify-center","gap-2","px-5","py-3","rounded-lg","font-bold","text-sm","uppercase","tracking-wider","transition-all","duration-300","transform","active:scale-95"],["viewBox","0 0 24 24","fill","currentColor",1,"w-5","h-5"],["d","M7.8,2H16.2C19.4,2 22,4.6 22,7.8V16.2A5.8,5.8 0 0,1 16.2,22H7.8C4.6,22 2,19.4 2,16.2V7.8A5.8,5.8 0 0,1 7.8,2M7.6,4A3.6,3.6 0 0,0 4,7.6V16.4C4,18.39 5.61,20 7.6,20H16.4A3.6,3.6 0 0,0 20,16.4V7.6C20,5.61 18.39,4 16.4,4H7.6M17.25,5.5A1.25,1.25 0 0,1 18.5,6.75A1.25,1.25 0 0,1 17.25,8A1.25,1.25 0 0,1 16,6.75A1.25,1.25 0 0,1 17.25,5.5M12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9Z"],[1,"w-full","relative","z-20","flex","flex-col","gap-3"],[1,"w-full","relative","transition-all","duration-500","ease-in-out",3,"z-30","z-0","scale-[1","my-2"],[1,"mt-auto","py-8","text-center","opacity-60"],[1,"text-[9px]","text-gray-500","uppercase","tracking-widest"],[1,"absolute","inset-0","bg-gradient-radial","from-brand-fireOrange/20","via-black","to-black","animate-pulse-slow"],[1,"relative","mb-8"],[1,"fire-ring"],[1,"fire-ring","fire-ring-2"],["src","https://i.postimg.cc/xT0TDh50/isaacbarbearia.png","alt","Isaac Barbearia",1,"relative","z-10","w-48","h-auto","animate-fade-in"],[1,"relative","z-10","text-center","mb-8"],[1,"text-2xl","font-bold","text-fire-gradient","mb-2","animate-shimmer"],[1,"text-brand-gold/80","text-sm","tracking-wider"],[1,"relative","z-10","w-64","h-2","bg-white/10","rounded-full","overflow-hidden","backdrop-blur-sm"],[1,"h-full","bg-gradient-to-r","from-brand-fireOrange","via-yellow-500","to-brand-fireOrange","animate-shimmer","transition-all","duration-300"],[1,"relative","z-10","mt-4","text-brand-fireOrange","font-bold","text-lg"],[1,"absolute","inset-0","overflow-hidden","pointer-events-none"],[1,"loading-ember",3,"left","animation-delay"],[1,"loading-ember"],[1,"ember"],[1,"spark"],[1,"w-full","relative","transition-all","duration-500","ease-in-out"],[1,"w-full","overflow-hidden","rounded-xl","border","transition-all","duration-300","shadow-xl"],[1,"w-full","relative","flex","items-center","justify-between","p-4","group/btn","outline-none",3,"click"],[1,"absolute","inset-0","bg-gradient-to-r","from-brand-fireOrange/10","to-transparent","opacity-0","group-hover/btn:opacity-100","transition-opacity","duration-300"],[1,"flex","items-center","gap-4","text-left","relative","z-10"],[1,"text-brand-gold","transition-all","duration-300"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["fill","none","stroke","currentColor","stroke-width","1.5","viewBox","0 0 24 24",1,"w-6","h-6"],[1,"font-sans","font-medium","text-sm","tracking-wide","transition-colors","duration-300"],[1,"ml-2","bg-brand-fireOrange/20","text-brand-fireOrange","border","border-brand-fireOrange/50","text-[9px]","font-bold","uppercase","tracking-wider","px-2","py-0.5","rounded"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-500","transition-transform","duration-300","relative","z-10"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],[1,"grid","transition-all","duration-300","ease-in-out"],[1,"overflow-hidden"],[1,"px-6","pb-6","pt-2","border-t","border-brand-fireOrange/20","bg-black/40"],[1,"text-gray-300","font-light","leading-relaxed","text-sm","animate-fade-in"],[1,"text-center","text-gray-300","font-light","whitespace-pre-line","leading-loose","text-sm","animate-fade-in"],[1,"space-y-4","animate-fade-in"],[1,"space-y-3","animate-fade-in"],[1,"animate-fade-in"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M14.121 14.121L19 19m-7-7l7-7m-7 7l-2.879 2.879M12 12L9.121 9.121m0 5.758a3 3 0 10-4.243 4.243 3 3 0 004.243-4.243zm0-5.758a3 3 0 10-4.243-4.243 3 3 0 004.243 4.243z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Z"],["stroke-linecap","round","stroke-linejoin","round","d","M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M20.25 7.5l-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"],[1,"flex","items-center","gap-4","bg-white/5","p-3","rounded-lg","border","border-white/10"],[1,"w-16","h-16","rounded-full","object-cover","border-2","border-brand-gold",3,"src","alt"],[1,"font-bold","text-white","text-sm"],[1,"text-brand-fireOrange","text-xs","font-medium","uppercase","tracking-wider"],[1,"bg-gradient-to-br","from-white/10","to-white/5","p-5","rounded-lg","border","border-brand-fireOrange/30","hover:border-brand-fireOrange/60","hover:shadow-[0_0_20px_rgba(255,140,0,0.2)]","transition-all","duration-300","group"],[1,"flex","items-start","justify-between","gap-4"],[1,"flex-grow"],[1,"font-bold","text-white","text-base","group-hover:text-brand-fireOrange","transition-colors"],[1,"text-gray-400","text-sm","mt-2","leading-relaxed"],[1,"flex","items-center","gap-2","mt-3","text-xs","text-brand-gold"],[1,"inline-block"],[1,"font-medium"],[1,"text-gray-500","mx-1"],[1,"grid","grid-cols-2","gap-3","mb-4"],[1,"bg-white/5","border","border-white/10","rounded-lg","p-3","flex","flex-col","items-center","text-center","hover:border-brand-fireOrange/50","hover:bg-white/10","transition-all","duration-300","group/partner","cursor-default"],[1,"flex","flex-col","items-center","justify-center","text-center","pt-2","border-t","border-dashed","border-white/10"],[1,"text-gray-400","text-[10px]","font-medium","uppercase","tracking-widest","mb-2"],["target","_blank",1,"text-brand-fireOrange","hover:text-white","text-xs","font-bold","uppercase","tracking-widest","flex","items-center","gap-2","transition-colors",3,"href"],["viewBox","0 0 24 24","fill","currentColor",1,"w-4","h-4"],[1,"w-12","h-12","rounded-full","overflow-hidden","mb-2","border","border-brand-gold/20","group-hover/partner:border-brand-fireOrange","group-hover/partner:scale-110","transition-all","duration-500","shadow-lg"],[1,"w-full","h-full","object-cover","grayscale","group-hover/partner:grayscale-0","transition-all","duration-500",3,"src","alt"],[1,"text-brand-gold","font-bold","text-[10px]","uppercase","tracking-wider","mb-1","group-hover/partner:text-white","transition-colors"],[1,"text-gray-500","text-[9px]","font-medium","leading-tight","group-hover/partner:text-brand-fireOrange","transition-colors"],[1,"flex","justify-between","text-[10px]","uppercase","tracking-widest","text-gray-500","mb-2","border-b","border-white/5","pb-1"],[1,"flex","gap-4"],[1,"w-12","text-right"],[1,"flex","justify-between","items-center","border-b","border-white/5","pb-2","hover:border-brand-fireOrange/30","transition-colors"],[1,"text-gray-300","text-sm","font-medium"],[1,"text-[10px]","font-bold","px-2","py-0.5","rounded","uppercase","tracking-wider","min-w-[3rem]","text-center"],[1,"text-sm","font-serif","font-bold","w-12","text-right"],[1,"bg-white/5","p-3","rounded","border","border-white/5","hover:border-brand-fireOrange/30","transition-colors","relative",3,"border-brand-fireOrange"],[1,"pt-2","text-center"],[1,"bg-white/10","text-white","hover:bg-brand-fireOrange","hover:text-black","border","border-white/20","px-6","py-2","rounded-full","text-xs","uppercase","tracking-widest","font-bold","transition-all","duration-300",3,"click"],[1,"pt-4","mt-2","border-t","border-white/10","animate-slide-down"],[1,"bg-white/5","p-3","rounded","border","border-white/5","hover:border-brand-fireOrange/30","transition-colors","relative"],[1,"absolute","top-0","right-0","bg-brand-fireOrange","text-black","text-[9px]","px-2","py-0.5","font-bold","uppercase","rounded-bl-md"],[1,"flex","justify-between","mb-1"],[1,"text-brand-gold","text-xs","font-bold"],[1,"flex","text-brand-fireOrange","text-[10px]"],[1,"text-gray-400","text-xs","italic"],[1,"text-brand-gold","text-sm","font-bold","mb-3","uppercase","tracking-wider","text-center"],[1,"flex","justify-center","gap-3","mb-4"],[1,"text-2xl","focus:outline-none","transition-transform","hover:scale-125"],[1,"space-y-3"],["type","text","placeholder","Seu Nome",1,"w-full","bg-white/5","border","border-white/10","rounded-md","text-sm","p-3","text-white","placeholder-gray-500","focus:border-brand-fireOrange","focus:ring-1","focus:ring-brand-fireOrange","outline-none","transition-all",3,"ngModelChange","ngModel"],["placeholder","Escreva sua mensagem aqui...","rows","3",1,"w-full","bg-white/5","border","border-white/10","rounded-md","text-sm","p-3","text-white","placeholder-gray-500","focus:border-brand-fireOrange","focus:ring-1","focus:ring-brand-fireOrange","outline-none","transition-all","resize-none",3,"ngModelChange","ngModel"],[1,"w-full","bg-gradient-to-r","from-brand-fireOrange","to-red-700","text-white","font-bold","py-3","rounded-md","text-sm","uppercase","tracking-widest","hover:shadow-[0_0_20px_rgba(255,69,0,0.4)]","active:scale-95","transition-all",3,"click"],[1,"text-2xl","focus:outline-none","transition-transform","hover:scale-125",3,"click"]],template:function(t,r){t&1&&(A(0,"div",0),ke(1,mB,18,4,"div",1),A(2,"div",2),ge(3,"div",3)(4,"div",4),Qt(5,yB,1,12,"div",5,Md),Qt(7,vB,1,12,"div",6,Md),R(),A(9,"div",7)(10,"div",8)(11,"div",9),ge(12,"img",10),R(),A(13,"div",11),ge(14,"div",12),A(15,"span",13),L(16,"Desde 2024"),R(),ge(17,"div",14),R(),A(18,"div",15)(19,"div",16)(20,"a",17),Tt(),A(21,"svg",18),ge(22,"path",19),R()(),Wi(),A(23,"a",20),Tt(),A(24,"svg",18),ge(25,"path",21),R()()(),Wi(),A(26,"a",22),Tt(),A(27,"svg",23),ge(28,"path",24),R(),Wi(),A(29,"span"),L(30,"Seguir"),R()()(),A(31,"div",25),Qt(32,WB,29,53,"div",26,fB),R()(),A(34,"footer",27)(35,"p",28),L(36),R()()()()),t&2&&(x(),Fe(r.isLoading()?1:-1),x(4),Yt(r.embers()),x(2),Yt(r.sparks()),x(13),ot("href",r.whatsappLink(),cs),x(12),Yt(r.items()),x(4),Pt("Isaac Barbearia \xA9 ",r.currentYear))},dependencies:[ni,Ts,ci,Cs,po,A0],encapsulation:2,changeDetection:0})}};function bM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var CM=bM,TM=new wr("auth","Firebase",bM());var Yf=new li("@firebase/auth");function KB(n,...e){Yf.logLevel<=ae.WARN&&Yf.warn(`Auth (${fi}): ${n}`,...e)}function Gf(n,...e){Yf.logLevel<=ae.ERROR&&Yf.error(`Auth (${fi}): ${n}`,...e)}function or(n,...e){throw hI(n,...e)}function Po(n,...e){return hI(n,...e)}function SM(n,e,t){let r=z(M({},CM()),{[e]:t});return new wr("auth","Firebase",r).create(e,{appName:n.name})}function Ii(n){return SM(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hI(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return TM.create(n,...e)}function Q(n,e,...t){if(!n)throw hI(e,...t)}function Pr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Gf(e),new Error(e)}function wi(n,e){n||Pr(e)}function GE(){return typeof self<"u"&&self.location?.href||""}function QB(){return cM()==="http:"||cM()==="https:"}function cM(){return typeof self<"u"&&self.location?.protocol||null}function YB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QB()||pS()||"connection"in navigator)?navigator.onLine:!0}function JB(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Oo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,wi(t>e,"Short delay should be less than long delay!"),this.isMobile=hS()||gS()}get(){return YB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function fI(n,e){wi(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Jf=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var ZB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var XB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eH=new Oo(3e4,6e4);function Fo(n,e){return n.tenantId&&!e.tenantId?z(M({},e),{tenantId:n.tenantId}):e}async function Di(n,e,t,r,i={}){return AM(n,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=Qc(M({key:n.config.apiKey},s)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);let l=M({method:e,headers:u},o);return fS()||(l.referrerPolicy="no-referrer"),n.emulatorConfig&&ui(n.emulatorConfig.host)&&(l.credentials="include"),Jf.fetch()(await RM(n,n.config.apiHost,t,a),l)})}async function AM(n,e,t){n._canInitEmulator=!1;let r=M(M({},ZB),e);try{let i=new WE(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw qf(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw qf(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw qf(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw qf(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw SM(n,h,l);or(n,h)}}catch(i){if(i instanceof Xt)throw i;or(n,"network-request-failed",{message:String(i)})}}async function cp(n,e,t,r,i={}){let o=await Di(n,e,t,r,i);return"mfaPendingCredential"in o&&or(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function RM(n,e,t,r){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?fI(n.config,i):`${n.config.apiScheme}://${i}`;return XB.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function tH(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var WE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Po(this.auth,"network-request-failed")),eH.get())})}};function qf(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Po(n,e,r);return i.customData._tokenResponse=t,i}function uM(n){return n!==void 0&&n.enterprise!==void 0}var KE=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return tH(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function nH(n,e){return Di(n,"GET","/v2/recaptchaConfig",Fo(n,e))}async function rH(n,e){return Di(n,"POST","/v1/accounts:delete",e)}async function Zf(n,e){return Di(n,"POST","/v1/accounts:lookup",e)}function bu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MM(n,e=!1){let t=We(n),r=await t.getIdToken(e),i=pI(r);Q(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:bu($E(i.auth_time)),issuedAtTime:bu($E(i.iat)),expirationTime:bu($E(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function $E(n){return Number(n)*1e3}function pI(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Gf("JWT malformed, contained fewer than 3 sections"),null;try{let i=Nh(t);return i?JSON.parse(i):(Gf("Failed to decode base64 JWT payload"),null)}catch(i){return Gf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function lM(n){let e=pI(n);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Tu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Xt&&iH(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function iH({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var QE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Su=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=bu(this.lastLoginAt),this.creationTime=bu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Xf(n){let e=n.auth,t=await n.getIdToken(),r=await Tu(n,Zf(e,{idToken:t}));Q(r?.users.length,e,"internal-error");let i=r.users[0];n._notifyReloadListener(i);let o=i.providerUserInfo?.length?xM(i.providerUserInfo):[],s=oH(n.providerData,o),a=n.isAnonymous,u=!(n.email&&i.passwordHash)&&!s?.length,l=a?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Su(i.createdAt,i.lastLoginAt),isAnonymous:l};Object.assign(n,h)}async function NM(n){let e=We(n);await Xf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oH(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function xM(n){return n.map(r=>{var i=r,{providerId:e}=i,t=Lp(i,["providerId"]);return{providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}})}async function sH(n,e){let t=await AM(n,{},async()=>{let r=Qc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=await RM(n,i,"/v1/token",`key=${o}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&ui(n.emulatorConfig.host)&&(u.credentials="include"),Jf.fetch()(s,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function aH(n,e){return Di(n,"POST","/v2/accounts:revokeToken",Fo(n,e))}var Cu=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Q(e.length!==0,"internal-error");let t=lM(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:o}=await sH(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Q(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Q(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Pr("not implemented")}};function _i(n,e){Q(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Ei=class n{constructor(o){var s=o,{uid:e,auth:t,stsTokenManager:r}=s,i=Lp(s,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Su(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let t=await Tu(this,this.stsTokenManager.getToken(this.auth,e));return Q(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return MM(this,e)}reload(){return NM(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>M({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(z(M({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Xf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(en(this.auth.app))return Promise.reject(Ii(this.auth));let e=await this.getIdToken();return await Tu(this,rH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return z(M({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>M({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){let r=t.displayName??void 0,i=t.email??void 0,o=t.phoneNumber??void 0,s=t.photoURL??void 0,a=t.tenantId??void 0,u=t._redirectEventId??void 0,l=t.createdAt??void 0,h=t.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:y,providerData:T,stsTokenManager:N}=t;Q(p&&N,e,"internal-error");let P=Cu.fromJSON(this.name,N);Q(typeof p=="string",e,"internal-error"),_i(r,e.name),_i(i,e.name),Q(typeof g=="boolean",e,"internal-error"),Q(typeof y=="boolean",e,"internal-error"),_i(o,e.name),_i(s,e.name),_i(a,e.name),_i(u,e.name),_i(l,e.name),_i(h,e.name);let j=new n({uid:p,auth:e,email:i,emailVerified:g,displayName:r,isAnonymous:y,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:P,createdAt:l,lastLoginAt:h});return T&&Array.isArray(T)&&(j.providerData=T.map(ee=>M({},ee))),u&&(j._redirectEventId=u),j}static async _fromIdTokenResponse(e,t,r=!1){let i=new Cu;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Xf(o),o}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];Q(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?xM(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Cu;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Su(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var dM=new Map;function Or(n){wi(n instanceof Function,"Expected a class definition");let e=dM.get(n);return e?(wi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,dM.set(n,e),e)}var cH=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),YE=cH;function Wf(n,e,t){return`firebase:${n}:${e}:${t}`}var ep=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Wf(this.userKey,i.apiKey,o),this.fullPersistenceKey=Wf("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await Zf(this.auth,{idToken:e}).catch(()=>{});return t?Ei._fromGetAccountInfoResponse(this.auth,t,e):null}return Ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(Or(YE),e,r);let i=(await Promise.all(t.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||Or(YE),s=Wf(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=await l._get(s);if(h){let p;if(typeof h=="string"){let g=await Zf(e,{idToken:h}).catch(()=>{});if(!g)break;p=await Ei._fromGetAccountInfoResponse(e,g,h)}else p=Ei._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(t.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new n(o,e,r))}};function hM(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VM(e))return"Blackberry";if(jM(e))return"Webos";if(OM(e))return"Safari";if((e.includes("chrome/")||kM(e))&&!e.includes("edge/"))return"Chrome";if(LM(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function PM(n=ut()){return/firefox\//i.test(n)}function OM(n=ut()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kM(n=ut()){return/crios\//i.test(n)}function FM(n=ut()){return/iemobile/i.test(n)}function LM(n=ut()){return/android/i.test(n)}function VM(n=ut()){return/blackberry/i.test(n)}function jM(n=ut()){return/webos/i.test(n)}function gI(n=ut()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function uH(n=ut()){return gI(n)&&!!window.navigator?.standalone}function lH(){return mS()&&document.documentMode===10}function UM(n=ut()){return gI(n)||LM(n)||jM(n)||VM(n)||/windows phone/i.test(n)||FM(n)}function BM(n,e=[]){let t;switch(n){case"Browser":t=hM(ut());break;case"Worker":t=`${hM(ut())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${fi}/${r}`}var JE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function dH(n,e={}){return Di(n,"GET","/v2/passwordPolicy",Fo(n,e))}var hH=6,ZE=class{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??hH,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var XE=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tp(this),this.idTokenSubscription=new tp(this),this.beforeStateQueue=new JE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Or(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ep.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await Zf(this,{idToken:e}),r=await Ei._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(en(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}let t=await this.assertedPersistence.getCurrentUser(),r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let o=this.redirectUser?._redirectEventId,s=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!o||o===s)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Xf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(en(this.app))return Promise.reject(Ii(this));let t=e?We(e):null;return t&&Q(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return en(this.app)?Promise.reject(Ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return en(this.app)?Promise.reject(Ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await dH(this),t=new ZE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await aH(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&Or(e)||this._popupRedirectResolver;Q(t,this,"argument-error"),this.redirectPersistenceManager=await ep.create(this,[Or(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);let r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(en(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&KB(`Error while retrieving App Check token: ${e.error}`),e?.token}};function ia(n){return We(n)}var tp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=ES(t=>this.observer=t)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var up={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fH(n){up=n}function HM(n){return up.loadJS(n)}function pH(){return up.recaptchaEnterpriseScript}function gH(){return up.gapiScript}function $M(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var eI=class{constructor(){this.enterprise=new tI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},tI=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var mH="recaptcha-enterprise",zM="NO_RECAPTCHA",nI=class{constructor(e){this.type=mH,this.auth=ia(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{nH(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new KE(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})})}function i(o,s,a){let u=window.grecaptcha;uM(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(zM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eI().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&uM(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=pH();u.length!==0&&(u+=a),HM(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}};async function Du(n,e,t,r=!1,i=!1){let o=new nI(n),s;if(i)s=zM;else try{s=await o.verify(t)}catch{s=await o.verify(t,!0)}let a=M({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function fM(n,e,t,r,i){if(i==="EMAIL_PASSWORD_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=await Du(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=await Du(n,e,t,t==="getOobCode");return r(n,s)}else return Promise.reject(o)});else if(i==="PHONE_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){let o=await Du(n,e,t);return r(n,o).catch(async s=>{if(n._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(s.code==="auth/missing-recaptcha-token"||s.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let a=await Du(n,e,t,!1,!0);return r(n,a)}return Promise.reject(s)})}else{let o=await Du(n,e,t,!1,!0);return r(n,o)}else return Promise.reject(i+" provider is not supported.")}function qM(n,e){let t=Jc(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Dn(o,e??{}))return i;or(i,"already-initialized")}return t.initialize({options:e})}function yH(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Or);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function GM(n,e,t){let r=ia(n);Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=WM(e),{host:s,port:a}=vH(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Q(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Q(Dn(l,r.config.emulator)&&Dn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,ui(s)?(Ph(`${o}//${s}${u}`),Oh("Auth",!0)):i||_H()}function WM(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function vH(n){let e=WM(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:pM(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:pM(s)}}}function pM(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function _H(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Au=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Pr("not implemented")}_getIdTokenResponse(e){return Pr("not implemented")}_linkToIdToken(e,t){return Pr("not implemented")}_getReauthenticationResolver(e){return Pr("not implemented")}};async function EH(n,e){return Di(n,"POST","/v1/accounts:signUp",e)}async function IH(n,e){return cp(n,"POST","/v1/accounts:signInWithPassword",Fo(n,e))}async function wH(n,e){return cp(n,"POST","/v1/accounts:signInWithEmailLink",Fo(n,e))}async function DH(n,e){return cp(n,"POST","/v1/accounts:signInWithEmailLink",Fo(n,e))}var Ru=class n extends Au{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fM(e,t,"signInWithPassword",IH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return wH(e,{email:this._email,oobCode:this._password});default:or(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fM(e,r,"signUpPassword",EH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return DH(e,{idToken:t,email:this._email,oobCode:this._password});default:or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function zE(n,e){return cp(n,"POST","/v1/accounts:signInWithIdp",Fo(n,e))}function bH(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CH(n){let e=Ss(As(n)).link,t=e?Ss(As(e)).deep_link_id:null,r=Ss(As(n)).deep_link_id;return(r?Ss(As(r)).link:null)||r||t||e||n}var np=class n{constructor(e){let t=Ss(As(e)),r=t.apiKey??null,i=t.oobCode??null,o=bH(t.mode??null);Q(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){let t=CH(e);try{return new n(t)}catch{return null}}};var KM=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Ru._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=np.parseLink(r);return Q(i,"argument-error"),Ru._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),rp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var rI=class extends rp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Mu=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){let o=await Ei._fromIdTokenResponse(e,r,i),s=gM(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);let i=gM(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function gM(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var iI=class n extends Xt{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function QM(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?iI._fromErrorAndOperation(n,o,e,r):o})}async function TH(n,e,t=!1){let r=await Tu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Mu._forOperation(n,"link",r)}async function SH(n,e,t=!1){let{auth:r}=n;if(en(r.app))return Promise.reject(Ii(r));let i="reauthenticate";try{let o=await Tu(n,QM(r,i,e,n),t);Q(o.idToken,r,"internal-error");let s=pI(o.idToken);Q(s,r,"internal-error");let{sub:a}=s;return Q(n.uid===a,r,"user-mismatch"),Mu._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&or(r,"user-mismatch"),o}}async function YM(n,e,t=!1){if(en(n.app))return Promise.reject(Ii(n));let r="signIn",i=await QM(n,r,e),o=await Mu._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function JM(n,e){return YM(ia(n),e)}async function AH(n){let e=ia(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function mI(n,e,t){return en(n.app)?Promise.reject(Ii(n)):JM(We(n),KM.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&AH(n),r})}function ZM(n,e,t,r){return We(n).onIdTokenChanged(e,t,r)}function XM(n,e,t){return We(n).beforeAuthStateChanged(e,t)}function yI(n,e,t,r){return We(n).onAuthStateChanged(e,t,r)}function vI(n){return We(n).signOut()}var ip="__sak";var op=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ip,"1"),this.storage.removeItem(ip),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var RH=1e3,MH=10,NH=(()=>{class n extends op{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UM(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);lH()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,MH):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},RH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){let r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}return n.type="LOCAL",n})(),eN=NH;var xH=(()=>{class n extends op{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),_I=xH;function PH(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var OH=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(async h=>h(r.origin,s)),l=await PH(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function tN(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var oI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=tN("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function ir(){return window}function kH(n){ir().location.href=n}function nN(){return typeof ir().WorkerGlobalScope<"u"&&typeof ir().importScripts=="function"}async function FH(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LH(){return navigator?.serviceWorker?.controller||null}function VH(){return nN()?self:null}var rN="firebaseLocalStorageDb",jH=1,sp="firebaseLocalStorage",iN="fbase_key",ko=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function lp(n,e){return n.transaction([sp],e?"readwrite":"readonly").objectStore(sp)}function UH(){let n=indexedDB.deleteDatabase(rN);return new ko(n).toPromise()}function sI(){let n=indexedDB.open(rN,jH);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(sp,{keyPath:iN})}catch(i){t(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(sp)?e(r):(r.close(),await UH(),e(await sI()))})})}async function mM(n,e,t){let r=lp(n,!0).put({[iN]:e,value:t});return new ko(r).toPromise()}async function BH(n,e){let t=lp(n,!1).get(e),r=await new ko(t).toPromise();return r===void 0?null:r.value}function yM(n,e){let t=lp(n,!0).delete(e);return new ko(t).toPromise()}var HH=800,$H=3,zH=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sI(),this.db)}async _withRetries(t){let r=0;for(;;)try{let i=await this._openDb();return await t(i)}catch(i){if(r++>$H)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=OH._getInstance(VH()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await FH(),!this.activeServiceWorker)return;this.sender=new oI(this.activeServiceWorker);let t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||LH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await sI();return await mM(t,ip,"1"),await yM(t,ip),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>mM(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){let r=await this._withRetries(i=>BH(i,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>yM(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(o=>{let s=lp(o,!1).getAll();return new ko(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),oN=zH;var wne=$M("rcb"),Dne=new Oo(3e4,6e4);function qH(n,e){return e?Or(e):(Q(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Nu=class extends Au{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zE(e,this._buildIdpRequest())}_linkToIdToken(e,t){return zE(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return zE(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function GH(n){return YM(n.auth,new Nu(n),n.bypassAuthState)}function WH(n){let{auth:e,user:t}=n;return Q(t,e,"internal-error"),SH(t,new Nu(n),n.bypassAuthState)}async function KH(n){let{auth:e,user:t}=n;return Q(t,e,"internal-error"),TH(t,new Nu(n),n.bypassAuthState)}var aI=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GH;case"linkViaPopup":case"linkViaRedirect":return KH;case"reauthViaPopup":case"reauthViaRedirect":return WH;default:or(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var bne=new Oo(2e3,1e4);var QH="pendingRedirect",Kf=new Map,cI=class extends aI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Kf.get(this.auth._key());if(!e){try{let r=await YH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Kf.set(this.auth._key(),e)}return this.bypassAuthState||Kf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function YH(n,e){let t=XH(e),r=ZH(n);if(!await r._isAvailable())return!1;let i=await r._get(t)==="true";return await r._remove(t),i}function JH(n,e){Kf.set(n._key(),e)}function ZH(n){return Or(n._redirectPersistence)}function XH(n){return Wf(QH,n.config.apiKey,n.name)}async function e4(n,e,t=!1){if(en(n.app))return Promise.reject(Ii(n));let r=ia(n),i=qH(r,e),s=await new cI(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var t4=600*1e3,uI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!sN(e)){let r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Po(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=t4&&this.cachedEventUids.clear(),this.cachedEventUids.has(vM(e))}saveEventToCache(e){this.cachedEventUids.add(vM(e)),this.lastProcessedEventTime=Date.now()}};function vM(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function sN({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function n4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sN(n);default:return!1}}async function r4(n,e={}){return Di(n,"GET","/v1/projects",e)}var i4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o4=/^https?/;async function s4(n){if(n.config.emulator)return;let{authorizedDomains:e}=await r4(n);for(let t of e)try{if(a4(t))return}catch{}or(n,"unauthorized-domain")}function a4(n){let e=GE(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!o4.test(t))return!1;if(i4.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var c4=new Oo(3e4,6e4);function _M(){let n=ir().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function u4(n){return new Promise((e,t)=>{function r(){_M(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_M(),t(Po(n,"network-request-failed"))},timeout:c4.get()})}if(ir().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ir().gapi?.load)r();else{let i=$M("iframefcb");return ir()[i]=()=>{gapi.load?r():t(Po(n,"network-request-failed"))},HM(`${gH()}?onload=${i}`).catch(o=>t(o))}}).catch(e=>{throw Qf=null,e})}var Qf=null;function l4(n){return Qf=Qf||u4(n),Qf}var d4=new Oo(5e3,15e3),h4="__/auth/iframe",f4="emulator/auth/iframe",p4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},g4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function m4(n){let e=n.config;Q(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?fI(e,f4):`https://${n.config.authDomain}/${h4}`,r={apiKey:e.apiKey,appName:n.name,v:fi},i=g4.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Qc(r).slice(1)}`}async function y4(n){let e=await l4(n),t=ir().gapi;return Q(t,n,"internal-error"),e.open({where:document.body,url:m4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p4,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=Po(n,"network-request-failed"),a=ir().setTimeout(()=>{o(s)},d4.get());function u(){ir().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})}))}var v4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_4=500,E4=600,I4="_blank",w4="http://localhost",ap=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function D4(n,e,t,r=_4,i=E4){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=z(M({},v4),{width:r.toString(),height:i.toString(),top:o,left:s}),l=ut().toLowerCase();t&&(a=kM(l)?I4:t),PM(l)&&(e=e||w4,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[y,T])=>`${g}${y}=${T},`,"");if(uH(l)&&a!=="_self")return b4(e||"",a),new ap(null);let p=window.open(e||"",a,h);Q(p,n,"popup-blocked");try{p.focus()}catch{}return new ap(p)}function b4(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var C4="__/auth/handler",T4="emulator/auth/handler",S4=encodeURIComponent("fac");async function EM(n,e,t,r,i,o){Q(n.config.authDomain,n,"auth-domain-config-required"),Q(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:fi,eventId:i};if(e instanceof rp){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",_S(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof rI){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=await n._getAppCheckToken(),l=u?`#${S4}=${encodeURIComponent(u)}`:"";return`${A4(n)}?${Qc(a).slice(1)}${l}`}function A4({config:n}){return n.emulator?fI(n,T4):`https://${n.authDomain}/${C4}`}var qE="webStorageSupport",lI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_I,this._completeRedirectFn=e4,this._overrideRedirectResult=JH}async _openPopup(e,t,r,i){wi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");let o=await EM(e,t,r,GE(),i);return D4(e,o,tN())}async _openRedirect(e,t,r,i){await this._originValidation(e);let o=await EM(e,t,r,GE(),i);return kH(o),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(wi(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await y4(e),r=new uI(e);return t.register("authEvent",i=>(Q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(qE,{type:qE},i=>{let o=i?.[0]?.[qE];o!==void 0&&t(!!o),or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=s4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return UM()||OM()||gI()}},aN=lI;var IM="@firebase/auth",wM="1.12.0";var dI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function R4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function M4(n){hi(new un("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Q(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BM(n)},l=new XE(r,i,o,u);return yH(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),hi(new un("auth-internal",e=>{let t=ia(e.getProvider("auth").getImmediate());return(r=>new dI(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),bn(IM,wM,R4(n)),bn(IM,wM,"esm2020")}var N4=300,x4=Iv("authIdTokenMaxAge")||N4,DM=null,P4=n=>async e=>{let t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>x4)return;let i=t?.token;DM!==i&&(DM=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function EI(n=Vh()){let e=Jc(n,"auth");if(e.isInitialized())return e.getImmediate();let t=qM(n,{popupRedirectResolver:aN,persistence:[oN,eN,_I]}),r=Iv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=P4(o.toString());XM(t,s,()=>s(t.currentUser)),ZM(t,a=>s(a))}}let i=_v("auth");return i&&GM(t,`http://${i}`),t}function O4(){return document.getElementsByTagName("head")?.[0]??document}fH({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Po("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",O4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});M4("Browser");var k4={firebase:{apiKey:"vvmrpX2H8L7bfkEQLLETMNUBuuLaMWBDtmxf5Fuy2BQ",authDomain:"isaacbarbearia-admin.firebaseapp.com",projectId:"isaacbarbearia-admin",storageBucket:"isaacbarbearia-admin.appspot.com",messagingSenderId:"YOUR_MESSAGING_SENDER_ID",appId:"YOUR_APP_ID"}},oa=class n{constructor(){this.app=Zc(k4.firebase);this.auth=EI(this.app);this.firestore=Eu(this.app)}login(e,t){return mI(this.auth,e,t)}logout(){return vI(this.auth)}getCurrentUser(){return new Promise((e,t)=>{yI(this.auth,r=>{r?e(r):t(null)})})}async addProfissional(e){return xo(It(this.firestore,"profissionais"),e)}async getProfissionais(){return(await Rn(It(this.firestore,"profissionais"))).docs.map(t=>M({id:t.id},t.data()))}async updateProfissional(e,t){return Hf(tn(this.firestore,"profissionais",e),t)}async deleteProfissional(e){return wu(tn(this.firestore,"profissionais",e))}async addParceiro(e){return xo(It(this.firestore,"parceiros"),e)}async getParceiros(){return(await Rn(It(this.firestore,"parceiros"))).docs.map(t=>M({id:t.id},t.data()))}async updateParceiro(e,t){return Hf(tn(this.firestore,"parceiros",e),t)}async deleteParceiro(e){return wu(tn(this.firestore,"parceiros",e))}async addParticipacao(e){return xo(It(this.firestore,"participacoes"),e)}async getParticipacoes(){return(await Rn(It(this.firestore,"participacoes"))).docs.map(t=>M({id:t.id},t.data()))}async updateParticipacao(e,t){return Hf(tn(this.firestore,"participacoes",e),t)}async deleteParticipacao(e){return wu(tn(this.firestore,"participacoes",e))}async addAvaliacao(e){return xo(It(this.firestore,"avaliacoes"),e)}async getAvaliacoes(){return(await Rn(It(this.firestore,"avaliacoes"))).docs.map(t=>M({id:t.id},t.data()))}async deleteAvaliacao(e){return wu(tn(this.firestore,"avaliacoes",e))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=G({token:n,factory:n.\u0275fac,providedIn:"root"})}};function F4(n,e){if(n&1&&(A(0,"p",7),L(1),R()),n&2){let t=J();x(),be(t.erro)}}var dp=class n{constructor(e,t){this.firebaseService=e;this.router=t;this.email="";this.password="";this.erro=""}async login(){try{await this.firebaseService.login(this.email,this.password),this.router.navigate(["/admin"])}catch(e){this.erro="Email ou senha incorretos!",console.error("Erro de login:",e)}}static{this.\u0275fac=function(t){return new(t||n)(pe(oa),pe(si))}}static{this.\u0275cmp=En({type:n,selectors:[["app-login"]],decls:12,vars:3,consts:[[1,"login-container"],[1,"login-box"],[3,"ngSubmit"],["name","email","type","email","placeholder","Email","required","",3,"ngModelChange","ngModel"],["name","password","type","password","placeholder","Senha","required","",3,"ngModelChange","ngModel"],["type","submit"],["class","error",4,"ngIf"],[1,"error"]],template:function(t,r){t&1&&(A(0,"div",0)(1,"div",1)(2,"h1"),L(3,"Admin Login"),R(),A(4,"p"),L(5,"Isaac Barbearia"),R(),A(6,"form",2),Re("ngSubmit",function(){return r.login()}),A(7,"input",3),at("ngModelChange",function(o){return _t(r.email,o)||(r.email=o),o}),R(),A(8,"input",4),at("ngModelChange",function(o){return _t(r.password,o)||(r.password=o),o}),R(),A(9,"button",5),L(10,"Entrar"),R()(),qn(11,F4,2,1,"p",6),R()()),t&2&&(x(7),st("ngModel",r.email),x(),st("ngModel",r.password),x(3),ot("ngIf",r.erro))},dependencies:[ni,mc,Ts,Rh,ci,Cs,Sh,Gc,po,qc],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);font-family:Arial,sans-serif}.login-box[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:8px;box-shadow:0 10px 25px #0003;width:100%;max-width:400px}h1[_ngcontent-%COMP%]{color:#333;text-align:center;margin:0 0 5px;font-size:28px}p[_ngcontent-%COMP%]{text-align:center;color:#999;margin:0 0 30px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}input[_ngcontent-%COMP%]{padding:12px;border:1px solid #ddd;border-radius:4px;font-size:14px;transition:border-color .3s}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 5px #667eea4d}button[_ngcontent-%COMP%]{padding:12px;background:#667eea;color:#fff;border:none;border-radius:4px;font-size:16px;cursor:pointer;transition:background .3s;font-weight:700}button[_ngcontent-%COMP%]:hover{background:#764ba2}.error[_ngcontent-%COMP%]{color:#e74c3c;text-align:center;margin-top:10px;font-size:14px}"]})}};function L4(n,e){if(n&1){let t=Ft();A(0,"tr")(1,"td"),L(2),R(),A(3,"td"),L(4),R(),A(5,"td"),L(6),R(),A(7,"td")(8,"button",12),Re("click",function(){let i=Te(t).$implicit,o=J(2);return Se(o.deletarProfissional(i.id))}),L(9,"Deletar"),R()()()}if(n&2){let t=e.$implicit;x(2),be(t.nome),x(2),be(t.especialidade),x(2),be(t.telefone)}}function V4(n,e){if(n&1){let t=Ft();A(0,"div",5)(1,"h2"),L(2,"Gerenciar Profissionais"),R(),A(3,"form",6),Re("ngSubmit",function(){Te(t);let i=J();return Se(i.adicionarProfissional())}),A(4,"input",7),at("ngModelChange",function(i){Te(t);let o=J();return _t(o.novoProfissional.nome,i)||(o.novoProfissional.nome=i),Se(i)}),R(),A(5,"input",8),at("ngModelChange",function(i){Te(t);let o=J();return _t(o.novoProfissional.especialidade,i)||(o.novoProfissional.especialidade=i),Se(i)}),R(),A(6,"input",9),at("ngModelChange",function(i){Te(t);let o=J();return _t(o.novoProfissional.telefone,i)||(o.novoProfissional.telefone=i),Se(i)}),R(),A(7,"button",10),L(8,"Adicionar Profissional"),R()(),A(9,"table")(10,"thead")(11,"tr")(12,"th"),L(13,"Nome"),R(),A(14,"th"),L(15,"Especialidade"),R(),A(16,"th"),L(17,"Telefone"),R(),A(18,"th"),L(19,"A\xE7\xF5es"),R()()(),A(20,"tbody"),qn(21,L4,10,3,"tr",11),R()()()}if(n&2){let t=J();x(4),st("ngModel",t.novoProfissional.nome),x(),st("ngModel",t.novoProfissional.especialidade),x(),st("ngModel",t.novoProfissional.telefone),x(15),ot("ngForOf",t.profissionais)}}function j4(n,e){if(n&1){let t=Ft();A(0,"tr")(1,"td"),L(2),R(),A(3,"td"),L(4),R(),A(5,"td"),L(6),R(),A(7,"td")(8,"button",12),Re("click",function(){let i=Te(t).$implicit,o=J(2);return Se(o.deletarParceiro(i.id))}),L(9,"Deletar"),R()()()}if(n&2){let t=e.$implicit;x(2),be(t.nome),x(2),be(t.descricao),x(2),Pt("",t.desconto,"%")}}function U4(n,e){if(n&1){let t=Ft();A(0,"div",5)(1,"h2"),L(2,"Gerenciar Parceiros e Conv\xEAnios"),R(),A(3,"form",6),Re("ngSubmit",function(){Te(t);let i=J();return Se(i.adicionarParceiro())}),A(4,"input",13),at("ngModelChange",function(i){Te(t);let o=J();return _t(o.novoParceiro.nome,i)||(o.novoParceiro.nome=i),Se(i)}),R(),A(5,"input",14),at("ngModelChange",function(i){Te(t);let o=J();return _t(o.novoParceiro.descricao,i)||(o.novoParceiro.descricao=i),Se(i)}),R(),A(6,"input",15),at("ngModelChange",function(i){Te(t);let o=J();return _t(o.novoParceiro.desconto,i)||(o.novoParceiro.desconto=i),Se(i)}),R(),A(7,"button",10),L(8,"Adicionar Parceiro"),R()(),A(9,"table")(10,"thead")(11,"tr")(12,"th"),L(13,"Nome"),R(),A(14,"th"),L(15,"Descri\xE7\xE3o"),R(),A(16,"th"),L(17,"Desconto"),R(),A(18,"th"),L(19,"A\xE7\xF5es"),R()()(),A(20,"tbody"),qn(21,j4,10,3,"tr",11),R()()()}if(n&2){let t=J();x(4),st("ngModel",t.novoParceiro.nome),x(),st("ngModel",t.novoParceiro.descricao),x(),st("ngModel",t.novoParceiro.desconto),x(15),ot("ngForOf",t.parceiros)}}function B4(n,e){if(n&1){let t=Ft();A(0,"div",20)(1,"h3"),L(2),R(),A(3,"p"),L(4),R(),A(5,"p")(6,"strong"),L(7,"Data:"),R(),L(8),R(),A(9,"button",12),Re("click",function(){let i=Te(t).$implicit,o=J(2);return Se(o.deletarParticipacao(i.id))}),L(10,"Deletar"),R()()}if(n&2){let t=e.$implicit;x(2),be(t.titulo),x(2),be(t.descricao),x(4),Pt(" ",t.data)}}function H4(n,e){if(n&1){let t=Ft();A(0,"div",5)(1,"h2"),L(2,"Participa\xE7\xE3o Comunit\xE1ria"),R(),A(3,"form",6),Re("ngSubmit",function(){Te(t);let i=J();return Se(i.adicionarParticipacao())}),A(4,"input",16),at("ngModelChange",function(i){Te(t);let o=J();return _t(o.novaParticipacao.titulo,i)||(o.novaParticipacao.titulo=i),Se(i)}),R(),A(5,"textarea",14),at("ngModelChange",function(i){Te(t);let o=J();return _t(o.novaParticipacao.descricao,i)||(o.novaParticipacao.descricao=i),Se(i)}),R(),A(6,"input",17),at("ngModelChange",function(i){Te(t);let o=J();return _t(o.novaParticipacao.data,i)||(o.novaParticipacao.data=i),Se(i)}),R(),A(7,"button",10),L(8,"Adicionar Evento"),R()(),A(9,"div",18),qn(10,B4,11,3,"div",19),R()()}if(n&2){let t=J();x(4),st("ngModel",t.novaParticipacao.titulo),x(),st("ngModel",t.novaParticipacao.descricao),x(),st("ngModel",t.novaParticipacao.data),x(4),ot("ngForOf",t.participacoes)}}function $4(n,e){if(n&1){let t=Ft();A(0,"div",22)(1,"h3"),L(2),R(),A(3,"p")(4,"strong"),L(5,"Estrelas:"),R(),L(6),R(),A(7,"p"),L(8),R(),A(9,"p")(10,"small"),L(11),R()(),A(12,"button",12),Re("click",function(){let i=Te(t).$implicit,o=J(2);return Se(o.deletarAvaliacao(i.id))}),L(13,"Deletar"),R()()}if(n&2){let t=e.$implicit;x(2),be(t.cliente),x(4),Pt(" ",t.estrelas,"/5"),x(2),be(t.comentario),x(3),be(t.data)}}function z4(n,e){if(n&1&&(A(0,"div",5)(1,"h2"),L(2,"Avalia\xE7\xF5es dos Clientes"),R(),A(3,"div",18),qn(4,$4,14,4,"div",21),R()()),n&2){let t=J();x(4),ot("ngForOf",t.avaliacoes)}}var hp=class n{constructor(e,t){this.firebaseService=e;this.router=t;this.tabAtual="profissionais";this.profissionais=[];this.parceiros=[];this.participacoes=[];this.avaliacoes=[];this.novoProfissional={nome:"",especialidade:"",telefone:""};this.novoParceiro={nome:"",descricao:"",desconto:""};this.novaParticipacao={titulo:"",descricao:"",data:""}}ngOnInit(){this.carregarDados()}async carregarDados(){try{this.profissionais=await this.firebaseService.getProfissionais(),this.parceiros=await this.firebaseService.getParceiros(),this.participacoes=await this.firebaseService.getParticipacoes(),this.avaliacoes=await this.firebaseService.getAvaliacoes()}catch(e){console.error("Erro ao carregar dados:",e)}}async adicionarProfissional(){try{await this.firebaseService.addProfissional(this.novoProfissional),this.novoProfissional={nome:"",especialidade:"",telefone:""},this.carregarDados()}catch(e){console.error("Erro ao adicionar profissional:",e)}}async deletarProfissional(e){try{await this.firebaseService.deleteProfissional(e),this.carregarDados()}catch(t){console.error("Erro ao deletar profissional:",t)}}async adicionarParceiro(){try{await this.firebaseService.addParceiro(this.novoParceiro),this.novoParceiro={nome:"",descricao:"",desconto:""},this.carregarDados()}catch(e){console.error("Erro ao adicionar parceiro:",e)}}async deletarParceiro(e){try{await this.firebaseService.deleteParceiro(e),this.carregarDados()}catch(t){console.error("Erro ao deletar parceiro:",t)}}async adicionarParticipacao(){try{await this.firebaseService.addParticipacao(this.novaParticipacao),this.novaParticipacao={titulo:"",descricao:"",data:""},this.carregarDados()}catch(e){console.error("Erro ao adicionar participa\xE7\xE3o:",e)}}async deletarParticipacao(e){try{await this.firebaseService.deleteParticipacao(e),this.carregarDados()}catch(t){console.error("Erro ao deletar participa\xE7\xE3o:",t)}}async deletarAvaliacao(e){try{await this.firebaseService.deleteAvaliacao(e),this.carregarDados()}catch(t){console.error("Erro ao deletar avalia\xE7\xE3o:",t)}}async logout(){try{await this.firebaseService.logout(),this.router.navigate(["/"])}catch(e){console.error("Erro ao fazer logout:",e)}}static{this.\u0275fac=function(t){return new(t||n)(pe(oa),pe(si))}}static{this.\u0275cmp=En({type:n,selectors:[["app-admin"]],decls:18,vars:12,consts:[[1,"admin-container"],[1,"tabs"],[3,"click"],[1,"btn-logout",3,"click"],["class","tab-content",4,"ngIf"],[1,"tab-content"],[3,"ngSubmit"],["name","nome","placeholder","Nome","required","",3,"ngModelChange","ngModel"],["name","especialidade","placeholder","Especialidade","required","",3,"ngModelChange","ngModel"],["name","telefone","placeholder","Telefone",3,"ngModelChange","ngModel"],["type","submit"],[4,"ngFor","ngForOf"],[1,"btn-delete",3,"click"],["name","nome","placeholder","Nome do Parceiro","required","",3,"ngModelChange","ngModel"],["name","descricao","placeholder","Descri\xE7\xE3o",3,"ngModelChange","ngModel"],["name","desconto","placeholder","Desconto (%)",3,"ngModelChange","ngModel"],["name","titulo","placeholder","T\xEDtulo do Evento","required","",3,"ngModelChange","ngModel"],["name","data","type","date","required","",3,"ngModelChange","ngModel"],[1,"cards"],["class","card",4,"ngFor","ngForOf"],[1,"card"],["class","card-avaliacao",4,"ngFor","ngForOf"],[1,"card-avaliacao"]],template:function(t,r){t&1&&(A(0,"div",0)(1,"h1"),L(2,"Painel Admin - Isaac Barbearia"),R(),A(3,"div",1)(4,"button",2),Re("click",function(){return r.tabAtual="profissionais"}),L(5," Profissionais "),R(),A(6,"button",2),Re("click",function(){return r.tabAtual="parceiros"}),L(7," Parceiros "),R(),A(8,"button",2),Re("click",function(){return r.tabAtual="participacoes"}),L(9," Participa\xE7\xE3o "),R(),A(10,"button",2),Re("click",function(){return r.tabAtual="avaliacoes"}),L(11," Avalia\xE7\xF5es "),R(),A(12,"button",3),Re("click",function(){return r.logout()}),L(13,"Sair"),R()(),qn(14,V4,22,4,"div",4)(15,U4,22,4,"div",4)(16,H4,11,4,"div",4)(17,z4,5,1,"div",4),R()),t&2&&(x(4),Be("active",r.tabAtual==="profissionais"),x(2),Be("active",r.tabAtual==="parceiros"),x(2),Be("active",r.tabAtual==="participacoes"),x(2),Be("active",r.tabAtual==="avaliacoes"),x(4),ot("ngIf",r.tabAtual==="profissionais"),x(),ot("ngIf",r.tabAtual==="parceiros"),x(),ot("ngIf",r.tabAtual==="participacoes"),x(),ot("ngIf",r.tabAtual==="avaliacoes"))},dependencies:[ni,jd,mc,Ts,Rh,ci,Cs,Sh,Gc,po,qc],styles:[".admin-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;font-family:Arial,sans-serif}h1[_ngcontent-%COMP%]{color:#333;text-align:center;margin-bottom:30px}.tabs[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:30px;border-bottom:2px solid #ddd}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 20px;background:#f0f0f0;border:none;cursor:pointer;font-size:16px;border-radius:4px 4px 0 0;transition:all .3s}.tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#333;color:#fff}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#555;color:#fff}.btn-logout[_ngcontent-%COMP%]{margin-left:auto;background:#e74c3c!important}.btn-logout[_ngcontent-%COMP%]:hover{background:#c0392b!important}.tab-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}h2[_ngcontent-%COMP%]{color:#333;margin-bottom:20px}form[_ngcontent-%COMP%]{background:#f9f9f9;padding:20px;border-radius:8px;margin-bottom:30px;display:flex;flex-direction:column;gap:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:10px;border:1px solid #ddd;border-radius:4px;font-size:14px;font-family:Arial,sans-serif}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}button[type=submit][_ngcontent-%COMP%]{padding:12px 20px;background:#27ae60;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:16px;transition:background .3s}button[type=submit][_ngcontent-%COMP%]:hover{background:#229954}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px;background:#fff;box-shadow:0 2px 4px #0000001a}thead[_ngcontent-%COMP%]{background:#333;color:#fff}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #ddd}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f5f5f5}.btn-delete[_ngcontent-%COMP%]{padding:6px 12px;background:#e74c3c;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background .3s}.btn-delete[_ngcontent-%COMP%]:hover{background:#c0392b}.cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px;margin-top:20px}.card[_ngcontent-%COMP%], .card-avaliacao[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 8px #0000001a;transition:transform .3s,box-shadow .3s}.card[_ngcontent-%COMP%]:hover, .card-avaliacao[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 4px 12px #00000026}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .card-avaliacao[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;color:#333}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .card-avaliacao[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;color:#666}.card-avaliacao[_ngcontent-%COMP%]{border-left:4px solid #f39c12}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-top:10px}"]})}};var q4=[{path:"",component:$f},{path:"admin/login",component:dp},{path:"admin",component:hp},{path:"**",redirectTo:""}];Fy(vh,{providers:[yy(),av(q4)]}).catch(n=>console.error(n));
