var z1=Object.defineProperty,q1=Object.defineProperties;var G1=Object.getOwnPropertyDescriptors;var Ju=Object.getOwnPropertySymbols;var Aw=Object.prototype.hasOwnProperty,Rw=Object.prototype.propertyIsEnumerable;var Sw=(n,e,t)=>e in n?z1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,k=(n,e)=>{for(var t in e||={})Aw.call(e,t)&&Sw(n,t,e[t]);if(Ju)for(var t of Ju(e))Rw.call(e,t)&&Sw(n,t,e[t]);return n},z=(n,e)=>q1(n,G1(e));var Up=(n,e)=>{var t={};for(var r in n)Aw.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Ju)for(var r of Ju(n))e.indexOf(r)<0&&Rw.call(n,r)&&(t[r]=n[r]);return t};var St=null,Zu=!1,zp=1,W1=null,kt=Symbol("SIGNAL");function Q(n){let e=St;return St=n,e}function el(){return St}var Ca={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Da(n){if(Zu)throw new Error("");if(St===null)return;St.consumerOnSignalRead(n);let e=St.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=St.recomputing;if(r&&(t=e!==void 0?e.nextProducer:St.producers,t!==void 0&&t.producer===n)){St.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===St&&(!r||Q1(i,St)))return;let o=Bo(St),s={producer:n,consumer:St,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};St.producersTail=s,e!==void 0?e.nextProducer=s:St.producers=s,o&&Pw(n,s)}function xw(){zp++}function qp(n){if(!(Bo(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===zp)){if(!n.producerMustRecompute(n)&&!nl(n)){$p(n);return}n.producerRecomputeValue(n),$p(n)}}function Gp(n){if(n.consumers===void 0)return;let e=Zu;Zu=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||K1(r)}}finally{Zu=e}}function Wp(){return St?.consumerAllowSignalWrites!==!1}function K1(n){n.dirty=!0,Gp(n),n.consumerMarkedDirty?.(n)}function $p(n){n.dirty=!1,n.lastCleanEpoch=zp}function Ta(n){return n&&Mw(n),Q(n)}function Mw(n){n.producersTail=void 0,n.recomputing=!0}function tl(n,e){Q(e),n&&Nw(n)}function Nw(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(Bo(n))do t=Kp(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function nl(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(qp(t),r!==t.version))return!0}return!1}function Sa(n){if(Bo(n)){let e=n.producers;for(;e!==void 0;)e=Kp(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function Pw(n,e){let t=n.consumersTail,r=Bo(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)Pw(i.producer,i)}function Kp(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Bo(e)){let o=e.producers;for(;o!==void 0;)o=Kp(o)}return t}function Bo(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Qp(n){W1?.(n)}function Q1(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Yp(n,e){return Object.is(n,e)}function rl(n,e){let t=Object.create(Y1);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(qp(t),Da(t),t.value===Xu)throw t.error;return t.value};return r[kt]=t,Qp(t),r}var Bp=Symbol("UNSET"),Hp=Symbol("COMPUTING"),Xu=Symbol("ERRORED"),Y1=z(k({},Ca),{value:Bp,dirty:!0,error:null,equal:Yp,kind:"computed",producerMustRecompute(n){return n.value===Bp||n.value===Hp},producerRecomputeValue(n){if(n.value===Hp)throw new Error("");let e=n.value;n.value=Hp;let t=Ta(n),r,i=!1;try{r=n.computation(),Q(null),i=e!==Bp&&e!==Xu&&r!==Xu&&n.equal(e,r)}catch(o){r=Xu,n.error=o}finally{tl(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function J1(){throw new Error}var kw=J1;function Ow(n){kw(n)}function Jp(n){kw=n}var Z1=null;function Zp(n,e){let t=Object.create(il);t.value=n,e!==void 0&&(t.equal=e);let r=()=>Fw(t);return r[kt]=t,Qp(t),[r,s=>Aa(t,s),s=>Lw(t,s)]}function Fw(n){return Da(n),n.value}function Aa(n,e){Wp()||Ow(n),n.equal(n.value,e)||(n.value=e,X1(n))}function Lw(n,e){Wp()||Ow(n),Aa(n,e(n.value))}var il=z(k({},Ca),{equal:Yp,value:void 0,kind:"signal"});function X1(n){n.version++,xw(),Gp(n),Z1?.(n)}function Xp(n){let e=Q(null);try{return n()}finally{Q(e)}}function ne(n){return typeof n=="function"}function Ho(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ol=Ho(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ra(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var _t=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ne(r))try{r()}catch(o){e=o instanceof ol?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Vw(o)}catch(s){e=e??[],s instanceof ol?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ol(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Vw(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ra(t,e)}remove(e){let{_finalizers:t}=this;t&&Ra(t,e),e instanceof n&&e._removeParent(this)}};_t.EMPTY=(()=>{let n=new _t;return n.closed=!0,n})();var eg=_t.EMPTY;function sl(n){return n instanceof _t||n&&"closed"in n&&ne(n.remove)&&ne(n.add)&&ne(n.unsubscribe)}function Vw(n){ne(n)?n():n.unsubscribe()}var gn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var $o={setTimeout(n,e,...t){let{delegate:r}=$o;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=$o;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function al(n){$o.setTimeout(()=>{let{onUnhandledError:e}=gn;if(e)e(n);else throw n})}function xa(){}var jw=tg("C",void 0,void 0);function Uw(n){return tg("E",void 0,n)}function Bw(n){return tg("N",n,void 0)}function tg(n,e,t){return{kind:n,value:e,error:t}}var Ni=null;function zo(n){if(gn.useDeprecatedSynchronousErrorHandling){let e=!Ni;if(e&&(Ni={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Ni;if(Ni=null,t)throw r}}else n()}function Hw(n){gn.useDeprecatedSynchronousErrorHandling&&Ni&&(Ni.errorThrown=!0,Ni.error=n)}var Pi=class extends _t{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,sl(e)&&e.add(this)):this.destination=nM}static create(e,t,r){return new qo(e,t,r)}next(e){this.isStopped?rg(Bw(e),this):this._next(e)}error(e){this.isStopped?rg(Uw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?rg(jw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},eM=Function.prototype.bind;function ng(n,e){return eM.call(n,e)}var ig=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){cl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){cl(r)}else cl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){cl(t)}}},qo=class extends Pi{constructor(e,t,r){super();let i;if(ne(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&gn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ng(e.next,o),error:e.error&&ng(e.error,o),complete:e.complete&&ng(e.complete,o)}):i=e}this.destination=new ig(i)}};function cl(n){gn.useDeprecatedSynchronousErrorHandling?Hw(n):al(n)}function tM(n){throw n}function rg(n,e){let{onStoppedNotification:t}=gn;t&&$o.setTimeout(()=>t(n,e))}var nM={closed:!0,next:xa,error:tM,complete:xa};var Go=typeof Symbol=="function"&&Symbol.observable||"@@observable";function mn(n){return n}function og(...n){return sg(n)}function sg(n){return n.length===0?mn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var _e=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=iM(t)?t:new qo(t,r,i);return zo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=$w(r),new r((i,o)=>{let s=new qo({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Go](){return this}pipe(...t){return sg(t)(this)}toPromise(t){return t=$w(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function $w(n){var e;return(e=n??gn.Promise)!==null&&e!==void 0?e:Promise}function rM(n){return n&&ne(n.next)&&ne(n.error)&&ne(n.complete)}function iM(n){return n&&n instanceof Pi||rM(n)&&sl(n)}function oM(n){return ne(n?.lift)}function be(n){return e=>{if(oM(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ce(n,e,t,r,i){return new ag(n,e,t,r,i)}var ag=class extends Pi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var zw=Ho(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var at=(()=>{class n extends _e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ul(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new zw}next(t){zo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){zo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){zo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?eg:(this.currentObservers=null,o.push(t),new _t(()=>{this.currentObservers=null,Ra(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new _e;return t.source=this,t}}return n.create=(e,t)=>new ul(e,t),n})(),ul=class extends at{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:eg}};var Et=class extends at{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var It=new _e(n=>n.complete());function qw(n){return n&&ne(n.schedule)}function Gw(n){return n[n.length-1]}function ll(n){return ne(Gw(n))?n.pop():void 0}function Gr(n){return qw(Gw(n))?n.pop():void 0}function Kw(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function Ww(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ki(n){return this instanceof ki?(this.v=n,this):new ki(n)}function Qw(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(x){return Promise.resolve(x).then(y,p)}}function a(y,x){r[y]&&(i[y]=function(O){return new Promise(function(A,N){o.push([y,O,A,N])>1||u(y,O)})},x&&(i[y]=x(i[y])))}function u(y,x){try{l(r[y](x))}catch(O){g(o[0][3],O)}}function l(y){y.value instanceof ki?Promise.resolve(y.value.v).then(f,p):g(o[0][2],y)}function f(y){u("next",y)}function p(y){u("throw",y)}function g(y,x){y(x),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Yw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Ww=="function"?Ww(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var dl=n=>n&&typeof n.length=="number"&&typeof n!="function";function fl(n){return ne(n?.then)}function hl(n){return ne(n[Go])}function pl(n){return Symbol.asyncIterator&&ne(n?.[Symbol.asyncIterator])}function gl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function sM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ml=sM();function yl(n){return ne(n?.[ml])}function vl(n){return Qw(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield ki(t.read());if(i)return yield ki(void 0);yield yield ki(r)}}finally{t.releaseLock()}})}function _l(n){return ne(n?.getReader)}function Ge(n){if(n instanceof _e)return n;if(n!=null){if(hl(n))return aM(n);if(dl(n))return cM(n);if(fl(n))return uM(n);if(pl(n))return Jw(n);if(yl(n))return lM(n);if(_l(n))return dM(n)}throw gl(n)}function aM(n){return new _e(e=>{let t=n[Go]();if(ne(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function cM(n){return new _e(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function uM(n){return new _e(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,al)})}function lM(n){return new _e(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Jw(n){return new _e(e=>{fM(n,e).catch(t=>e.error(t))})}function dM(n){return Jw(vl(n))}function fM(n,e){var t,r,i,o;return Kw(this,void 0,void 0,function*(){try{for(t=Yw(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Ut(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function El(n,e=0){return be((t,r)=>{t.subscribe(Ce(r,i=>Ut(r,n,()=>r.next(i),e),()=>Ut(r,n,()=>r.complete(),e),i=>Ut(r,n,()=>r.error(i),e)))})}function Il(n,e=0){return be((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Zw(n,e){return Ge(n).pipe(Il(e),El(e))}function Xw(n,e){return Ge(n).pipe(Il(e),El(e))}function e0(n,e){return new _e(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function t0(n,e){return new _e(t=>{let r;return Ut(t,e,()=>{r=n[ml](),Ut(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ne(r?.return)&&r.return()})}function wl(n,e){if(!n)throw new Error("Iterable cannot be null");return new _e(t=>{Ut(t,e,()=>{let r=n[Symbol.asyncIterator]();Ut(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function n0(n,e){return wl(vl(n),e)}function r0(n,e){if(n!=null){if(hl(n))return Zw(n,e);if(dl(n))return e0(n,e);if(fl(n))return Xw(n,e);if(pl(n))return wl(n,e);if(yl(n))return t0(n,e);if(_l(n))return n0(n,e)}throw gl(n)}function We(n,e){return e?r0(n,e):Ge(n)}function me(...n){let e=Gr(n);return We(n,e)}function cg(n,e){let t=ne(n)?n:()=>n,r=i=>i.error(t());return new _e(e?i=>e.schedule(r,0,i):r)}function bl(n){return!!n&&(n instanceof _e||ne(n.lift)&&ne(n.subscribe))}var Oi=Ho(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Pe(n,e){return be((t,r)=>{let i=0;t.subscribe(Ce(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:hM}=Array;function pM(n,e){return hM(e)?n(...e):n(e)}function Cl(n){return Pe(e=>pM(n,e))}var{isArray:gM}=Array,{getPrototypeOf:mM,prototype:yM,keys:vM}=Object;function Dl(n){if(n.length===1){let e=n[0];if(gM(e))return{args:e,keys:null};if(_M(e)){let t=vM(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function _M(n){return n&&typeof n=="object"&&mM(n)===yM}function Tl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function ug(...n){let e=Gr(n),t=ll(n),{args:r,keys:i}=Dl(n);if(r.length===0)return We([],e);let o=new _e(EM(r,e,i?s=>Tl(i,s):mn));return t?o.pipe(Cl(t)):o}function EM(n,e,t=mn){return r=>{i0(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)i0(e,()=>{let l=We(n[u],e),f=!1;l.subscribe(Ce(r,p=>{o[u]=p,f||(f=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function i0(n,e,t){n?Ut(t,n,e):e()}function o0(n,e,t,r,i,o,s,a){let u=[],l=0,f=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=O=>l<r?x(O):u.push(O),x=O=>{o&&e.next(O),l++;let A=!1;Ge(t(O,f++)).subscribe(Ce(e,N=>{i?.(N),o?y(N):e.next(N)},()=>{A=!0},void 0,()=>{if(A)try{for(l--;u.length&&l<r;){let N=u.shift();s?Ut(e,s,()=>x(N)):x(N)}g()}catch(N){e.error(N)}}))};return n.subscribe(Ce(e,y,()=>{p=!0,g()})),()=>{a?.()}}function Ot(n,e,t=1/0){return ne(e)?Ot((r,i)=>Pe((o,s)=>e(r,o,i,s))(Ge(n(r,i))),t):(typeof e=="number"&&(t=e),be((r,i)=>o0(r,i,n,t)))}function s0(n=1/0){return Ot(mn,n)}function a0(){return s0(1)}function Wo(...n){return a0()(We(n,Gr(n)))}function Ma(n){return new _e(e=>{Ge(n()).subscribe(e)})}function lg(...n){let e=ll(n),{args:t,keys:r}=Dl(n),i=new _e(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let f=0;f<s;f++){let p=!1;Ge(t[f]).subscribe(Ce(o,g=>{p||(p=!0,l--),a[f]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Tl(r,a):a),o.complete())}))}});return e?i.pipe(Cl(e)):i}function cr(n,e){return be((t,r)=>{let i=0;t.subscribe(Ce(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Na(n){return be((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Ce(t,void 0,void 0,s=>{o=Ge(n(s,Na(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Sl(n,e){return ne(e)?Ot(n,e,1):Ot(n,1)}function c0(n){return be((e,t)=>{let r=!1;e.subscribe(Ce(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ur(n){return n<=0?()=>It:be((e,t)=>{let r=0;e.subscribe(Ce(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function u0(n=IM){return be((e,t)=>{let r=!1;e.subscribe(Ce(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function IM(){return new Oi}function dg(n){return be((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function lr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?cr((i,o)=>n(i,o,r)):mn,ur(1),t?c0(e):u0(()=>new Oi))}function Al(n){return n<=0?()=>It:be((e,t)=>{let r=[];e.subscribe(Ce(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function fg(...n){let e=Gr(n);return be((t,r)=>{(e?Wo(n,t,e):Wo(n,t)).subscribe(r)})}function dr(n,e){return be((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Ce(r,u=>{i?.unsubscribe();let l=0,f=o++;Ge(n(u,f)).subscribe(i=Ce(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Pa(n){return be((e,t)=>{Ge(n).subscribe(Ce(t,()=>t.complete(),xa)),!t.closed&&e.subscribe(t)})}function kn(n,e,t){let r=ne(n)||e||t?{next:n,error:e,complete:t}:n;return r?be((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ce(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):mn}var hg;function Rl(){return hg}function On(n){let e=hg;return hg=n,e}var l0=Symbol("NotFound");function Ko(n){return n===l0||n?.name==="\u0275NotFound"}var kl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",$=class extends Error{code;constructor(e,t){super(Bi(e,t)),this.code=e}};function CM(n){return`NG0${Math.abs(n)}`}function Bi(n,e){return`${CM(n)}${e?": "+e:""}`}function De(n){for(let e in n)if(n[e]===De)return e;throw Error("")}function g0(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function hr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(hr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Ag(n,e){return n?e?`${n} ${e}`:n:e||""}var DM=De({__forward_ref__:De});function gr(n){return n.__forward_ref__=gr,n.toString=function(){return hr(this())},n}function wt(n){return Rg(n)?n():n}function Rg(n){return typeof n=="function"&&n.hasOwnProperty(DM)&&n.__forward_ref__===gr}function W(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function mr(n){return{providers:n.providers||[],imports:n.imports||[]}}function ja(n){return TM(n,Ol)}function xg(n){return ja(n)!==null}function TM(n,e){return n.hasOwnProperty(e)&&n[e]||null}function SM(n){let e=n?.[Ol]??null;return e||null}function gg(n){return n&&n.hasOwnProperty(Ml)?n[Ml]:null}var Ol=De({\u0275prov:De}),Ml=De({\u0275inj:De}),q=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=W({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Mg(n){return n&&!!n.\u0275providers}var Ng=De({\u0275cmp:De}),Pg=De({\u0275dir:De}),kg=De({\u0275pipe:De}),Og=De({\u0275mod:De}),Oa=De({\u0275fac:De}),Hi=De({__NG_ELEMENT_ID__:De}),d0=De({__NG_ENV_ID__:De});function Fg(n){return Fl(n,"@NgModule"),n[Og]||null}function Kr(n){return Fl(n,"@Component"),n[Ng]||null}function Lg(n){return Fl(n,"@Directive"),n[Pg]||null}function m0(n){return Fl(n,"@Pipe"),n[kg]||null}function Fl(n,e){if(n==null)throw new $(-919,!1)}function Jo(n){return typeof n=="string"?n:n==null?"":String(n)}var y0=De({ngErrorCode:De}),AM=De({ngErrorMessage:De}),RM=De({ngTokenPath:De});function Vg(n,e){return v0("",-200,e)}function Ll(n,e){throw new $(-201,!1)}function v0(n,e,t){let r=new $(e,n);return r[y0]=e,r[AM]=n,t&&(r[RM]=t),r}function xM(n){return n[y0]}var mg;function _0(){return mg}function Gt(n){let e=mg;return mg=n,e}function jg(n,e,t){let r=ja(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Ll(n,"")}var MM={},Fi=MM,NM="__NG_DI_FLAG__",yg=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Li(t)||0;try{return this.injector.get(e,r&8?null:Fi,r)}catch(i){if(Ko(i))return i;throw i}}};function PM(n,e=0){let t=Rl();if(t===void 0)throw new $(-203,!1);if(t===null)return jg(n,void 0,e);{let r=kM(e),i=t.retrieve(n,r);if(Ko(i)){if(r.optional)return null;throw i}return i}}function ae(n,e=0){return(_0()||PM)(wt(n),e)}function V(n,e){return ae(n,Li(e))}function Li(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function kM(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function vg(n){let e=[];for(let t=0;t<n.length;t++){let r=wt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=OM(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(ae(i,o))}else e.push(ae(r))}return e}function OM(n){return n[NM]}function Vi(n,e){let t=n.hasOwnProperty(Oa);return t?n[Oa]:null}function Vl(n,e){n.forEach(t=>Array.isArray(t)?Vl(t,e):e(t))}function Ug(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ua(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function E0(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function I0(n,e,t){let r=Zo(n,e);return r>=0?n[r|1]=t:(r=~r,E0(n,r,e,t)),r}function jl(n,e){let t=Zo(n,e);if(t>=0)return n[t|1]}function Zo(n,e){return FM(n,e,1)}function FM(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Qr={},Wt=[],Xo=new q(""),Bg=new q("",-1),Hg=new q(""),Fa=class{get(e,t=Fi){if(t===Fi){let i=v0("",-201);throw i.name="\u0275NotFound",i}return t}};function Ba(n){return{\u0275providers:n}}function w0(...n){return{\u0275providers:$g(!0,n),\u0275fromNgModule:!0}}function $g(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Vl(e,s=>{let a=s;Nl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&b0(i,o),t}function b0(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];zg(i,o=>{e(o,r)})}}function Nl(n,e,t,r){if(n=wt(n),!n)return!1;let i=null,o=gg(n),s=!o&&Kr(n);if(!o&&!s){let u=n.ngModule;if(o=gg(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Nl(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;Vl(o.imports,f=>{Nl(f,e,t,r)&&(l||=[],l.push(f))}),l!==void 0&&b0(l,e)}if(!a){let l=Vi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Wt},i),e({provide:Hg,useValue:i,multi:!0},i),e({provide:Xo,useValue:()=>ae(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;zg(u,f=>{e(f,l)})}}else return!1;return i!==n&&n.providers!==void 0}function zg(n,e){for(let t of n)Mg(t)&&(t=t.\u0275providers),Array.isArray(t)?zg(t,e):e(t)}var LM=De({provide:String,useValue:De});function C0(n){return n!==null&&typeof n=="object"&&LM in n}function VM(n){return!!(n&&n.useExisting)}function jM(n){return!!(n&&n.useFactory)}function ji(n){return typeof n=="function"}function D0(n){return!!n.useClass}var Ha=new q(""),xl={},f0={},pg;function $a(){return pg===void 0&&(pg=new Fa),pg}var et=class{},Ui=class extends et{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Eg(e,s=>this.processProvider(s)),this.records.set(Bg,Qo(void 0,this)),i.has("environment")&&this.records.set(et,Qo(void 0,this));let o=this.records.get(Ha);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Hg,Wt,{self:!0}))}retrieve(e,t){let r=Li(t)||0;try{return this.get(e,Fi,r)}catch(i){if(Ko(i))return i;throw i}}destroy(){ka(this),this._destroyed=!0;let e=Q(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Q(e)}}onDestroy(e){return ka(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ka(this);let t=On(this),r=Gt(void 0),i;try{return e()}finally{On(t),Gt(r)}}get(e,t=Fi,r){if(ka(this),e.hasOwnProperty(d0))return e[d0](this);let i=Li(r),o,s=On(this),a=Gt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let f=zM(e)&&ja(e);f&&this.injectableDefInScope(f)?l=Qo(_g(e),xl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?$a():this.parent;return t=i&8&&t===Fi?null:t,u.get(e,t)}catch(u){let l=xM(u);throw l===-200||l===-201?new $(l,null):u}finally{Gt(a),On(s)}}resolveInjectorInitializers(){let e=Q(null),t=On(this),r=Gt(void 0),i;try{let o=this.get(Xo,Wt,{self:!0});for(let s of o)s()}finally{On(t),Gt(r),Q(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(hr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=wt(e);let t=ji(e)?e:wt(e&&e.provide),r=BM(e);if(!ji(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Qo(void 0,xl,!0),i.factory=()=>vg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Q(null);try{if(t.value===f0)throw Vg(hr(e));return t.value===xl&&(t.value=f0,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&$M(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Q(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=wt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function _g(n){let e=ja(n),t=e!==null?e.factory:Vi(n);if(t!==null)return t;if(n instanceof q)throw new $(204,!1);if(n instanceof Function)return UM(n);throw new $(204,!1)}function UM(n){if(n.length>0)throw new $(204,!1);let t=SM(n);return t!==null?()=>t.factory(n):()=>new n}function BM(n){if(C0(n))return Qo(void 0,n.useValue);{let e=qg(n);return Qo(e,xl)}}function qg(n,e,t){let r;if(ji(n)){let i=wt(n);return Vi(i)||_g(i)}else if(C0(n))r=()=>wt(n.useValue);else if(jM(n))r=()=>n.useFactory(...vg(n.deps||[]));else if(VM(n))r=(i,o)=>ae(wt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=wt(n&&(n.useClass||n.provide));if(HM(n))r=()=>new i(...vg(n.deps));else return Vi(i)||_g(i)}return r}function ka(n){if(n.destroyed)throw new $(205,!1)}function Qo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function HM(n){return!!n.deps}function $M(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function zM(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Eg(n,e){for(let t of n)Array.isArray(t)?Eg(t,e):t&&Mg(t)?Eg(t.\u0275providers,e):e(t)}function At(n,e){let t;n instanceof Ui?(ka(n),t=n):t=new yg(n);let r,i=On(t),o=Gt(void 0);try{return e()}finally{On(i),Gt(o)}}function T0(){return _0()!==void 0||Rl()!=null}var yn=0,X=1,re=2,ct=3,nn=4,rn=5,es=6,ts=7,Be=8,yr=9,Fn=10,Fe=11,ns=12,Gg=13,$i=14,Qt=15,zi=16,qi=17,Gi=18,vr=19,Wg=20,fr=21,Ul=22,za=23,Yt=24,Bl=25,Wi=26,bt=27,S0=1,Kg=6,Yr=7,qa=8,Ga=9,He=10;function Ln(n){return Array.isArray(n)&&typeof n[S0]=="object"}function vn(n){return Array.isArray(n)&&n[S0]===!0}function Qg(n){return(n.flags&4)!==0}function Jr(n){return n.componentOffset>-1}function Wa(n){return(n.flags&1)===1}function Vn(n){return!!n.template}function rs(n){return(n[re]&512)!==0}function Ki(n){return(n[re]&256)===256}var Yg="svg",A0="math";function on(n){for(;Array.isArray(n);)n=n[yn];return n}function Jg(n,e){return on(e[n])}function _n(n,e){return on(e[n.index])}function Ka(n,e){return n.data[e]}function sn(n,e){let t=e[n];return Ln(t)?t:t[yn]}function Hl(n){return(n[re]&128)===128}function R0(n){return vn(n[ct])}function jn(n,e){return e==null?null:n[e]}function Zg(n){n[qi]=0}function Xg(n){n[re]&1024||(n[re]|=1024,Hl(n)&&Ya(n))}function x0(n,e){for(;n>0;)e=e[$i],n--;return e}function Qa(n){return!!(n[re]&9216||n[Yt]?.dirty)}function $l(n){n[Fn].changeDetectionScheduler?.notify(8),n[re]&64&&(n[re]|=1024),Qa(n)&&Ya(n)}function Ya(n){n[Fn].changeDetectionScheduler?.notify(0);let e=Wr(n);for(;e!==null&&!(e[re]&8192||(e[re]|=8192,!Hl(e)));)e=Wr(e)}function em(n,e){if(Ki(n))throw new $(911,!1);n[fr]===null&&(n[fr]=[]),n[fr].push(e)}function M0(n,e){if(n[fr]===null)return;let t=n[fr].indexOf(e);t!==-1&&n[fr].splice(t,1)}function Wr(n){let e=n[ct];return vn(e)?e[ct]:e}function N0(n){return n[ts]??=[]}function P0(n){return n.cleanup??=[]}var ce={lFrame:Y0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ig=!1;function k0(){return ce.lFrame.elementDepthCount}function O0(){ce.lFrame.elementDepthCount++}function F0(){ce.lFrame.elementDepthCount--}function tm(){return ce.bindingsEnabled}function L0(){return ce.skipHydrationRootTNode!==null}function V0(n){return ce.skipHydrationRootTNode===n}function j0(){ce.skipHydrationRootTNode=null}function ye(){return ce.lFrame.lView}function Rt(){return ce.lFrame.tView}function Te(n){return ce.lFrame.contextLView=n,n[Be]}function Se(n){return ce.lFrame.contextLView=null,n}function Jt(){let n=nm();for(;n!==null&&n.type===64;)n=n.parent;return n}function nm(){return ce.lFrame.currentTNode}function U0(){let n=ce.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function is(n,e){let t=ce.lFrame;t.currentTNode=n,t.isParent=e}function rm(){return ce.lFrame.isParent}function B0(){ce.lFrame.isParent=!1}function im(){return Ig}function om(n){let e=Ig;return Ig=n,e}function H0(){let n=ce.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function $0(){return ce.lFrame.bindingIndex}function z0(n){return ce.lFrame.bindingIndex=n}function Qi(){return ce.lFrame.bindingIndex++}function sm(n){let e=ce.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function q0(){return ce.lFrame.inI18n}function G0(n,e){let t=ce.lFrame;t.bindingIndex=t.bindingRootIndex=n,zl(e)}function W0(){return ce.lFrame.currentDirectiveIndex}function zl(n){ce.lFrame.currentDirectiveIndex=n}function K0(n){let e=ce.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function am(n){ce.lFrame.currentQueryIndex=n}function qM(n){let e=n[X];return e.type===2?e.declTNode:e.type===1?n[rn]:null}function cm(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=qM(o),i===null||(o=o[$i],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ce.lFrame=Q0();return r.currentTNode=e,r.lView=n,!0}function ql(n){let e=Q0(),t=n[X];ce.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Q0(){let n=ce.lFrame,e=n===null?null:n.child;return e===null?Y0(n):e}function Y0(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function J0(){let n=ce.lFrame;return ce.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var um=J0;function Gl(){let n=J0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Z0(n){return(ce.lFrame.contextLView=x0(n,ce.lFrame.contextLView))[Be]}function _r(){return ce.lFrame.selectedIndex}function Zr(n){ce.lFrame.selectedIndex=n}function Wl(){let n=ce.lFrame;return Ka(n.tView,n.selectedIndex)}function $e(){ce.lFrame.currentNamespace=Yg}function Un(){GM()}function GM(){ce.lFrame.currentNamespace=null}function X0(){return ce.lFrame.currentNamespace}var eb=!0;function Kl(){return eb}function Ql(n){eb=n}function wg(n,e=null,t=null,r){let i=lm(n,e,t,r);return i.resolveInjectorInitializers(),i}function lm(n,e=null,t=null,r,i=new Set){let o=[t||Wt,w0(n)];return r=r||(typeof n=="object"?void 0:hr(n)),new Ui(o,e||$a(),r||null,i)}var Kt=class n{static THROW_IF_NOT_FOUND=Fi;static NULL=new Fa;static create(e,t){if(Array.isArray(e))return wg({name:""},t,e,"");{let r=e.name??"";return wg({name:r},e.parent,e.providers,r)}}static \u0275prov=W({token:n,providedIn:"any",factory:()=>ae(Bg)});static __NG_ELEMENT_ID__=-1},tt=new q(""),Bn=(()=>{class n{static __NG_ELEMENT_ID__=WM;static __NG_ENV_ID__=t=>t}return n})(),bg=class extends Bn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Ki(this._lView)}onDestroy(e){let t=this._lView;return em(t,e),()=>M0(t,e)}};function WM(){return new bg(ye())}var tb=!1,nb=new q(""),Xr=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Et(!1);debugTaskTracker=V(nb,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new _e(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),this.debugTaskTracker?.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.debugTaskTracker?.remove(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}return n})(),Cg=class extends at{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,T0()&&(this.destroyRef=V(Bn,{optional:!0})??void 0,this.pendingTasks=V(Xr,{optional:!0})??void 0)}emit(e){let t=Q(null);try{super.next(e)}finally{Q(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof _t&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ke=Cg;function Pl(...n){}function dm(n){let e,t;function r(){n=Pl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function rb(n){return queueMicrotask(()=>n()),()=>{n=Pl}}var fm="isAngularZone",La=fm+"_ID",KM=0,Ft=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ke(!1);onMicrotaskEmpty=new Ke(!1);onStable=new Ke(!1);onError=new Ke(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=tb}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,JM(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(fm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new $(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,QM,Pl,Pl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},QM={};function hm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function YM(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){dm(()=>{n.callbackScheduled=!1,Dg(n),n.isCheckStableRunning=!0,hm(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Dg(n)}function JM(n){let e=()=>{YM(n)},t=KM++;n._inner=n._inner.fork({name:"angular",properties:{[fm]:!0,[La]:t,[La+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(ZM(u))return r.invokeTask(o,s,a,u);try{return h0(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),p0(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return h0(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!XM(u)&&e(),p0(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Dg(n),hm(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Dg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function h0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function p0(n){n._nesting--,hm(n)}var Va=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ke;onMicrotaskEmpty=new Ke;onStable=new Ke;onError=new Ke;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function ZM(n){return ib(n,"__ignore_ng_zone__")}function XM(n){return ib(n,"__scheduler_tick__")}function ib(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var pr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Hn=new q("",{factory:()=>{let n=V(Ft),e=V(et),t;return r=>{n.runOutsideAngular(()=>{e.destroyed&&!t?setTimeout(()=>{throw r}):(t??=e.get(pr),t.handleError(r))})}}}),ob={provide:Xo,useValue:()=>{let n=V(pr,{optional:!0})},multi:!0};function de(n,e){let[t,r,i]=Zp(n,e?.equal),o=t,s=o[kt];return o.set=r,o.update=i,o.asReadonly=sb.bind(o),o}function sb(){let n=this[kt];if(n.readonlyFn===void 0){let e=()=>this();e[kt]=n,n.readonlyFn=e}return n.readonlyFn}var Yo=class{},Ja=new q("",{factory:()=>!0});var pm=new q("");var gm=(()=>{class n{static \u0275prov=W({token:n,providedIn:"root",factory:()=>new Tg})}return n})(),Tg=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}},Sg=class{[kt];constructor(e){this[kt]=e}destroy(){this[kt].destroy()}};function ut(n){return Xp(n)}function sc(n){return{toString:n}.toString()}function cN(n){return typeof n=="function"}function Lb(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var ed=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}},Ir=(()=>{let n=()=>Vb;return n.ngInherit=!0,n})();function Vb(n){return n.type.prototype.ngOnChanges&&(n.setInput=lN),uN}function uN(){let n=Ub(this),e=n?.current;if(e){let t=n.previous;if(t===Qr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function lN(n,e,t,r,i){let o=this.declaredInputs[r],s=Ub(n)||dN(n,{previous:Qr,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new ed(l&&l.currentValue,t,u===Qr),Lb(n,e,i,t)}var jb="__ngSimpleChanges__";function Ub(n){return n[jb]||null}function dN(n,e){return n[jb]=e}var ab=[];var xe=function(n,e=null,t){for(let r=0;r<ab.length;r++){let i=ab[r];i(n,e,t)}},Ie=(function(n){return n[n.TemplateCreateStart=0]="TemplateCreateStart",n[n.TemplateCreateEnd=1]="TemplateCreateEnd",n[n.TemplateUpdateStart=2]="TemplateUpdateStart",n[n.TemplateUpdateEnd=3]="TemplateUpdateEnd",n[n.LifecycleHookStart=4]="LifecycleHookStart",n[n.LifecycleHookEnd=5]="LifecycleHookEnd",n[n.OutputStart=6]="OutputStart",n[n.OutputEnd=7]="OutputEnd",n[n.BootstrapApplicationStart=8]="BootstrapApplicationStart",n[n.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",n[n.BootstrapComponentStart=10]="BootstrapComponentStart",n[n.BootstrapComponentEnd=11]="BootstrapComponentEnd",n[n.ChangeDetectionStart=12]="ChangeDetectionStart",n[n.ChangeDetectionEnd=13]="ChangeDetectionEnd",n[n.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",n[n.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",n[n.AfterRenderHooksStart=16]="AfterRenderHooksStart",n[n.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",n[n.ComponentStart=18]="ComponentStart",n[n.ComponentEnd=19]="ComponentEnd",n[n.DeferBlockStateStart=20]="DeferBlockStateStart",n[n.DeferBlockStateEnd=21]="DeferBlockStateEnd",n[n.DynamicComponentStart=22]="DynamicComponentStart",n[n.DynamicComponentEnd=23]="DynamicComponentEnd",n[n.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",n[n.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",n})(Ie||{});function fN(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Vb(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Bb(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),f!=null&&(n.destroyHooks??=[]).push(t,f)}}function Jl(n,e,t){Hb(n,e,3,t)}function Zl(n,e,t,r){(n[re]&3)===t&&Hb(n,e,t,r)}function mm(n,e){let t=n[re];(t&3)===e&&(t&=16383,t+=1,n[re]=t)}function Hb(n,e,t,r){let i=r!==void 0?n[qi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[qi]+=65536),(a<o||o==-1)&&(hN(n,t,e,u),n[qi]=(n[qi]&4294901760)+u+2),u++}function cb(n,e){xe(Ie.LifecycleHookStart,n,e);let t=Q(null);try{e.call(n)}finally{Q(t),xe(Ie.LifecycleHookEnd,n,e)}}function hN(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[re]>>14<n[qi]>>16&&(n[re]&3)===e&&(n[re]+=16384,cb(a,o)):cb(a,o)}var ss=-1,Ji=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function pN(n){return(n.flags&8)!==0}function gN(n){return(n.flags&16)!==0}function mN(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];vN(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function yN(n){return n===3||n===4||n===6}function vN(n){return n.charCodeAt(0)===64}function ec(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?ub(n,t,i,null,e[++r]):ub(n,t,i,null,null))}}return n}function ub(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function $b(n){return n!==ss}function td(n){return n&32767}function _N(n){return n>>16}function nd(n,e){let t=_N(n),r=e;for(;t>0;)r=r[$i],t--;return r}var Sm=!0;function lb(n){let e=Sm;return Sm=n,e}var EN=256,zb=EN-1,qb=5,IN=0,$n={};function wN(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Hi)&&(r=t[Hi]),r==null&&(r=t[Hi]=IN++);let i=r&zb,o=1<<i;e.data[n+(i>>qb)]|=o}function rd(n,e){let t=Gb(n,e);if(t!==-1)return t;let r=e[X];r.firstCreatePass&&(n.injectorIndex=e.length,ym(r.data,n),ym(e,null),ym(r.blueprint,null));let i=Km(n,e),o=n.injectorIndex;if($b(i)){let s=td(i),a=nd(i,e),u=a[X].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function ym(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Gb(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Km(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=Jb(i),r===null)return ss;if(t++,i=i[$i],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ss}function Am(n,e,t){wN(n,e,t)}function Wb(n,e,t){if(t&8||n!==void 0)return n;Ll(e,"NodeInjector")}function Kb(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[yr],o=Gt(void 0);try{return i?i.get(e,r,t&8):jg(e,r,t&8)}finally{Gt(o)}}return Wb(r,e,t)}function Qb(n,e,t,r=0,i){if(n!==null){if(e[re]&2048&&!(r&2)){let s=SN(n,e,t,r,$n);if(s!==$n)return s}let o=Yb(n,e,t,r,$n);if(o!==$n)return o}return Kb(e,t,r,i)}function Yb(n,e,t,r,i){let o=DN(t);if(typeof o=="function"){if(!cm(e,n,r))return r&1?Wb(i,t,r):Kb(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Ll(t);else return s}finally{um()}}else if(typeof o=="number"){let s=null,a=Gb(n,e),u=ss,l=r&1?e[Qt][rn]:null;for((a===-1||r&4)&&(u=a===-1?Km(n,e):e[a+8],u===ss||!fb(r,!1)?a=-1:(s=e[X],a=td(u),e=nd(u,e)));a!==-1;){let f=e[X];if(db(o,a,f.data)){let p=bN(a,e,t,s,r,l);if(p!==$n)return p}u=e[a+8],u!==ss&&fb(r,e[X].data[a+8]===l)&&db(o,a,e)?(s=f,a=td(u),e=nd(u,e)):a=-1}}return i}function bN(n,e,t,r,i,o){let s=e[X],a=s.data[n+8],u=r==null?Jr(a)&&Sm:r!=s&&(a.type&3)!==0,l=i&1&&o===a,f=CN(a,s,t,u,l);return f!==null?id(e,s,f,a,i):$n}function CN(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,f=o>>20,p=r?a:a+f,g=i?a+f:l;for(let y=p;y<g;y++){let x=s[y];if(y<u&&t===x||y>=u&&x.type===t)return y}if(i){let y=s[u];if(y&&Vn(y)&&y.type===t)return u}return null}function id(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Ji){let a=o;if(a.resolving)throw Vg("");let u=lb(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],f,p=a.injectImpl?Gt(a.injectImpl):null,g=cm(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&fN(t,s[t],e)}finally{p!==null&&Gt(p),lb(u),a.resolving=!1,um()}}return o}function DN(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Hi)?n[Hi]:void 0;return typeof e=="number"?e>=0?e&zb:TN:e}function db(n,e,t){let r=1<<n;return!!(t[e+(n>>qb)]&r)}function fb(n,e){return!(n&2)&&!(n&1&&e)}var Yi=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Qb(this._tNode,this._lView,e,Li(r),t)}};function TN(){return new Yi(Jt(),ye())}function no(n){return sc(()=>{let e=n.prototype.constructor,t=e[Oa]||Rm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Oa]||Rm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Rm(n){return Rg(n)?()=>{let e=Rm(wt(n));return e&&e()}:Vi(n)}function SN(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[re]&2048&&!rs(s);){let a=Yb(o,s,t,r|2,$n);if(a!==$n)return a;let u=o.parent;if(!u){let l=s[Wg];if(l){let f=l.get(t,$n,r);if(f!==$n)return f}u=Jb(s),s=s[$i]}o=u}return i}function Jb(n){let e=n[X],t=e.type;return t===2?e.declTNode:t===1?n[rn]:null}function AN(){return md(Jt(),ye())}function md(n,e){return new ti(_n(n,e))}var ti=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=AN}return n})();function Zb(n){return(n.flags&128)===128}var Qm=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(Qm||{}),Xb=new Map,RN=0;function xN(){return RN++}function MN(n){Xb.set(n[vr],n)}function xm(n){Xb.delete(n[vr])}var hb="__ngContext__";function as(n,e){Ln(e)?(n[hb]=e[vr],MN(e)):n[hb]=e}function eC(n){return nC(n[ns])}function tC(n){return nC(n[nn])}function nC(n){for(;n!==null&&!vn(n);)n=n[nn];return n}var NN;function Ym(n){NN=n}var yd=new q("",{factory:()=>PN}),PN="ng";var vd=new q(""),ac=new q("",{providedIn:"platform",factory:()=>"unknown"});var _d=new q("",{factory:()=>V(tt).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),Ed={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},Id=new q("",{factory:()=>Ed});var rC="r";var iC="di";var oC=!1,sC=new q("",{factory:()=>oC});var kN=(n,e,t,r)=>{};function ON(n,e,t,r){kN(n,e,t,r)}function Jm(n){return(n.flags&32)===32}var FN=()=>null;function aC(n,e,t=!1){return FN(n,e,t)}function cC(n,e){let t=n.contentQueries;if(t!==null){let r=Q(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];am(o),a.contentQueries(2,e[s],s)}}}finally{Q(r)}}}function Mm(n,e,t){am(0);let r=Q(null);try{e(n,t)}finally{Q(r)}}function uC(n,e,t){if(Qg(e)){let r=Q(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{Q(r)}}}var In=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n[n.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",n})(In||{});var od=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${kl})`}};function cc(n){return n instanceof od?n.changingThisBreaksApplicationSecurity:n}function lC(n,e){let t=dC(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${kl})`)}return t===e}function dC(n){return n instanceof od&&n.getTypeName()||null}var LN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function fC(n){return n=String(n),n.match(LN)?n:"unsafe:"+n}function VN(n,e){return n.createText(e)}function jN(n,e,t){n.setValue(e,t)}function hC(n,e,t){return n.createElement(e,t)}function sd(n,e,t,r,i){n.insertBefore(e,t,r,i)}function pC(n,e,t){n.appendChild(e,t)}function pb(n,e,t,r,i){r!==null?sd(n,e,t,r,i):pC(n,e,t)}function gC(n,e,t,r){n.removeChild(null,e,t,r)}function UN(n,e,t){n.setAttribute(e,"style",t)}function BN(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function mC(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&mN(n,e,r),i!==null&&BN(n,e,i),o!==null&&UN(n,e,o)}var Zm=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Zm||{});function wn(n){let e=HN();return e?e.sanitize(Zm.URL,n)||"":lC(n,"URL")?cc(n):fC(Jo(n))}function HN(){let n=ye();return n&&n[Fn].sanitizer}function yC(n){return n instanceof Function?n():n}function $N(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var vC="ng-template";function zN(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&$N(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Xm(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Xm(n){return n.type===4&&n.value!==vC}function qN(n,e,t){let r=n.type===4&&!t?vC:n.value;return e===r}function GN(n,e,t){let r=4,i=n.attrs,o=i!==null?QN(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!En(r)&&!En(u))return!1;if(s&&En(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!qN(n,u,t)||u===""&&e.length===1){if(En(r))return!1;s=!0}}else if(r&8){if(i===null||!zN(n,i,u,t)){if(En(r))return!1;s=!0}}else{let l=e[++a],f=WN(u,i,Xm(n),t);if(f===-1){if(En(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(En(r))return!1;s=!0}}}}return En(r)||s}function En(n){return(n&1)===0}function WN(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return YN(e,n)}function KN(n,e,t=!1){for(let r=0;r<e.length;r++)if(GN(n,e[r],t))return!0;return!1}function QN(n){for(let e=0;e<n.length;e++){let t=n[e];if(yN(t))return e}return n.length}function YN(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function gb(n,e){return n?":not("+e.trim()+")":e}function JN(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!En(s)&&(e+=gb(o,i),i=""),r=s,o=o||!En(r);t++}return i!==""&&(e+=gb(o,i)),e}function ZN(n){return n.map(JN).join(",")}function XN(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!En(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var an={};function ey(n,e,t,r,i,o,s,a,u,l,f){let p=bt+r,g=p+i,y=eP(p,g),x=typeof l=="function"?l():l;return y[X]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:x,incompleteFirstPass:!1,ssrId:f}}function eP(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:an);return t}function tP(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=ey(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function ty(n,e,t,r,i,o,s,a,u,l,f){let p=e.blueprint.slice();return p[yn]=i,p[re]=r|4|128|8|64|1024,(l!==null||n&&n[re]&2048)&&(p[re]|=2048),Zg(p),p[ct]=p[$i]=n,p[Be]=t,p[Fn]=s||n&&n[Fn],p[Fe]=a||n&&n[Fe],p[yr]=u||n&&n[yr]||null,p[rn]=o,p[vr]=xN(),p[es]=f,p[Wg]=l,p[Qt]=e.type==2?n[Qt]:p,p}function nP(n,e,t){let r=_n(e,n),i=tP(t),o=n[Fn].rendererFactory,s=ny(n,ty(n,i,null,_C(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function _C(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function EC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function ny(n,e){return n[ns]?n[Gg][nn]=e:n[ns]=e,n[Gg]=e,e}function S(n=1){IC(Rt(),ye(),_r()+n,!1)}function IC(n,e,t,r){if(!r)if((e[re]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Jl(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Zl(e,o,0,t)}Zr(t)}var wd=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(wd||{});function Nm(n,e,t,r){let i=Q(null);try{let[o,s,a]=n.inputs[t],u=null;(s&wd.SignalBased)!==0&&(u=e[o][kt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):Lb(e,u,o,r)}finally{Q(i)}}var zn=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(zn||{}),rP;function ry(n,e){return rP(n,e)}var Zi=new Set,iy=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(iy||{}),uc=new q(""),mb=new Set;function qn(n){mb.has(n)||(mb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var wC=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}return n})();var bC=new q("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:V(et)})});function CC(n,e,t){let r=n.get(bC);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function iP(n,e){let t=n.get(bC);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)t.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function oP(n,e){for(let[t,r]of e)CC(n,r.animateFns)}function yb(n,e,t,r){let i=n?.[Wi]?.enter;e!==null&&i&&i.has(t.index)&&oP(r,i)}function os(n,e,t,r,i,o,s,a){if(i!=null){let u,l=!1;vn(i)?u=i:Ln(i)&&(l=!0,i=i[yn]);let f=on(i);n===0&&r!==null?(yb(a,r,o,t),s==null?pC(e,r,f):sd(e,r,f,s||null,!0)):n===1&&r!==null?(yb(a,r,o,t),sd(e,r,f,s||null,!0)):n===2?vb(a,o,t,p=>{gC(e,f,l,p)}):n===3&&vb(a,o,t,()=>{e.destroyNode(f)}),u!=null&&vP(e,n,t,u,o,r,s)}}function sP(n,e){DC(n,e),e[yn]=null,e[rn]=null}function aP(n,e,t,r,i,o){r[yn]=i,r[rn]=e,Cd(n,r,t,1,i,o)}function DC(n,e){e[Fn].changeDetectionScheduler?.notify(9),Cd(n,e,e[Fe],2,null,null)}function cP(n){let e=n[ns];if(!e)return vm(n[X],n);for(;e;){let t=null;if(Ln(e))t=e[ns];else{let r=e[He];r&&(t=r)}if(!t){for(;e&&!e[nn]&&e!==n;)Ln(e)&&vm(e[X],e),e=e[ct];e===null&&(e=n),Ln(e)&&vm(e[X],e),t=e&&e[nn]}e=t}}function oy(n,e){let t=n[Ga],r=t.indexOf(e);t.splice(r,1)}function bd(n,e){if(Ki(e))return;let t=e[Fe];t.destroyNode&&Cd(n,e,t,3,null,null),cP(e)}function vm(n,e){if(Ki(e))return;let t=Q(null);try{e[re]&=-129,e[re]|=256,e[Yt]&&Sa(e[Yt]),dP(n,e),lP(n,e),e[X].type===1&&e[Fe].destroy();let r=e[zi];if(r!==null&&vn(e[ct])){r!==e[ct]&&oy(r,e);let i=e[Gi];i!==null&&i.detachView(n)}xm(e)}finally{Q(t)}}function vb(n,e,t,r){let i=n?.[Wi];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&Zi.add(n[vr]),CC(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:f}=l();a.push(f)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),uP(n,r)}else n&&Zi.delete(n[vr]),r(!1)},i)}function uP(n,e){let t=n[Wi]?.running;if(t){t.then(()=>{n[Wi].running=void 0,Zi.delete(n[vr]),e(!0)});return}e(!1)}function lP(n,e){let t=n.cleanup,r=e[ts];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[ts]=null);let i=e[fr];if(i!==null){e[fr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[za];if(o!==null){e[za]=null;for(let s of o)s.destroy()}}function dP(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Ji)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];xe(Ie.LifecycleHookStart,a,u);try{u.call(a)}finally{xe(Ie.LifecycleHookEnd,a,u)}}else{xe(Ie.LifecycleHookStart,i,o);try{o.call(i)}finally{xe(Ie.LifecycleHookEnd,i,o)}}}}}function fP(n,e,t){return hP(n,e.parent,t)}function hP(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[yn];if(Jr(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===In.None||i===In.Emulated)return null}return _n(r,t)}function pP(n,e,t){return mP(n,e,t)}function gP(n,e,t){return n.type&40?_n(n,t):null}var mP=gP,_b;function sy(n,e,t,r){let i=fP(n,r,e),o=e[Fe],s=r.parent||e[rn],a=pP(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)pb(o,i,t[u],a,!1);else pb(o,i,t,a,!1);_b!==void 0&&_b(o,r,e,t,i)}function Za(n,e){if(e!==null){let t=e.type;if(t&3)return _n(e,n);if(t&4)return Pm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Za(n,r);{let i=n[e.index];return vn(i)?Pm(-1,i):on(i)}}else{if(t&128)return Za(n,e.next);if(t&32)return ry(e,n)()||on(n[e.index]);{let r=TC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Wr(n[Qt]);return Za(i,r)}else return Za(n,e.next)}}}return null}function TC(n,e){if(e!==null){let r=n[Qt][rn],i=e.projection;return r.projection[i]}return null}function Pm(n,e){let t=He+n+1;if(t<e.length){let r=e[t],i=r[X].firstChild;if(i!==null)return Za(r,i)}return e[Yr]}function ay(n,e,t,r,i,o,s){for(;t!=null;){let a=r[yr];if(t.type===128){t=t.next;continue}let u=r[t.index],l=t.type;if(s&&e===0&&(u&&as(on(u),r),t.flags|=2),!Jm(t))if(l&8)ay(n,e,t.child,r,i,o,!1),os(e,n,a,i,u,t,o,r);else if(l&32){let f=ry(t,r),p;for(;p=f();)os(e,n,a,i,p,t,o,r);os(e,n,a,i,u,t,o,r)}else l&16?yP(n,e,r,t,i,o):os(e,n,a,i,u,t,o,r);t=s?t.projectionNext:t.next}}function Cd(n,e,t,r,i,o){ay(t,r,n.firstChild,e,i,o,!1)}function yP(n,e,t,r,i,o){let s=t[Qt],u=s[rn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];os(e,n,t[yr],i,f,r,o,t)}else{let l=u,f=s[ct];Zb(r)&&(l.flags|=128),ay(n,e,l,f,i,o,!0)}}function vP(n,e,t,r,i,o,s){let a=r[Yr],u=on(r);a!==u&&os(e,n,t,o,a,i,s);for(let l=He;l<r.length;l++){let f=r[l];Cd(f[X],f,n,e,o,a)}}function _P(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:zn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=zn.Important),n.setStyle(t,r,i,o))}}function SC(n,e,t,r,i){let o=_r(),s=r&2;try{Zr(-1),s&&e.length>bt&&IC(n,e,bt,!1);let a=s?Ie.TemplateUpdateStart:Ie.TemplateCreateStart;xe(a,i,t),t(r,i)}finally{Zr(o);let a=s?Ie.TemplateUpdateEnd:Ie.TemplateCreateEnd;xe(a,i,t)}}function cy(n,e,t){TP(n,e,t),(t.flags&64)===64&&SP(n,e,t)}function uy(n,e,t=_n){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function EP(n,e,t,r){let o=r.get(sC,oC)||t===In.ShadowDom||t===In.ExperimentalIsolatedShadowDom,s=n.selectRootElement(e,o);return IP(s),s}function IP(n){wP(n)}var wP=()=>null;function bP(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function AC(n,e,t,r,i,o){let s=e[X];if(ly(n,s,e,t,r)){Jr(n)&&DP(e,n.index);return}n.type&3&&(t=bP(t)),CP(n,e,t,r,i,o)}function CP(n,e,t,r,i,o){if(n.type&3){let s=_n(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function DP(n,e){let t=sn(e,n);t[re]&16||(t[re]|=64)}function TP(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Jr(t)&&nP(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||rd(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=id(e,n,s,t);if(as(u,e),o!==null&&MP(e,s-r,u,a,t,o),Vn(a)){let l=sn(t.index,e);l[Be]=id(e,n,s,t)}}}function SP(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=W0();try{Zr(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];zl(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&AP(u,l)}}finally{Zr(-1),zl(s)}}function AP(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function RC(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];KN(e,o.selectors,!1)&&(r??=[],Vn(o)?r.unshift(o):r.push(o))}return r}function RP(n,e,t,r,i,o){let s=_n(n,e);xP(e[Fe],s,o,n.value,t,r,i)}function xP(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Jo(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function MP(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Nm(r,t,u,l)}}function NP(n,e,t,r,i){let o=bt+t,s=e[X],a=i(s,e,n,r,t);e[o]=a,is(n,!0);let u=n.type===2;return u?(mC(e[Fe],a,n),(k0()===0||Wa(n))&&as(a,e),O0()):as(a,e),Kl()&&(!u||!Jm(n))&&sy(s,e,a,n),n}function PP(n){let e=n;return rm()?B0():(e=e.parent,is(e,!1)),e}function kP(n,e){let t=n[yr];if(!t)return;let r;try{r=t.get(Hn,null)}catch{r=null}r?.(e)}function ly(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],f=s[u+1],p=e.data[l];Nm(p,t[l],f,i),a=!0}if(o)for(let u of o){let l=t[u],f=e.data[u];Nm(f,l,r,i),a=!0}return a}function OP(n,e){let t=sn(e,n),r=t[X];FP(r,t);let i=t[yn];i!==null&&t[es]===null&&(t[es]=aC(i,t[yr])),xe(Ie.ComponentStart);try{dy(r,t,t[Be])}finally{xe(Ie.ComponentEnd,t[Be])}}function FP(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function dy(n,e,t){ql(e);try{let r=n.viewQuery;r!==null&&Mm(1,r,t);let i=n.template;i!==null&&SC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Gi]?.finishViewCreation(n),n.staticContentQueries&&cC(n,e),n.staticViewQueries&&Mm(2,n.viewQuery,t);let o=n.components;o!==null&&LP(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[re]&=-5,Gl()}}function LP(n,e){for(let t=0;t<e.length;t++)OP(n,e[t])}function Dd(n,e,t,r){let i=Q(null);try{let o=e.tView,a=n[re]&4096?4096:16,u=ty(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[zi]=l;let f=n[Gi];return f!==null&&(u[Gi]=f.createEmbeddedView(o)),dy(o,u,t),u}finally{Q(i)}}function tc(n,e){return!e||e.firstChild===null||Zb(n)}function nc(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(on(o)),vn(o)&&xC(o,r);let s=t.type;if(s&8)nc(n,e,t.child,r);else if(s&32){let a=ry(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=TC(e,t);if(Array.isArray(a))r.push(...a);else{let u=Wr(e[Qt]);nc(u[X],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function xC(n,e){for(let t=He;t<n.length;t++){let r=n[t],i=r[X].firstChild;i!==null&&nc(r[X],r,i,e)}n[Yr]!==n[yn]&&e.push(n[Yr])}function MC(n){if(n[Bl]!==null){for(let e of n[Bl])e.impl.addSequence(e);n[Bl].length=0}}var NC=[];function VP(n){return n[Yt]??jP(n)}function jP(n){let e=NC.pop()??Object.create(BP);return e.lView=n,e}function UP(n){n.lView[Yt]!==n&&(n.lView=null,NC.push(n))}var BP=z(k({},Ca),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Ya(n.lView)},consumerOnSignalRead(){this.lView[Yt]=this}});function HP(n){let e=n[Yt]??Object.create($P);return e.lView=n,e}var $P=z(k({},Ca),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Wr(n.lView);for(;e&&!PC(e[X]);)e=Wr(e);e&&Xg(e)},consumerOnSignalRead(){this.lView[Yt]=this}});function PC(n){return n.type!==2}function kC(n){if(n[za]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[za])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[re]&8192)}}var zP=100;function OC(n,e=0){let r=n[Fn].rendererFactory,i=!1;i||r.begin?.();try{qP(n,e)}finally{i||r.end?.()}}function qP(n,e){let t=im();try{om(!0),km(n,e);let r=0;for(;Qa(n);){if(r===zP)throw new $(103,!1);r++,km(n,1)}}finally{om(t)}}function GP(n,e,t,r){if(Ki(e))return;let i=e[re],o=!1,s=!1;ql(e);let a=!0,u=null,l=null;o||(PC(n)?(l=VP(e),u=Ta(l)):el()===null?(a=!1,l=HP(e),u=Ta(l)):e[Yt]&&(Sa(e[Yt]),e[Yt]=null));try{Zg(e),z0(n.bindingStartIndex),t!==null&&SC(n,e,t,2,r);let f=(i&3)===3;if(!o)if(f){let y=n.preOrderCheckHooks;y!==null&&Jl(e,y,null)}else{let y=n.preOrderHooks;y!==null&&Zl(e,y,0,null),mm(e,0)}if(s||WP(e),kC(e),FC(e,0),n.contentQueries!==null&&cC(n,e),!o)if(f){let y=n.contentCheckHooks;y!==null&&Jl(e,y)}else{let y=n.contentHooks;y!==null&&Zl(e,y,1),mm(e,1)}QP(n,e);let p=n.components;p!==null&&VC(e,p,0);let g=n.viewQuery;if(g!==null&&Mm(2,g,r),!o)if(f){let y=n.viewCheckHooks;y!==null&&Jl(e,y)}else{let y=n.viewHooks;y!==null&&Zl(e,y,2),mm(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Ul]){for(let y of e[Ul])y();e[Ul]=null}o||(MC(e),e[re]&=-73)}catch(f){throw o||Ya(e),f}finally{l!==null&&(tl(l,u),a&&UP(l)),Gl()}}function FC(n,e){for(let t=eC(n);t!==null;t=tC(t))for(let r=He;r<t.length;r++){let i=t[r];LC(i,e)}}function WP(n){for(let e=eC(n);e!==null;e=tC(e)){if(!(e[re]&2))continue;let t=e[Ga];for(let r=0;r<t.length;r++){let i=t[r];Xg(i)}}}function KP(n,e,t){xe(Ie.ComponentStart);let r=sn(e,n);try{LC(r,t)}finally{xe(Ie.ComponentEnd,r[Be])}}function LC(n,e){Hl(n)&&km(n,e)}function km(n,e){let r=n[X],i=n[re],o=n[Yt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&nl(o)),s||=!1,o&&(o.dirty=!1),n[re]&=-9217,s)GP(r,n,r.template,n[Be]);else if(i&8192){let a=Q(null);try{kC(n),FC(n,1);let u=r.components;u!==null&&VC(n,u,1),MC(n)}finally{Q(a)}}}function VC(n,e,t){for(let r=0;r<e.length;r++)KP(n,e[r],t)}function QP(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Zr(~i);else{let o=i,s=t[++r],a=t[++r];G0(s,o);let u=e[o];xe(Ie.HostBindingsUpdateStart,u);try{a(2,u)}finally{xe(Ie.HostBindingsUpdateEnd,u)}}}}finally{Zr(-1)}}function fy(n,e){let t=im()?64:1088;for(n[Fn].changeDetectionScheduler?.notify(e);n;){n[re]|=t;let r=Wr(n);if(rs(n)&&!r)return n;n=r}return null}function jC(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function UC(n,e){let t=He+e;if(t<n.length)return n[t]}function Td(n,e,t,r=!0){let i=e[X];if(YP(i,e,n,t),r){let s=Pm(t,n),a=e[Fe],u=a.parentNode(n[Yr]);u!==null&&aP(i,n[rn],a,e,u,s)}let o=e[es];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function BC(n,e){let t=rc(n,e);return t!==void 0&&bd(t[X],t),t}function rc(n,e){if(n.length<=He)return;let t=He+e,r=n[t];if(r){let i=r[zi];i!==null&&i!==n&&oy(i,r),e>0&&(n[t-1][nn]=r[nn]);let o=Ua(n,He+e);sP(r[X],r);let s=o[Gi];s!==null&&s.detachView(o[X]),r[ct]=null,r[nn]=null,r[re]&=-129}return r}function YP(n,e,t,r){let i=He+r,o=t.length;r>0&&(t[i-1][nn]=e),r<o-He?(e[nn]=t[i],Ug(t,He+r,e)):(t.push(e),e[nn]=null),e[ct]=t;let s=e[zi];s!==null&&t!==s&&HC(s,e);let a=e[Gi];a!==null&&a.insertView(n),$l(e),e[re]|=128}function HC(n,e){let t=n[Ga],r=e[ct];if(Ln(r))n[re]|=2;else{let i=r[ct][Qt];e[Qt]!==i&&(n[re]|=2)}t===null?n[Ga]=[e]:t.push(e)}var ei=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[X];return nc(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[Be]}set context(e){this._lView[Be]=e}get destroyed(){return Ki(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ct];if(vn(e)){let t=e[qa],r=t?t.indexOf(this):-1;r>-1&&(rc(e,r),Ua(t,r))}this._attachedToViewContainer=!1}bd(this._lView[X],this._lView)}onDestroy(e){em(this._lView,e)}markForCheck(){fy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[re]&=-129}reattach(){$l(this._lView),this._lView[re]|=128}detectChanges(){this._lView[re]|=1024,OC(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=rs(this._lView),t=this._lView[zi];t!==null&&!e&&oy(t,this._lView),DC(this._lView[X],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let t=rs(this._lView),r=this._lView[zi];r!==null&&!t&&HC(r,this._lView),$l(this._lView)}};var lc=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=JP;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=Dd(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new ei(o)}}return n})();function JP(){return ZP(Jt(),ye())}function ZP(n,e){return n.type&4?new lc(e,n,md(n,e)):null}function Sd(n,e,t,r,i){let o=n.data[e];if(o===null)o=XP(n,e,t,r,i),q0()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=U0();o.injectorIndex=s===null?-1:s.injectorIndex}return is(o,!0),o}function XP(n,e,t,r,i){let o=nm(),s=rm(),a=s?o:o&&o.parent,u=n.data[e]=tk(n,a,t,e,r,i);return ek(n,u,o,s),u}function ek(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function tk(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return L0()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function nk(n){let e=n[Kg]??[],r=n[ct][Fe],i=[];for(let o of e)o.data[iC]!==void 0?i.push(o):rk(o,r);n[Kg]=i}function rk(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[rC];for(;t<i;){let o=r.nextSibling;gC(e,r,!1),r=o,t++}}}var ik=()=>null,ok=()=>null;function Om(n,e){return ik(n,e)}function $C(n,e,t){return ok(n,e,t)}var zC=class{},Ad=class{},Fm=class{resolveComponentFactory(e){throw new $(917,!1)}},dc=class{static NULL=new Fm},Xi=class{},ro=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>sk()}return n})();function sk(){let n=ye(),e=Jt(),t=sn(e.index,n);return(Ln(t)?t:n)[Fe]}var qC=(()=>{class n{static \u0275prov=W({token:n,providedIn:"root",factory:()=>null})}return n})();var Xl={},Lm=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Xl,r);return i!==Xl||t===Xl?i:this.parentInjector.get(e,t,r)}};function Eb(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Ag(i,a);else if(o==2){let u=a,l=e[++s];r=Ag(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function ge(n,e=0){let t=ye();if(t===null)return ae(n,e);let r=Jt();return Qb(r,t,wt(n),e)}function GC(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let f of s)if(f.resolveHostDirectives!==null){[a,u,l]=f.resolveHostDirectives(s);break}uk(n,e,t,a,o,u,l)}o!==null&&r!==null&&ak(t,r,o)}function ak(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new $(-301,!1);r.push(e[i],o)}}function ck(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function uk(n,e,t,r,i,o,s){let a=r.length,u=null;for(let g=0;g<a;g++){let y=r[g];u===null&&Vn(y)&&(u=y,ck(n,t,g)),Am(rd(t,e),n,y.type)}gk(t,n.data.length,a),u?.viewProvidersResolver&&u.viewProvidersResolver(u);for(let g=0;g<a;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let l=!1,f=!1,p=EC(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let y=r[g];if(t.mergedAttrs=ec(t.mergedAttrs,y.hostAttrs),dk(n,t,e,p,y),pk(p,y,i),s!==null&&s.has(y)){let[O,A]=s.get(y);t.directiveToIndex.set(y.type,[p,O+t.directiveStart,A+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let x=y.type.prototype;!l&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!f&&(x.ngOnChanges||x.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),f=!0),p++}lk(n,t,o)}function lk(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))Ib(0,e,i,r),Ib(1,e,i,r),bb(e,r,!1);else{let o=t.get(i);wb(0,e,o,r),wb(1,e,o,r),bb(e,r,!0)}}}function Ib(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),WC(e,o)}}function wb(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),WC(e,s)}}function WC(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function bb(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Xm(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let f of l)if(f===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let f=0;f<l.length;f+=2)if(l[f]===e){s??=[],s.push(l[f+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function dk(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Vi(i.type,!0)),s=new Ji(o,Vn(i),ge,null);n.blueprint[r]=s,t[r]=s,fk(n,e,r,EC(n,t,i.hostVars,an),i)}function fk(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;hk(s)!=a&&s.push(a),s.push(t,r,o)}}function hk(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function pk(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Vn(e)&&(t[""]=n)}}function gk(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function KC(n,e,t,r,i,o,s,a){let u=e[X],l=u.consts,f=jn(l,s),p=Sd(u,n,t,r,f);return o&&GC(u,e,p,jn(l,a),i),p.mergedAttrs=ec(p.mergedAttrs,p.attrs),p.attrs!==null&&Eb(p,p.attrs,!1),p.mergedAttrs!==null&&Eb(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function QC(n,e){Bb(n,e),Qg(e)&&n.queries.elementEnd(e)}function hy(n){return JC(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function YC(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function JC(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function mk(n,e,t){return n[e]=t}function yk(n,e){return n[e]}function Er(n,e,t){if(t===an)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function vk(n,e,t,r){let i=Er(n,e,t);return Er(n,e+1,r)||i}function _m(n,e,t){return function r(i){let o=Jr(n)?sn(n.index,e):e;fy(o,5);let s=e[Be],a=Cb(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=Cb(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function Cb(n,e,t,r){let i=Q(null);try{return xe(Ie.OutputStart,e,t),t(r)!==!1}catch(o){return kP(n,o),!1}finally{xe(Ie.OutputEnd,e,t),Q(i)}}function _k(n,e,t,r,i,o,s,a){let u=Wa(n),l=!1,f=null;if(!r&&u&&(f=Ik(e,t,o,n.index)),f!==null){let p=f.__ngLastListenerFn__||f;p.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,l=!0}else{let p=_n(n,t),g=r?r(p):p;ON(t,g,o,a);let y=i.listen(g,o,a);if(!Ek(o)){let x=r?O=>r(on(O[n.index])):n.index;ZC(x,e,t,o,a,y,!1)}}return l}function Ek(n){return n.startsWith("animation")||n.startsWith("transition")}function Ik(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[ts],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function ZC(n,e,t,r,i,o,s){let a=e.firstCreatePass?P0(e):null,u=N0(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function Db(n,e,t,r,i,o){let s=e[t],a=e[X],l=a.data[t].outputs[r],p=s[l].subscribe(o);ZC(n.index,a,e,i,o,p,!0)}var Vm=Symbol("BINDING");var ad=class extends dc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Kr(e);return new cs(t,this.ngModule)}};function wk(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&wd.SignalBased)!==0};return i&&(o.transform=i),o})}function bk(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function Ck(n,e,t){let r=e instanceof et?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Lm(t,r):t}function Dk(n){let e=n.get(Xi,null);if(e===null)throw new $(407,!1);let t=n.get(qC,null),r=n.get(Yo,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function Tk(n,e){let t=XC(n);return hC(e,t,t==="svg"?Yg:t==="math"?A0:null)}function XC(n){return(n.selectors[0][0]||"div").toLowerCase()}var cs=class extends Ad{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=wk(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=bk(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=ZN(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){xe(Ie.DynamicComponentStart);let a=Q(null);try{let u=this.componentDef,l=Sk(r,u,s,o),f=Ck(u,i||this.ngModule,e),p=Dk(f),g=p.rendererFactory.createRenderer(null,u),y=r?EP(g,r,u.encapsulation,f):Tk(u,g),x=s?.some(Tb)||o?.some(N=>typeof N!="function"&&N.bindings.some(Tb)),O=ty(null,l,null,512|_C(u),null,null,p,g,f,null,aC(y,f,!0));O[bt]=y,ql(O);let A=null;try{let N=KC(bt,O,2,"#host",()=>l.directiveRegistry,!0,0);mC(g,y,N),as(y,O),cy(l,O,N),uC(l,N,O),QC(l,N),t!==void 0&&Rk(N,this.ngContentSelectors,t),A=sn(N.index,O),O[Be]=A[Be],dy(l,O,null)}catch(N){throw A!==null&&xm(A),xm(O),N}finally{xe(Ie.DynamicComponentEnd),Gl()}return new cd(this.componentType,O,!!x)}finally{Q(a)}}};function Sk(n,e,t,r){let i=n?["ng-version","21.1.2"]:XN(e.selectors[0]),o=null,s=null,a=0;if(t)for(let f of t)a+=f[Vm].requiredVars,f.create&&(f.targetIdx=0,(o??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(r)for(let f=0;f<r.length;f++){let p=r[f];if(typeof p!="function")for(let g of p.bindings){a+=g[Vm].requiredVars;let y=f+1;g.create&&(g.targetIdx=y,(o??=[]).push(g)),g.update&&(g.targetIdx=y,(s??=[]).push(g))}}let u=[e];if(r)for(let f of r){let p=typeof f=="function"?f:f.type,g=Lg(p);u.push(g)}return ey(0,null,Ak(o,s),1,a,u,null,null,null,[i],null)}function Ak(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function Tb(n){let e=n[Vm].kind;return e==="input"||e==="twoWay"}var cd=class extends zC{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Ka(t[X],bt),this.location=md(this._tNode,t),this.instance=sn(this._tNode.index,t)[Be],this.hostView=this.changeDetectorRef=new ei(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=ly(r,i[X],i,e,t);this.previousInputValues.set(e,t);let s=sn(r.index,i);fy(s,1)}get injector(){return new Yi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Rk(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var io=(()=>{class n{static __NG_ELEMENT_ID__=xk}return n})();function xk(){let n=Jt();return Nk(n,ye())}var Mk=io,eD=class extends Mk{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return md(this._hostTNode,this._hostLView)}get injector(){return new Yi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Km(this._hostTNode,this._hostLView);if($b(e)){let t=nd(e,this._hostLView),r=td(e),i=t[X].data[r+8];return new Yi(i,t)}else return new Yi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Sb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-He}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Om(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,tc(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!cN(e),l;if(u)l=t;else{let A=t||{};l=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef,s=A.directives,a=A.bindings}let f=u?e:new cs(Kr(e)),p=r||this.parentInjector;if(!o&&f.ngModule==null){let N=(u?p:this.parentInjector).get(et,null);N&&(o=N)}let g=Kr(f.componentType??{}),y=Om(this._lContainer,g?.id??null),x=y?.firstChild??null,O=f.create(p,i,x,o,s,a);return this.insertImpl(O.hostView,l,tc(this._hostTNode,y)),O}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(R0(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[ct],l=new eD(u,u[rn],u[ct]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Td(s,i,o,r),e.attachToViewContainerRef(),Ug(Em(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Sb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=rc(this._lContainer,t);r&&(Ua(Em(this._lContainer),t),bd(r[X],r))}detach(e){let t=this._adjustIndex(e,-1),r=rc(this._lContainer,t);return r&&Ua(Em(this._lContainer),t)!=null?new ei(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Sb(n){return n[qa]}function Em(n){return n[qa]||(n[qa]=[])}function Nk(n,e){let t,r=e[n.index];return vn(r)?t=r:(t=jC(r,e,null,n),e[n.index]=t,ny(e,t)),kk(t,e,n,r),new eD(t,n,e)}function Pk(n,e){let t=n[Fe],r=t.createComment(""),i=_n(e,n),o=t.parentNode(i);return sd(t,o,r,t.nextSibling(i),!1),r}var kk=Lk,Ok=()=>!1;function Fk(n,e,t){return Ok(n,e,t)}function Lk(n,e,t,r){if(n[Yr])return;let i;t.type&8?i=on(r):i=Pk(e,t),n[Yr]=i}var eo=class{},Rd=class{};var ud=class extends eo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ad(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Fg(e);this._bootstrapComponents=yC(o.bootstrap),this._r3Injector=lm(e,t,[{provide:eo,useValue:this},{provide:dc,useValue:this.componentFactoryResolver},...r],hr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ld=class extends Rd{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new ud(this.moduleType,e,[])}};var ic=class extends eo{injector;componentFactoryResolver=new ad(this);instance=null;constructor(e){super();let t=new Ui([...e.providers,{provide:eo,useValue:this},{provide:dc,useValue:this.componentFactoryResolver}],e.parent||$a(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function fc(n,e,t=null){return new ic({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Vk=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=$g(!1,t.type),i=r.length>0?fc([r],this._injector,""):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=W({token:n,providedIn:"environment",factory:()=>new n(ae(et))})}return n})();function bn(n){return sc(()=>{let e=tD(n),t=z(k({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Qm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Vk).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||In.Emulated,styles:n.styles||Wt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&qn("NgStandalone"),nD(t);let r=n.dependencies;return t.directiveDefs=Ab(r,jk),t.pipeDefs=Ab(r,m0),t.id=Hk(t),t})}function jk(n){return Kr(n)||Lg(n)}function ni(n){return sc(()=>({type:n.type,bootstrap:n.bootstrap||Wt,declarations:n.declarations||Wt,imports:n.imports||Wt,exports:n.exports||Wt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Uk(n,e){if(n==null)return Qr;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=wd.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function Bk(n){if(n==null)return Qr;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function nt(n){return sc(()=>{let e=tD(n);return nD(e),e})}function tD(n){let e={};return{type:n.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Qr,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Wt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Uk(n.inputs,e),outputs:Bk(n.outputs),debugInfo:null}}function nD(n){n.features?.forEach(e=>e(n))}function Ab(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function Hk(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function $k(n){return Object.getPrototypeOf(n.prototype).constructor}function Gn(n){let e=$k(n.type),t=!0,r=[n];for(;e;){let i;if(Vn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Im(n.inputs),s.declaredInputs=Im(n.declaredInputs),s.outputs=Im(n.outputs);let a=i.hostBindings;a&&Kk(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&Gk(n,u),l&&Wk(n,l),zk(n,i),g0(n.outputs,i.outputs),Vn(i)&&i.data.animation){let f=n.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Gn&&(t=!1)}}e=Object.getPrototypeOf(e)}qk(r)}function zk(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function qk(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ec(i.hostAttrs,t=ec(t,i.hostAttrs))}}function Im(n){return n===Qr?{}:n===Wt?[]:n}function Gk(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function Wk(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function Kk(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function rD(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=ec(n.mergedAttrs,n.attrs);let f=n.tView=ey(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),f.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),is(n,!1);let u=Yk(t,e,n,r);Kl()&&sy(t,e,u,n),as(u,e);let l=jC(u,e,u,n);e[r+bt]=l,ny(e,l),Fk(l,n,e)}function Qk(n,e,t,r,i,o,s,a,u,l,f){let p=t+bt,g;return e.firstCreatePass?(g=Sd(e,p,4,s||null,a||null),tm()&&GC(e,n,g,jn(e.consts,l),RC),Bb(e,g)):g=e.data[p],rD(g,n,e,t,r,i,o,u),Wa(g)&&cy(e,n,g),l!=null&&uy(n,g,f),g}function dd(n,e,t,r,i,o,s,a,u,l,f){let p=t+bt,g;if(e.firstCreatePass){if(g=Sd(e,p,4,s||null,a||null),l!=null){let y=jn(e.consts,l);g.localNames=[];for(let x=0;x<y.length;x+=2)g.localNames.push(y[x],-1)}}else g=e.data[p];return rD(g,n,e,t,r,i,o,u),l!=null&&uy(n,g,f),g}function Wn(n,e,t,r,i,o,s,a){let u=ye(),l=Rt(),f=jn(l.consts,o);return Qk(u,l,n,e,t,r,i,f,void 0,s,a),Wn}var Yk=Jk;function Jk(n,e,t,r){return Ql(!0),e[Fe].createComment("")}var py=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function iD(n){return typeof n=="function"&&n[kt]!==void 0}function gy(n){return iD(n)&&typeof n.set=="function"}var my=new q("");function ri(n){return!!n&&typeof n.then=="function"}function yy(n){return!!n&&typeof n.subscribe=="function"}var oD=new q("");var vy=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=V(oD,{optional:!0})??[];injector=V(Kt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=At(this.injector,i);if(ri(o))t.push(o);else if(yy(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xd=new q("");function sD(){Jp(()=>{let n="";throw new $(600,n)})}function aD(n){return n.isBoundToModule}var Zk=10;var oo=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=V(Hn);afterRenderManager=V(wC);zonelessEnabled=V(Ja);rootEffectScheduler=V(gm);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new at;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=V(Xr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Pe(t=>!t))}constructor(){V(uc,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=V(et);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Kt.NULL){return this._injector.get(Ft).run(()=>{xe(Ie.BootstrapComponentStart);let s=t instanceof Ad;if(!this._injector.get(vy).done){let x="";throw new $(405,x)}let u;s?u=t:u=this._injector.get(dc).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=aD(u)?void 0:this._injector.get(eo),f=r||u.selector,p=u.create(i,[],f,l),g=p.location.nativeElement,y=p.injector.get(my,null);return y?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),Xa(this.components,p),y?.unregisterApplication(g)}),this._loadComponent(p),xe(Ie.BootstrapComponentEnd,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){xe(Ie.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(iy.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw xe(Ie.ChangeDetectionEnd),new $(101,!1);let t=Q(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Q(t),this.afterTick.next(),xe(Ie.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Xi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<Zk;){xe(Ie.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{xe(Ie.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Qa(i))continue;let o=r&&!this.zonelessEnabled?0:1;OC(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Qa(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Xa(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(xd,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Xa(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new $(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Xa(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Md(n,e,t,r){let i=ye(),o=Qi();if(Er(i,o,e)){let s=Rt(),a=Wl();RP(a,i,n,e,t,r)}return Md}var Dq=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var jm=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function wm(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function Xk(n,e,t,r){let i,o,s=0,a=n.length-1,u=void 0;if(Array.isArray(e)){Q(r);let l=e.length-1;for(Q(null);s<=a&&s<=l;){let f=n.at(s),p=e[s],g=wm(s,f,s,p,t);if(g!==0){g<0&&n.updateValue(s,p),s++;continue}let y=n.at(a),x=e[l],O=wm(a,y,l,x,t);if(O!==0){O<0&&n.updateValue(a,x),a--,l--;continue}let A=t(s,f),N=t(a,y),Z=t(s,p);if(Object.is(Z,N)){let Ee=t(l,x);Object.is(Ee,A)?(n.swap(s,a),n.updateValue(a,x),l--,a--):n.move(a,s),n.updateValue(s,p),s++;continue}if(i??=new fd,o??=xb(n,s,a,t),Um(n,i,s,Z))n.updateValue(s,p),s++,a++;else if(o.has(Z))i.set(A,n.detach(s)),a--;else{let Ee=n.create(s,e[s]);n.attach(s,Ee),s++,a++}}for(;s<=l;)Rb(n,i,t,s,e[s]),s++}else if(e!=null){Q(r);let l=e[Symbol.iterator]();Q(null);let f=l.next();for(;!f.done&&s<=a;){let p=n.at(s),g=f.value,y=wm(s,p,s,g,t);if(y!==0)y<0&&n.updateValue(s,g),s++,f=l.next();else{i??=new fd,o??=xb(n,s,a,t);let x=t(s,g);if(Um(n,i,s,x))n.updateValue(s,g),s++,a++,f=l.next();else if(!o.has(x))n.attach(s,n.create(s,g)),s++,a++,f=l.next();else{let O=t(s,p);i.set(O,n.detach(s)),a--}}}for(;!f.done;)Rb(n,i,t,n.length,f.value),f=l.next()}for(;s<=a;)n.destroy(n.detach(a--));i?.forEach(l=>{n.destroy(l)})}function Um(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function Rb(n,e,t,r,i){if(Um(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function xb(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var fd=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function ue(n,e,t,r,i,o,s,a){qn("NgControlFlow");let u=ye(),l=Rt(),f=jn(l.consts,o);return dd(u,l,n,e,t,r,i,f,256,s,a),_y}function _y(n,e,t,r,i,o,s,a){qn("NgControlFlow");let u=ye(),l=Rt(),f=jn(l.consts,o);return dd(u,l,n,e,t,r,i,f,512,s,a),_y}function le(n,e){qn("NgControlFlow");let t=ye(),r=Qi(),i=t[r]!==an?t[r]:-1,o=i!==-1?hd(t,bt+i):void 0,s=0;if(Er(t,r,n)){let a=Q(null);try{if(o!==void 0&&BC(o,s),n!==-1){let u=bt+n,l=hd(t,u),f=zm(t[X],u),p=$C(l,f,t),g=Dd(t,f,e,{dehydratedView:p});Td(l,g,s,tc(f,p))}}finally{Q(a)}}else if(o!==void 0){let a=UC(o,s);a!==void 0&&(a[Be]=e)}}var Bm=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-He}};function Nd(n){return n}function hc(n,e){return e}var Hm=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function rt(n,e,t,r,i,o,s,a,u,l,f,p,g){qn("NgControlFlow");let y=ye(),x=Rt(),O=u!==void 0,A=ye(),N=a?s.bind(A[Qt][Be]):s,Z=new Hm(O,N);A[bt+n]=Z,dd(y,x,n+1,e,t,r,i,jn(x.consts,o),256),O&&dd(y,x,n+2,u,l,f,p,jn(x.consts,g),512)}var $m=class extends jm{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-He}at(e){return this.getLView(e)[Be].$implicit}attach(e,t){let r=t[es];this.needsIndexUpdate||=e!==this.length,Td(this.lContainer,t,e,tc(this.templateTNode,r)),eO(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,tO(this.lContainer,e),nO(this.lContainer,e)}create(e,t){let r=Om(this.lContainer,this.templateTNode.tView.ssrId);return Dd(this.hostLView,this.templateTNode,new Bm(this.lContainer,t,e),{dehydratedView:r})}destroy(e){bd(e[X],e)}updateValue(e,t){this.getLView(e)[Be].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Be].$index=e}getLView(e){return rO(this.lContainer,e)}};function it(n){let e=Q(null),t=_r();try{let r=ye(),i=r[X],o=r[t],s=t+1,a=hd(r,s);if(o.liveCollection===void 0){let l=zm(i,s);o.liveCollection=new $m(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(Xk(u,n,o.trackByFn,e),u.updateIndexes(),o.hasEmptyBlock){let l=Qi(),f=u.length===0;if(Er(r,l,f)){let p=t+2,g=hd(r,p);if(f){let y=zm(i,p),x=$C(g,y,r),O=Dd(r,y,void 0,{dehydratedView:x});Td(g,O,0,tc(y,x))}else i.firstUpdatePass&&nk(g),BC(g,0)}}}finally{Q(e)}}function hd(n,e){return n[e]}function eO(n,e){if(n.length<=He)return;let t=He+e,r=n[t],i=r?r[Wi]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[yr];iP(o,i),Zi.delete(r[vr]),i.detachedLeaveAnimationFns=void 0}}function tO(n,e){if(n.length<=He)return;let t=He+e,r=n[t],i=r?r[Wi]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function nO(n,e){return rc(n,e)}function rO(n,e){return UC(n,e)}function zm(n,e){return Ka(n,e)}function Le(n,e,t){let r=ye(),i=Qi();if(Er(r,i,e)){let o=Rt(),s=Wl();AC(s,r,n,e,r[Fe],t)}return Le}function Mb(n,e,t,r,i){ly(e,n,t,i?"class":"style",r)}function I(n,e,t,r){let i=ye(),o=i[X],s=n+bt,a=o.firstCreatePass?KC(s,i,2,e,RC,tm(),t,r):o.data[s];if(NP(a,i,n,e,iO),Wa(a)){let u=i[X];cy(u,i,a),uC(u,a,i)}return r!=null&&uy(i,a),I}function w(){let n=Rt(),e=Jt(),t=PP(e);return n.firstCreatePass&&QC(n,t),V0(t)&&j0(),F0(),t.classesWithoutHost!=null&&pN(t)&&Mb(n,t,ye(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&gN(t)&&Mb(n,t,ye(),t.stylesWithoutHost,!1),w}function oe(n,e,t,r){return I(n,e,t,r),w(),oe}var iO=(n,e,t,r,i)=>(Ql(!0),hC(e[Fe],r,X0()));function Lt(){return ye()}var pc="en-US";var oO=pc;function cD(n){typeof n=="string"&&(oO=n.toLowerCase().replace(/_/g,"-"))}function Re(n,e,t){let r=ye(),i=Rt(),o=Jt();return uD(i,r,r[Fe],o,n,e,t),Re}function uD(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=_m(r,e,o),_k(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let p=0;p<f.length;p+=2){let g=f[p],y=f[p+1];u??=_m(r,e,o),Db(r,e,g,y,i,u)}if(l&&l.length)for(let p of l)u??=_m(r,e,o),Db(r,e,p,i,i,u)}}function U(n=1){return Z0(n)}function Yl(n,e){return n<<17|e<<2}function to(n){return n>>17&32767}function sO(n){return(n&2)==2}function aO(n,e){return n&131071|e<<17}function qm(n){return n|2}function us(n){return(n&131068)>>2}function bm(n,e){return n&-131069|e<<2}function cO(n){return(n&1)===1}function Gm(n){return n|1}function uO(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=to(s),u=us(s);n[r]=t;let l=!1,f;if(Array.isArray(t)){let p=t;f=p[1],(f===null||Zo(p,f)>0)&&(l=!0)}else f=t;if(i)if(u!==0){let g=to(n[a+1]);n[r+1]=Yl(g,a),g!==0&&(n[g+1]=bm(n[g+1],r)),n[a+1]=aO(n[a+1],r)}else n[r+1]=Yl(a,0),a!==0&&(n[a+1]=bm(n[a+1],r)),a=r;else n[r+1]=Yl(u,0),a===0?a=r:n[u+1]=bm(n[u+1],r),u=r;l&&(n[r+1]=qm(n[r+1])),Nb(n,f,r,!0),Nb(n,f,r,!1),lO(e,f,n,r,o),s=Yl(a,u),o?e.classBindings=s:e.styleBindings=s}function lO(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Zo(o,e)>=0&&(t[r+1]=Gm(t[r+1]))}function Nb(n,e,t,r){let i=n[t+1],o=e===null,s=r?to(i):us(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];dO(u,e)&&(a=!0,n[s+1]=r?Gm(l):qm(l)),s=r?to(l):us(l)}a&&(n[t+1]=r?qm(i):Gm(i))}function dO(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Zo(n,e)>=0:!1}function Kn(n,e,t){return lD(n,e,t,!1),Kn}function Ve(n,e){return lD(n,e,null,!0),Ve}function lD(n,e,t,r){let i=ye(),o=Rt(),s=sm(2);if(o.firstUpdatePass&&hO(o,n,s,r),e!==an&&Er(i,s,e)){let a=o.data[_r()];vO(o,a,i,i[Fe],n,i[s+1]=_O(e,t),r,s)}}function fO(n,e){return e>=n.expandoStartIndex}function hO(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[_r()],s=fO(n,t);EO(o,r)&&e===null&&!s&&(e=!1),e=pO(i,o,e,r),uO(i,o,e,t,s,r)}}function pO(n,e,t,r){let i=K0(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Cm(null,n,e,t,r),t=oc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Cm(i,n,e,t,r),o===null){let u=gO(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Cm(null,n,e,u[1],r),u=oc(u,e.attrs,r),mO(n,e,r,u))}else o=yO(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function gO(n,e,t){let r=t?e.classBindings:e.styleBindings;if(us(r)!==0)return n[to(r)]}function mO(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[to(i)]=r}function yO(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=oc(r,s,t)}return oc(r,e.attrs,t)}function Cm(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=oc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function oc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),I0(n,s,t?!0:e[++o]))}return n===void 0?null:n}function vO(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],f=cO(l)?Pb(u,e,t,i,us(l),s):void 0;if(!pd(f)){pd(o)||sO(l)&&(o=Pb(u,null,t,i,a,s));let p=Jg(_r(),t);_P(r,s,p,i,o)}}function Pb(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,g=t[i+1];g===an&&(g=p?Wt:void 0);let y=p?jl(g,r):f===r?g:void 0;if(l&&!pd(y)&&(y=jl(u,r)),pd(y)&&(a=y,s))return a;let x=n[i+1];i=s?to(x):us(x)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=jl(u,r))}return a}function pd(n){return n!==void 0}function _O(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=hr(cc(n)))),n}function EO(n,e){return(n.flags&(e?8:16))!==0}function P(n,e=""){let t=ye(),r=Rt(),i=n+bt,o=r.firstCreatePass?Sd(r,i,1,e,null):r.data[i],s=IO(r,t,o,e);t[i]=s,Kl()&&sy(r,t,s,o),is(o,!1)}var IO=(n,e,t,r)=>(Ql(!0),VN(e[Fe],r));function wO(n,e,t,r=""){return Er(n,Qi(),t)?e+Jo(t)+r:an}function bO(n,e,t,r,i,o=""){let s=$0(),a=vk(n,s,t,i);return sm(2),a?e+Jo(t)+r+Jo(i)+o:an}function Y(n){return ot("",n),Y}function ot(n,e,t){let r=ye(),i=wO(r,n,e,t);return i!==an&&dD(r,_r(),i),ot}function Pd(n,e,t,r,i){let o=ye(),s=bO(o,n,e,t,r,i);return s!==an&&dD(o,_r(),s),Pd}function dD(n,e,t){let r=Jg(e,n);jN(n[Fe],r,t)}function lt(n,e,t){gy(e)&&(e=e());let r=ye(),i=Qi();if(Er(r,i,e)){let o=Rt(),s=Wl();AC(s,r,n,e,r[Fe],t)}return lt}function Ct(n,e){let t=gy(n);return t&&n.set(e),t}function dt(n,e){let t=ye(),r=Rt(),i=Jt();return uD(r,t,t[Fe],i,n,e),dt}function kb(n,e,t){let r=Rt();r.firstCreatePass&&fD(e,r.data,r.blueprint,Vn(n),t)}function fD(n,e,t,r,i){if(n=wt(n),Array.isArray(n))for(let o=0;o<n.length;o++)fD(n[o],e,t,r,i);else{let o=Rt(),s=ye(),a=Jt(),u=ji(n)?n:wt(n.provide),l=qg(n),f=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(ji(n)||!n.multi){let y=new Ji(l,i,ge,null),x=Tm(u,e,i?f:f+g,p);x===-1?(Am(rd(a,s),o,u),Dm(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[x]=y,s[x]=y)}else{let y=Tm(u,e,f+g,p),x=Tm(u,e,f,f+g),O=y>=0&&t[y],A=x>=0&&t[x];if(i&&!A||!i&&!O){Am(rd(a,s),o,u);let N=TO(i?DO:CO,t.length,i,r,l,n);!i&&A&&(t[x].providerFactory=N),Dm(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(N),s.push(N)}else{let N=hD(t[i?x:y],l,!i&&r);Dm(o,n,y>-1?y:x,N)}!i&&r&&A&&t[x].componentProviders++}}}function Dm(n,e,t,r){let i=ji(e),o=D0(e);if(i||o){let u=(o?wt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(t);f===-1?l.push(t,[r,u]):l[f+1].push(r,u)}else l.push(t,u)}}}function hD(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Tm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function CO(n,e,t,r,i){return Wm(this.multi,[])}function DO(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=id(r,r[X],this.providerFactory.index,i);s=u.slice(0,a),Wm(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],Wm(o,s);return s}function Wm(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function TO(n,e,t,r,i,o){let s=new Ji(n,t,ge,null);return s.multi=[],s.index=e,s.componentProviders=0,hD(s,i,r&&!t),s}function ls(n,e){return t=>{t.providersResolver=(r,i)=>kb(r,i?i(n):n,!1),e&&(t.viewProvidersResolver=(r,i)=>kb(r,i?i(e):e,!0))}}function gc(n,e){let t=H0()+n,r=ye();return r[t]===an?mk(r,t,e()):yk(r,t)}var gd=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Ey=(()=>{class n{compileModuleSync(t){return new ld(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Fg(t),o=yC(i.declarations).reduce((s,a)=>{let u=Kr(a);return u&&s.push(new cs(u)),s},[]);return new gd(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pD=(()=>{class n{applicationErrorHandler=V(Hn);appRef=V(oo);taskService=V(Xr);ngZone=V(Ft);zonelessEnabled=V(Ja);tracing=V(uc,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new _t;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(La):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(V(pm,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let t=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(t);return}this.switchToMicrotaskScheduler(),this.taskService.remove(t)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let t=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})})}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?rb:dm;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(La+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.applicationErrorHandler(r)}finally{this.taskService.remove(t),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Iy(){return qn("NgZoneless"),Ba([...wy(),[]])}function wy(){return[{provide:Yo,useExisting:pD},{provide:Ft,useClass:Va},{provide:Ja,useValue:!0}]}function SO(){return typeof $localize<"u"&&$localize.locale||pc}var kd=new q("",{factory:()=>V(kd,{optional:!0,skipSelf:!0})||SO()});function so(n,e){return rl(n,e?.equal)}var _D=Symbol("InputSignalNode#UNSET"),qO=z(k({},il),{transformFn:void 0,applyValueToInputSignal(n,e){Aa(n,e)}});function ED(n,e){let t=Object.create(qO);t.value=n,t.transformFn=e?.transform;function r(){if(Da(t),t.value===_D){let i=null;throw new $(-950,i)}return t.value}return r[kt]=t,r}function gD(n,e){return ED(n,e)}function GO(n){return ED(_D,n)}var ID=(gD.required=GO,gD);var by=new q(""),WO=new q("");function mc(n){return!n.moduleRef}function KO(n){let e=mc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ft);return t.run(()=>{mc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Hn),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),mc(n)){let o=()=>e.destroy(),s=n.platformInjector.get(by);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(by);s.add(o),n.moduleRef.onDestroy(()=>{Xa(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return YO(r,t,()=>{let o=e.get(Xr),s=o.add(),a=e.get(vy);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(kd,pc);if(cD(u||pc),!e.get(WO,!0))return mc(n)?e.get(oo):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(mc(n)){let f=e.get(oo);return n.rootComponent!==void 0&&f.bootstrap(n.rootComponent),f}else return QO?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>{o.remove(s)})})})}var QO;function YO(n,e,t){try{let r=t();return ri(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Od=null;function JO(n=[],e){return Kt.create({name:e,providers:[{provide:Ha,useValue:"platform"},{provide:by,useValue:new Set([()=>Od=null])},...n]})}function ZO(n=[]){if(Od)return Od;let e=JO(n);return Od=e,sD(),XO(e),e}function XO(n){let e=n.get(vd,null);At(n,()=>{e?.forEach(t=>t())})}var eF=1e4;var KY=eF-1e3;var ao=(()=>{class n{static __NG_ELEMENT_ID__=tF}return n})();function tF(n){return nF(Jt(),ye(),(n&16)===16)}function nF(n,e,t){if(Jr(n)&&!t){let r=sn(n.index,e);return new ei(r,r)}else if(n.type&175){let r=e[Qt];return new ei(r,e)}return null}var Cy=class{constructor(){}supports(e){return hy(e)}create(e){return new Dy(e)}},rF=(n,e)=>e,Dy=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||rF}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<mD(r,i,o)?t:r,a=mD(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,f=u-i;if(l!=f){for(let g=0;g<l;g++){let y=g<o.length?o[g]:o[g]=0,x=y+g;f<=x&&x<l&&(o[g]=y+1)}let p=s.previousIndex;o[p]=f-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!hy(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,YC(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Ty(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Fd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Fd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Ty=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Sy=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Fd=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Sy,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function mD(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function yD(){return new Ry([new Cy])}var Ry=(()=>{class n{factories;static \u0275prov=W({token:n,providedIn:"root",factory:yD});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=V(n,{optional:!0,skipSelf:!0});return n.create(t,r||yD())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new $(901,!1)}}return n})();function wD(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;xe(Ie.BootstrapApplicationStart);try{let o=i?.injector??ZO(r),s=[wy(),ob,...t||[]],a=new ic({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return KO({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{xe(Ie.BootstrapApplicationEnd)}}function wr(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function xy(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}var bD=null;function cn(){return bD}function My(n){bD??=n}var yc=class{},Vd=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>V(CD),providedIn:"platform"})}return n})();var CD=(()=>{class n extends Vd{_location;_history;_doc=V(tt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return cn().getBaseHref(this._doc)}onPopState(t){let r=cn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=cn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function SD(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function DD(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function ii(n){return n&&n[0]!=="?"?`?${n}`:n}var jd=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>V(oF),providedIn:"root"})}return n})(),iF=new q(""),oF=(()=>{class n extends jd{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return SD(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+ii(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+ii(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+ii(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(ae(Vd),ae(iF,8))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ds=(()=>{class n{_subject=new at;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=cF(DD(TD(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ii(r))}normalize(t){return n.stripTrailingSlash(aF(this._basePath,TD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ii(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ii(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=ii;static joinWithSlash=SD;static stripTrailingSlash=DD;static \u0275fac=function(r){return new(r||n)(ae(jd))};static \u0275prov=W({token:n,factory:()=>sF(),providedIn:"root"})}return n})();function sF(){return new ds(ae(jd))}function aF(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function TD(n){return n.replace(/\/index.html$/,"")}function cF(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Ud=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Hd=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Ud(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),AD(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);AD(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ge(io),ge(lc),ge(Ry))};static \u0275dir=nt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function AD(n,e){n.context.$implicit=e.item}var vc=(()=>{class n{_viewContainer;_context=new Bd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){RD(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){RD(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ge(io),ge(lc))};static \u0275dir=nt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Bd=class{$implicit=null;ngIf=null};function RD(n,e){if(n&&!n.createEmbeddedView)throw new $(2020,!1)}var oi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ni({type:n});static \u0275inj=mr({})}return n})();function Ny(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var _c=class{};var MD="browser";var ND=n=>n.src,uF=new q("",{factory:()=>ND});var xD=/^((\s*\d+w\s*(,|$)){1,})$/;var lF=[1,2],dF=640;var fF=1920,hF=1080;var PD=(()=>{class n{imageLoader=V(uF);config=pF(V(Id));renderer=V(ro);imgElement=V(ti).nativeElement;injector=V(Kt);destroyRef=V(Bn);lcpObserver;_renderedSrc=null;ngSrc;ngSrcset;sizes;width;height;decoding;loading;priority=!1;loaderParams;disableOptimizedSrcset=!1;fill=!1;placeholder;placeholderConfig;src;srcset;constructor(){}ngOnInit(){qn("NgOptimizedImage"),this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("decoding",this.getDecoding()),this.setHostAttribute("ng-img","true");let t=this.updateSrcAndSrcset();this.sizes?this.getLoadingBehavior()==="lazy"?this.setHostAttribute("sizes","auto, "+this.sizes):this.setHostAttribute("sizes",this.sizes):this.ngSrcset&&xD.test(this.ngSrcset)&&this.getLoadingBehavior()==="lazy"&&this.setHostAttribute("sizes","auto, 100vw")}ngOnChanges(t){if(t.ngSrc&&!t.ngSrc.isFirstChange()){let r=this._renderedSrc;this.updateSrcAndSrcset(!0)}}callImageLoader(t){let r=t;return this.loaderParams&&(r.loaderParams=this.loaderParams),this.imageLoader(r)}getLoadingBehavior(){return!this.priority&&this.loading!==void 0?this.loading:this.priority?"eager":"lazy"}getFetchPriority(){return this.priority?"high":"auto"}getDecoding(){return this.priority?"sync":this.decoding??"auto"}getRewrittenSrc(){if(!this._renderedSrc){let t={src:this.ngSrc};this._renderedSrc=this.callImageLoader(t)}return this._renderedSrc}getRewrittenSrcset(){let t=xD.test(this.ngSrcset);return this.ngSrcset.split(",").filter(i=>i!=="").map(i=>{i=i.trim();let o=t?parseFloat(i):parseFloat(i)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:o})} ${i}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){let{breakpoints:t}=this.config,r=t;return this.sizes?.trim()==="100vw"&&(r=t.filter(o=>o>=dF)),r.map(o=>`${this.callImageLoader({src:this.ngSrc,width:o})} ${o}w`).join(", ")}updateSrcAndSrcset(t=!1){t&&(this._renderedSrc=null);let r=this.getRewrittenSrc();this.setHostAttribute("src",r);let i;return this.ngSrcset?i=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(i=this.getAutomaticSrcset()),i&&this.setHostAttribute("srcset",i),i}getFixedSrcset(){return lF.map(r=>`${this.callImageLoader({src:this.ngSrc,width:this.width*r})} ${r}x`).join(", ")}shouldGenerateAutomaticSrcset(){let t=!1;return this.sizes||(t=this.width>fF||this.height>hF),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==ND&&!t}generatePlaceholder(t){let{placeholderResolution:r}=this.config;return t===!0?`url(${this.callImageLoader({src:this.ngSrc,width:r,isPlaceholder:!0})})`:typeof t=="string"?`url(${t})`:null}shouldBlurPlaceholder(t){return!t||!t.hasOwnProperty("blur")?!0:!!t.blur}removePlaceholderOnLoad(t){let r=()=>{let s=this.injector.get(ao);i(),o(),this.placeholder=!1,s.markForCheck()},i=this.renderer.listen(t,"load",r),o=this.renderer.listen(t,"error",r);this.destroyRef.onDestroy(()=>{i(),o()}),gF(t,r)}setHostAttribute(t,r){this.renderer.setAttribute(this.imgElement,t,r)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=nt({type:n,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function(r,i){r&2&&Kn("position",i.fill?"absolute":null)("width",i.fill?"100%":null)("height",i.fill?"100%":null)("inset",i.fill?"0":null)("background-size",i.placeholder?"cover":null)("background-position",i.placeholder?"50% 50%":null)("background-repeat",i.placeholder?"no-repeat":null)("background-image",i.placeholder?i.generatePlaceholder(i.placeholder):null)("filter",i.placeholder&&i.shouldBlurPlaceholder(i.placeholderConfig)?"blur(15px)":null)},inputs:{ngSrc:[2,"ngSrc","ngSrc",mF],ngSrcset:"ngSrcset",sizes:"sizes",width:[2,"width","width",xy],height:[2,"height","height",xy],decoding:"decoding",loading:"loading",priority:[2,"priority","priority",wr],loaderParams:"loaderParams",disableOptimizedSrcset:[2,"disableOptimizedSrcset","disableOptimizedSrcset",wr],fill:[2,"fill","fill",wr],placeholder:[2,"placeholder","placeholder",yF],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},features:[Ir]})}return n})();function pF(n){let e={};return n.breakpoints&&(e.breakpoints=n.breakpoints.sort((t,r)=>t-r)),Object.assign({},Ed,n,e)}function gF(n,e){n.complete&&n.naturalWidth&&e()}function mF(n){return typeof n=="string"?n:cc(n)}function yF(n){return typeof n=="string"&&n!=="true"&&n!=="false"&&n!==""?n:wr(n)}var Ec=class{_doc;constructor(e){this._doc=e}manager},$d=(()=>{class n extends Ec{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(ae(tt))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),Gd=new q(""),Fy=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof $d));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof $d);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new $(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(ae(Gd),ae(Ft))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),Py="ng-app-id";function OD(n){for(let e of n)e.remove()}function FD(n,e){let t=e.createElement("style");return t.textContent=n,t}function vF(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Py}="${e}"],link[${Py}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Py),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Oy(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Ly=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,vF(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,FD);r?.forEach(i=>this.addUsage(i,this.external,Oy))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(OD(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])OD(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,FD(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Oy(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(ae(tt),ae(yd),ae(_d,8),ae(ac))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),ky={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Vy=/%COMP%/g;var VD="%COMP%",_F=`_nghost-${VD}`,EF=`_ngcontent-${VD}`,IF=!0,wF=new q("",{factory:()=>IF});function bF(n){return EF.replace(Vy,n)}function CF(n){return _F.replace(Vy,n)}function jD(n,e){return e.map(t=>t.replace(Vy,n))}var jy=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(t,r,i,o,s,a,u=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=u,this.tracingService=l,this.defaultRenderer=new Ic(t,s,a,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof qd?i.applyToHost(t):i instanceof wc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.tracingService;switch(r.encapsulation){case In.Emulated:o=new qd(u,l,r,this.appId,f,s,a,p);break;case In.ShadowDom:return new zd(u,t,r,s,a,this.nonce,p,l);case In.ExperimentalIsolatedShadowDom:return new zd(u,t,r,s,a,this.nonce,p);default:o=new wc(u,l,r,f,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(ae(Fy),ae(Ly),ae(yd),ae(wF),ae(tt),ae(Ft),ae(_d),ae(uc,8))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),Ic=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(ky[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(LD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(LD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=ky[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=ky[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(zn.DashCase|zn.Important)?e.style.setProperty(t,r,i&zn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&zn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=cn().getGlobalEventTarget(this.doc,e),!e))throw new $(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function LD(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var zd=class extends Ic{hostEl;sharedStylesHost;shadowRoot;constructor(e,t,r,i,o,s,a,u){super(e,i,o,a),this.hostEl=t,this.sharedStylesHost=u,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=jD(r.id,l);for(let p of l){let g=document.createElement("style");s&&g.setAttribute("nonce",s),g.textContent=p,this.shadowRoot.appendChild(g)}let f=r.getExternalStyles?.();if(f)for(let p of f){let g=Oy(p,i);s&&g.setAttribute("nonce",s),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},wc=class extends Ic{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=u?jD(u,l):l,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Zi.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},qd=class extends wc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,t,r,o,s,a,u,l),this.contentAttr=bF(l),this.hostAttr=CF(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Wd=class n extends yc{supportsDOMEvents=!0;static makeCurrent(){My(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=DF();return t==null?null:TF(t)}resetBaseElement(){bc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ny(document.cookie,e)}},bc=null;function DF(){return bc=bc||document.head.querySelector("base"),bc?bc.getAttribute("href"):null}function TF(n){return new URL(n,document.baseURI).pathname}var SF=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),UD=["alt","control","meta","shift"],AF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},RF={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},BD=(()=>{class n extends Ec{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),UD.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=AF[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),UD.forEach(s=>{if(s!==i){let a=RF[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(ae(tt))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})();async function Uy(n,e,t){let r=k({rootComponent:n},xF(e,t));return wD(r)}function xF(n,e){return{platformRef:e?.platformRef,appProviders:[...OF,...n?.providers??[]],platformProviders:kF}}function MF(){Wd.makeCurrent()}function NF(){return new pr}function PF(){return Ym(document),document}var kF=[{provide:ac,useValue:MD},{provide:vd,useValue:MF,multi:!0},{provide:tt,useFactory:PF}];var OF=[{provide:Ha,useValue:"root"},{provide:pr,useFactory:NF},{provide:Gd,useClass:$d,multi:!0},{provide:Gd,useClass:BD,multi:!0},jy,Ly,Fy,{provide:Xi,useExisting:jy},{provide:_c,useClass:SF},[]];var HD=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(ae(tt))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ee="primary",Oc=Symbol("RouteTitle"),qy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function lo(n){return new qy(n)}function By(n,e,t){for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(i[0]===":")t[i.substring(1)]=o;else if(i!==o.path)return!1}return!0}function ZD(n,e,t){let r=t.path.split("/"),i=r.indexOf("**");if(i===-1){if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let u={},l=n.slice(0,r.length);return By(r,l,u)?{consumed:l,posParams:u}:null}if(i!==r.lastIndexOf("**"))return null;let o=r.slice(0,i),s=r.slice(i+1);if(o.length+s.length>n.length||t.pathMatch==="full"&&e.hasChildren()&&t.path!=="**")return null;let a={};return!By(o,n.slice(0,o.length),a)||!By(s,n.slice(n.length-s.length),a)?null:{consumed:n,posParams:a}}function Xd(n){return new Promise((e,t)=>{n.pipe(lr()).subscribe({next:r=>e(r),error:r=>t(r)})})}function LF(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Qn(n[t],e[t]))return!1;return!0}function Qn(n,e){let t=n?Gy(n):void 0,r=e?Gy(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!XD(n[i],e[i]))return!1;return!0}function Gy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function XD(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function VF(n){return n.length>0?n[n.length-1]:null}function po(n){return bl(n)?n:ri(n)?We(Promise.resolve(n)):me(n)}function eT(n){return bl(n)?Xd(n):Promise.resolve(n)}var jF={exact:nT,subset:rT},tT={exact:UF,subset:BF,ignored:()=>!0};function $D(n,e,t){return jF[t.paths](n.root,e.root,t.matrixParams)&&tT[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function UF(n,e){return Qn(n,e)}function nT(n,e,t){if(!co(n.segments,e.segments)||!Yd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!nT(n.children[r],e.children[r],t))return!1;return!0}function BF(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>XD(n[t],e[t]))}function rT(n,e,t){return iT(n,e,e.segments,t)}function iT(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!co(i,t)||e.hasChildren()||!Yd(i,t,r))}else if(n.segments.length===t.length){if(!co(n.segments,t)||!Yd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!rT(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!co(n.segments,i)||!Yd(n.segments,i,r)||!n.children[ee]?!1:iT(n.children[ee],e,o,r)}}function Yd(n,e,t){return e.every((r,i)=>tT[t](n[i].parameters,r.parameters))}var Dn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new we([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=lo(this.queryParams),this._queryParamMap}toString(){return zF.serialize(this)}},we=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jd(this)}},si=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=lo(this.parameters),this._parameterMap}toString(){return sT(this)}};function HF(n,e){return co(n,e)&&n.every((t,r)=>Qn(t.parameters,e[r].parameters))}function co(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function $F(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ee&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ee&&(t=t.concat(e(i,r)))}),t}var Fc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>new ai,providedIn:"root"})}return n})(),ai=class{parse(e){let t=new Ky(e);return new Dn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Cc(e.root,!0)}`,r=WF(e.queryParams),i=typeof e.fragment=="string"?`#${qF(e.fragment)}`:"";return`${t}${r}${i}`}},zF=new ai;function Jd(n){return n.segments.map(e=>sT(e)).join("/")}function Cc(n,e){if(!n.hasChildren())return Jd(n);if(e){let t=n.children[ee]?Cc(n.children[ee],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ee&&r.push(`${i}:${Cc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=$F(n,(r,i)=>i===ee?[Cc(n.children[ee],!1)]:[`${i}:${Cc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ee]!=null?`${Jd(n)}/${t[0]}`:`${Jd(n)}/(${t.join("//")})`}}function oT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kd(n){return oT(n).replace(/%3B/gi,";")}function qF(n){return encodeURI(n)}function Wy(n){return oT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zd(n){return decodeURIComponent(n)}function zD(n){return Zd(n.replace(/\+/g,"%20"))}function sT(n){return`${Wy(n.path)}${GF(n.parameters)}`}function GF(n){return Object.entries(n).map(([e,t])=>`;${Wy(e)}=${Wy(t)}`).join("")}function WF(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Kd(t)}=${Kd(i)}`).join("&"):`${Kd(t)}=${Kd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var KF=/^[^\/()?;#]+/;function Hy(n){let e=n.match(KF);return e?e[0]:""}var QF=/^[^\/()?;=#]+/;function YF(n){let e=n.match(QF);return e?e[0]:""}var JF=/^[^=?&#]+/;function ZF(n){let e=n.match(JF);return e?e[0]:""}var XF=/^[^&#]+/;function eL(n){let e=n.match(XF);return e?e[0]:""}var Ky=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ee]=new we(e,t)),r}parseSegment(){let e=Hy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new si(Zd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=YF(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Hy(this.remaining);i&&(r=i,this.capture(r))}e[Zd(t)]=Zd(r)}parseQueryParam(e){let t=ZF(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=eL(this.remaining);s&&(r=s,this.capture(r))}let i=zD(t),o=zD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Hy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ee);let s=this.parseChildren();t[o??ee]=Object.keys(s).length===1&&s[ee]?s[ee]:new we([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function aT(n){return n.segments.length>0?new we([],{[ee]:n}):n}function cT(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=cT(i);if(r===ee&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new we(n.segments,e);return tL(t)}function tL(n){if(n.numberOfChildren===1&&n.children[ee]){let e=n.children[ee];return new we(n.segments.concat(e.segments),e.children)}return n}function gs(n){return n instanceof Dn}function uT(n,e,t=null,r=null,i=new ai){let o=lT(n);return dT(o,e,t,r,i)}function lT(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new we(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=aT(r);return e??i}function dT(n,e,t,r,i){let o=n;for(;o.parent;)o=o.parent;if(e.length===0)return $y(o,o,o,t,r,i);let s=nL(e);if(s.toRoot())return $y(o,o,new we([],{}),t,r,i);let a=rL(s,o,n),u=a.processChildren?Tc(a.segmentGroup,a.index,s.commands):hT(a.segmentGroup,a.index,s.commands);return $y(o,a.segmentGroup,u,t,r,i)}function ef(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Rc(n){return typeof n=="object"&&n!=null&&n.outlets}function qD(n,e,t){n||="\u0275";let r=new Dn;return r.queryParams={[n]:e},t.parse(t.serialize(r)).queryParams[n]}function $y(n,e,t,r,i,o){let s={};for(let[l,f]of Object.entries(r??{}))s[l]=Array.isArray(f)?f.map(p=>qD(l,p,o)):qD(l,f,o);let a;n===e?a=t:a=fT(n,e,t);let u=aT(cT(a));return new Dn(u,s,i)}function fT(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=fT(o,e,t)}),new we(n.segments,r)}var tf=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ef(r[0]))throw new $(4003,!1);let i=r.find(Rc);if(i&&i!==VF(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function nL(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new tf(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new tf(t,e,r)}var hs=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function rL(n,e,t){if(n.isAbsolute)return new hs(e,!0,0);if(!t)return new hs(e,!1,NaN);if(t.parent===null)return new hs(t,!0,0);let r=ef(n.commands[0])?0:1,i=t.segments.length-1+r;return iL(t,i,n.numberOfDoubleDots)}function iL(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new hs(r,!1,i-o)}function oL(n){return Rc(n[0])?n[0].outlets:{[ee]:n}}function hT(n,e,t){if(n??=new we([],{}),n.segments.length===0&&n.hasChildren())return Tc(n,e,t);let r=sL(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new we(n.segments.slice(0,r.pathIndex),{});return o.children[ee]=new we(n.segments.slice(r.pathIndex),n.children),Tc(o,0,i)}else return r.match&&i.length===0?new we(n.segments,{}):r.match&&!n.hasChildren()?Qy(n,e,t):r.match?Tc(n,0,i):Qy(n,e,t)}function Tc(n,e,t){if(t.length===0)return new we(n.segments,{});{let r=oL(t),i={};if(Object.keys(r).some(o=>o!==ee)&&n.children[ee]&&n.numberOfChildren===1&&n.children[ee].segments.length===0){let o=Tc(n.children[ee],e,t);return new we(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=hT(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new we(n.segments,i)}}function sL(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Rc(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!WD(u,l,s))return o;r+=2}else{if(!WD(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Qy(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Rc(o)){let u=aL(o.outlets);return new we(r,u)}if(i===0&&ef(t[0])){let u=n.segments[e];r.push(new si(u.path,GD(t[0]))),i++;continue}let s=Rc(o)?o.outlets[ee]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&ef(a)?(r.push(new si(s,GD(a))),i+=2):(r.push(new si(s,{})),i++)}return new we(r,{})}function aL(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Qy(new we([],{}),0,r))}),e}function GD(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function WD(n,e,t){return n==t.path&&Qn(e,t.parameters)}var Sc="imperative",ft=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(ft||{}),Xt=class{id;url;constructor(e,t){this.id=e,this.url=t}},fo=class extends Xt{type=ft.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Cr=class extends Xt{urlAfterRedirects;type=ft.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},xt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(xt||{}),xc=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(xc||{}),un=class extends Xt{reason;code;type=ft.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}};function pT(n){return n instanceof un&&(n.code===xt.Redirect||n.code===xt.SupersededByNewNavigation)}var Dr=class extends Xt{reason;code;type=ft.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},ho=class extends Xt{error;target;type=ft.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ms=class extends Xt{urlAfterRedirects;state;type=ft.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nf=class extends Xt{urlAfterRedirects;state;type=ft.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rf=class extends Xt{urlAfterRedirects;state;shouldActivate;type=ft.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},of=class extends Xt{urlAfterRedirects;state;type=ft.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sf=class extends Xt{urlAfterRedirects;state;type=ft.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},af=class{route;type=ft.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},cf=class{route;type=ft.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},uf=class{snapshot;type=ft.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lf=class{snapshot;type=ft.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},df=class{snapshot;type=ft.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ff=class{snapshot;type=ft.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ys=class{},vs=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function cL(n){return!(n instanceof ys)&&!(n instanceof vs)}var hf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return this.route?.snapshot._environmentInjector??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Is(this.rootInjector)}},Is=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new hf(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(ae(et))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pf=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Yy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Yy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Jy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Jy(e,this._root).map(t=>t.value)}};function Yy(n,e){if(n===e.value)return e;for(let t of e.children){let r=Yy(n,t);if(r)return r}return null}function Jy(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Jy(n,t);if(r.length)return r.unshift(e),r}return[]}var Zt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function fs(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Mc=class extends pf{snapshot;constructor(e,t){super(e),this.snapshot=t,ov(this,e)}toString(){return this.snapshot.toString()}};function gT(n,e){let t=uL(n,e),r=new Et([new si("",{})]),i=new Et({}),o=new Et({}),s=new Et({}),a=new Et(""),u=new ci(r,i,s,a,o,ee,n,t.root);return u.snapshot=t.root,new Mc(new Zt(u,[]),t)}function uL(n,e){let t={},r={},i={},s=new uo([],t,i,"",r,ee,n,null,{},e);return new Nc("",new Zt(s,[]))}var ci=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Pe(l=>l[Oc]))??me(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Pe(e=>lo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Pe(e=>lo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function gf(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),n.params),data:k(k({},e.data),n.data),resolve:k(k(k(k({},n.data),e.data),i?.data),n._resolvedData)}:r={params:k({},n.params),data:k({},n.data),resolve:k(k({},n.data),n._resolvedData??{})},i&&yT(i)&&(r.resolve[Oc]=i.title),r}var uo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;_environmentInjector;get title(){return this.data?.[Oc]}constructor(e,t,r,i,o,s,a,u,l,f){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l,this._environmentInjector=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=lo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=lo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Nc=class extends pf{url;constructor(e,t){super(t),this.url=e,ov(this,t)}toString(){return mT(this._root)}};function ov(n,e){e.value._routerState=n,e.children.forEach(t=>ov(n,t))}function mT(n){let e=n.children.length>0?` { ${n.children.map(mT).join(", ")} } `:"";return`${n.value}${e}`}function zy(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Qn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Qn(e.params,t.params)||n.paramsSubject.next(t.params),LF(e.url,t.url)||n.urlSubject.next(t.url),Qn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Zy(n,e){let t=Qn(n.params,e.params)&&HF(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Zy(n.parent,e.parent))}function yT(n){return typeof n.title=="string"||n.title===null}var vT=new q(""),Lc=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ee;activateEvents=new Ke;deactivateEvents=new Ke;attachEvents=new Ke;detachEvents=new Ke;routerOutletData=ID();parentContexts=V(Is);location=V(io);changeDetector=V(ao);inputBinder=V(_f,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Xy(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=nt({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ir]})}return n})(),Xy=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===ci?this.route:e===Is?this.childContexts:e===vT?this.outletData:this.parent.get(e,t)}},_f=new q("");var sv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=bn({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&oe(0,"router-outlet")},dependencies:[Lc],encapsulation:2})}return n})();function av(n){let e=n.children&&n.children.map(av),t=e?z(k({},n),{children:e}):k({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ee&&(t.component=sv),t}function lL(n,e,t){let r=Pc(n,e._root,t?t._root:void 0);return new Mc(r,e)}function Pc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=dL(n,e,t);return new Zt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Pc(n,a)),s}}let r=fL(e.value),i=e.children.map(o=>Pc(n,o));return new Zt(r,i)}}function dL(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Pc(n,r,i);return Pc(n,r)})}function fL(n){return new ci(new Et(n.url),new Et(n.params),new Et(n.queryParams),new Et(n.fragment),new Et(n.data),n.outlet,n.component,n)}var _s=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},_T="ngNavigationCancelingError";function mf(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=gs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ET(!1,xt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function ET(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[_T]=!0,t.cancellationCode=e,t}function hL(n){return IT(n)&&gs(n.url)}function IT(n){return!!n&&n[_T]}var ev=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),zy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=fs(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=fs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=fs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=fs(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new ff(o.value.snapshot))}),e.children.length&&this.forwardEvent(new lf(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(zy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),zy(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},yf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ps=class{component;route;constructor(e,t){this.component=e,this.route=t}};function pL(n,e,t){let r=n._root,i=e?e._root:null;return Dc(r,i,t,[r.value])}function gL(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ws(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!xg(n)?n:e.get(n):r}function Dc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=fs(e);return n.children.forEach(s=>{mL(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ac(a,t.getContext(s),i)),i}function mL(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=yL(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new yf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Dc(n,e,a?a.children:null,r,i):Dc(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ps(a.outlet.component,s))}else s&&Ac(e,a,i),i.canActivateChecks.push(new yf(r)),o.component?Dc(n,null,a?a.children:null,r,i):Dc(n,null,t,r,i);return i}function yL(n,e,t){if(typeof t=="function")return At(e._environmentInjector,()=>t(n,e));switch(t){case"pathParamsChange":return!co(n.url,e.url);case"pathParamsOrQueryParamsChange":return!co(n.url,e.url)||!Qn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zy(n,e)||!Qn(n.queryParams,e.queryParams);default:return!Zy(n,e)}}function Ac(n,e,t){let r=fs(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ac(s,e.children.getContext(o),t):Ac(s,null,t):Ac(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ps(e.outlet.component,i)):t.canDeactivateChecks.push(new ps(null,i)):t.canDeactivateChecks.push(new ps(null,i))}function Vc(n){return typeof n=="function"}function vL(n){return typeof n=="boolean"}function _L(n){return n&&Vc(n.canLoad)}function EL(n){return n&&Vc(n.canActivate)}function IL(n){return n&&Vc(n.canActivateChild)}function wL(n){return n&&Vc(n.canDeactivate)}function bL(n){return n&&Vc(n.canMatch)}function wT(n){return n instanceof Oi||n?.name==="EmptyError"}var Qd=Symbol("INITIAL_VALUE");function Es(){return dr(n=>ug(n.map(e=>e.pipe(ur(1),fg(Qd)))).pipe(Pe(e=>{for(let t of e)if(t!==!0){if(t===Qd)return Qd;if(t===!1||CL(t))return t}return!0}),cr(e=>e!==Qd),ur(1)))}function CL(n){return gs(n)||n instanceof _s}function bT(n){return n.aborted?me(void 0).pipe(ur(1)):new _e(e=>{let t=()=>{e.next(),e.complete()};return n.addEventListener("abort",t),()=>n.removeEventListener("abort",t)})}function CT(n){return Pa(bT(n))}function DL(n){return Ot(e=>{let{targetSnapshot:t,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:o}}=e;return o.length===0&&i.length===0?me(z(k({},e),{guardsResult:!0})):TL(o,t,r).pipe(Ot(s=>s&&vL(s)?SL(t,i,n):me(s)),Pe(s=>z(k({},e),{guardsResult:s})))})}function TL(n,e,t){return We(n).pipe(Ot(r=>NL(r.component,r.route,t,e)),lr(r=>r!==!0,!0))}function SL(n,e,t){return We(e).pipe(Sl(r=>Wo(RL(r.route.parent,t),AL(r.route,t),ML(n,r.path),xL(n,r.route))),lr(r=>r!==!0,!0))}function AL(n,e){return n!==null&&e&&e(new df(n)),me(!0)}function RL(n,e){return n!==null&&e&&e(new uf(n)),me(!0)}function xL(n,e){let t=e.routeConfig?e.routeConfig.canActivate:null;if(!t||t.length===0)return me(!0);let r=t.map(i=>Ma(()=>{let o=e._environmentInjector,s=ws(i,o),a=EL(s)?s.canActivate(e,n):At(o,()=>s(e,n));return po(a).pipe(lr())}));return me(r).pipe(Es())}function ML(n,e){let t=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(o=>gL(o)).filter(o=>o!==null).map(o=>Ma(()=>{let s=o.guards.map(a=>{let u=o.node._environmentInjector,l=ws(a,u),f=IL(l)?l.canActivateChild(t,n):At(u,()=>l(t,n));return po(f).pipe(lr())});return me(s).pipe(Es())}));return me(i).pipe(Es())}function NL(n,e,t,r){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return me(!0);let o=i.map(s=>{let a=e._environmentInjector,u=ws(s,a),l=wL(u)?u.canDeactivate(n,e,t,r):At(a,()=>u(n,e,t,r));return po(l).pipe(lr())});return me(o).pipe(Es())}function PL(n,e,t,r,i){let o=e.canLoad;if(o===void 0||o.length===0)return me(!0);let s=o.map(a=>{let u=ws(a,n),l=_L(u)?u.canLoad(e,t):At(n,()=>u(e,t)),f=po(l);return i?f.pipe(CT(i)):f});return me(s).pipe(Es(),DT(r))}function DT(n){return og(kn(e=>{if(typeof e!="boolean")throw mf(n,e)}),Pe(e=>e===!0))}function kL(n,e,t,r,i){let o=e.canMatch;if(!o||o.length===0)return me(!0);let s=o.map(a=>{let u=ws(a,n),l=bL(u)?u.canMatch(e,t):At(n,()=>u(e,t));return po(l).pipe(CT(i))});return me(s).pipe(Es(),DT(r))}var br=class n extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,n.prototype)}},kc=class n extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,n.prototype)}};function OL(n){throw new $(4e3,!1)}function FL(n){throw ET(!1,xt.GuardRejected)}var tv=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}async lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[ee])throw OL(`${e.redirectTo}`);i=i.children[ee]}}async applyRedirectCommands(e,t,r,i,o){let s=await LL(t,i,o);if(s instanceof Dn)throw new kc(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new kc(a);return a}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Dn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new we(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function LL(n,e,t){if(typeof n=="string")return Promise.resolve(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:f,title:p,paramMap:g,queryParamMap:y}=e;return Xd(po(At(t,()=>r({params:l,data:f,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p,paramMap:g,queryParamMap:y}))))}function VL(n,e){return n.providers&&!n._injector&&(n._injector=fc(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Cn(n){return n.outlet||ee}function jL(n,e){let t=n.filter(r=>Cn(r)===e);return t.push(...n.filter(r=>Cn(r)!==e)),t}var nv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function UL(n,e,t,r,i,o){let s=TT(n,e,t);return s.matched?(r=VL(e,r),kL(r,e,t,i,o).pipe(Pe(a=>a===!0?s:k({},nv)))):me(s)}function TT(n,e,t){if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?k({},nv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||ZD)(t,n,e);if(!i)return k({},nv);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?k(k({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function KD(n,e,t,r){return t.length>0&&$L(n,t,r)?{segmentGroup:new we(e,HL(r,new we(t,n.children))),slicedSegments:[]}:t.length===0&&zL(n,t,r)?{segmentGroup:new we(n.segments,BL(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new we(n.segments,n.children),slicedSegments:t}}function BL(n,e,t,r){let i={};for(let o of t)if(Ef(n,e,o)&&!r[Cn(o)]){let s=new we([],{});i[Cn(o)]=s}return k(k({},r),i)}function HL(n,e){let t={};t[ee]=e;for(let r of n)if(r.path===""&&Cn(r)!==ee){let i=new we([],{});t[Cn(r)]=i}return t}function $L(n,e,t){return t.some(r=>Ef(n,e,r)&&Cn(r)!==ee)}function zL(n,e,t){return t.some(r=>Ef(n,e,r))}function Ef(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function qL(n,e,t){return e.length===0&&!n.children[t]}var rv=class{};async function GL(n,e,t,r,i,o,s="emptyOnly",a){return new iv(n,e,t,r,i,s,o,a).recognize()}var WL=31,iv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a,u){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=u,this.applyRedirects=new tv(this.urlSerializer,this.urlTree)}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}async recognize(){let e=KD(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:r}=await this.match(e),i=new Zt(r,t),o=new Nc("",i),s=uT(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(e){let t=new uo([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ee,this.rootComponentType,null,{},this.injector);try{return{children:await this.processSegmentGroup(this.injector,this.config,e,ee,t),rootSnapshot:t}}catch(r){if(r instanceof kc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof br?this.noMatchError(r):r}}async processSegmentGroup(e,t,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,t,r,o);let s=await this.processSegment(e,t,r,r.segments,i,!0,o);return s instanceof Zt?[s]:[]}async processChildren(e,t,r,i){let o=[];for(let u of Object.keys(r.children))u==="primary"?o.unshift(u):o.push(u);let s=[];for(let u of o){let l=r.children[u],f=jL(t,u),p=await this.processSegmentGroup(e,f,l,u,i);s.push(...p)}let a=ST(s);return KL(a),a}async processSegment(e,t,r,i,o,s,a){for(let u of t)try{return await this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a)}catch(l){if(l instanceof br||wT(l))continue;throw l}if(qL(r,i,o))return new rv;throw new br(r)}async processSegmentAgainstRoute(e,t,r,i,o,s,a,u){if(Cn(r)!==s&&(s===ee||!Ef(i,o,r)))throw new br(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,o,s,u);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u);throw new br(i)}async expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:g}=TT(t,i,o);if(!u)throw new br(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>WL&&(this.allowRedirects=!1));let y=new uo(o,l,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,QD(i),Cn(i),i.component??i._loadedComponent??null,i,YD(i),e),x=gf(y,a,this.paramsInheritanceStrategy);if(y.params=Object.freeze(x.params),y.data=Object.freeze(x.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let O=await this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,y,e),A=await this.applyRedirects.lineralizeSegments(i,O);return this.processSegment(e,r,t,A.concat(g),s,!1,a)}async matchSegmentAgainstRoute(e,t,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await Xd(UL(t,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(t.children={}),!a?.matched)throw new br(t);e=r._injector??e;let{routes:u}=await this.getChildConfig(e,r,i),l=r._loadedInjector??e,{parameters:f,consumedSegments:p,remainingSegments:g}=a,y=new uo(p,f,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,QD(r),Cn(r),r.component??r._loadedComponent??null,r,YD(r),e),x=gf(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(x.params),y.data=Object.freeze(x.data);let{segmentGroup:O,slicedSegments:A}=KD(t,p,g,u);if(A.length===0&&O.hasChildren()){let Ee=await this.processChildren(l,u,O,y);return new Zt(y,Ee)}if(u.length===0&&A.length===0)return new Zt(y,[]);let N=Cn(r)===o,Z=await this.processSegment(l,u,O,A,N?ee:o,!0,y);return new Zt(y,Z instanceof Zt?[Z]:[])}async getChildConfig(e,t,r){if(t.children)return{routes:t.children,injector:e};if(t.loadChildren){if(t._loadedRoutes!==void 0){let o=t._loadedNgModuleFactory;return o&&!t._loadedInjector&&(t._loadedInjector=o.create(e).injector),{routes:t._loadedRoutes,injector:t._loadedInjector}}if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await Xd(PL(e,t,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(e,t);return t._loadedRoutes=o.routes,t._loadedInjector=o.injector,t._loadedNgModuleFactory=o.factory,o}throw FL(t)}return{routes:[],injector:e}}};function KL(n){n.sort((e,t)=>e.value.outlet===ee?-1:t.value.outlet===ee?1:e.value.outlet.localeCompare(t.value.outlet))}function QL(n){let e=n.value.routeConfig;return e&&e.path===""}function ST(n){let e=[],t=new Set;for(let r of n){if(!QL(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=ST(r.children);e.push(new Zt(r.value,i))}return e.filter(r=>!t.has(r))}function QD(n){return n.data||{}}function YD(n){return n.resolve||{}}function YL(n,e,t,r,i,o,s){return Ot(async a=>{let{state:u,tree:l}=await GL(n,e,t,r,a.extractedUrl,i,o,s);return z(k({},a),{targetSnapshot:u,urlAfterRedirects:l})})}function JL(n){return Ot(e=>{let{targetSnapshot:t,guards:{canActivateChecks:r}}=e;if(!r.length)return me(e);let i=new Set(r.map(a=>a.route)),o=new Set;for(let a of i)if(!o.has(a))for(let u of AT(a))o.add(u);let s=0;return We(o).pipe(Sl(a=>i.has(a)?ZL(a,t,n):(a.data=gf(a,a.parent,n).resolve,me(void 0))),kn(()=>s++),Al(1),Ot(a=>s===o.size?me(e):It))})}function AT(n){let e=n.children.map(t=>AT(t)).flat();return[n,...e]}function ZL(n,e,t){let r=n.routeConfig,i=n._resolve;return r?.title!==void 0&&!yT(r)&&(i[Oc]=r.title),Ma(()=>(n.data=gf(n,n.parent,t).resolve,XL(i,n,e).pipe(Pe(o=>(n._resolvedData=o,n.data=k(k({},n.data),o),null)))))}function XL(n,e,t){let r=Gy(n);if(r.length===0)return me({});let i={};return We(r).pipe(Ot(o=>eV(n[o],e,t).pipe(lr(),kn(s=>{if(s instanceof _s)throw mf(new ai,s);i[o]=s}))),Al(1),Pe(()=>i),Na(o=>wT(o)?It:cg(o)))}function eV(n,e,t){let r=e._environmentInjector,i=ws(n,r),o=i.resolve?i.resolve(e,t):At(r,()=>i(e,t));return po(o)}function JD(n){return dr(e=>{let t=n(e);return t?We(t).pipe(Pe(()=>e)):me(e)})}var cv=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ee);return r}getResolvedTitleForRoute(t){return t.data[Oc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>V(RT),providedIn:"root"})}return n})(),RT=(()=>{class n extends cv{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(ae(HD))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jc=new q("",{factory:()=>({})}),Uc=new q(""),xT=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=V(Ey);async loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await eT(At(t,()=>r.loadComponent())),s=await PT(NT(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await MT(r,this.compiler,t,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,r._loadedNgModuleFactory=o.factory,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();async function MT(n,e,t,r){let i=await eT(At(t,()=>n.loadChildren())),o=await PT(NT(i)),s;o instanceof Rd||Array.isArray(o)?s=o:s=await e.compileModuleAsync(o),r&&r(n);let a,u,l=!1,f;return Array.isArray(s)?(u=s,l=!0):(a=s.create(t).injector,f=s,u=a.get(Uc,[],{optional:!0,self:!0}).flat()),{routes:u.map(av),injector:a,factory:f}}function tV(n){return n&&typeof n=="object"&&"default"in n}function NT(n){return tV(n)?n.default:n}async function PT(n){return n}var If=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>V(nV),providedIn:"root"})}return n})(),nV=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kT=new q("");var rV=()=>{},OT=new q(""),FT=(()=>{class n{currentNavigation=de(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=de(null);events=new at;transitionAbortWithErrorSubject=new at;configLoader=V(xT);environmentInjector=V(et);destroyRef=V(Bn);urlSerializer=V(Fc);rootContexts=V(Is);location=V(ds);inputBindingEnabled=V(_f,{optional:!0})!==null;titleStrategy=V(cv);options=V(jc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=V(If);createViewTransition=V(kT,{optional:!0});navigationErrorHandler=V(OT,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>me(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new af(i)),r=i=>this.events.next(new cf(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;ut(()=>{this.transitions?.next(z(k({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(t){return this.transitions=new Et(null),this.transitions.pipe(cr(r=>r!==null),dr(r=>{let i=!1,o=new AbortController,s=()=>!i&&this.currentTransition?.id===r.id;return me(r).pipe(dr(a=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",xt.SupersededByNewNavigation),It;this.currentTransition=r;let u=this.lastSuccessfulNavigation();this.currentNavigation.set({id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:u?z(k({},u),{previousNavigation:null}):null,abort:()=>o.abort()});let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=a.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&f!=="reload")return this.events.next(new Dr(a.id,this.urlSerializer.serialize(a.rawUrl),"",xc.IgnoredSameUrlNavigation)),a.resolve(!1),It;if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return me(a).pipe(dr(p=>(this.events.next(new fo(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),p.id!==this.navigationId?It:Promise.resolve(p))),YL(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),kn(p=>{r.targetSnapshot=p.targetSnapshot,r.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation.update(y=>(y.finalUrl=p.urlAfterRedirects,y));let g=new ms(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:p,extractedUrl:g,source:y,restoredState:x,extras:O}=a,A=new fo(p,this.urlSerializer.serialize(g),y,x);this.events.next(A);let N=gT(this.rootComponentType,this.environmentInjector).snapshot;return this.currentTransition=r=z(k({},a),{targetSnapshot:N,urlAfterRedirects:g,extras:z(k({},O),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(Z=>(Z.finalUrl=g,Z)),me(r)}else return this.events.next(new Dr(a.id,this.urlSerializer.serialize(a.extractedUrl),"",xc.IgnoredByUrlHandlingStrategy)),a.resolve(!1),It}),Pe(a=>{let u=new nf(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);return this.events.next(u),this.currentTransition=r=z(k({},a),{guards:pL(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),r}),DL(a=>this.events.next(a)),dr(a=>{if(r.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw mf(this.urlSerializer,a.guardsResult);let u=new rf(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);if(this.events.next(u),!s())return It;if(!a.guardsResult)return this.cancelNavigationTransition(a,"",xt.GuardRejected),It;if(a.guards.canActivateChecks.length===0)return me(a);let l=new of(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);if(this.events.next(l),!s())return It;let f=!1;return me(a).pipe(JL(this.paramsInheritanceStrategy),kn({next:()=>{f=!0;let p=new sf(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(p)},complete:()=>{f||this.cancelNavigationTransition(a,"",xt.NoDataFromResolver)}}))}),JD(a=>{let u=f=>{let p=[];if(f.routeConfig?._loadedComponent)f.component=f.routeConfig?._loadedComponent;else if(f.routeConfig?.loadComponent){let g=f._environmentInjector;p.push(this.configLoader.loadComponent(g,f.routeConfig).then(y=>{f.component=y}))}for(let g of f.children)p.push(...u(g));return p},l=u(a.targetSnapshot.root);return l.length===0?me(a):We(Promise.all(l).then(()=>a))}),JD(()=>this.afterPreactivation()),dr(()=>{let{currentSnapshot:a,targetSnapshot:u}=r,l=this.createViewTransition?.(this.environmentInjector,a.root,u.root);return l?We(l).pipe(Pe(()=>r)):me(r)}),ur(1),Pe(a=>{let u=lL(t.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);this.currentTransition=r=a=z(k({},a),{targetRouterState:u}),this.currentNavigation.update(l=>(l.targetRouterState=u,l)),this.events.next(new ys),s()&&(new ev(t.routeReuseStrategy,r.targetRouterState,r.currentRouterState,l=>this.events.next(l),this.inputBindingEnabled).activate(this.rootContexts),s()&&(i=!0,this.currentNavigation.update(l=>(l.abort=rV,l)),this.lastSuccessfulNavigation.set(ut(this.currentNavigation)),this.events.next(new Cr(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)))}),Pa(bT(o.signal).pipe(cr(()=>!i&&!r.targetRouterState),kn(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",xt.Aborted)}))),kn({complete:()=>{i=!0}}),Pa(this.transitionAbortWithErrorSubject.pipe(kn(a=>{throw a}))),dg(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",xt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Na(a=>{if(i=!0,this.destroyed)return r.resolve(!1),It;if(IT(a))this.events.next(new un(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode)),hL(a)?this.events.next(new vs(a.url,a.navigationBehaviorOptions)):r.resolve(!1);else{let u=new ho(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);try{let l=At(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(l instanceof _s){let{message:f,cancellationCode:p}=mf(this.urlSerializer,l);this.events.next(new un(r.id,this.urlSerializer.serialize(r.extractedUrl),f,p)),this.events.next(new vs(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(u),a}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return It}))}))}cancelNavigationTransition(t,r,i){let o=new un(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=ut(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function iV(n){return n!==Sc}var LT=new q("");var VT=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>V(oV),providedIn:"root"})}return n})(),vf=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}shouldDestroyInjector(e){return!0}},oV=(()=>{class n extends vf{static \u0275fac=(()=>{let t;return function(i){return(t||(t=no(n)))(i||n)}})();static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uv=(()=>{class n{urlSerializer=V(Fc);options=V(jc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=V(ds);urlHandlingStrategy=V(If);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Dn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Dn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=gT(null,V(et));getRouterState(){return this.routerState}_stateMemento=this.createStateMemento();get stateMemento(){return this._stateMemento}updateStateMemento(){this._stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}restoredState(){return this.location.getState()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>V(sV),providedIn:"root"})}return n})(),sV=(()=>{class n extends uv{currentPageId=0;lastSuccessfulId=-1;get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof fo?this.updateStateMemento():t instanceof Dr?this.commitTransition(r):t instanceof ms?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof ys?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof un&&!pT(t)?this.restoreHistory(r):t instanceof ho?this.restoreHistory(r,!0):t instanceof Cr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=k(k({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=k(k({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=no(n)))(i||n)}})();static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lv(n,e){n.events.pipe(cr(t=>t instanceof Cr||t instanceof un||t instanceof ho||t instanceof Dr),Pe(t=>t instanceof Cr||t instanceof Dr?0:(t instanceof un?t.code===xt.Redirect||t.code===xt.SupersededByNewNavigation:!1)?2:1),cr(t=>t!==2),ur(1)).subscribe(()=>{e()})}var jT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},UT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ui=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=V(py);stateManager=V(uv);options=V(jc,{optional:!0})||{};pendingTasks=V(Xr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=V(FT);urlSerializer=V(Fc);location=V(ds);urlHandlingStrategy=V(If);injector=V(et);_events=new at;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=V(VT);injectorCleanup=V(LT,{optional:!0});onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=V(Uc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!V(_f,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{}}),this.subscribeToNavigationEvents()}eventsSubscription=new _t;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=ut(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof un&&r.code!==xt.Redirect&&r.code!==xt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Cr)this.navigated=!0,this.injectorCleanup?.(this.routeReuseStrategy,this.routerState,this.config);else if(r instanceof vs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=k({scroll:i.extras.scroll,browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||iV(i.source)},s);this.scheduleNavigation(a,Sc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}cL(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Sc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=k({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(Hn)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return ut(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(av),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f=k(k({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=lT(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return dT(p,t,f,l??null,this.urlSerializer)}navigateByUrl(t,r={skipLocationChange:!1}){let i=gs(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Sc,null,r)}navigate(t,r={skipLocationChange:!1}){return aV(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Bi(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=k({},jT):r===!1?i=k({},UT):i=r,gs(t))return $D(this.currentUrlTree,t,i);let o=this.parseUrl(t);return $D(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let f=this.pendingTasks.add();return lv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function aV(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new $(4008,!1)}var lV=new q("");function dv(n,...e){return Ba([{provide:Uc,multi:!0,useValue:n},[],{provide:ci,useFactory:dV},{provide:xd,multi:!0,useFactory:fV},e.map(t=>t.\u0275providers)])}function dV(){return V(ui).routerState.root}function fV(){let n=V(Kt);return e=>{let t=n.get(oo);if(e!==t.components[0])return;let r=n.get(ui),i=n.get(hV);n.get(pV)===1&&r.initialNavigation(),n.get(gV,null,{optional:!0})?.setUpPreloading(),n.get(lV,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var hV=new q("",{factory:()=>new at}),pV=new q("",{factory:()=>1});var gV=new q("");var wf=class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=bn({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&oe(0,"router-outlet")},dependencies:[Lc],encapsulation:2})}};var YT=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(ge(ro),ge(ti))};static \u0275dir=nt({type:n})}return n})(),yV=(()=>{class n extends YT{static \u0275fac=(()=>{let t;return function(i){return(t||(t=no(n)))(i||n)}})();static \u0275dir=nt({type:n,features:[Gn]})}return n})(),JT=new q("");var vV={provide:JT,useExisting:gr(()=>di),multi:!0};function _V(){let n=cn()?cn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var EV=new q(""),di=(()=>{class n extends YT{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!_V())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(ge(ro),ge(ti),ge(EV,8))};static \u0275dir=nt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Re("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[ls([vV]),Gn]})}return n})();function IV(n){return n==null||wV(n)===0}function wV(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var pv=new q(""),ZT=new q("");function bV(n){return IV(n.value)?{required:!0}:null}function HT(n){return null}function XT(n){return n!=null}function eS(n){return ri(n)?We(n):n}function tS(n){let e={};return n.forEach(t=>{e=t!=null?k(k({},e),t):e}),Object.keys(e).length===0?null:e}function nS(n,e){return e.map(t=>t(n))}function CV(n){return!n.validate}function rS(n){return n.map(e=>CV(e)?e:t=>e.validate(t))}function DV(n){if(!n)return null;let e=n.filter(XT);return e.length==0?null:function(t){return tS(nS(t,e))}}function gv(n){return n!=null?DV(rS(n)):null}function TV(n){if(!n)return null;let e=n.filter(XT);return e.length==0?null:function(t){let r=nS(t,e).map(eS);return lg(r).pipe(Pe(tS))}}function mv(n){return n!=null?TV(rS(n)):null}function $T(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function SV(n){return n._rawValidators}function AV(n){return n._rawAsyncValidators}function fv(n){return n?Array.isArray(n)?n:[n]:[]}function Cf(n,e){return Array.isArray(n)?n.includes(e):n===e}function zT(n,e){let t=fv(e);return fv(n).forEach(i=>{Cf(t,i)||t.push(i)}),t}function qT(n,e){return fv(e).filter(t=>!Cf(n,t))}var Df=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=gv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=mv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Ds=class extends Df{name;get formDirective(){return null}get path(){return null}},Gc=class extends Df{_parent=null;name=null;valueAccessor=null},Tf=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var Ts=(()=>{class n extends Tf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ge(Gc,2))};static \u0275dir=nt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ve("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Gn]})}return n})(),Mf=(()=>{class n extends Tf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ge(Ds,10))};static \u0275dir=nt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ve("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Gn]})}return n})();var Bc="VALID",bf="INVALID",bs="PENDING",Hc="DISABLED",li=class{},Sf=class extends li{value;source;constructor(e,t){super(),this.value=e,this.source=t}},zc=class extends li{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},qc=class extends li{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Cs=class extends li{status;source;constructor(e,t){super(),this.status=e,this.source=t}},hv=class extends li{source;constructor(e){super(),this.source=e}},Af=class extends li{source;constructor(e){super(),this.source=e}};function iS(n){return(Nf(n)?n.validators:n)||null}function RV(n){return Array.isArray(n)?gv(n):n||null}function oS(n,e){return(Nf(e)?e.asyncValidators:n)||null}function xV(n){return Array.isArray(n)?mv(n):n||null}function Nf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function MV(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new $(1e3,"");if(!r[t])throw new $(1001,"")}function NV(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new $(1002,"")})}var Rf=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ut(this.statusReactive)}set status(e){ut(()=>this.statusReactive.set(e))}_status=so(()=>this.statusReactive());statusReactive=de(void 0);get valid(){return this.status===Bc}get invalid(){return this.status===bf}get pending(){return this.status==bs}get disabled(){return this.status===Hc}get enabled(){return this.status!==Hc}errors;get pristine(){return ut(this.pristineReactive)}set pristine(e){ut(()=>this.pristineReactive.set(e))}_pristine=so(()=>this.pristineReactive());pristineReactive=de(!0);get dirty(){return!this.pristine}get touched(){return ut(this.touchedReactive)}set touched(e){ut(()=>this.touchedReactive.set(e))}_touched=so(()=>this.touchedReactive());touchedReactive=de(!1);get untouched(){return!this.touched}_events=new at;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(zT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(zT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(qT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(qT(e,this._rawAsyncValidators))}hasValidator(e){return Cf(this._rawValidators,e)}hasAsyncValidator(e){return Cf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(z(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new qc(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new qc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(z(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new zc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new zc(!0,r))}markAsPending(e={}){this.status=bs;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cs(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(z(k({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Hc,this.errors=null,this._forEachChild(i=>{i.disable(z(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Sf(this.value,r)),this._events.next(new Cs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(z(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Bc,this._forEachChild(r=>{r.enable(z(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(z(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bc||this.status===bs)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Sf(this.value,t)),this._events.next(new Cs(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(z(k({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hc:Bc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=bs,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=eS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Cs(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ke,this.statusChanges=new Ke}_calculateStatus(){return this._allControlsDisabled()?Hc:this.errors?bf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bs)?bs:this._anyControlsHaveStatus(bf)?bf:Bc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new zc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new qc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Nf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=RV(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=xV(this._rawAsyncValidators)}},xf=class extends Rf{constructor(e,t,r){super(iS(t),oS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){NV(this,!0,e),Object.keys(e).forEach(r=>{MV(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,z(k({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Af(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var yv=new q("",{factory:()=>vv}),vv="always";function PV(n,e){return[...e.path,n]}function sS(n,e,t=vv){aS(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),OV(n,e),LV(n,e),FV(n,e),kV(n,e)}function GT(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function kV(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function aS(n,e){let t=SV(n);e.validator!==null?n.setValidators($T(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=AV(n);e.asyncValidator!==null?n.setAsyncValidators($T(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();GT(e._rawValidators,i),GT(e._rawAsyncValidators,i)}function OV(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&cS(n,e)})}function FV(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&cS(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function cS(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function LV(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function VV(n,e){n==null,aS(n,e)}function jV(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function UV(n){return Object.getPrototypeOf(n.constructor)===yV}function BV(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function HV(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===di?t=o:UV(o)?r=o:i=o}),i||r||t||null}var $V={provide:Ds,useExisting:gr(()=>Wc)},$c=Promise.resolve(),Wc=(()=>{class n extends Ds{callSetDisabledState;get submitted(){return ut(this.submittedReactive)}_submitted=so(()=>this.submittedReactive());submittedReactive=de(!1);_directives=new Set;form;ngSubmit=new Ke;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new xf({},gv(t),mv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){$c.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),sS(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){$c.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){$c.then(()=>{let r=this._findContainer(t.path),i=new xf({});VV(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){$c.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){$c.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),BV(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new hv(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(ge(pv,10),ge(ZT,10),ge(yv,8))};static \u0275dir=nt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Re("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ls([$V]),Gn]})}return n})();function WT(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function KT(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var zV=class extends Rf{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(iS(t),oS(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(KT(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),t.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Af(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){WT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){WT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){KT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var qV={provide:Gc,useExisting:gr(()=>go)},QT=Promise.resolve(),go=(()=>{class n extends Gc{_changeDetectorRef;callSetDisabledState;control=new zV;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ke;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=HV(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),jV(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){sS(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){QT.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&wr(r);QT.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?PV(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(ge(Ds,9),ge(pv,10),ge(ZT,10),ge(JT,10),ge(ao,8),ge(yv,8))};static \u0275dir=nt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ls([qV]),Gn,Ir]})}return n})();var Pf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=nt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var GV=(()=>{class n{_validator=HT;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):HT,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=nt({type:n,features:[Ir]})}return n})();var WV={provide:pv,useExisting:gr(()=>Kc),multi:!0};var Kc=(()=>{class n extends GV{required;inputName="required";normalizeInput=wr;createValidator=t=>bV;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=no(n)))(i||n)}})();static \u0275dir=nt({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Md("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ls([WV]),Gn]})}return n})();var KV=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ni({type:n});static \u0275inj=mr({})}return n})();var Ss=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:yv,useValue:t.callSetDisabledState??vv}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ni({type:n});static \u0275inj=mr({imports:[KV]})}return n})();var uS=()=>{};var fS=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},QV=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},hS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,f=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(t[f],t[p],t[g],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(fS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):QV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Iv;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let x=l<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Iv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},YV=function(n){let e=fS(n);return hS.encodeByteArray(e,!0)},Yc=function(n){return YV(n).replace(/\./g,"")},Of=function(n){try{return hS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function pS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var JV=()=>pS().__FIREBASE_DEFAULTS__,ZV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},XV=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Of(n[1]);return e&&JSON.parse(e)},Ff=()=>{try{return uS()||JV()||ZV()||XV()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},bv=n=>Ff()?.emulatorHosts?.[n],gS=n=>{let e=bv(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Cv=()=>Ff()?.config,Dv=n=>Ff()?.[`_${n}`];var kf=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function fi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lf(n){return(await fetch(n,{credentials:"include"})).ok}function mS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=k({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Yc(JSON.stringify(t)),Yc(JSON.stringify(s)),""].join(".")}var Qc={};function e2(){let n={prod:[],emulator:[]};for(let e of Object.keys(Qc))Qc[e]?n.emulator.push(e):n.prod.push(e);return n}function t2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var lS=!1;function Vf(n,e){if(typeof window>"u"||typeof document>"u"||!fi(window.location.host)||Qc[n]===e||Qc[n]||lS)return;Qc[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=e2().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{lS=!0,s()},g}function f(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=t2(r),y=t("text"),x=document.getElementById(y)||document.createElement("span"),O=t("learnmore"),A=document.getElementById(O)||document.createElement("a"),N=t("preprendIcon"),Z=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let Ee=g.element;a(Ee),f(A,O);let zt=l();u(Z,N),Ee.append(Z,x,A,zt),document.body.appendChild(Ee)}o?(x.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}function n2(){let n=Ff()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _S(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ES(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IS(){let n=ht();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function wS(){return!n2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tv(){try{return typeof indexedDB=="object"}catch{return!1}}function bS(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}var r2="FirebaseError",en=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=r2,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tr.prototype.create)}},Tr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?i2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new en(i,a,r)}};function i2(n,e){return n.replace(o2,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var o2=/\{\$([^}]+)}/g;function CS(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Tn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(dS(o)&&dS(s)){if(!Tn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function dS(n){return n!==null&&typeof n=="object"}function Jc(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function As(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Rs(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function DS(n,e){let t=new wv(n,e);return t.subscribe.bind(t)}var wv=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");s2(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Ev),i.error===void 0&&(i.error=Ev),i.complete===void 0&&(i.complete=Ev);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function s2(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ev(){}var jee=14400*1e3;function Qe(n){return n&&n._delegate?n._delegate:n}var ln=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var mo="[DEFAULT]";var Sv=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new kf;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(c2(e))try{this.getOrInitializeService({instanceIdentifier:mo})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mo){return this.instances.has(e)}getOptions(e=mo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){let r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:a2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mo){return this.component?this.component.multipleInstances?e:mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function a2(n){return n===mo?void 0:n}function c2(n){return n.instantiationMode==="EAGER"}var jf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Sv(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var u2=[],fe=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(fe||{}),l2={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},d2=fe.INFO,f2={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},h2=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=f2[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},hi=class{constructor(e){this.name=e,this._logLevel=d2,this._logHandler=h2,this._userLogHandler=null,u2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?l2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}};var p2=(n,e)=>e.some(t=>n instanceof t),TS,SS;function g2(){return TS||(TS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function m2(){return SS||(SS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var AS=new WeakMap,Rv=new WeakMap,RS=new WeakMap,Av=new WeakMap,Mv=new WeakMap;function y2(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Yn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&AS.set(t,n)}).catch(()=>{}),Mv.set(e,n),e}function v2(n){if(Rv.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Rv.set(n,e)}var xv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Rv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||RS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Yn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function xS(n){xv=n(xv)}function _2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Uf(this),e,...t);return RS.set(r,e.sort?e.sort():[e]),Yn(r)}:m2().includes(n)?function(...e){return n.apply(Uf(this),e),Yn(AS.get(this))}:function(...e){return Yn(n.apply(Uf(this),e))}}function E2(n){return typeof n=="function"?_2(n):(n instanceof IDBTransaction&&v2(n),p2(n,g2())?new Proxy(n,xv):n)}function Yn(n){if(n instanceof IDBRequest)return y2(n);if(Av.has(n))return Av.get(n);let e=E2(n);return e!==n&&(Av.set(n,e),Mv.set(e,n)),e}var Uf=n=>Mv.get(n);function NS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Yn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Yn(s.result),u.oldVersion,u.newVersion,Yn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var I2=["get","getKey","getAll","getAllKeys","count"],w2=["put","add","delete","clear"],Nv=new Map;function MS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Nv.get(e))return Nv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=w2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||I2.includes(t)))return;let o=async function(s,...a){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[t](...a),i&&u.done]))[0]};return Nv.set(e,o),o}xS(n=>z(k({},n),{get:(e,t,r)=>MS(e,t)||n.get(e,t,r),has:(e,t)=>!!MS(e,t)||n.has(e,t)}));var kv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(b2(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function b2(n){return n.getComponent()?.type==="VERSION"}var Ov="@firebase/app",PS="0.14.7";var Sr=new hi("@firebase/app"),C2="@firebase/app-compat",D2="@firebase/analytics-compat",T2="@firebase/analytics",S2="@firebase/app-check-compat",A2="@firebase/app-check",R2="@firebase/auth",x2="@firebase/auth-compat",M2="@firebase/database",N2="@firebase/data-connect",P2="@firebase/database-compat",k2="@firebase/functions",O2="@firebase/functions-compat",F2="@firebase/installations",L2="@firebase/installations-compat",V2="@firebase/messaging",j2="@firebase/messaging-compat",U2="@firebase/performance",B2="@firebase/performance-compat",H2="@firebase/remote-config",$2="@firebase/remote-config-compat",z2="@firebase/storage",q2="@firebase/storage-compat",G2="@firebase/firestore",W2="@firebase/ai",K2="@firebase/firestore-compat",Q2="firebase",Y2="12.8.0";var Fv="[DEFAULT]",J2={[Ov]:"fire-core",[C2]:"fire-core-compat",[T2]:"fire-analytics",[D2]:"fire-analytics-compat",[A2]:"fire-app-check",[S2]:"fire-app-check-compat",[R2]:"fire-auth",[x2]:"fire-auth-compat",[M2]:"fire-rtdb",[N2]:"fire-data-connect",[P2]:"fire-rtdb-compat",[k2]:"fire-fn",[O2]:"fire-fn-compat",[F2]:"fire-iid",[L2]:"fire-iid-compat",[V2]:"fire-fcm",[j2]:"fire-fcm-compat",[U2]:"fire-perf",[B2]:"fire-perf-compat",[H2]:"fire-rc",[$2]:"fire-rc-compat",[z2]:"fire-gcs",[q2]:"fire-gcs-compat",[G2]:"fire-fst",[K2]:"fire-fst-compat",[W2]:"fire-vertex","fire-js":"fire-js",[Q2]:"fire-js-all"};var Bf=new Map,Z2=new Map,Lv=new Map;function kS(n,e){try{n.container.addComponent(e)}catch(t){Sr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function gi(n){let e=n.name;if(Lv.has(e))return Sr.debug(`There were multiple attempts to register component ${e}.`),!1;Lv.set(e,n);for(let t of Bf.values())kS(t,n);for(let t of Z2.values())kS(t,n);return!0}function Xc(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function tn(n){return n==null?!1:n.settings!==void 0}var X2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pi=new Tr("app","Firebase",X2);var Vv=class{constructor(e,t,r){this._isDeleted=!1,this._options=k({},e),this._config=k({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pi.create("app-deleted",{appName:this._name})}};var mi=Y2;function eu(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=k({name:Fv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw pi.create("bad-app-name",{appName:String(i)});if(t||(t=Cv()),!t)throw pi.create("no-options");let o=Bf.get(i);if(o){if(Tn(t,o.options)&&Tn(r,o.config))return o;throw pi.create("duplicate-app",{appName:i})}let s=new jf(i);for(let u of Lv.values())s.addComponent(u);let a=new Vv(t,r,s);return Bf.set(i,a),a}function Hf(n=Fv){let e=Bf.get(n);if(!e&&n===Fv&&Cv())return eu();if(!e)throw pi.create("no-app",{appName:n});return e}function Sn(n,e,t){let r=J2[n]??n;t&&(r+=`-${t}`);let i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sr.warn(s.join(" "));return}gi(new ln(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var ej="firebase-heartbeat-database",tj=1,Zc="firebase-heartbeat-store",Pv=null;function VS(){return Pv||(Pv=NS(ej,tj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Zc)}catch(t){console.warn(t)}}}}).catch(n=>{throw pi.create("idb-open",{originalErrorMessage:n.message})})),Pv}async function nj(n){try{let t=(await VS()).transaction(Zc),r=await t.objectStore(Zc).get(jS(n));return await t.done,r}catch(e){if(e instanceof en)Sr.warn(e.message);else{let t=pi.create("idb-get",{originalErrorMessage:e?.message});Sr.warn(t.message)}}}async function OS(n,e){try{let r=(await VS()).transaction(Zc,"readwrite");await r.objectStore(Zc).put(e,jS(n)),await r.done}catch(t){if(t instanceof en)Sr.warn(t.message);else{let r=pi.create("idb-set",{originalErrorMessage:t?.message});Sr.warn(r.message)}}}function jS(n){return`${n.name}!${n.options.appId}`}var rj=1024,ij=30,jv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Uv(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=FS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>ij){let i=sj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Sr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=FS(),{heartbeatsToSend:t,unsentEntries:r}=oj(this._heartbeatsCache.heartbeats),i=Yc(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Sr.warn(e),""}}};function FS(){return new Date().toISOString().substring(0,10)}function oj(n,e=rj){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),LS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),LS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Uv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Tv()?bS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await nj(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return OS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return OS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function LS(n){return Yc(JSON.stringify({version:2,heartbeats:n})).length}function sj(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function aj(n){gi(new ln("platform-logger",e=>new kv(e),"PRIVATE")),gi(new ln("heartbeat",e=>new jv(e),"PRIVATE")),Sn(Ov,PS,n),Sn(Ov,PS,"esm2020"),Sn("fire-js","")}aj("");var cj="firebase",uj="12.8.0";Sn(cj,uj,"app");var US=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},BS={};var Ar,Bv;(function(){var n;function e(C,v){function E(){}E.prototype=v.prototype,C.F=v.prototype,C.prototype=new E,C.prototype.constructor=C,C.D=function(D,b,R){for(var _=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)_[jt-2]=arguments[jt];return v.prototype[b].apply(D,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,v,E){E||(E=0);let D=Array(16);if(typeof v=="string")for(var b=0;b<16;++b)D[b]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(b=0;b<16;++b)D[b]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=C.g[0],E=C.g[1],b=C.g[2];let R=C.g[3],_;_=v+(R^E&(b^R))+D[0]+3614090360&4294967295,v=E+(_<<7&4294967295|_>>>25),_=R+(b^v&(E^b))+D[1]+3905402710&4294967295,R=v+(_<<12&4294967295|_>>>20),_=b+(E^R&(v^E))+D[2]+606105819&4294967295,b=R+(_<<17&4294967295|_>>>15),_=E+(v^b&(R^v))+D[3]+3250441966&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(R^E&(b^R))+D[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=R+(b^v&(E^b))+D[5]+1200080426&4294967295,R=v+(_<<12&4294967295|_>>>20),_=b+(E^R&(v^E))+D[6]+2821735955&4294967295,b=R+(_<<17&4294967295|_>>>15),_=E+(v^b&(R^v))+D[7]+4249261313&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(R^E&(b^R))+D[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=R+(b^v&(E^b))+D[9]+2336552879&4294967295,R=v+(_<<12&4294967295|_>>>20),_=b+(E^R&(v^E))+D[10]+4294925233&4294967295,b=R+(_<<17&4294967295|_>>>15),_=E+(v^b&(R^v))+D[11]+2304563134&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(R^E&(b^R))+D[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=R+(b^v&(E^b))+D[13]+4254626195&4294967295,R=v+(_<<12&4294967295|_>>>20),_=b+(E^R&(v^E))+D[14]+2792965006&4294967295,b=R+(_<<17&4294967295|_>>>15),_=E+(v^b&(R^v))+D[15]+1236535329&4294967295,E=b+(_<<22&4294967295|_>>>10),_=v+(b^R&(E^b))+D[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=R+(E^b&(v^E))+D[6]+3225465664&4294967295,R=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(R^v))+D[11]+643717713&4294967295,b=R+(_<<14&4294967295|_>>>18),_=E+(R^v&(b^R))+D[0]+3921069994&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(b^R&(E^b))+D[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=R+(E^b&(v^E))+D[10]+38016083&4294967295,R=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(R^v))+D[15]+3634488961&4294967295,b=R+(_<<14&4294967295|_>>>18),_=E+(R^v&(b^R))+D[4]+3889429448&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(b^R&(E^b))+D[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=R+(E^b&(v^E))+D[14]+3275163606&4294967295,R=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(R^v))+D[3]+4107603335&4294967295,b=R+(_<<14&4294967295|_>>>18),_=E+(R^v&(b^R))+D[8]+1163531501&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(b^R&(E^b))+D[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=R+(E^b&(v^E))+D[2]+4243563512&4294967295,R=v+(_<<9&4294967295|_>>>23),_=b+(v^E&(R^v))+D[7]+1735328473&4294967295,b=R+(_<<14&4294967295|_>>>18),_=E+(R^v&(b^R))+D[12]+2368359562&4294967295,E=b+(_<<20&4294967295|_>>>12),_=v+(E^b^R)+D[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=R+(v^E^b)+D[8]+2272392833&4294967295,R=v+(_<<11&4294967295|_>>>21),_=b+(R^v^E)+D[11]+1839030562&4294967295,b=R+(_<<16&4294967295|_>>>16),_=E+(b^R^v)+D[14]+4259657740&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(E^b^R)+D[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=R+(v^E^b)+D[4]+1272893353&4294967295,R=v+(_<<11&4294967295|_>>>21),_=b+(R^v^E)+D[7]+4139469664&4294967295,b=R+(_<<16&4294967295|_>>>16),_=E+(b^R^v)+D[10]+3200236656&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(E^b^R)+D[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=R+(v^E^b)+D[0]+3936430074&4294967295,R=v+(_<<11&4294967295|_>>>21),_=b+(R^v^E)+D[3]+3572445317&4294967295,b=R+(_<<16&4294967295|_>>>16),_=E+(b^R^v)+D[6]+76029189&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(E^b^R)+D[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=R+(v^E^b)+D[12]+3873151461&4294967295,R=v+(_<<11&4294967295|_>>>21),_=b+(R^v^E)+D[15]+530742520&4294967295,b=R+(_<<16&4294967295|_>>>16),_=E+(b^R^v)+D[2]+3299628645&4294967295,E=b+(_<<23&4294967295|_>>>9),_=v+(b^(E|~R))+D[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=R+(E^(v|~b))+D[7]+1126891415&4294967295,R=v+(_<<10&4294967295|_>>>22),_=b+(v^(R|~E))+D[14]+2878612391&4294967295,b=R+(_<<15&4294967295|_>>>17),_=E+(R^(b|~v))+D[5]+4237533241&4294967295,E=b+(_<<21&4294967295|_>>>11),_=v+(b^(E|~R))+D[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=R+(E^(v|~b))+D[3]+2399980690&4294967295,R=v+(_<<10&4294967295|_>>>22),_=b+(v^(R|~E))+D[10]+4293915773&4294967295,b=R+(_<<15&4294967295|_>>>17),_=E+(R^(b|~v))+D[1]+2240044497&4294967295,E=b+(_<<21&4294967295|_>>>11),_=v+(b^(E|~R))+D[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=R+(E^(v|~b))+D[15]+4264355552&4294967295,R=v+(_<<10&4294967295|_>>>22),_=b+(v^(R|~E))+D[6]+2734768916&4294967295,b=R+(_<<15&4294967295|_>>>17),_=E+(R^(b|~v))+D[13]+1309151649&4294967295,E=b+(_<<21&4294967295|_>>>11),_=v+(b^(E|~R))+D[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=R+(E^(v|~b))+D[11]+3174756917&4294967295,R=v+(_<<10&4294967295|_>>>22),_=b+(v^(R|~E))+D[2]+718787259&4294967295,b=R+(_<<15&4294967295|_>>>17),_=E+(R^(b|~v))+D[9]+3951481745&4294967295,C.g[0]=C.g[0]+v&4294967295,C.g[1]=C.g[1]+(b+(_<<21&4294967295|_>>>11))&4294967295,C.g[2]=C.g[2]+b&4294967295,C.g[3]=C.g[3]+R&4294967295}r.prototype.v=function(C,v){v===void 0&&(v=C.length);let E=v-this.blockSize,D=this.C,b=this.h,R=0;for(;R<v;){if(b==0)for(;R<=E;)i(this,C,R),R+=this.blockSize;if(typeof C=="string"){for(;R<v;)if(D[b++]=C.charCodeAt(R++),b==this.blockSize){i(this,D),b=0;break}}else for(;R<v;)if(D[b++]=C[R++],b==this.blockSize){i(this,D),b=0;break}}this.h=b,this.o+=v},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var v=1;v<C.length-8;++v)C[v]=0;v=this.o*8;for(var E=C.length-8;E<C.length;++E)C[E]=v&255,v/=256;for(this.v(C),C=Array(16),v=0,E=0;E<4;++E)for(let D=0;D<32;D+=8)C[v++]=this.g[E]>>>D&255;return C};function o(C,v){var E=a;return Object.prototype.hasOwnProperty.call(E,C)?E[C]:E[C]=v(C)}function s(C,v){this.h=v;let E=[],D=!0;for(let b=C.length-1;b>=0;b--){let R=C[b]|0;D&&R==v||(E[b]=R,D=!1)}this.g=E}var a={};function u(C){return-128<=C&&C<128?o(C,function(v){return new s([v|0],v<0?-1:0)}):new s([C|0],C<0?-1:0)}function l(C){if(isNaN(C)||!isFinite(C))return p;if(C<0)return A(l(-C));let v=[],E=1;for(let D=0;C>=E;D++)v[D]=C/E|0,E*=4294967296;return new s(v,0)}function f(C,v){if(C.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(C.charAt(0)=="-")return A(f(C.substring(1),v));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');let E=l(Math.pow(v,8)),D=p;for(let R=0;R<C.length;R+=8){var b=Math.min(8,C.length-R);let _=parseInt(C.substring(R,R+b),v);b<8?(b=l(Math.pow(v,b)),D=D.j(b).add(l(_))):(D=D.j(E),D=D.add(l(_)))}return D}var p=u(0),g=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(O(this))return-A(this).m();let C=0,v=1;for(let E=0;E<this.g.length;E++){let D=this.i(E);C+=(D>=0?D:4294967296+D)*v,v*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(x(this))return"0";if(O(this))return"-"+A(this).toString(C);let v=l(Math.pow(C,6));var E=this;let D="";for(;;){let b=zt(E,v).g;E=N(E,b.j(v));let R=((E.g.length>0?E.g[0]:E.h)>>>0).toString(C);if(E=b,x(E))return R+D;for(;R.length<6;)R="0"+R;D=R+D}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function x(C){if(C.h!=0)return!1;for(let v=0;v<C.g.length;v++)if(C.g[v]!=0)return!1;return!0}function O(C){return C.h==-1}n.l=function(C){return C=N(this,C),O(C)?-1:x(C)?0:1};function A(C){let v=C.g.length,E=[];for(let D=0;D<v;D++)E[D]=~C.g[D];return new s(E,~C.h).add(g)}n.abs=function(){return O(this)?A(this):this},n.add=function(C){let v=Math.max(this.g.length,C.g.length),E=[],D=0;for(let b=0;b<=v;b++){let R=D+(this.i(b)&65535)+(C.i(b)&65535),_=(R>>>16)+(this.i(b)>>>16)+(C.i(b)>>>16);D=_>>>16,R&=65535,_&=65535,E[b]=_<<16|R}return new s(E,E[E.length-1]&-2147483648?-1:0)};function N(C,v){return C.add(A(v))}n.j=function(C){if(x(this)||x(C))return p;if(O(this))return O(C)?A(this).j(A(C)):A(A(this).j(C));if(O(C))return A(this.j(A(C)));if(this.l(y)<0&&C.l(y)<0)return l(this.m()*C.m());let v=this.g.length+C.g.length,E=[];for(var D=0;D<2*v;D++)E[D]=0;for(D=0;D<this.g.length;D++)for(let b=0;b<C.g.length;b++){let R=this.i(D)>>>16,_=this.i(D)&65535,jt=C.i(b)>>>16,jr=C.i(b)&65535;E[2*D+2*b]+=_*jr,Z(E,2*D+2*b),E[2*D+2*b+1]+=R*jr,Z(E,2*D+2*b+1),E[2*D+2*b+1]+=_*jt,Z(E,2*D+2*b+1),E[2*D+2*b+2]+=R*jt,Z(E,2*D+2*b+2)}for(C=0;C<v;C++)E[C]=E[2*C+1]<<16|E[2*C];for(C=v;C<2*v;C++)E[C]=0;return new s(E,0)};function Z(C,v){for(;(C[v]&65535)!=C[v];)C[v+1]+=C[v]>>>16,C[v]&=65535,v++}function Ee(C,v){this.g=C,this.h=v}function zt(C,v){if(x(v))throw Error("division by zero");if(x(C))return new Ee(p,p);if(O(C))return v=zt(A(C),v),new Ee(A(v.g),A(v.h));if(O(v))return v=zt(C,A(v)),new Ee(A(v.g),v.h);if(C.g.length>30){if(O(C)||O(v))throw Error("slowDivide_ only works with positive integers.");for(var E=g,D=v;D.l(C)<=0;)E=pn(E),D=pn(D);var b=vt(E,1),R=vt(D,1);for(D=vt(D,2),E=vt(E,2);!x(D);){var _=R.add(D);_.l(C)<=0&&(b=b.add(E),R=_),D=vt(D,1),E=vt(E,1)}return v=N(C,b.j(v)),new Ee(b,v)}for(b=p;C.l(v)>=0;){for(E=Math.max(1,Math.floor(C.m()/v.m())),D=Math.ceil(Math.log(E)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),R=l(E),_=R.j(v);O(_)||_.l(C)>0;)E-=D,R=l(E),_=R.j(v);x(R)&&(R=g),b=b.add(R),C=N(C,_)}return new Ee(b,C)}n.B=function(C){return zt(this,C).h},n.and=function(C){let v=Math.max(this.g.length,C.g.length),E=[];for(let D=0;D<v;D++)E[D]=this.i(D)&C.i(D);return new s(E,this.h&C.h)},n.or=function(C){let v=Math.max(this.g.length,C.g.length),E=[];for(let D=0;D<v;D++)E[D]=this.i(D)|C.i(D);return new s(E,this.h|C.h)},n.xor=function(C){let v=Math.max(this.g.length,C.g.length),E=[];for(let D=0;D<v;D++)E[D]=this.i(D)^C.i(D);return new s(E,this.h^C.h)};function pn(C){let v=C.g.length+1,E=[];for(let D=0;D<v;D++)E[D]=C.i(D)<<1|C.i(D-1)>>>31;return new s(E,C.h)}function vt(C,v){let E=v>>5;v%=32;let D=C.g.length-E,b=[];for(let R=0;R<D;R++)b[R]=v>0?C.i(R+E)>>>v|C.i(R+E+1)<<32-v:C.i(R+E);return new s(b,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Bv=BS.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,Ar=BS.Integer=s}).apply(typeof US<"u"?US:typeof self<"u"?self:typeof window<"u"?window:{});var $f=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Rr={};var Hv,lj,xs,$v,tu,zf,zv,qv,Gv;(function(){var n,e=Object.defineProperty;function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $f=="object"&&$f];for(var d=0;d<c.length;++d){var h=c[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var h=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var T=c[m];if(!(T in h))break e;h=h[T]}c=c[c.length-1],m=h[c],d=d(m),d!=m&&d!=null&&e(h,c,{configurable:!0,writable:!0,value:d})}}i("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(c){return c||function(d){var h=[],m;for(m in d)Object.prototype.hasOwnProperty.call(d,m)&&h.push([m,d[m]]);return h}});var o=o||{},s=this||self;function a(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function u(c,d,h){return c.call.apply(c.bind,arguments)}function l(c,d,h){return l=u,l.apply(null,arguments)}function f(c,d){var h=Array.prototype.slice.call(arguments,1);return function(){var m=h.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function p(c,d){function h(){}h.prototype=d.prototype,c.Z=d.prototype,c.prototype=new h,c.prototype.constructor=c,c.Ob=function(m,T,M){for(var j=Array(arguments.length-2),se=2;se<arguments.length;se++)j[se-2]=arguments[se];return d.prototype[T].apply(m,j)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function y(c){let d=c.length;if(d>0){let h=Array(d);for(let m=0;m<d;m++)h[m]=c[m];return h}return[]}function x(c,d){for(let m=1;m<arguments.length;m++){let T=arguments[m];var h=typeof T;if(h=h!="object"?h:T?Array.isArray(T)?"array":h:"null",h=="array"||h=="object"&&typeof T.length=="number"){h=c.length||0;let M=T.length||0;c.length=h+M;for(let j=0;j<M;j++)c[h+j]=T[j]}else c.push(T)}}class O{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function A(c){s.setTimeout(()=>{throw c},0)}function N(){var c=C;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Z{constructor(){this.h=this.g=null}add(d,h){let m=Ee.get();m.set(d,h),this.h?this.h.next=m:this.g=m,this.h=m}}var Ee=new O(()=>new zt,c=>c.reset());class zt{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let pn,vt=!1,C=new Z,v=()=>{let c=Promise.resolve(void 0);pn=()=>{c.then(E)}};function E(){for(var c;c=N();){try{c.h.call(c.g)}catch(h){A(h)}var d=Ee;d.j(c),d.h<100&&(d.h++,c.next=d.g,d.g=c)}vt=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function b(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}b.prototype.h=function(){this.defaultPrevented=!0};var R=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let h=()=>{};s.addEventListener("test",h,d),s.removeEventListener("test",h,d)}catch{}return c})();function _(c){return/^[\s\xa0]*$/.test(c)}function jt(c,d){b.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,d)}p(jt,b),jt.prototype.init=function(c,d){let h=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget,d||(h=="mouseover"?d=c.fromElement:h=="mouseout"&&(d=c.toElement)),this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&jt.Z.h.call(this)},jt.prototype.h=function(){jt.Z.h.call(this);let c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var jr="closure_listenable_"+(Math.random()*1e6|0),h1=0;function p1(c,d,h,m,T){this.listener=c,this.proxy=null,this.src=d,this.type=h,this.capture=!!m,this.ha=T,this.key=++h1,this.da=this.fa=!1}function Ou(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Fu(c,d,h){for(let m in c)d.call(h,c[m],m,c)}function g1(c,d){for(let h in c)d.call(void 0,c[h],h,c)}function DI(c){let d={};for(let h in c)d[h]=c[h];return d}let TI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function SI(c,d){let h,m;for(let T=1;T<arguments.length;T++){m=arguments[T];for(h in m)c[h]=m[h];for(let M=0;M<TI.length;M++)h=TI[M],Object.prototype.hasOwnProperty.call(m,h)&&(c[h]=m[h])}}function Lu(c){this.src=c,this.g={},this.h=0}Lu.prototype.add=function(c,d,h,m,T){let M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);let j=yp(c,d,m,T);return j>-1?(d=c[j],h||(d.fa=!1)):(d=new p1(d,this.src,M,!!m,T),d.fa=h,c.push(d)),d};function mp(c,d){let h=d.type;if(h in c.g){var m=c.g[h],T=Array.prototype.indexOf.call(m,d,void 0),M;(M=T>=0)&&Array.prototype.splice.call(m,T,1),M&&(Ou(d),c.g[h].length==0&&(delete c.g[h],c.h--))}}function yp(c,d,h,m){for(let T=0;T<c.length;++T){let M=c[T];if(!M.da&&M.listener==d&&M.capture==!!h&&M.ha==m)return T}return-1}var vp="closure_lm_"+(Math.random()*1e6|0),_p={};function AI(c,d,h,m,T){if(m&&m.once)return xI(c,d,h,m,T);if(Array.isArray(d)){for(let M=0;M<d.length;M++)AI(c,d[M],h,m,T);return null}return h=bp(h),c&&c[jr]?c.J(d,h,a(m)?!!m.capture:!!m,T):RI(c,d,h,!1,m,T)}function RI(c,d,h,m,T,M){if(!d)throw Error("Invalid event type");let j=a(T)?!!T.capture:!!T,se=Ip(c);if(se||(c[vp]=se=new Lu(c)),h=se.add(d,h,m,j,M),h.proxy)return h;if(m=m1(),h.proxy=m,m.src=c,m.listener=h,c.addEventListener)R||(T=j),T===void 0&&(T=!1),c.addEventListener(d.toString(),m,T);else if(c.attachEvent)c.attachEvent(NI(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return h}function m1(){function c(h){return d.call(c.src,c.listener,h)}let d=y1;return c}function xI(c,d,h,m,T){if(Array.isArray(d)){for(let M=0;M<d.length;M++)xI(c,d[M],h,m,T);return null}return h=bp(h),c&&c[jr]?c.K(d,h,a(m)?!!m.capture:!!m,T):RI(c,d,h,!0,m,T)}function MI(c,d,h,m,T){if(Array.isArray(d))for(var M=0;M<d.length;M++)MI(c,d[M],h,m,T);else m=a(m)?!!m.capture:!!m,h=bp(h),c&&c[jr]?(c=c.i,M=String(d).toString(),M in c.g&&(d=c.g[M],h=yp(d,h,m,T),h>-1&&(Ou(d[h]),Array.prototype.splice.call(d,h,1),d.length==0&&(delete c.g[M],c.h--)))):c&&(c=Ip(c))&&(d=c.g[d.toString()],c=-1,d&&(c=yp(d,h,m,T)),(h=c>-1?d[c]:null)&&Ep(h))}function Ep(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[jr])mp(d.i,c);else{var h=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(h,m,c.capture):d.detachEvent?d.detachEvent(NI(h),m):d.addListener&&d.removeListener&&d.removeListener(m),(h=Ip(d))?(mp(h,c),h.h==0&&(h.src=null,d[vp]=null)):Ou(c)}}}function NI(c){return c in _p?_p[c]:_p[c]="on"+c}function y1(c,d){if(c.da)c=!0;else{d=new jt(d,this);let h=c.listener,m=c.ha||c.src;c.fa&&Ep(c),c=h.call(m,d)}return c}function Ip(c){return c=c[vp],c instanceof Lu?c:null}var wp="__closure_events_fn_"+(Math.random()*1e9>>>0);function bp(c){return typeof c=="function"?c:(c[wp]||(c[wp]=function(d){return c.handleEvent(d)}),c[wp])}function Tt(){D.call(this),this.i=new Lu(this),this.M=this,this.G=null}p(Tt,D),Tt.prototype[jr]=!0,Tt.prototype.removeEventListener=function(c,d,h,m){MI(this,c,d,h,m)};function Nt(c,d){var h,m=c.G;if(m)for(h=[];m;m=m.G)h.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new b(d,c);else if(d instanceof b)d.target=d.target||c;else{var T=d;d=new b(m,c),SI(d,T)}T=!0;let M,j;if(h)for(j=h.length-1;j>=0;j--)M=d.g=h[j],T=Vu(M,m,!0,d)&&T;if(M=d.g=c,T=Vu(M,m,!0,d)&&T,T=Vu(M,m,!1,d)&&T,h)for(j=0;j<h.length;j++)M=d.g=h[j],T=Vu(M,m,!1,d)&&T}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var c=this.i;for(let d in c.g){let h=c.g[d];for(let m=0;m<h.length;m++)Ou(h[m]);delete c.g[d],c.h--}}this.G=null},Tt.prototype.J=function(c,d,h,m){return this.i.add(String(c),d,!1,h,m)},Tt.prototype.K=function(c,d,h,m){return this.i.add(String(c),d,!0,h,m)};function Vu(c,d,h,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();let T=!0;for(let M=0;M<d.length;++M){let j=d[M];if(j&&!j.da&&j.capture==h){let se=j.listener,Xe=j.ha||j.src;j.fa&&mp(c.i,j),T=se.call(Xe,m)!==!1&&T}}return T&&!m.defaultPrevented}function v1(c,d){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=l(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:s.setTimeout(c,d||0)}function PI(c){c.g=v1(()=>{c.g=null,c.i&&(c.i=!1,PI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class _1 extends D{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:PI(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ca(c){D.call(this),this.h=c,this.g={}}p(ca,D);var kI=[];function OI(c){Fu(c.g,function(d,h){this.g.hasOwnProperty(h)&&Ep(d)},c),c.g={}}ca.prototype.N=function(){ca.Z.N.call(this),OI(this)},ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cp=s.JSON.stringify,E1=s.JSON.parse,I1=class{stringify(c){return s.JSON.stringify(c,void 0)}parse(c){return s.JSON.parse(c,void 0)}};function FI(){}function LI(){}var ua={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Dp(){b.call(this,"d")}p(Dp,b);function Tp(){b.call(this,"c")}p(Tp,b);var Si={},VI=null;function ju(){return VI=VI||new Tt}Si.Ia="serverreachability";function jI(c){b.call(this,Si.Ia,c)}p(jI,b);function la(c){let d=ju();Nt(d,new jI(d))}Si.STAT_EVENT="statevent";function UI(c,d){b.call(this,Si.STAT_EVENT,c),this.stat=d}p(UI,b);function Pt(c){let d=ju();Nt(d,new UI(d,c))}Si.Ja="timingevent";function BI(c,d){b.call(this,Si.Ja,c),this.size=d}p(BI,b);function da(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){c()},d)}function fa(){this.g=!0}fa.prototype.ua=function(){this.g=!1};function w1(c,d,h,m,T,M){c.info(function(){if(c.g)if(M){var j="",se=M.split("&");for(let Me=0;Me<se.length;Me++){var Xe=se[Me].split("=");if(Xe.length>1){let st=Xe[0];Xe=Xe[1];let Pn=st.split("_");j=Pn.length>=2&&Pn[1]=="type"?j+(st+"="+Xe+"&"):j+(st+"=redacted&")}}}else j=null;else j=M;return"XMLHTTP REQ ("+m+") [attempt "+T+"]: "+d+`
`+h+`
`+j})}function b1(c,d,h,m,T,M,j){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+T+"]: "+d+`
`+h+`
`+M+" "+j})}function Vo(c,d,h,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+D1(c,h)+(m?" "+m:"")})}function C1(c,d){c.info(function(){return"TIMEOUT: "+d})}fa.prototype.info=function(){};function D1(c,d){if(!c.g)return d;if(!d)return null;try{let M=JSON.parse(d);if(M){for(c=0;c<M.length;c++)if(Array.isArray(M[c])){var h=M[c];if(!(h.length<2)){var m=h[1];if(Array.isArray(m)&&!(m.length<1)){var T=m[0];if(T!="noop"&&T!="stop"&&T!="close")for(let j=1;j<m.length;j++)m[j]=""}}}}return Cp(M)}catch{return d}}var Uu={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},HI={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},$I;function Sp(){}p(Sp,FI),Sp.prototype.g=function(){return new XMLHttpRequest},$I=new Sp;function ha(c){return encodeURIComponent(String(c))}function T1(c){var d=1;c=c.split(":");let h=[];for(;d>0&&c.length;)h.push(c.shift()),d--;return c.length&&h.push(c.join(":")),h}function Ur(c,d,h,m){this.j=c,this.i=d,this.l=h,this.S=m||1,this.V=new ca(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zI}function zI(){this.i=null,this.g="",this.h=!1}var qI={},Ap={};function Rp(c,d,h){c.M=1,c.A=Hu(Nn(d)),c.u=h,c.R=!0,GI(c,null)}function GI(c,d){c.F=Date.now(),Bu(c),c.B=Nn(c.A);var h=c.B,m=c.S;Array.isArray(m)||(m=[String(m)]),ow(h.i,"t",m),c.C=0,h=c.j.L,c.h=new zI,c.g=bw(c.j,h?d:null,!c.u),c.P>0&&(c.O=new _1(l(c.Y,c,c.g),c.P)),d=c.V,h=c.g,m=c.ba;var T="readystatechange";Array.isArray(T)||(T&&(kI[0]=T.toString()),T=kI);for(let M=0;M<T.length;M++){let j=AI(h,T[M],m||d.handleEvent,!1,d.h||d);if(!j)break;d.g[j.key]=j}d=c.J?DI(c.J):{},c.u?(c.v||(c.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,d)):(c.v="GET",c.g.ea(c.B,c.v,null,d)),la(),w1(c.i,c.v,c.B,c.l,c.S,c.u)}Ur.prototype.ba=function(c){c=c.target;let d=this.O;d&&$r(c)==3?d.j():this.Y(c)},Ur.prototype.Y=function(c){try{if(c==this.g)e:{let se=$r(this.g),Xe=this.g.ya(),Me=this.g.ca();if(!(se<3)&&(se!=3||this.g&&(this.h.h||this.g.la()||fw(this.g)))){this.K||se!=4||Xe==7||(Xe==8||Me<=0?la(3):la(2)),xp(this);var d=this.g.ca();this.X=d;var h=S1(this);if(this.o=d==200,b1(this.i,this.v,this.B,this.l,this.S,se,d),this.o){if(this.U&&!this.L){t:{if(this.g){var m,T=this.g;if((m=T.g?T.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(m)){var M=m;break t}}M=null}if(c=M)Vo(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Mp(this,c);else{this.o=!1,this.m=3,Pt(12),Ai(this),pa(this);break e}}if(this.R){c=!0;let st;for(;!this.K&&this.C<h.length;)if(st=A1(this,h),st==Ap){se==4&&(this.m=4,Pt(14),c=!1),Vo(this.i,this.l,null,"[Incomplete Response]");break}else if(st==qI){this.m=4,Pt(15),Vo(this.i,this.l,h,"[Invalid Chunk]"),c=!1;break}else Vo(this.i,this.l,st,null),Mp(this,st);if(WI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),se!=4||h.length!=0||this.h.h||(this.m=1,Pt(16),c=!1),this.o=this.o&&c,!c)Vo(this.i,this.l,h,"[Invalid Chunked Response]"),Ai(this),pa(this);else if(h.length>0&&!this.W){this.W=!0;var j=this.j;j.g==this&&j.aa&&!j.P&&(j.j.info("Great, no buffering proxy detected. Bytes received: "+h.length),Vp(j),j.P=!0,Pt(11))}}else Vo(this.i,this.l,h,null),Mp(this,h);se==4&&Ai(this),this.o&&!this.K&&(se==4?_w(this.j,this):(this.o=!1,Bu(this)))}else H1(this.g),d==400&&h.indexOf("Unknown SID")>0?(this.m=3,Pt(12)):(this.m=0,Pt(13)),Ai(this),pa(this)}}}catch{}};function S1(c){if(!WI(c))return c.g.la();let d=fw(c.g);if(d==="")return"";let h="",m=d.length,T=$r(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Ai(c),pa(c),"";c.h.i=new s.TextDecoder}for(let M=0;M<m;M++)c.h.h=!0,h+=c.h.i.decode(d[M],{stream:!(T&&M==m-1)});return d.length=0,c.h.g+=h,c.C=0,c.h.g}function WI(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function A1(c,d){var h=c.C,m=d.indexOf(`
`,h);return m==-1?Ap:(h=Number(d.substring(h,m)),isNaN(h)?qI:(m+=1,m+h>d.length?Ap:(d=d.slice(m,m+h),c.C=m+h,d)))}Ur.prototype.cancel=function(){this.K=!0,Ai(this)};function Bu(c){c.T=Date.now()+c.H,KI(c,c.H)}function KI(c,d){if(c.D!=null)throw Error("WatchDog timer not null");c.D=da(l(c.aa,c),d)}function xp(c){c.D&&(s.clearTimeout(c.D),c.D=null)}Ur.prototype.aa=function(){this.D=null;let c=Date.now();c-this.T>=0?(C1(this.i,this.B),this.M!=2&&(la(),Pt(17)),Ai(this),this.m=2,pa(this)):KI(this,this.T-c)};function pa(c){c.j.I==0||c.K||_w(c.j,c)}function Ai(c){xp(c);var d=c.O;d&&typeof d.dispose=="function"&&d.dispose(),c.O=null,OI(c.V),c.g&&(d=c.g,c.g=null,d.abort(),d.dispose())}function Mp(c,d){try{var h=c.j;if(h.I!=0&&(h.g==c||Np(h.h,c))){if(!c.L&&Np(h.h,c)&&h.I==3){try{var m=h.Ba.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var T=m;if(T[0]==0){e:if(!h.v){if(h.g)if(h.g.F+3e3<c.F)Ku(h),Gu(h);else break e;Lp(h),Pt(18)}}else h.xa=T[1],0<h.xa-h.K&&T[2]<37500&&h.F&&h.A==0&&!h.C&&(h.C=da(l(h.Va,h),6e3));JI(h.h)<=1&&h.ta&&(h.ta=void 0)}else xi(h,11)}else if((c.L||h.g==c)&&Ku(h),!_(d))for(T=h.Ba.g.parse(d),d=0;d<T.length;d++){let Me=T[d],st=Me[0];if(!(st<=h.K))if(h.K=st,Me=Me[1],h.I==2)if(Me[0]=="c"){h.M=Me[1],h.ba=Me[2];let Pn=Me[3];Pn!=null&&(h.ka=Pn,h.j.info("VER="+h.ka));let Mi=Me[4];Mi!=null&&(h.za=Mi,h.j.info("SVER="+h.za));let zr=Me[5];zr!=null&&typeof zr=="number"&&zr>0&&(m=1.5*zr,h.O=m,h.j.info("backChannelRequestTimeoutMs_="+m)),m=h;let qr=c.g;if(qr){let Yu=qr.g?qr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yu){var M=m.h;M.g||Yu.indexOf("spdy")==-1&&Yu.indexOf("quic")==-1&&Yu.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Pp(M,M.h),M.h=null))}if(m.G){let jp=qr.g?qr.g.getResponseHeader("X-HTTP-Session-Id"):null;jp&&(m.wa=jp,Ne(m.J,m.G,jp))}}h.I=3,h.l&&h.l.ra(),h.aa&&(h.T=Date.now()-c.F,h.j.info("Handshake RTT: "+h.T+"ms")),m=h;var j=c;if(m.na=ww(m,m.L?m.ba:null,m.W),j.L){ZI(m.h,j);var se=j,Xe=m.O;Xe&&(se.H=Xe),se.D&&(xp(se),Bu(se)),m.g=j}else yw(m);h.i.length>0&&Wu(h)}else Me[0]!="stop"&&Me[0]!="close"||xi(h,7);else h.I==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?xi(h,7):Fp(h):Me[0]!="noop"&&h.l&&h.l.qa(Me),h.A=0)}}la(4)}catch{}}var R1=class{constructor(c,d){this.g=c,this.map=d}};function QI(c){this.l=c||10,s.PerformanceNavigationTiming?(c=s.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function YI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function JI(c){return c.h?1:c.g?c.g.size:0}function Np(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Pp(c,d){c.g?c.g.add(d):c.h=d}function ZI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}QI.prototype.cancel=function(){if(this.i=XI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function XI(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let h of c.g.values())d=d.concat(h.G);return d}return y(c.i)}var ew=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function x1(c,d){if(c){c=c.split("&");for(let h=0;h<c.length;h++){let m=c[h].indexOf("="),T,M=null;m>=0?(T=c[h].substring(0,m),M=c[h].substring(m+1)):T=c[h],d(T,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Br(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;c instanceof Br?(this.l=c.l,ga(this,c.j),this.o=c.o,this.g=c.g,ma(this,c.u),this.h=c.h,kp(this,sw(c.i)),this.m=c.m):c&&(d=String(c).match(ew))?(this.l=!1,ga(this,d[1]||"",!0),this.o=ya(d[2]||""),this.g=ya(d[3]||"",!0),ma(this,d[4]),this.h=ya(d[5]||"",!0),kp(this,d[6]||"",!0),this.m=ya(d[7]||"")):(this.l=!1,this.i=new _a(null,this.l))}Br.prototype.toString=function(){let c=[];var d=this.j;d&&c.push(va(d,tw,!0),":");var h=this.g;return(h||d=="file")&&(c.push("//"),(d=this.o)&&c.push(va(d,tw,!0),"@"),c.push(ha(h).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.u,h!=null&&c.push(":",String(h))),(h=this.h)&&(this.g&&h.charAt(0)!="/"&&c.push("/"),c.push(va(h,h.charAt(0)=="/"?P1:N1,!0))),(h=this.i.toString())&&c.push("?",h),(h=this.m)&&c.push("#",va(h,O1)),c.join("")},Br.prototype.resolve=function(c){let d=Nn(this),h=!!c.j;h?ga(d,c.j):h=!!c.o,h?d.o=c.o:h=!!c.g,h?d.g=c.g:h=c.u!=null;var m=c.h;if(h)ma(d,c.u);else if(h=!!c.h){if(m.charAt(0)!="/")if(this.g&&!this.h)m="/"+m;else{var T=d.h.lastIndexOf("/");T!=-1&&(m=d.h.slice(0,T+1)+m)}if(T=m,T==".."||T==".")m="";else if(T.indexOf("./")!=-1||T.indexOf("/.")!=-1){m=T.lastIndexOf("/",0)==0,T=T.split("/");let M=[];for(let j=0;j<T.length;){let se=T[j++];se=="."?m&&j==T.length&&M.push(""):se==".."?((M.length>1||M.length==1&&M[0]!="")&&M.pop(),m&&j==T.length&&M.push("")):(M.push(se),m=!0)}m=M.join("/")}else m=T}return h?d.h=m:h=c.i.toString()!=="",h?kp(d,sw(c.i)):h=!!c.m,h&&(d.m=c.m),d};function Nn(c){return new Br(c)}function ga(c,d,h){c.j=h?ya(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function ma(c,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);c.u=d}else c.u=null}function kp(c,d,h){d instanceof _a?(c.i=d,F1(c.i,c.l)):(h||(d=va(d,k1)),c.i=new _a(d,c.l))}function Ne(c,d,h){c.i.set(d,h)}function Hu(c){return Ne(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ya(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function va(c,d,h){return typeof c=="string"?(c=encodeURI(c).replace(d,M1),h&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function M1(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var tw=/[#\/\?@]/g,N1=/[#\?:]/g,P1=/[#\?]/g,k1=/[#\?@]/g,O1=/#/g;function _a(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Ri(c){c.g||(c.g=new Map,c.h=0,c.i&&x1(c.i,function(d,h){c.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}n=_a.prototype,n.add=function(c,d){Ri(this),this.i=null,c=jo(this,c);let h=this.g.get(c);return h||this.g.set(c,h=[]),h.push(d),this.h+=1,this};function nw(c,d){Ri(c),d=jo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function rw(c,d){return Ri(c),d=jo(c,d),c.g.has(d)}n.forEach=function(c,d){Ri(this),this.g.forEach(function(h,m){h.forEach(function(T){c.call(d,T,m,this)},this)},this)};function iw(c,d){Ri(c);let h=[];if(typeof d=="string")rw(c,d)&&(h=h.concat(c.g.get(jo(c,d))));else for(c=Array.from(c.g.values()),d=0;d<c.length;d++)h=h.concat(c[d]);return h}n.set=function(c,d){return Ri(this),this.i=null,c=jo(this,c),rw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=iw(this,c),c.length>0?String(c[0]):d):d};function ow(c,d,h){nw(c,d),h.length>0&&(c.i=null,c.g.set(jo(c,d),y(h)),c.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(let m=0;m<d.length;m++){var h=d[m];let T=ha(h);h=iw(this,h);for(let M=0;M<h.length;M++){let j=T;h[M]!==""&&(j+="="+ha(h[M])),c.push(j)}}return this.i=c.join("&")};function sw(c){let d=new _a;return d.i=c.i,c.g&&(d.g=new Map(c.g),d.h=c.h),d}function jo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function F1(c,d){d&&!c.j&&(Ri(c),c.i=null,c.g.forEach(function(h,m){let T=m.toLowerCase();m!=T&&(nw(this,m),ow(this,T,h))},c)),c.j=d}function L1(c,d){let h=new fa;if(s.Image){let m=new Image;m.onload=f(Hr,h,"TestLoadImage: loaded",!0,d,m),m.onerror=f(Hr,h,"TestLoadImage: error",!1,d,m),m.onabort=f(Hr,h,"TestLoadImage: abort",!1,d,m),m.ontimeout=f(Hr,h,"TestLoadImage: timeout",!1,d,m),s.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function V1(c,d){let h=new fa,m=new AbortController,T=setTimeout(()=>{m.abort(),Hr(h,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(M=>{clearTimeout(T),M.ok?Hr(h,"TestPingServer: ok",!0,d):Hr(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),Hr(h,"TestPingServer: error",!1,d)})}function Hr(c,d,h,m,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),m(h)}catch{}}function j1(){this.g=new I1}function $u(c){this.i=c.Sb||null,this.h=c.ab||!1}p($u,FI),$u.prototype.g=function(){return new zu(this.i,this.h)};function zu(c,d){Tt.call(this),this.H=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(zu,Tt),n=zu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=d,this.readyState=1,Ia(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(d.body=c),(this.H||s).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ea(this)),this.readyState=0},n.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ia(this)),this.g&&(this.readyState=3,Ia(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;aw(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function aw(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}n.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ea(this):Ia(this),this.readyState==3&&aw(this)}},n.Oa=function(c){this.g&&(this.response=this.responseText=c,Ea(this))},n.Na=function(c){this.g&&(this.response=c,Ea(this))},n.ga=function(){this.g&&Ea(this)};function Ea(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Ia(c)}n.setRequestHeader=function(c,d){this.A.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,c.push(h[0]+": "+h[1]),h=d.next();return c.join(`\r
`)};function Ia(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(zu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function cw(c){let d="";return Fu(c,function(h,m){d+=m,d+=":",d+=h,d+=`\r
`}),d}function Op(c,d,h){e:{for(m in h){var m=!1;break e}m=!0}m||(h=cw(h),typeof c=="string"?h!=null&&ha(h):Ne(c,d,h))}function je(c){Tt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(je,Tt);var U1=/^https?$/i,B1=["POST","PUT"];n=je.prototype,n.Fa=function(c){this.H=c},n.ea=function(c,d,h,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():$I.g(),this.g.onreadystatechange=g(l(this.Ca,this));try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(M){uw(this,M);return}if(c=h||"",h=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var T in m)h.set(T,m[T]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let M of m.keys())h.set(M,m.get(M));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(h.keys()).find(M=>M.toLowerCase()=="content-type"),T=s.FormData&&c instanceof s.FormData,!(Array.prototype.indexOf.call(B1,d,void 0)>=0)||m||T||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,j]of h)this.g.setRequestHeader(M,j);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(M){uw(this,M)}};function uw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.o=5,lw(c),qu(c)}function lw(c){c.A||(c.A=!0,Nt(c,"complete"),Nt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Nt(this,"complete"),Nt(this,"abort"),qu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qu(this,!0)),je.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?dw(this):this.Xa())},n.Xa=function(){dw(this)};function dw(c){if(c.h&&typeof o<"u"){if(c.v&&$r(c)==4)setTimeout(c.Ca.bind(c),0);else if(Nt(c,"readystatechange"),$r(c)==4){c.h=!1;try{let M=c.ca();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var m;if(m=M===0){let j=String(c.D).match(ew)[1]||null;!j&&s.self&&s.self.location&&(j=s.self.location.protocol.slice(0,-1)),m=!U1.test(j?j.toLowerCase():"")}h=m}if(h)Nt(c,"complete"),Nt(c,"success");else{c.o=6;try{var T=$r(c)>2?c.g.statusText:""}catch{T=""}c.l=T+" ["+c.ca()+"]",lw(c)}}finally{qu(c)}}}}function qu(c,d){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);let h=c.g;c.g=null,d||Nt(c,"ready");try{h.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function $r(c){return c.g?c.g.readyState:0}n.ca=function(){try{return $r(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),E1(d)}};function fw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function H1(c){let d={};c=(c.g&&$r(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(_(c[m]))continue;var h=T1(c[m]);let T=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let M=d[T]||[];d[T]=M,M.push(h)}g1(d,function(m){return m.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wa(c,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[c]||d}function hw(c){this.za=0,this.i=[],this.j=new fa,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wa("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wa("baseRetryDelayMs",5e3,c),this.Za=wa("retryDelaySeedMs",1e4,c),this.Ta=wa("forwardChannelMaxRetries",2,c),this.va=wa("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new QI(c&&c.concurrentRequestLimit),this.Ba=new j1,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=hw.prototype,n.ka=8,n.I=1,n.connect=function(c,d,h,m){Pt(0),this.W=c,this.H=d||{},h&&m!==void 0&&(this.H.OSID=h,this.H.OAID=m),this.F=this.X,this.J=ww(this,null,this.W),Wu(this)};function Fp(c){if(pw(c),c.I==3){var d=c.V++,h=Nn(c.J);if(Ne(h,"SID",c.M),Ne(h,"RID",d),Ne(h,"TYPE","terminate"),ba(c,h),d=new Ur(c,c.j,d),d.M=2,d.A=Hu(Nn(h)),h=!1,s.navigator&&s.navigator.sendBeacon)try{h=s.navigator.sendBeacon(d.A.toString(),"")}catch{}!h&&s.Image&&(new Image().src=d.A,h=!0),h||(d.g=bw(d.j,null),d.g.ea(d.A)),d.F=Date.now(),Bu(d)}Iw(c)}function Gu(c){c.g&&(Vp(c),c.g.cancel(),c.g=null)}function pw(c){Gu(c),c.v&&(s.clearTimeout(c.v),c.v=null),Ku(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&s.clearTimeout(c.m),c.m=null)}function Wu(c){if(!YI(c.h)&&!c.m){c.m=!0;var d=c.Ea;pn||v(),vt||(pn(),vt=!0),C.add(d,c),c.D=0}}function $1(c,d){return JI(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=d.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=da(l(c.Ea,c,d),Ew(c,c.D)),c.D++,!0)}n.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;let T=new Ur(this,this.j,c),M=this.o;if(this.U&&(M?(M=DI(M),SI(M,this.U)):M=this.U),this.u!==null||this.R||(T.J=M,M=null),this.S)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var m=this.i[h];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,d>4096){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=mw(this,T,d),h=Nn(this.J),Ne(h,"RID",c),Ne(h,"CVER",22),this.G&&Ne(h,"X-HTTP-Session-Id",this.G),ba(this,h),M&&(this.R?d="headers="+ha(cw(M))+"&"+d:this.u&&Op(h,this.u,M)),Pp(this.h,T),this.Ra&&Ne(h,"TYPE","init"),this.S?(Ne(h,"$req",d),Ne(h,"SID","null"),T.U=!0,Rp(T,h,null)):Rp(T,h,d),this.I=2}}else this.I==3&&(c?gw(this,c):this.i.length==0||YI(this.h)||gw(this))};function gw(c,d){var h;d?h=d.l:h=c.V++;let m=Nn(c.J);Ne(m,"SID",c.M),Ne(m,"RID",h),Ne(m,"AID",c.K),ba(c,m),c.u&&c.o&&Op(m,c.u,c.o),h=new Ur(c,c.j,h,c.D+1),c.u===null&&(h.J=c.o),d&&(c.i=d.G.concat(c.i)),d=mw(c,h,1e3),h.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Pp(c.h,h),Rp(h,m,d)}function ba(c,d){c.H&&Fu(c.H,function(h,m){Ne(d,m,h)}),c.l&&Fu({},function(h,m){Ne(d,m,h)})}function mw(c,d,h){h=Math.min(c.i.length,h);let m=c.l?l(c.l.Ka,c.l,c):null;e:{var T=c.i;let se=-1;for(;;){let Xe=["count="+h];se==-1?h>0?(se=T[0].g,Xe.push("ofs="+se)):se=0:Xe.push("ofs="+se);let Me=!0;for(let st=0;st<h;st++){var M=T[st].g;let Pn=T[st].map;if(M-=se,M<0)se=Math.max(0,T[st].g-100),Me=!1;else try{M="req"+M+"_"||"";try{var j=Pn instanceof Map?Pn:Object.entries(Pn);for(let[Mi,zr]of j){let qr=zr;a(zr)&&(qr=Cp(zr)),Xe.push(M+Mi+"="+encodeURIComponent(qr))}}catch(Mi){throw Xe.push(M+"type="+encodeURIComponent("_badmap")),Mi}}catch{m&&m(Pn)}}if(Me){j=Xe.join("&");break e}}j=void 0}return c=c.i.splice(0,h),d.G=c,j}function yw(c){if(!c.g&&!c.v){c.Y=1;var d=c.Da;pn||v(),vt||(pn(),vt=!0),C.add(d,c),c.A=0}}function Lp(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=da(l(c.Da,c),Ew(c,c.A)),c.A++,!0)}n.Da=function(){if(this.v=null,vw(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=da(l(this.Wa,this),c)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pt(10),Gu(this),vw(this))};function Vp(c){c.B!=null&&(s.clearTimeout(c.B),c.B=null)}function vw(c){c.g=new Ur(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var d=Nn(c.na);Ne(d,"RID","rpc"),Ne(d,"SID",c.M),Ne(d,"AID",c.K),Ne(d,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ne(d,"TO",c.ia),Ne(d,"TYPE","xmlhttp"),ba(c,d),c.u&&c.o&&Op(d,c.u,c.o),c.O&&(c.g.H=c.O);var h=c.g;c=c.ba,h.M=1,h.A=Hu(Nn(d)),h.u=null,h.R=!0,GI(h,c)}n.Va=function(){this.C!=null&&(this.C=null,Gu(this),Lp(this),Pt(19))};function Ku(c){c.C!=null&&(s.clearTimeout(c.C),c.C=null)}function _w(c,d){var h=null;if(c.g==d){Ku(c),Vp(c),c.g=null;var m=2}else if(Np(c.h,d))h=d.G,ZI(c.h,d),m=1;else return;if(c.I!=0){if(d.o)if(m==1){h=d.u?d.u.length:0,d=Date.now()-d.F;var T=c.D;m=ju(),Nt(m,new BI(m,h)),Wu(c)}else yw(c);else if(T=d.m,T==3||T==0&&d.X>0||!(m==1&&$1(c,d)||m==2&&Lp(c)))switch(h&&h.length>0&&(d=c.h,d.i=d.i.concat(h)),T){case 1:xi(c,5);break;case 4:xi(c,10);break;case 3:xi(c,6);break;default:xi(c,2)}}}function Ew(c,d){let h=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(h*=2),h*d}function xi(c,d){if(c.j.info("Error code "+d),d==2){var h=l(c.bb,c),m=c.Ua;let T=!m;m=new Br(m||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||ga(m,"https"),Hu(m),T?L1(m.toString(),h):V1(m.toString(),h)}else Pt(2);c.I=0,c.l&&c.l.pa(d),Iw(c),pw(c)}n.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function Iw(c){if(c.I=0,c.ja=[],c.l){let d=XI(c.h);(d.length!=0||c.i.length!=0)&&(x(c.ja,d),x(c.ja,c.i),c.h.i.length=0,y(c.i),c.i.length=0),c.l.oa()}}function ww(c,d,h){var m=h instanceof Br?Nn(h):new Br(h);if(m.g!="")d&&(m.g=d+"."+m.g),ma(m,m.u);else{var T=s.location;m=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;let M=new Br(null);m&&ga(M,m),d&&(M.g=d),T&&ma(M,T),h&&(M.h=h),m=M}return h=c.G,d=c.wa,h&&d&&Ne(m,h,d),Ne(m,"VER",c.ka),ba(c,m),m}function bw(c,d,h){if(d&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Aa&&!c.ma?new je(new $u({ab:h})):new je(c.ma),d.Fa(c.L),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cw(){}n=Cw.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Qu(){}Qu.prototype.g=function(c,d){return new qt(c,d)};function qt(c,d){Tt.call(this),this.g=new hw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(c?c["X-WebChannel-Client-Profile"]=d.sa:c={"X-WebChannel-Client-Profile":d.sa}),this.g.U=c,(c=d&&d.Qb)&&!_(c)&&(this.g.u=c),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!_(d)&&(this.g.G=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Uo(this)}p(qt,Tt),qt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){Fp(this.g)},qt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var h={};h.__data__=c,c=h}else this.v&&(h={},h.__data__=Cp(c),c=h);d.i.push(new R1(d.Ya++,c)),d.I==3&&Wu(d)},qt.prototype.N=function(){this.g.l=null,delete this.j,Fp(this.g),delete this.g,qt.Z.N.call(this)};function Dw(c){Dp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let h in d){c=h;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}p(Dw,Dp);function Tw(){Tp.call(this),this.status=1}p(Tw,Tp);function Uo(c){this.g=c}p(Uo,Cw),Uo.prototype.ra=function(){Nt(this.g,"a")},Uo.prototype.qa=function(c){Nt(this.g,new Dw(c))},Uo.prototype.pa=function(c){Nt(this.g,new Tw)},Uo.prototype.oa=function(){Nt(this.g,"b")},Qu.prototype.createWebChannel=Qu.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,Gv=Rr.createWebChannelTransport=function(){return new Qu},qv=Rr.getStatEventTarget=function(){return ju()},zv=Rr.Event=Si,zf=Rr.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Uu.NO_ERROR=0,Uu.TIMEOUT=8,Uu.HTTP_ERROR=6,tu=Rr.ErrorCode=Uu,HI.COMPLETE="complete",$v=Rr.EventType=HI,LI.EventType=ua,ua.OPEN="a",ua.CLOSE="b",ua.ERROR="c",ua.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,xs=Rr.WebChannel=LI,lj=Rr.FetchXmlHttpFactory=$u,je.prototype.listenOnce=je.prototype.K,je.prototype.getLastError=je.prototype.Ha,je.prototype.getLastErrorCode=je.prototype.ya,je.prototype.getStatus=je.prototype.ca,je.prototype.getResponseJson=je.prototype.La,je.prototype.getResponseText=je.prototype.la,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Fa,Hv=Rr.XhrIo=je}).apply(typeof $f<"u"?$f:typeof self<"u"?self:typeof window<"u"?window:{});var pt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pt.UNAUTHENTICATED=new pt(null),pt.GOOGLE_CREDENTIALS=new pt("google-credentials-uid"),pt.FIRST_PARTY=new pt("first-party-uid"),pt.MOCK_USER=new pt("mock-user");var Zs="12.8.0";function SA(n){Zs=n}var _o=new hi("@firebase/firestore");function Ms(){return _o.logLevel}function B(n,...e){if(_o.logLevel<=fe.DEBUG){let t=e.map(wE);_o.debug(`Firestore (${Zs}): ${n}`,...t)}}function Nr(n,...e){if(_o.logLevel<=fe.ERROR){let t=e.map(wE);_o.error(`Firestore (${Zs}): ${n}`,...t)}}function yi(n,...e){if(_o.logLevel<=fe.WARN){let t=e.map(wE);_o.warn(`Firestore (${Zs}): ${n}`,...t)}}function wE(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function K(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,AA(n,r,t)}function AA(n,e,t){let r=`FIRESTORE (${Zs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Nr(r),new Error(r)}function Ae(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||AA(e,i,r)}function te(n,e){return n}var F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends en{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var An=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Jf=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Zf=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(pt.UNAUTHENTICATED))}shutdown(){}},Zv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Xf=class{constructor(e){this.t=e,this.currentUser=pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ae(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new An;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new An,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new An)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string",31837,{l:r}),new Jf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string",2055,{h:e}),new pt(e)}},Xv=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=pt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);let e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}},e_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Xv(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},eh=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},th=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,tn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ae(this.o===void 0,3512);let r=o=>{o.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,B("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new eh(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ae(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new eh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function dj(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Eo=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=dj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function pe(n,e){return n<e?-1:n>e?1:0}function t_(n,e){let t=Math.min(n.length,e.length);for(let r=0;r<t;r++){let i=n.charAt(r),o=e.charAt(r);if(i!==o)return Wv(i)===Wv(o)?pe(i,o):Wv(i)?1:-1}return pe(n.length,e.length)}var fj=55296,hj=57343;function Wv(n){let e=n.charCodeAt(0);return e>=fj&&e<=hj}function Vs(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var HS="__name__",nh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&K(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&K(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return pe(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):t_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ar.fromString(e.substring(4,e.length-2))}},Oe=class n extends nh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},pj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$t=class n extends nh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return pj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===HS}static keyField(){return new n([HS])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new H(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new H(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var G=class n{constructor(e){this.path=e}static fromPath(e){return new n(Oe.fromString(e))}static fromName(e){return new n(Oe.fromString(e).popFirst(5))}static empty(){return new n(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Oe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Oe(e.slice()))}};function RA(n,e,t){if(!t)throw new H(F.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function xA(n,e,t,r){if(e===!0&&r===!0)throw new H(F.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function $S(n){if(!G.isDocumentKey(n))throw new H(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function zS(n){if(G.isDocumentKey(n))throw new H(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function MA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function kh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":K(12329,{type:typeof n})}function Mn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new H(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=kh(n);throw new H(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ze(n,e){let t={typeString:n};return e&&(t.value=e),t}function Xs(n,e){if(!MA(n))throw new H(F.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new H(F.INVALID_ARGUMENT,t);return!0}var qS=-62135596800,GS=1e6,qe=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*GS);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<qS)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/GS}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xs(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-qS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};qe._jsonSchemaVersion="firestore/timestamp/1.0",qe._jsonSchema={type:ze("string",qe._jsonSchemaVersion),seconds:ze("number"),nanoseconds:ze("number")};var ie=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new qe(0,0))}static max(){return new n(new qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var au=-1,rh=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};rh.UNKNOWN_ID=-1;function gj(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new qe(t+1,0):new qe(t,r));return new Io(i,G.empty(),e)}function mj(n){return new Io(n.readTime,n.key,au)}var Io=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ie.min(),G.empty(),au)}static max(){return new n(ie.max(),G.empty(),au)}};function yj(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=G.comparator(n.documentKey,e.documentKey),t!==0?t:pe(n.largestBatchId,e.largestBatchId))}var vj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",n_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function ea(n){if(n.code!==F.FAILED_PRECONDITION||n.message!==vj)throw n;B("LocalStore","Unexpectedly lost primary lease")}var L=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&K(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(f=>{s[l]=f,++a,a===o&&r(s)},f=>i(f))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function _j(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ta(n){return n.name==="IndexedDbTransactionError"}var bE=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ue&&this.ue(t),t}}n.ce=-1;return n})(),CE=-1;function Oh(n){return n==null}function cu(n){return n===0&&1/n==-1/0}function Ej(n){return typeof n=="number"&&Number.isInteger(n)&&!cu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var NA="";function Ij(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=WS(e)),e=wj(n.get(t),e);return WS(e)}function wj(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case NA:t+="";break;default:t+=o}}return t}function WS(n){return n+NA+""}var bj="remoteDocuments",PA="owner";var kA="mutationQueues";var OA="mutations";var FA="documentMutations",Cj="remoteDocumentsV14";var LA="remoteDocumentGlobal";var VA="targets";var jA="targetDocuments";var UA="targetGlobal",BA="collectionParents";var HA="clientMetadata";var $A="bundles";var zA="namedQueries";var Dj="indexConfiguration";var Tj="indexState";var Sj="indexEntries";var qA="documentOverlays";var Aj="globals";var Rj=[kA,OA,FA,bj,VA,PA,UA,jA,HA,LA,BA,$A,zA],Ite=[...Rj,qA],xj=[kA,OA,FA,Cj,VA,PA,UA,jA,HA,LA,BA,$A,zA,qA],Mj=xj,Nj=[...Mj,Dj,Tj,Sj];var wte=[...Nj,Aj];function KS(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ii(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function GA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ue=class n{constructor(e,t){this.comparator=e,this.root=t||Jn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Os(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Os(this.root,e,this.comparator,!1)}getReverseIterator(){return new Os(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Os(this.root,e,this.comparator,!0)}},Os=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Jn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw K(43730,{key:this.key,value:this.value});if(this.right.isRed())throw K(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw K(27949);return e+(this.isRed()?0:1)}};Jn.EMPTY=null,Jn.RED=!0,Jn.BLACK=!1;Jn.EMPTY=new class{constructor(){this.size=0}get key(){throw K(57766)}get value(){throw K(16141)}get color(){throw K(16727)}get left(){throw K(29726)}get right(){throw K(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Jn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var gt=class n{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ih(this.data.getIterator())}getIteratorFrom(e){return new ih(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},ih=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var fn=class n{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new n([])}unionWith(e){let t=new gt($t.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vs(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var oh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Dt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new oh("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Dt.EMPTY_BYTE_STRING=new Dt("");var Pj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(n){if(Ae(!!n,39018),typeof n=="string"){let e=0,t=Pj.exec(n);if(Ae(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ke(n.seconds),nanos:ke(n.nanos)}}function ke(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function kr(n){return typeof n=="string"?Dt.fromBase64String(n):Dt.fromUint8Array(n)}var WA="server_timestamp",KA="__type__",QA="__previous_value__",YA="__local_write_time__";function Fh(n){return(n?.mapValue?.fields||{})[KA]?.stringValue===WA}function Lh(n){let e=n.mapValue.fields[QA];return Fh(e)?Lh(e):e}function uu(n){let e=Pr(n.mapValue.fields[YA].timestampValue);return new qe(e.seconds,e.nanos)}var r_=class{constructor(e,t,r,i,o,s,a,u,l,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=f,this.apiKey=p}},sh="(default)",lu=class n{constructor(e,t){this.projectId=e,this.database=t||sh}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===sh}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};function JA(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new H(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lu(n.options.projectId,e)}var DE="__type__",ZA="__max__",qf={mapValue:{fields:{__type__:{stringValue:ZA}}}},TE="__vector__",js="value";function vi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Fh(n)?4:eR(n)?9007199254740991:XA(n)?10:11:K(28295,{value:n})}function rr(n,e){if(n===e)return!0;let t=vi(n);if(t!==vi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return uu(n).isEqual(uu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Pr(i.timestampValue),a=Pr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return kr(i.bytesValue).isEqual(kr(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return ke(i.geoPointValue.latitude)===ke(o.geoPointValue.latitude)&&ke(i.geoPointValue.longitude)===ke(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return ke(i.integerValue)===ke(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ke(i.doubleValue),a=ke(o.doubleValue);return s===a?cu(s)===cu(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return Vs(n.arrayValue.values||[],e.arrayValue.values||[],rr);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(KS(s)!==KS(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!rr(s[u],a[u])))return!1;return!0})(n,e);default:return K(52216,{left:n})}}function du(n,e){return(n.values||[]).find(t=>rr(t,e))!==void 0}function Us(n,e){if(n===e)return 0;let t=vi(n),r=vi(e);if(t!==r)return pe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return pe(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=ke(o.integerValue||o.doubleValue),u=ke(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(n,e);case 3:return QS(n.timestampValue,e.timestampValue);case 4:return QS(uu(n),uu(e));case 5:return t_(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=kr(o),u=kr(s);return a.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let f=pe(a[l],u[l]);if(f!==0)return f}return pe(a.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=pe(ke(o.latitude),ke(s.latitude));return a!==0?a:pe(ke(o.longitude),ke(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return YS(n.arrayValue,e.arrayValue);case 10:return(function(o,s){let a=o.fields||{},u=s.fields||{},l=a[js]?.arrayValue,f=u[js]?.arrayValue,p=pe(l?.values?.length||0,f?.values?.length||0);return p!==0?p:YS(l,f)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===qf.mapValue&&s===qf.mapValue)return 0;if(o===qf.mapValue)return 1;if(s===qf.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let g=t_(u[p],f[p]);if(g!==0)return g;let y=Us(a[u[p]],l[f[p]]);if(y!==0)return y}return pe(u.length,f.length)})(n.mapValue,e.mapValue);default:throw K(23264,{he:t})}}function QS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return pe(n,e);let t=Pr(n),r=Pr(e),i=pe(t.seconds,r.seconds);return i!==0?i:pe(t.nanos,r.nanos)}function YS(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Us(t[i],r[i]);if(o)return o}return pe(t.length,r.length)}function Bs(n){return i_(n)}function i_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=Pr(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return kr(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return G.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=i_(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${i_(t.fields[s])}`;return i+"}"})(n.mapValue):K(61005,{value:n})}function Kf(n){switch(vi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Lh(n);return e?16+Kf(e):16;case 5:return 2*n.stringValue.length;case 6:return kr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Kf(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Ii(r.fields,(o,s)=>{i+=o.length+Kf(s)}),i})(n.mapValue);default:throw K(13486,{value:n})}}function o_(n){return!!n&&"integerValue"in n}function SE(n){return!!n&&"arrayValue"in n}function JS(n){return!!n&&"nullValue"in n}function ZS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Qf(n){return!!n&&"mapValue"in n}function XA(n){return(n?.mapValue?.fields||{})[DE]?.stringValue===TE}function iu(n){if(n.geoPointValue)return{geoPointValue:k({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:k({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ii(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=iu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=iu(n.arrayValue.values[t]);return e}return k({},n)}function eR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===ZA}var Cte={mapValue:{fields:{[DE]:{stringValue:TE},[js]:{arrayValue:{}}}}};var Ht=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Qf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=iu(t)}setAll(e){let t=$t.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=iu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Qf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Qf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ii(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(iu(this.value))}};function tR(n){let e=[];return Ii(n.fields,(t,r)=>{let i=new $t([t]);if(Qf(r)){let o=tR(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new fn(e)}var Rn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ie.min(),ie.min(),ie.min(),Ht.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ie.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ie.min(),ie.min(),Ht.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ie.min(),ie.min(),Ht.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ht.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ht.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var wo=class{constructor(e,t){this.position=e,this.inclusive=t}};function XS(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=G.comparator(G.fromName(s.referenceValue),t.key):r=Us(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function eA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!rr(n.position[t],e.position[t]))return!1;return!0}var bo=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function kj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var ah=class{},Ze=class n extends ah{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new a_(e,t,r):t==="array-contains"?new l_(e,r):t==="in"?new d_(e,r):t==="not-in"?new f_(e,r):t==="array-contains-any"?new h_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new c_(e,r):new u_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Us(t,this.value)):t!==null&&vi(this.value)===vi(t)&&this.matchesComparison(Us(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},xn=class n extends ah{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new n(e,t)}matches(e){return nR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function nR(n){return n.op==="and"}function rR(n){return Oj(n)&&nR(n)}function Oj(n){for(let e of n.filters)if(e instanceof xn)return!1;return!0}function s_(n){if(n instanceof Ze)return n.field.canonicalString()+n.op.toString()+Bs(n.value);if(rR(n))return n.filters.map(e=>s_(e)).join(",");{let e=n.filters.map(t=>s_(t)).join(",");return`${n.op}(${e})`}}function iR(n,e){return n instanceof Ze?(function(r,i){return i instanceof Ze&&r.op===i.op&&r.field.isEqual(i.field)&&rr(r.value,i.value)})(n,e):n instanceof xn?(function(r,i){return i instanceof xn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&iR(s,i.filters[a]),!0):!1})(n,e):void K(19439)}function oR(n){return n instanceof Ze?(function(t){return`${t.field.canonicalString()} ${t.op} ${Bs(t.value)}`})(n):n instanceof xn?(function(t){return t.op.toString()+" {"+t.getFilters().map(oR).join(" ,")+"}"})(n):"Filter"}var a_=class extends Ze{constructor(e,t,r){super(e,t,r),this.key=G.fromName(r.referenceValue)}matches(e){let t=G.comparator(e.key,this.key);return this.matchesComparison(t)}},c_=class extends Ze{constructor(e,t){super(e,"in",t),this.keys=sR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},u_=class extends Ze{constructor(e,t){super(e,"not-in",t),this.keys=sR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function sR(n,e){return(e.arrayValue?.values||[]).map(t=>G.fromName(t.referenceValue))}var l_=class extends Ze{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return SE(t)&&du(t.arrayValue,this.value)}},d_=class extends Ze{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&du(this.value.arrayValue,t)}},f_=class extends Ze{constructor(e,t){super(e,"not-in",t)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!du(this.value.arrayValue,t)}},h_=class extends Ze{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!SE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>du(this.value.arrayValue,r))}};var p_=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}};function tA(n,e=null,t=[],r=[],i=null,o=null,s=null){return new p_(n,e,t,r,i,o,s)}function AE(n){let e=te(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>s_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),Oh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Bs(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Bs(r)).join(",")),e.Te=t}return e.Te}function RE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!kj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!iR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!eA(n.startAt,e.startAt)&&eA(n.endAt,e.endAt)}function g_(n){return G.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Hs=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}};function Fj(n,e,t,r,i,o,s,a){return new Hs(n,e,t,r,i,o,s,a)}function Vh(n){return new Hs(n)}function nA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Lj(n){return G.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function aR(n){return n.collectionGroup!==null}function Fs(n){let e=te(n);if(e.Ie===null){e.Ie=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new gt($t.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new bo(o,r))}),t.has($t.keyField().canonicalString())||e.Ie.push(new bo($t.keyField(),r))}return e.Ie}function Zn(n){let e=te(n);return e.Ee||(e.Ee=Vj(e,Fs(n))),e.Ee}function Vj(n,e){if(n.limitType==="F")return tA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new bo(i.field,o)});let t=n.endAt?new wo(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new wo(n.startAt.position,n.startAt.inclusive):null;return tA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function ch(n,e,t){return new Hs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function jh(n,e){return RE(Zn(n),Zn(e))&&n.limitType===e.limitType}function cR(n){return`${AE(Zn(n))}|lt:${n.limitType}`}function Ns(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>oR(i)).join(", ")}]`),Oh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Bs(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Bs(i)).join(",")),`Target(${r})`})(Zn(n))}; limitType=${n.limitType})`}function Uh(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):G.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of Fs(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=XS(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,Fs(r),i)||r.endAt&&!(function(s,a,u){let l=XS(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,Fs(r),i))})(n,e)}function jj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function uR(n){return(e,t)=>{let r=!1;for(let i of Fs(n)){let o=Uj(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Uj(n,e,t){let r=n.field.isKeyField()?G.comparator(e.key,t.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Us(u,l):K(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return K(19790,{direction:n.dir})}}var Or=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ii(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return GA(this.inner)}size(){return this.innerSize}};var Bj=new Ue(G.comparator);function Fr(){return Bj}var lR=new Ue(G.comparator);function ru(...n){let e=lR;for(let t of n)e=e.insert(t.key,t);return e}function dR(n){let e=lR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function yo(){return ou()}function fR(){return ou()}function ou(){return new Or(n=>n.toString(),(n,e)=>n.isEqual(e))}var Hj=new Ue(G.comparator),$j=new gt(G.comparator);function he(...n){let e=$j;for(let t of n)e=e.add(t);return e}var zj=new gt(pe);function qj(){return zj}function xE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cu(e)?"-0":e}}function hR(n){return{integerValue:""+n}}function Gj(n,e){return Ej(e)?hR(e):xE(n,e)}var $s=class{constructor(){this._=void 0}};function Wj(n,e,t){return n instanceof zs?(function(i,o){let s={fields:{[KA]:{stringValue:WA},[YA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Fh(o)&&(o=Lh(o)),o&&(s.fields[QA]=o),{mapValue:s}})(t,e):n instanceof Co?gR(n,e):n instanceof Do?mR(n,e):(function(i,o){let s=pR(i,o),a=rA(s)+rA(i.Ae);return o_(s)&&o_(i.Ae)?hR(a):xE(i.serializer,a)})(n,e)}function Kj(n,e,t){return n instanceof Co?gR(n,e):n instanceof Do?mR(n,e):t}function pR(n,e){return n instanceof qs?(function(r){return o_(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var zs=class extends $s{},Co=class extends $s{constructor(e){super(),this.elements=e}};function gR(n,e){let t=yR(e);for(let r of n.elements)t.some(i=>rr(i,r))||t.push(r);return{arrayValue:{values:t}}}var Do=class extends $s{constructor(e){super(),this.elements=e}};function mR(n,e){let t=yR(e);for(let r of n.elements)t=t.filter(i=>!rr(i,r));return{arrayValue:{values:t}}}var qs=class extends $s{constructor(e,t){super(),this.serializer=e,this.Ae=t}};function rA(n){return ke(n.integerValue||n.doubleValue)}function yR(n){return SE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Qj(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Co&&i instanceof Co||r instanceof Do&&i instanceof Do?Vs(r.elements,i.elements,rr):r instanceof qs&&i instanceof qs?rr(r.Ae,i.Ae):r instanceof zs&&i instanceof zs})(n.transform,e.transform)}var m_=class{constructor(e,t){this.version=e,this.transformResults=t}},Xn=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Yf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Gs=class{};function vR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ws(n.key,Xn.none()):new To(n.key,n.data,Xn.none());{let t=n.data,r=Ht.empty(),i=new gt($t.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ir(n.key,r,new fn(i.toArray()),Xn.none())}}function Yj(n,e,t){n instanceof To?(function(i,o,s){let a=i.value.clone(),u=oA(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof ir?(function(i,o,s){if(!Yf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=oA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(_R(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function su(n,e,t,r){return n instanceof To?(function(o,s,a,u){if(!Yf(o.precondition,s))return a;let l=o.value.clone(),f=sA(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof ir?(function(o,s,a,u){if(!Yf(o.precondition,s))return a;let l=sA(o.fieldTransforms,u,s),f=s.data;return f.setAll(_R(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,a){return Yf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function Jj(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=pR(r.transform,i||null);o!=null&&(t===null&&(t=Ht.empty()),t.set(r.field,o))}return t||null}function iA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Vs(r,i,(o,s)=>Qj(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var To=class extends Gs{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ir=class extends Gs{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function _R(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function oA(n,e,t){let r=new Map;Ae(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Kj(s,a,t[i]))}return r}function sA(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,Wj(o,s,e))}return r}var Ws=class extends Gs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},y_=class extends Gs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var v_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&Yj(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=su(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=su(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=fR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=vR(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),he())}isEqual(e){return this.batchId===e.batchId&&Vs(this.mutations,e.mutations,(t,r)=>iA(t,r))&&Vs(this.baseMutations,e.baseMutations,(t,r)=>iA(t,r))}},__=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ae(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Hj})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var E_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var I_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ye,ve;function Zj(n){switch(n){case F.OK:return K(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return K(15467,{code:n})}}function ER(n){if(n===void 0)return Nr("GRPC error has no .code"),F.UNKNOWN;switch(n){case Ye.OK:return F.OK;case Ye.CANCELLED:return F.CANCELLED;case Ye.UNKNOWN:return F.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return F.INTERNAL;case Ye.UNAVAILABLE:return F.UNAVAILABLE;case Ye.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Ye.NOT_FOUND:return F.NOT_FOUND;case Ye.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Ye.ABORTED:return F.ABORTED;case Ye.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Ye.DATA_LOSS:return F.DATA_LOSS;default:return K(39323,{code:n})}}(ve=Ye||(Ye={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";var Xj=null;function eU(){return new TextEncoder}var tU=new Ar([4294967295,4294967295],0);function aA(n){let e=eU().encode(n),t=new Bv;return t.update(e),new Uint8Array(t.digest())}function cA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ar([t,r],0),new Ar([i,o],0)]}var w_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new vo(`Invalid padding: ${t}`);if(r<0)throw new vo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vo(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new vo(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ar.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(Ar.fromNumber(r)));return i.compare(tU)===1&&(i=new Ar([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let t=aA(e),[r,i]=cA(t);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;let t=aA(e),[r,i]=cA(t);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);this.be(s)}}be(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},vo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var uh=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ie.min(),i,new Ue(pe),Fr(),he())}},fu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,he(),he(),he())}};var Ls=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=i}},lh=class{constructor(e,t){this.targetId=e,this.Ce=t}},dh=class{constructor(e,t,r=Dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},fh=class{constructor(){this.ve=0,this.Fe=uA(),this.Me=Dt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=he(),t=he(),r=he();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:K(38017,{changeType:o})}}),new fu(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=uA()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ae(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}},b_=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=Fr(),this.He=Gf(),this.Je=Gf(),this.Ze=new Ue(pe)}Xe(e){for(let t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{let r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:K(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,i)=>{this.rt(i)&&t(i)})}st(e){let t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){let o=i.target;if(g_(o))if(r===0){let s=new G(o.path);this.et(t,s,Rn.newNoDocument(s,ie.min()))}else Ae(r===1,20013,{expectedCount:r});else{let s=this._t(t);if(s!==r){let a=this.ut(e),u=a?this.ct(a,e,s):1;if(u!==0){this.it(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,l)}Xj?.lt((function(f,p,g,y,x){let O={localCacheCount:f,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},A=p.unchangedNames;return A&&(O.bloomFilter={applied:x===0,hashCount:A?.hashCount??0,bitmapLength:A?.bits?.bitmap?.length??0,padding:A?.bits?.padding??0,mightContain:N=>y?.mightContain(N)??!1}),O})(s,e.Ce,this.Ge.ht(),a,u))}}}}ut(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=kr(r).toUint8Array()}catch(u){if(u instanceof oh)return yi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new w_(s,i,o)}catch(u){return yi(u instanceof vo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){let r=this.Ge.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(t,o,null),i++)}),i}Tt(e){let t=new Map;this.ze.forEach((o,s)=>{let a=this.ot(s);if(a){if(o.current&&g_(a.target)){let u=new G(a.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,Rn.newNoDocument(u,e))}o.Be&&(t.set(s,o.ke()),o.Ke())}});let r=he();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.ot(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));let i=new uh(e,t,this.Ze,this.je,r);return this.je=Fr(),this.He=Gf(),this.Je=Gf(),this.Ze=new Ue(pe),i}Ye(e,t){if(!this.rt(e))return;let r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;let i=this.nt(e);this.Et(e,t)?i.qe(t,1):i.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new fh,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new gt(pe),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new gt(pe),this.He=this.He.insert(e,t)),t}rt(e){let t=this.ot(e)!==null;return t||B("WatchChangeAggregator","Detected inactive target",e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new fh),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}};function Gf(){return new Ue(G.comparator)}function uA(){return new Ue(G.comparator)}var nU={asc:"ASCENDING",desc:"DESCENDING"},rU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iU={and:"AND",or:"OR"},C_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function D_(n,e){return n.useProto3Json||Oh(e)?e:{value:e}}function hh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function oU(n,e){return hh(n,e.toTimestamp())}function er(n){return Ae(!!n,49232),ie.fromTimestamp((function(t){let r=Pr(t);return new qe(r.seconds,r.nanos)})(n))}function ME(n,e){return T_(n,e).canonicalString()}function T_(n,e){let t=(function(i){return new Oe(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function wR(n){let e=Oe.fromString(n);return Ae(SR(e),10190,{key:e.toString()}),e}function S_(n,e){return ME(n.databaseId,e.path)}function Kv(n,e){let t=wR(e);if(t.get(1)!==n.databaseId.projectId)throw new H(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new H(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new G(CR(t))}function bR(n,e){return ME(n.databaseId,e)}function sU(n){let e=wR(n);return e.length===4?Oe.emptyPath():CR(e)}function A_(n){return new Oe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function CR(n){return Ae(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function lA(n,e,t){return{name:S_(n,e),fields:t.value.mapValue.fields}}function aU(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:K(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,f){return l.useProto3Json?(Ae(f===void 0||typeof f=="string",58123),Dt.fromBase64String(f||"")):(Ae(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Dt.fromUint8Array(f||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let f=l.code===void 0?F.UNKNOWN:ER(l.code);return new H(f,l.message||"")})(s);t=new dh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Kv(n,r.document.name),o=er(r.document.updateTime),s=r.document.createTime?er(r.document.createTime):ie.min(),a=new Ht({mapValue:{fields:r.document.fields}}),u=Rn.newFoundDocument(i,o,s,a),l=r.targetIds||[],f=r.removedTargetIds||[];t=new Ls(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Kv(n,r.document),o=r.readTime?er(r.readTime):ie.min(),s=Rn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Ls([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Kv(n,r.document),o=r.removedTargetIds||[];t=new Ls([],o,i,null)}else{if(!("filter"in e))return K(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new I_(i,o),a=r.targetId;t=new lh(a,s)}}return t}function cU(n,e){let t;if(e instanceof To)t={update:lA(n,e.key,e.value)};else if(e instanceof Ws)t={delete:S_(n,e.key)};else if(e instanceof ir)t={update:lA(n,e.key,e.data),updateMask:yU(e.fieldMask)};else{if(!(e instanceof y_))return K(16599,{dt:e.type});t={verify:S_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof zs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Co)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Do)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof qs)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw K(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:oU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:K(27497)})(n,e.precondition)),t}function uU(n,e){return n&&n.length>0?(Ae(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?er(i.updateTime):er(o);return s.isEqual(ie.min())&&(s=er(o)),new m_(s,i.transformResults||[])})(t,e))):[]}function lU(n,e){return{documents:[bR(n,e.path)]}}function dU(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=bR(n,i);let o=(function(l){if(l.length!==0)return TR(xn.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(f=>(function(g){return{field:Ps(g.field),direction:pU(g.dir)}})(f))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=D_(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{ft:t,parent:i}}function fU(n){let e=sU(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ae(r===1,65062);let f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];t.where&&(o=(function(p){let g=DR(p);return g instanceof xn&&rR(g)?g.getFilters():[g]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(g=>(function(x){return new bo(ks(x.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(g))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let g;return g=typeof p=="object"?p.value:p,Oh(g)?null:g})(t.limit));let u=null;t.startAt&&(u=(function(p){let g=!!p.before,y=p.values||[];return new wo(y,g)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let g=!p.before,y=p.values||[];return new wo(y,g)})(t.endAt)),Fj(e,i,s,o,a,"F",u,l)}function hU(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function DR(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=ks(t.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ks(t.unaryFilter.field);return Ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ks(t.unaryFilter.field);return Ze.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ks(t.unaryFilter.field);return Ze.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return K(61313);default:return K(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ze.create(ks(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return K(58110);default:return K(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return xn.create(t.compositeFilter.filters.map(r=>DR(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K(1026)}})(t.compositeFilter.op))})(n):K(30097,{filter:n})}function pU(n){return nU[n]}function gU(n){return rU[n]}function mU(n){return iU[n]}function Ps(n){return{fieldPath:n.canonicalString()}}function ks(n){return $t.fromServerFormat(n.fieldPath)}function TR(n){return n instanceof Ze?(function(t){if(t.op==="=="){if(ZS(t.value))return{unaryFilter:{field:Ps(t.field),op:"IS_NAN"}};if(JS(t.value))return{unaryFilter:{field:Ps(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ZS(t.value))return{unaryFilter:{field:Ps(t.field),op:"IS_NOT_NAN"}};if(JS(t.value))return{unaryFilter:{field:Ps(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ps(t.field),op:gU(t.op),value:t.value}}})(n):n instanceof xn?(function(t){let r=t.getFilters().map(i=>TR(i));return r.length===1?r[0]:{compositeFilter:{op:mU(t.op),filters:r}}})(n):K(54877,{filter:n})}function yU(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function SR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function AR(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}var hu=class n{constructor(e,t,r,i,o=ie.min(),s=ie.min(),a=Dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var R_=class{constructor(e){this.yt=e}};function RR(n){let e=fU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ch(e,e.limit,"L"):e}var ph=class{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(ke(e.integerValue));else if("doubleValue"in e){let r=ke(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),cu(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=Pr(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(kr(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?eR(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):XA(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):K(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){let r=e.fields||{};this.Ft(t,55);for(let i of Object.keys(r))this.Ot(i,t),this.Ct(r[i],t)}kt(e,t){let r=e.fields||{};this.Ft(t,53);let i=js,o=r[i].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(ke(o)),this.Ot(i,t),this.Ct(r[i],t)}qt(e,t){let r=e.values||[];this.Ft(t,50);for(let i of r)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),G.fromName(e).path.forEach(r=>{this.Ft(t,60),this.$t(r,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}};ph.Wt=new ph;var x_=class{constructor(){this.Sn=new M_}addToCollectionParentIndex(e,t){return this.Sn.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve(Io.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve(Io.min())}updateCollectionGroup(e,t,r){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}},M_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new gt(Oe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gt(Oe.comparator)).toArray()}};var Dte=new Uint8Array(0);var dA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xR=41943040,dn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(xR,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);var pu=class n{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new n(0)}static ar(){return new n(-1)}};var fA="LruGarbageCollector",vU=1048576;function hA([n,e],[t,r]){let i=pe(n,t);return i===0?pe(e,r):i}var N_=class{constructor(e){this.Pr=e,this.buffer=new gt(hA),this.Tr=0}Ir(){return++this.Tr}Er(e){let t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();hA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},P_=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){B(fA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ta(t)?B(fA,"Ignoring IndexedDB error during garbage collection: ",t):await ea(t)}await this.Ar(3e5)})}},k_=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return L.resolve(bE.ce);let r=new N_(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(dA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dA):this.gr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,i,o,s,a,u,l,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Ms()<=fe.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-f}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function _U(n,e){return new k_(n,e)}var O_=class{constructor(){this.changes=new Or(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?L.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var F_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var L_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&su(r.mutation,i,fn.empty(),qe.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,t,r=he()){let i=yo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=ru();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=yo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,he()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Fr(),s=ou(),a=(function(){return ou()})();return t.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof ir)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),su(f.mutation,l,f.mutation.getFieldMask(),qe.now())):s.set(l.key,fn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),t.forEach((l,f)=>a.set(l,new F_(f,s.get(l)??null))),a))}recalculateAndSaveOverlays(e,t){let r=ou(),i=new Ue((s,a)=>s-a),o=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let f=r.get(u)||fn.empty();f=a.applyToLocalView(l,f),r.set(u,f);let p=(i.get(a.batchId)||he()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,f=u.value,p=fR();f.forEach(g=>{if(!o.has(g)){let y=vR(t.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return L.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return Lj(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):aR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):L.resolve(yo()),a=au,u=o;return s.next(l=>L.forEach(l,(f,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(f)?L.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,he())).next(f=>({batchId:a,changes:dR(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new G(t)).next(r=>{let i=ru();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=ru();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,u=>{let l=(function(p,g){return new Hs(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,Rn.newInvalidDocument(f)))});let a=ru();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&su(f.mutation,l,fn.empty(),qe.now()),Uh(t,l)&&(a=a.insert(u,l))}),a})}};var V_=class{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return L.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:er(i.createTime)}})(t)),L.resolve()}getNamedQuery(e,t){return L.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(i){return{name:i.name,query:RR(i.bundledQuery),readTime:er(i.readTime)}})(t)),L.resolve()}};var j_=class{constructor(){this.overlays=new Ue(G.comparator),this.Lr=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){let r=yo();return L.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.bt(e,t,o)}),L.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Lr.delete(r)),L.resolve()}getOverlaysForCollection(e,t,r){let i=yo(),o=t.length+1,s=new G(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ue((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=yo(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let a=yo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>a.set(l,f)),!(a.size()>=i)););return L.resolve(a)}bt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new E_(t,r));let o=this.Lr.get(t);o===void 0&&(o=he(),this.Lr.set(t,o)),this.Lr.set(t,o.add(r.key))}};var U_=class{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,L.resolve()}};var gu=class{constructor(){this.kr=new gt(Je.Kr),this.qr=new gt(Je.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){let r=new Je(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Je(e,t))}Qr(e,t){e.forEach(r=>this.removeReference(r,t))}Gr(e){let t=new G(new Oe([])),r=new Je(t,e),i=new Je(t,e+1),o=[];return this.qr.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){let t=new G(new Oe([])),r=new Je(t,e),i=new Je(t,e+1),o=he();return this.qr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Je(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Je=class{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return G.comparator(e.key,t.key)||pe(e.Hr,t.Hr)}static Ur(e,t){return pe(e.Hr,t.Hr)||G.comparator(e.key,t.key)}};var B_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new gt(Je.Kr)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new v_(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Jr=this.Jr.add(new Je(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,t){return L.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?CE:this.Yn-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Je(t,0),i=new Je(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new gt(pe);return t.forEach(i=>{let o=new Je(i,0),s=new Je(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),L.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;G.isDocumentKey(o)||(o=o.child(""));let s=new Je(new G(o),0),a=new gt(pe);return this.Jr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),L.resolve(this.Yr(a))}Yr(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ae(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return L.forEach(t.mutations,i=>{let o=new Je(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,t){let r=new Je(t,0),i=this.Jr.firstAfterOrEqual(r);return L.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var H_=class{constructor(e){this.ti=e,this.docs=(function(){return new Ue(G.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return L.resolve(r?r.document.mutableCopy():Rn.newInvalidDocument(t))}getEntries(e,t){let r=Fr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Rn.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Fr(),s=t.path,a=new G(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||yj(mj(f),r)<=0||(i.has(f.key)||Uh(t,f))&&(o=o.insert(f.key,f.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,t,r,i){K(9500)}ni(e,t){return L.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new $_(this)}getSize(e){return L.resolve(this.size)}},$_=class extends O_{constructor(e){super(),this.Mr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)}),L.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}};var z_=class{constructor(e){this.persistence=e,this.ri=new Or(t=>AE(t),RE),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.ii=0,this.si=new gu,this.targetCount=0,this.oi=pu._r()}forEachTarget(e,t){return this.ri.forEach((r,i)=>t(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),L.resolve()}lr(e){this.ri.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.oi=new pu(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.lr(t),L.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ri.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ri.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){let r=this.ri.get(t)||null;return L.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),L.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),L.resolve()}getMatchingKeysForTargetId(e,t){let r=this.si.jr(t);return L.resolve(r)}containsKey(e,t){return L.resolve(this.si.containsKey(t))}};var gh=class{constructor(e,t){this._i={},this.overlays={},this.ai=new bE(0),this.ui=!1,this.ui=!0,this.ci=new U_,this.referenceDelegate=e(this),this.li=new z_(this),this.indexManager=new x_,this.remoteDocumentCache=(function(i){return new H_(i)})(r=>this.referenceDelegate.hi(r)),this.serializer=new R_(t),this.Pi=new V_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new j_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new B_(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){B("MemoryPersistence","Starting transaction:",e);let i=new q_(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(o=>this.referenceDelegate.Ii(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return L.or(Object.values(this._i).map(r=>()=>r.containsKey(e,t)))}},q_=class extends n_{constructor(e){super(),this.currentSequenceNumber=e}},G_=class n{constructor(e){this.persistence=e,this.Ri=new gu,this.Ai=null}static Vi(e){return new n(e)}get di(){if(this.Ai)return this.Ai;throw K(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),L.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),L.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach(i=>this.di.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ti(){this.Ai=new Set}Ii(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.di,r=>{let i=G.fromPath(r);return this.mi(e,i).next(o=>{o||t.removeEntry(i,ie.min())})}).next(()=>(this.Ai=null,t.apply(e)))}updateLimboDocument(e,t){return this.mi(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}hi(e){return 0}mi(e,t){return L.or([()=>L.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},mh=class n{constructor(e,t){this.persistence=e,this.fi=new Or(r=>Ij(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=_U(this,t)}static Vi(e,t){return new n(e,t)}Ti(){}Ii(e){return L.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){let t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}pr(e){let t=0;return this.mr(e,r=>{t++}).next(()=>t)}mr(e,t){return L.forEach(this.fi,(r,i)=>this.wr(e,r,i).next(o=>o?L.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ni(e,s=>this.wr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ie.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),L.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),L.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),L.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Kf(e.data.value)),t}wr(e,t,r){return L.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.fi.get(t);return L.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var W_=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=i}static Es(e,t){let r=he(),i=he();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var K_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Q_=class{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return wS()?8:_j(ht())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.gs(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ps(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new K_;return this.ys(e,t,s).next(a=>{if(o.result=a,this.As)return this.ws(e,t,s,a.size)})}).next(()=>o.result)}ws(e,t,r,i){return r.documentReadCount<this.Vs?(Ms()<=fe.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",Ns(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),L.resolve()):(Ms()<=fe.DEBUG&&B("QueryEngine","Query:",Ns(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Ms()<=fe.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",Ns(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(t))):L.resolve())}gs(e,t){if(nA(t))return L.resolve(null);let r=Zn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=ch(t,null,"F"),r=Zn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=he(...o);return this.fs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ss(t,l,s,u.readTime)?this.gs(e,ch(t,null,"F")):this.Ds(e,l,t,u)}))})))}ps(e,t,r,i){return nA(t)||i.isEqual(ie.min())?L.resolve(null):this.fs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ss(t,s,r,i)?L.resolve(null):(Ms()<=fe.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ns(t)),this.Ds(e,s,t,gj(i,au)).next(a=>a))})}bs(e,t){let r=new gt(uR(e));return t.forEach((i,o)=>{Uh(e,o)&&(r=r.add(o))}),r}Ss(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ys(e,t,r){return Ms()<=fe.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",Ns(t)),this.fs.getDocumentsMatchingQuery(e,t,Io.min(),r)}Ds(e,t,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var NE="LocalStore",EU=3e8,Y_=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.vs=new Ue(pe),this.Fs=new Or(o=>AE(o),RE),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new L_(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.vs))}};function IU(n,e,t,r){return new Y_(n,e,t,r)}async function MR(n,e){let t=te(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Os(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=he();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){a.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Ns:l,removedBatchIds:s,addedBatchIds:a}))})})}function wU(n,e){let t=te(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,f){let p=l.batch,g=p.keys(),y=L.resolve();return g.forEach(x=>{y=y.next(()=>f.getEntry(u,x)).next(O=>{let A=l.docVersions.get(x);Ae(A!==null,48541),O.version.compareTo(A)<0&&(p.applyToRemoteDocument(O,l),O.isValidDocument()&&(O.setReadTime(l.commitVersion),f.addEntry(O)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=he();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function NR(n){let e=te(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.li.getLastRemoteSnapshotVersion(t))}function bU(n,e){let t=te(n),r=e.snapshotVersion,i=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.xs.newChangeBuffer({trackRemovals:!0});i=t.vs;let a=[];e.targetChanges.forEach((f,p)=>{let g=i.get(p);if(!g)return;a.push(t.li.removeMatchingKeys(o,f.removedDocuments,p).next(()=>t.li.addMatchingKeys(o,f.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Dt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(p,y),(function(O,A,N){return O.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=EU?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(g,y,f)&&a.push(t.li.updateTargetData(o,y))});let u=Fr(),l=he();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,f))}),a.push(CU(o,s,e.documentUpdates).next(f=>{u=f.Bs,l=f.Ls})),!r.isEqual(ie.min())){let f=t.li.getLastRemoteSnapshotVersion(o).next(p=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(f)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.vs=i,o))}function CU(n,e,t){let r=he(),i=he();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Fr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ie.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):B(NE,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Bs:s,Ls:i}})}function DU(n,e){let t=te(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=CE),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function TU(n,e){let t=te(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.li.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):t.li.allocateTargetId(r).next(s=>(i=new hu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r})}async function J_(n,e,t){let r=te(n),i=r.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ta(s))throw s;B(NE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function pA(n,e,t){let r=te(n),i=ie.min(),o=he();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,f){let p=te(u),g=p.Fs.get(f);return g!==void 0?L.resolve(p.vs.get(g)):p.li.getTargetData(l,f)})(r,s,Zn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:ie.min(),t?o:he())).next(a=>(SU(r,jj(e),a),{documents:a,ks:o})))}function SU(n,e,t){let r=n.Ms.get(e)||ie.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ms.set(e,r)}var yh=class{constructor(){this.activeTargetIds=qj()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Z_=class{constructor(){this.vo=new yh,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new yh,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var X_=class{Mo(e){}shutdown(){}};var gA="ConnectivityMonitor",vh=class{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){B(gA,"Network connectivity changed: AVAILABLE");for(let e of this.Lo)e(0)}Bo(){B(gA,"Network connectivity changed: UNAVAILABLE");for(let e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Wf=null;function eE(){return Wf===null?Wf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wf++,"0x"+Wf.toString(16)}var Qv="RestConnection",AU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"},tE=class{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===sh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=eE(),a=this.Qo(e,t.toUriEncodedString());B(Qv,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,i,o);let{host:l}=new URL(a),f=fi(l);return this.zo(e,a,u,r,f).then(p=>(B(Qv,`Received RPC '${e}' ${s}: `,p),p),p=>{throw yi(Qv,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Qo(e,t){let r=AU[e],i=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}};var nE=class{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}};var Mt="WebChannelConnection",nu=(n,e,t)=>{n.listen(e,r=>{try{t(r)}catch(i){setTimeout(()=>{throw i},0)}})},_h=class n extends tE{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!n.c_){let e=qv();nu(e,zv.STAT_EVENT,t=>{t.stat===zf.PROXY?B(Mt,"STAT_EVENT: detected buffering proxy"):t.stat===zf.NOPROXY&&B(Mt,"STAT_EVENT: detected no buffering proxy")}),n.c_=!0}}zo(e,t,r,i,o){let s=eE();return new Promise((a,u)=>{let l=new Hv;l.setWithCredentials(!0),l.listenOnce($v.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case tu.NO_ERROR:let p=l.getResponseJson();B(Mt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case tu.TIMEOUT:B(Mt,`RPC '${e}' ${s} timed out`),u(new H(F.DEADLINE_EXCEEDED,"Request time out"));break;case tu.HTTP_ERROR:let g=l.getStatus();if(B(Mt,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let x=y?.error;if(x&&x.status&&x.message){let O=(function(N){let Z=N.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(Z)>=0?Z:F.UNKNOWN})(x.status);u(new H(O,x.message))}else u(new H(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new H(F.UNAVAILABLE,"Connection failed."));break;default:K(9055,{l_:e,streamId:s,h_:l.getLastErrorCode(),P_:l.getLastError()})}}finally{B(Mt,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);B(Mt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",f,r,15)})}T_(e,t,r){let i=eE(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(a.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,t,r),a.encodeInitMessageHeaders=!0;let l=o.join("");B(Mt,`Creating RPC '${e}' stream ${i}: ${l}`,a);let f=s.createWebChannel(l,a);this.I_(f);let p=!1,g=!1,y=new nE({Ho:x=>{g?B(Mt,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(p||(B(Mt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),B(Mt,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},Jo:()=>f.close()});return nu(f,xs.EventType.OPEN,()=>{g||(B(Mt,`RPC '${e}' stream ${i} transport opened.`),y.i_())}),nu(f,xs.EventType.CLOSE,()=>{g||(g=!0,B(Mt,`RPC '${e}' stream ${i} transport closed`),y.o_(),this.E_(f))}),nu(f,xs.EventType.ERROR,x=>{g||(g=!0,yi(Mt,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),y.o_(new H(F.UNAVAILABLE,"The operation could not be completed")))}),nu(f,xs.EventType.MESSAGE,x=>{if(!g){let O=x.data[0];Ae(!!O,16349);let A=O,N=A?.error||A[0]?.error;if(N){B(Mt,`RPC '${e}' stream ${i} received error:`,N);let Z=N.status,Ee=(function(vt){let C=Ye[vt];if(C!==void 0)return ER(C)})(Z),zt=N.message;Ee===void 0&&(Ee=F.INTERNAL,zt="Unknown error status: "+Z+" with message "+N.message),g=!0,y.o_(new H(Ee,zt)),f.close()}else B(Mt,`RPC '${e}' stream ${i} received:`,O),y.__(O)}}),n.u_(),setTimeout(()=>{y.s_()},0),y}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(t=>t===e)}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Gv()}};function RU(n){return new _h(n)}function Yv(){return typeof document<"u"?document:null}function _u(n){return new C_(n,!0)}_h.c_=!1;var Eh=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=i,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();let t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}};var mA="PersistentStream",Ih=class{constructor(e,t,r,i,o,s,a,u){this.Ci=e,this.b_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Eh(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===F.RESOURCE_EXHAUSTED?(Nr(t.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;let e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===t&&this.G_(r,i)},r=>{e(()=>{let i=new H(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,t){let r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return B(mA,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget(()=>this.D_===e?t():(B(mA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},rE=class extends Ih{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=aU(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ie.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ie.min():s.readTime?er(s.readTime):ie.min()})(e);return this.listener.J_(t,r)}Z_(e){let t={};t.database=A_(this.serializer),t.addTarget=(function(o,s){let a,u=s.target;if(a=g_(u)?{documents:lU(o,u)}:{query:dU(o,u).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=IR(o,s.resumeToken);let l=D_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ie.min())>0){a.readTime=hh(o,s.snapshotVersion.toTimestamp());let l=D_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=hU(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){let t={};t.database=A_(this.serializer),t.removeTarget=e,this.K_(t)}},iE=class extends Ih{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let t=uU(e.writeResults,e.commitTime),r=er(e.commitTime);return this.listener.na(r,t)}ra(){let e={};e.database=A_(this.serializer),this.K_(e)}ea(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>cU(this.serializer,r))};this.K_(t)}};var oE=class{},sE=class extends oE{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,T_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(F.UNKNOWN,o.toString())})}jo(e,t,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.jo(e,T_(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(F.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}};function xU(n,e,t,r){return new sE(n,e,t,r)}var aE=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Nr(t),this.aa=!1):B("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var So="RemoteStore",cE=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo(s=>{r.enqueueAndForget(async()=>{xo(this)&&(B(So,"Restarting streams for network reachability change."),await(async function(u){let l=te(u);l.Ea.add(4),await Eu(l),l.Va.set("Unknown"),l.Ea.delete(4),await Bh(l)})(this))})}),this.Va=new aE(r,i)}};async function Bh(n){if(xo(n))for(let e of n.Ra)await e(!0)}async function Eu(n){for(let e of n.Ra)await e(!1)}function PR(n,e){let t=te(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),FE(t)?OE(t):na(t).O_()&&kE(t,e))}function PE(n,e){let t=te(n),r=na(t);t.Ia.delete(e),r.O_()&&kR(t,e),t.Ia.size===0&&(r.O_()?r.L_():xo(t)&&t.Va.set("Unknown"))}function kE(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}na(n).Z_(e)}function kR(n,e){n.da.$e(e),na(n).X_(e)}function OE(n){n.da=new b_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),na(n).start(),n.Va.ua()}function FE(n){return xo(n)&&!na(n).x_()&&n.Ia.size>0}function xo(n){return te(n).Ea.size===0}function OR(n){n.da=void 0}async function MU(n){n.Va.set("Online")}async function NU(n){n.Ia.forEach((e,t)=>{kE(n,e)})}async function PU(n,e){OR(n),FE(n)?(n.Va.ha(e),OE(n)):n.Va.set("Unknown")}async function kU(n,e,t){if(n.Va.set("Online"),e instanceof dh&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.da.removeTarget(a))})(n,e)}catch(r){B(So,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wh(n,r)}else if(e instanceof Ls?n.da.Xe(e):e instanceof lh?n.da.st(e):n.da.tt(e),!t.isEqual(ie.min()))try{let r=await NR(n.localStore);t.compareTo(r)>=0&&await(function(o,s){let a=o.da.Tt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.Ia.get(l);f&&o.Ia.set(l,f.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let f=o.Ia.get(u);if(!f)return;o.Ia.set(u,f.withResumeToken(Dt.EMPTY_BYTE_STRING,f.snapshotVersion)),kR(o,u);let p=new hu(f.target,u,l,f.sequenceNumber);kE(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t)}catch(r){B(So,"Failed to raise snapshot:",r),await wh(n,r)}}async function wh(n,e,t){if(!ta(e))throw e;n.Ea.add(1),await Eu(n),n.Va.set("Offline"),t||(t=()=>NR(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{B(So,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Bh(n)})}function FR(n,e){return e().catch(t=>wh(n,t,e))}async function Hh(n){let e=te(n),t=_i(e),r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:CE;for(;OU(e);)try{let i=await DU(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,FU(e,i)}catch(i){await wh(e,i)}LR(e)&&VR(e)}function OU(n){return xo(n)&&n.Ta.length<10}function FU(n,e){n.Ta.push(e);let t=_i(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function LR(n){return xo(n)&&!_i(n).x_()&&n.Ta.length>0}function VR(n){_i(n).start()}async function LU(n){_i(n).ra()}async function VU(n){let e=_i(n);for(let t of n.Ta)e.ea(t.mutations)}async function jU(n,e,t){let r=n.Ta.shift(),i=__.from(r,e,t);await FR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Hh(n)}async function UU(n,e){e&&_i(n).Y_&&await(async function(r,i){if((function(s){return Zj(s)&&s!==F.ABORTED})(i.code)){let o=r.Ta.shift();_i(r).B_(),await FR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Hh(r)}})(n,e),LR(n)&&VR(n)}async function yA(n,e){let t=te(n);t.asyncQueue.verifyOperationInProgress(),B(So,"RemoteStore received new credentials");let r=xo(t);t.Ea.add(3),await Eu(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Bh(t)}async function BU(n,e){let t=te(n);e?(t.Ea.delete(2),await Bh(t)):e||(t.Ea.add(2),await Eu(t),t.Va.set("Unknown"))}function na(n){return n.ma||(n.ma=(function(t,r,i){let o=te(t);return o.sa(),new rE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:MU.bind(null,n),Yo:NU.bind(null,n),t_:PU.bind(null,n),J_:kU.bind(null,n)}),n.Ra.push(async e=>{e?(n.ma.B_(),FE(n)?OE(n):n.Va.set("Unknown")):(await n.ma.stop(),OR(n))})),n.ma}function _i(n){return n.fa||(n.fa=(function(t,r,i){let o=te(t);return o.sa(),new iE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:LU.bind(null,n),t_:UU.bind(null,n),ta:VU.bind(null,n),na:jU.bind(null,n)}),n.Ra.push(async e=>{e?(n.fa.B_(),await Hh(n)):(await n.fa.stop(),n.Ta.length>0&&(B(So,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}var uE=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new An,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function LE(n,e){if(Nr("AsyncQueue",`${e}: ${n}`),ta(n))return new H(F.UNAVAILABLE,`${e}: ${n}`);throw n}var mu=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||G.comparator(t.key,r.key):(t,r)=>G.comparator(t.key,r.key),this.keyedMap=ru(),this.sortedSet=new Ue(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var bh=class{constructor(){this.ga=new Ue(G.comparator)}track(e){let t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):K(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}},Ao=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,mu.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var lE=class{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}},dE=class{constructor(){this.queries=vA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=te(t),o=i.queries;i.queries=vA(),o.forEach((s,a)=>{for(let u of a.ba)u.onError(r)})})(this,new H(F.ABORTED,"Firestore shutting down"))}};function vA(){return new Or(n=>cR(n),jh)}async function jR(n,e){let t=te(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.Da()&&(r=2):(o=new lE,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(i,!0);break;case 1:o.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){let a=LE(s,`Initialization of query '${Ns(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&VE(t)}async function UR(n,e){let t=te(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.ba.indexOf(e);s>=0&&(o.ba.splice(s,1),o.ba.length===0?i=e.Da()?0:1:!o.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function HU(n,e){let t=te(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.ba)a.Fa(i)&&(r=!0);s.wa=i}}r&&VE(t)}function $U(n,e,t){let r=te(n),i=r.queries.get(e);if(i)for(let o of i.ba)o.onError(t);r.queries.delete(e)}function VE(n){n.Ca.forEach(e=>{e.next()})}var fE,_A;(_A=fE||(fE={})).Ma="default",_A.Cache="cache";var Ch=class{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ao(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;let r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fE.Cache}};var Dh=class{constructor(e){this.key=e}},Th=class{constructor(e){this.key=e}},hE=class{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=he(),this.mutatedKeys=he(),this.eu=uR(e),this.tu=new mu(this.eu)}get nu(){return this.Za}ru(e,t){let r=t?t.iu:new bh,i=t?t.tu:this.tu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let g=i.get(f),y=Uh(this.query,p)?p:null,x=!!g&&this.mutatedKeys.has(g.key),O=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),A=!1;g&&y?g.data.isEqual(y.data)?x!==O&&(r.track({type:3,doc:y}),A=!0):this.su(g,y)||(r.track({type:2,doc:y}),A=!0,(u&&this.eu(y,u)>0||l&&this.eu(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),A=!0):g&&!y&&(r.track({type:1,doc:g}),A=!0,(u||l)&&(a=!0)),A&&(y?(s=s.add(y),o=O?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{tu:s,iu:r,Ss:a,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let s=e.iu.ya();s.sort((f,p)=>(function(y,x){let O=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K(20277,{Vt:A})}};return O(y)-O(x)})(f.type,p.type)||this.eu(f.doc,p.doc)),this.ou(r),i=i??!1;let a=t&&!i?this._u():[],u=this.Ya.size===0&&this.current&&!i?1:0,l=u!==this.Xa;return this.Xa=u,s.length!==0||l?{snapshot:new Ao(this.query,e.tu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bh,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Za=this.Za.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Za=this.Za.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Ya;this.Ya=he(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});let t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new Th(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new Dh(r))}),t}cu(e){this.Za=e.ks,this.Ya=he();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}},jE="SyncEngine",pE=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},gE=class{constructor(e){this.key=e,this.hu=!1}},mE=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Or(a=>cR(a),jh),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ue(G.comparator),this.Au=new Map,this.Vu=new gu,this.du={},this.mu=new Map,this.fu=pu.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};async function zU(n,e,t=!0){let r=GR(n),i,o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await BR(r,e,t,!0),i}async function qU(n,e){let t=GR(n);await BR(t,e,!0,!1)}async function BR(n,e,t,r){let i=await TU(n.localStore,Zn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=await GU(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&PR(n.remoteStore,i),a}async function GU(n,e,t,r,i){n.pu=(p,g,y)=>(async function(O,A,N,Z){let Ee=A.view.ru(N);Ee.Ss&&(Ee=await pA(O.localStore,A.query,!1).then(({documents:C})=>A.view.ru(C,Ee)));let zt=Z&&Z.targetChanges.get(A.targetId),pn=Z&&Z.targetMismatches.get(A.targetId)!=null,vt=A.view.applyChanges(Ee,O.isPrimaryClient,zt,pn);return IA(O,A.targetId,vt.au),vt.snapshot})(n,p,g,y);let o=await pA(n.localStore,e,!0),s=new hE(e,o.ks),a=s.ru(o.documents),u=fu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);IA(n,t,l.au);let f=new pE(e,t,s);return n.Tu.set(e,f),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),l.snapshot}async function WU(n,e,t){let r=te(n),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!jh(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await J_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&PE(r.remoteStore,i.targetId),yE(r,i.targetId)}).catch(ea)):(yE(r,i.targetId),await J_(r.localStore,i.targetId,!0))}async function KU(n,e){let t=te(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),PE(t.remoteStore,r.targetId))}async function QU(n,e,t){let r=nB(n);try{let i=await(function(s,a){let u=te(s),l=qe.now(),f=a.reduce((y,x)=>y.add(x.key),he()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let x=Fr(),O=he();return u.xs.getEntries(y,f).next(A=>{x=A,x.forEach((N,Z)=>{Z.isValidDocument()||(O=O.add(N))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,x)).next(A=>{p=A;let N=[];for(let Z of a){let Ee=Jj(Z,p.get(Z.key).overlayedDocument);Ee!=null&&N.push(new ir(Z.key,Ee,tR(Ee.value.mapValue),Xn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,N,a)}).next(A=>{g=A;let N=A.applyToLocalDocumentSet(p,O);return u.documentOverlayCache.saveOverlays(y,A.batchId,N)})}).then(()=>({batchId:g.batchId,changes:dR(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.du[s.currentUser.toKey()];l||(l=new Ue(pe)),l=l.insert(a,u),s.du[s.currentUser.toKey()]=l})(r,i.batchId,t),await Iu(r,i.changes),await Hh(r.remoteStore)}catch(i){let o=LE(i,"Failed to persist write");t.reject(o)}}async function HR(n,e){let t=te(n);try{let r=await bU(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Au.get(o);s&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Ae(s.hu,14607):i.removedDocuments.size>0&&(Ae(s.hu,42227),s.hu=!1))}),await Iu(t,r,e)}catch(r){await ea(r)}}function EA(n,e,t){let r=te(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Tu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=te(s);u.onlineState=a;let l=!1;u.queries.forEach((f,p)=>{for(let g of p.ba)g.va(a)&&(l=!0)}),l&&VE(u)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function YU(n,e,t){let r=te(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Au.get(e),o=i&&i.key;if(o){let s=new Ue(G.comparator);s=s.insert(o,Rn.newNoDocument(o,ie.min()));let a=he().add(o),u=new uh(ie.min(),new Map,new Ue(pe),s,a);await HR(r,u),r.Ru=r.Ru.remove(o),r.Au.delete(e),UE(r)}else await J_(r.localStore,e,!1).then(()=>yE(r,e,t)).catch(ea)}async function JU(n,e){let t=te(n),r=e.batch.batchId;try{let i=await wU(t.localStore,e);zR(t,r,null),$R(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Iu(t,i)}catch(i){await ea(i)}}async function ZU(n,e,t){let r=te(n);try{let i=await(function(s,a){let u=te(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ae(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})})(r.localStore,e);zR(r,e,t),$R(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Iu(r,i)}catch(i){await ea(i)}}function $R(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function zR(n,e,t){let r=te(n),i=r.du[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function yE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach(r=>{n.Vu.containsKey(r)||qR(n,r)})}function qR(n,e){n.Eu.delete(e.path.canonicalString());let t=n.Ru.get(e);t!==null&&(PE(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),UE(n))}function IA(n,e,t){for(let r of t)r instanceof Dh?(n.Vu.addReference(r.key,e),XU(n,r)):r instanceof Th?(B(jE,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||qR(n,r.key)):K(19791,{wu:r})}function XU(n,e){let t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(B(jE,"New document in limbo: "+t),n.Eu.add(r),UE(n))}function UE(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){let e=n.Eu.values().next().value;n.Eu.delete(e);let t=new G(Oe.fromString(e)),r=n.fu.next();n.Au.set(r,new gE(t)),n.Ru=n.Ru.insert(t,r),PR(n.remoteStore,new hu(Zn(Vh(t.path)),r,"TargetPurposeLimboResolution",bE.ce))}}async function Iu(n,e,t){let r=te(n),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{s.push(r.pu(u,e,t).then(l=>{if((l||t)&&r.isPrimaryClient){let f=l?!l.fromCache:t?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(l){i.push(l);let f=W_.Es(u.targetId,l);o.push(f)}}))}),await Promise.all(s),r.Pu.J_(i),await(async function(u,l){let f=te(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(l,g=>L.forEach(g.Ts,y=>f.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>L.forEach(g.Is,y=>f.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!ta(p))throw p;B(NE,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=f.vs.get(g),x=y.snapshotVersion,O=y.withLastLimboFreeSnapshotVersion(x);f.vs=f.vs.insert(g,O)}}})(r.localStore,o))}async function eB(n,e){let t=te(n);if(!t.currentUser.isEqual(e)){B(jE,"User change. New user:",e.toKey());let r=await MR(t.localStore,e);t.currentUser=e,(function(o,s){o.mu.forEach(a=>{a.forEach(u=>{u.reject(new H(F.CANCELLED,s))})}),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Iu(t,r.Ns)}}function tB(n,e){let t=te(n),r=t.Au.get(e);if(r&&r.hu)return he().add(r.key);{let i=he(),o=t.Iu.get(e);if(!o)return i;for(let s of o){let a=t.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function GR(n){let e=te(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=HR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YU.bind(null,e),e.Pu.J_=HU.bind(null,e.eventManager),e.Pu.yu=$U.bind(null,e.eventManager),e}function nB(n){let e=te(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZU.bind(null,e),e}var BE=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=_u(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return IU(this.persistence,new Q_,t.initialUser,this.serializer)}Cu(t){return new gh(G_.Vi,this.serializer)}Du(t){return new Z_}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),Sh=class extends BE{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ae(this.persistence.referenceDelegate instanceof mh,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new P_(r,e.asyncQueue,t)}Cu(e){let t=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new gh(r=>mh.Vi(r,t),this.serializer)}};var WR=(()=>{class n{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>EA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=eB.bind(null,this.syncEngine),await BU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new dE})()}createDatastore(t){let r=_u(t.databaseInfo.databaseId),i=RU(t.databaseInfo);return xU(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,u){return new cE(i,o,s,a,u)})(this.localStore,this.datastore,t.asyncQueue,r=>EA(this.syncEngine,r,0),(function(){return vh.v()?new vh:new X_})())}createSyncEngine(t,r){return(function(o,s,a,u,l,f,p){let g=new mE(o,s,a,u,l,f);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){let i=te(r);B(So,"RemoteStore shutting down."),i.Ea.add(5),await Eu(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}return n.provider={build:()=>new n},n})();var Ah=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Nr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Ei="FirestoreClient",vE=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=i,this.user=pt.UNAUTHENTICATED,this.clientId=Eo.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{B(Ei,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(B(Ei,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new An;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=LE(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function Jv(n,e){n.asyncQueue.verifyOperationInProgress(),B(Ei,"Initializing OfflineComponentProvider");let t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await MR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function wA(n,e){n.asyncQueue.verifyOperationInProgress();let t=await rB(n);B(Ei,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>yA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>yA(e.remoteStore,i)),n._onlineComponents=e}async function rB(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){B(Ei,"Using user provided OfflineComponentProvider");try{await Jv(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;yi("Error using user provided cache. Falling back to memory cache: "+t),await Jv(n,new BE)}}else B(Ei,"Using default OfflineComponentProvider"),await Jv(n,new Sh(void 0));return n._offlineComponents}async function KR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(B(Ei,"Using user provided OnlineComponentProvider"),await wA(n,n._uninitializedComponentsProvider._online)):(B(Ei,"Using default OnlineComponentProvider"),await wA(n,new WR))),n._onlineComponents}function iB(n){return KR(n).then(e=>e.syncEngine)}async function QR(n){let e=await KR(n),t=e.eventManager;return t.onListen=zU.bind(null,e.syncEngine),t.onUnlisten=WU.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=qU.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=KU.bind(null,e.syncEngine),t}function YR(n,e,t={}){let r=new An;return n.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,u,l){let f=new Ah({next:g=>{f.Nu(),s.enqueueAndForget(()=>UR(o,p));let y=g.docs.has(a);!y&&g.fromCache?l.reject(new H(F.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&u&&u.source==="server"?l.reject(new H(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new Ch(Vh(a.path),f,{includeMetadataChanges:!0,Ka:!0});return jR(o,p)})(await QR(n),n.asyncQueue,e,t,r)),r.promise}function JR(n,e,t={}){let r=new An;return n.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,u,l){let f=new Ah({next:g=>{f.Nu(),s.enqueueAndForget(()=>UR(o,p)),g.fromCache&&u.source==="server"?l.reject(new H(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new Ch(a,f,{includeMetadataChanges:!0,Ka:!0});return jR(o,p)})(await QR(n),n.asyncQueue,e,t,r)),r.promise}function ZR(n,e){let t=new An;return n.asyncQueue.enqueueAndForget(async()=>QU(await iB(n),e,t)),t.promise}function XR(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var oB="ComponentProvider",bA=new Map;function sB(n,e,t,r,i){return new r_(n,e,t,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,XR(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}var ex="firestore.googleapis.com",CA=!0,Rh=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new H(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ex,this.ssl=CA}else this.host=e.host,this.ssl=e.ssl??CA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vU)throw new H(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XR(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ks=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Zf;switch(r.type){case"firstParty":return new e_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=bA.get(t);r&&(B(oB,"Removing Datastore"),bA.delete(t),r.terminate())})(this),Promise.resolve()}};function tx(n,e,t,r={}){n=Mn(n,Ks);let i=fi(e),o=n._getSettings(),s=z(k({},o),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;i&&(Lf(`https://${a}`),Vf("Firestore",!0)),o.host!==ex&&o.host!==a&&yi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=z(k({},o),{host:a,ssl:i,emulatorOptions:r});if(!Tn(u,s)&&(n._setSettings(u),r.mockUserToken)){let l,f;if(typeof r.mockUserToken=="string")l=r.mockUserToken,f=pt.MOCK_USER;else{l=mS(r.mockUserToken,n._app?.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new H(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new pt(p)}n._authCredentials=new Zv(new Jf(l,f))}}var Qs=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},mt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Xs(t,n._jsonSchema))return new n(e,r||null,new G(Oe.fromString(t.referencePath)))}};mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:ze("string",mt._jsonSchemaVersion),referencePath:ze("string")};var xr=class n extends Qs{constructor(e,t,r){super(e,t,Vh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new G(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function yt(n,e,...t){if(n=Qe(n),RA("collection","path",e),n instanceof Ks){let r=Oe.fromString(e,...t);return zS(r),new xr(n,null,r)}{if(!(n instanceof mt||n instanceof xr))throw new H(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Oe.fromString(e,...t));return zS(r),new xr(n.firestore,null,r)}}function Vt(n,e,...t){if(n=Qe(n),arguments.length===1&&(e=Eo.newId()),RA("doc","path",e),n instanceof Ks){let r=Oe.fromString(e,...t);return $S(r),new mt(n,null,new G(r))}{if(!(n instanceof mt||n instanceof xr))throw new H(F.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Oe.fromString(e,...t));return $S(r),new mt(n.firestore,n instanceof xr?n.converter:null,new G(r))}}var DA="AsyncQueue",xh=class{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Eh(this,"async_queue_retry"),this._c=()=>{let r=Yv();r&&B(DA,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;let t=Yv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=Yv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let t=new An;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ta(e))throw e;B(DA,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){let t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Nr("INTERNAL UNHANDLED ERROR: ",TA(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let i=uE.createAndSchedule(this,e,t,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&K(47125,{Pc:TA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}};function TA(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var or=class extends Ks{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new xh,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new xh(e),this._firestoreClient=void 0,await e}}};function wu(n,e){let t=typeof n=="object"?n:Hf(),r=typeof n=="string"?n:e||sh,i=Xc(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=gS("firestore");o&&tx(i,...o)}return i}function bu(n){if(n._terminated)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||aB(n),n._firestoreClient}function aB(n){let e=n._freezeSettings(),t=sB(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new vE(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(i){let o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(n._componentsProvider))}var tr=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Dt.fromBase64String(e))}catch(t){throw new H(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xs(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};tr._jsonSchemaVersion="firestore/bytes/1.0",tr._jsonSchema={type:ze("string",tr._jsonSchemaVersion),bytes:ze("string")};var Ro=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new H(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ys=class{constructor(e){this._methodName=e}};var Mr=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new H(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new H(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Xs(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Mr._jsonSchemaVersion="firestore/geoPoint/1.0",Mr._jsonSchema={type:ze("string",Mr._jsonSchemaVersion),latitude:ze("number"),longitude:ze("number")};var nr=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xs(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new H(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};nr._jsonSchemaVersion="firestore/vectorValue/1.0",nr._jsonSchema={type:ze("string",nr._jsonSchemaVersion),vectorValues:ze("object")};var cB=/^__.*__$/,_E=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ir(e,this.data,this.fieldMask,t,this.fieldTransforms):new To(e,this.data,t,this.fieldTransforms)}},Mh=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ir(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function nx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K(40011,{dataSource:n})}}var EE=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new n(k(k({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){let t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){let t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Ph(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(nx(this.dataSource)&&cB.test(e))throw this.createError('Document fields cannot begin and end with "__"')}},IE=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||_u(e)}createContext(e,t,r,i=!1){return new EE({dataSource:e,methodName:t,targetDoc:r,path:$t.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function HE(n){let e=n._freezeSettings(),t=_u(n._databaseId);return new IE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function rx(n,e,t,r,i,o={}){let s=n.createContext(o.merge||o.mergeFields?2:0,e,t,i);$E("Data must be an object, but it was:",s,r);let a=sx(r,s),u,l;if(o.merge)u=new fn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let p of o.mergeFields){let g=Js(e,p,t);if(!s.contains(g))throw new H(F.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);cx(f,g)||f.push(g)}u=new fn(f),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new _E(new Ht(a),u,l)}var Nh=class n extends Ys{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function ix(n,e,t,r){let i=n.createContext(1,e,t);$E("Data must be an object, but it was:",i,r);let o=[],s=Ht.empty();Ii(r,(u,l)=>{let f=zE(e,u,t);l=Qe(l);let p=i.childContextForFieldPath(f);if(l instanceof Nh)o.push(f);else{let g=$h(l,p);g!=null&&(o.push(f),s.set(f,g))}});let a=new fn(o);return new Mh(s,a,i.fieldTransforms)}function ox(n,e,t,r,i,o){let s=n.createContext(1,e,t),a=[Js(e,r,t)],u=[i];if(o.length%2!=0)throw new H(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(Js(e,o[g])),u.push(o[g+1]);let l=[],f=Ht.empty();for(let g=a.length-1;g>=0;--g)if(!cx(l,a[g])){let y=a[g],x=u[g];x=Qe(x);let O=s.childContextForFieldPath(y);if(x instanceof Nh)l.push(y);else{let A=$h(x,O);A!=null&&(l.push(y),f.set(y,A))}}let p=new fn(l);return new Mh(f,p,s.fieldTransforms)}function $h(n,e){if(ax(n=Qe(n)))return $E("Unsupported field value:",e,n),sx(n,e);if(n instanceof Ys)return(function(r,i){if(!nx(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=$h(a,i.childContextForArray(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=Qe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Gj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=qe.fromDate(r);return{timestampValue:hh(i.serializer,o)}}if(r instanceof qe){let o=new qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hh(i.serializer,o)}}if(r instanceof Mr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof tr)return{bytesValue:IR(i.serializer,r._byteString)};if(r instanceof mt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ME(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof nr)return(function(s,a){let u=s instanceof nr?s.toArray():s;return{mapValue:{fields:{[DE]:{stringValue:TE},[js]:{arrayValue:{values:u.map(f=>{if(typeof f!="number")throw a.createError("VectorValues must only contain numeric values.");return xE(a.serializer,f)})}}}}}})(r,i);if(AR(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${kh(r)}`)})(n,e)}function sx(n,e){let t={};return GA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ii(n,(r,i)=>{let o=$h(i,e.childContextForField(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function ax(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof qe||n instanceof Mr||n instanceof tr||n instanceof mt||n instanceof Ys||n instanceof nr||AR(n))}function $E(n,e,t){if(!ax(t)||!MA(t)){let r=kh(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function Js(n,e,t){if((e=Qe(e))instanceof Ro)return e._internalPath;if(typeof e=="string")return zE(n,e);throw Ph("Field path arguments must be of type string or ",n,!1,void 0,t)}var uB=new RegExp("[~\\*/\\[\\]]");function zE(n,e,t){if(e.search(uB)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ro(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ph(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new H(F.INVALID_ARGUMENT,a+n+u)}function cx(n,e){return n.some(t=>t.isEqual(e))}var yu=class{convertValue(e,t="none"){switch(vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw K(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ii(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){let t=e.fields?.[js].arrayValue?.values?.map(r=>ke(r.doubleValue));return new nr(t)}convertGeoPoint(e){return new Mr(ke(e.latitude),ke(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Lh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(uu(e));default:return null}}convertTimestamp(e){let t=Pr(e);return new qe(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Oe.fromString(e);Ae(SR(r),9688,{name:e});let i=new lu(r.get(1),r.get(3)),o=new G(r.popFirst(5));return i.isEqual(t)||Nr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var vu=class extends yu{constructor(e){super(),this.firestore=e}convertBytes(e){return new tr(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,t)}};var ux="@firebase/firestore",lx="4.10.0";var zh=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new qE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){let t=this._document.data.field(Js("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},qE=class extends zh{data(){return super.data()}};function hB(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new H(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function pB(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Mo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},No=class n extends zh{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ra(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Js("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new H(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};No._jsonSchemaVersion="firestore/documentSnapshot/1.0",No._jsonSchema={type:ze("string",No._jsonSchemaVersion),bundleSource:ze("string","DocumentSnapshot"),bundleName:ze("string"),bundle:ze("string")};var ra=class extends No{data(e={}){return super.data(e)}},ia=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Mo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ra(this._firestore,this._userDataWriter,r.key,r,new Mo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new H(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new ra(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Mo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new ra(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Mo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),f=s.indexOf(a.doc.key)),{type:gB(a.type),doc:u,oldIndex:l,newIndex:f}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new H(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Eo.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function gB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K(61501,{type:n})}}ia._jsonSchemaVersion="firestore/querySnapshot/1.0",ia._jsonSchema={type:ze("string",ia._jsonSchemaVersion),bundleSource:ze("string","QuerySnapshot"),bundleName:ze("string"),bundle:ze("string")};function qh(n){n=Mn(n,mt);let e=Mn(n.firestore,or),t=bu(e);return YR(t,n._key).then(r=>mB(e,n,r))}function hn(n){n=Mn(n,Qs);let e=Mn(n.firestore,or),t=bu(e),r=new vu(e);return hB(n._query),JR(t,n._query).then(i=>new ia(e,r,n,i))}function Gh(n,e,t,...r){n=Mn(n,mt);let i=Mn(n.firestore,or),o=HE(i),s;return s=typeof(e=Qe(e))=="string"||e instanceof Ro?ox(o,"updateDoc",n._key,e,t,r):ix(o,"updateDoc",n._key,e),GE(i,[s.toMutation(n._key,Xn.exists(!0))])}function Cu(n){return GE(Mn(n.firestore,or),[new Ws(n._key,Xn.none())])}function Po(n,e){let t=Mn(n.firestore,or),r=Vt(n),i=pB(n.converter,e),o=HE(n.firestore);return GE(t,[rx(o,"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Xn.exists(!1))]).then(()=>r)}function GE(n,e){let t=bu(n);return ZR(t,e)}function mB(n,e,t){let r=t.docs.get(e._key),i=new vu(n);return new No(n,i,e._key,r,new Mo(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){SA(mi),gi(new ln("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new or(new Xf(r.getProvider("auth-internal")),new th(s,r.getProvider("app-check-internal")),JA(s,i),s);return o=k({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Sn(ux,lx,e),Sn(ux,lx,"esm2020")})();var yB=()=>[1,2,3,4,5,6,7,8],dx=()=>[1,2,3,4,5],Du=(n,e)=>e.id,oa=(n,e)=>e.name,vB=(n,e)=>e.title;function _B(n,e){if(n&1&&oe(0,"div",40),n&2){let t=e.$implicit;Kn("left",t*12,"%")("animation-delay",t*.3,"s")}}function EB(n,e){if(n&1&&(I(0,"div",1),oe(1,"div",30),I(2,"div",31),oe(3,"img",32),w(),I(4,"div",33)(5,"p",34),P(6,"Preparando a experi\xEAncia..."),w()(),I(7,"div",35),oe(8,"div",36),w(),I(9,"p",37),P(10),w(),I(11,"div",38),rt(12,_B,1,4,"div",39,hc),w()()),n&2){let t=U();S(8),Kn("width",t.loadingProgress(),"%"),S(2),ot("",t.loadingProgress().toFixed(0),"%"),S(2),it(gc(3,yB))}}function IB(n,e){}function wB(n,e){if(n&1&&oe(0,"div",41),n&2){let t=e.$implicit;Kn("left",t.left)("width",t.size)("height",t.size)("animation-duration",t.animationDuration)("animation-delay",t.animationDelay)("opacity",t.opacity)}}function bB(n,e){if(n&1&&oe(0,"div",42),n&2){let t=e.$implicit;Kn("left",t.left)("width",t.size)("height",t.size)("animation-duration",t.animationDuration)("animation-delay",t.animationDelay)("opacity",t.opacity)}}function CB(n,e){n&1&&($e(),I(0,"svg",49),oe(1,"path",63),w())}function DB(n,e){n&1&&($e(),I(0,"svg",50),oe(1,"path",64),w())}function TB(n,e){n&1&&($e(),I(0,"svg",50),oe(1,"path",65),w())}function SB(n,e){n&1&&($e(),I(0,"svg",49),oe(1,"path",66),w())}function AB(n,e){n&1&&($e(),I(0,"svg",49),oe(1,"path",67),w())}function RB(n,e){n&1&&($e(),I(0,"svg",49),oe(1,"path",68),w())}function xB(n,e){n&1&&($e(),I(0,"svg",49),oe(1,"path",69)(2,"path",70),w())}function MB(n,e){n&1&&($e(),I(0,"svg",49),oe(1,"path",71),w())}function NB(n,e){n&1&&(I(0,"span",52),P(1," Essencial "),w())}function PB(n,e){if(n&1&&(I(0,"span",53),P(1),w()),n&2){let t=U(2);S(),ot(" ",t.avisos().length," ")}}function kB(n,e){if(n&1&&(I(0,"div",72)(1,"p"),P(2),w(),I(3,"div",73)(4,"a",74),$e(),I(5,"svg",23),oe(6,"path",19),w(),Un(),I(7,"span"),P(8),w()(),I(9,"a",75),$e(),I(10,"svg",23),oe(11,"path",76),w(),Un(),I(12,"span"),P(13),w()()()()),n&2){let t=U(3);S(2),Y(t.agendamentoInfo()),S(2),Le("href",t.whatsappLink(),wn),S(4),ot("WhatsApp: ",t.whatsappNumber()),S(),Le("href",t.telefoneLink(),wn),S(4),ot("Telefone: ",t.telefoneNumber())}}function OB(n,e){if(n&1&&(I(0,"div",72)(1,"div",77)(2,"p",78),P(3),w(),I(4,"p"),P(5),w(),I(6,"p",79),P(7),w()(),I(8,"a",80),$e(),I(9,"svg",23),oe(10,"path",81),w(),Un(),I(11,"span"),P(12,"Abrir no Google Maps"),w(),$e(),I(13,"svg",82),oe(14,"path",83),w()()()),n&2){let t=U(3);S(3),ot("\u{1F4CD} ",t.localizacaoEndereco()),S(2),Pd("",t.localizacaoBairro()," - ",t.localizacaoCidade()),S(2),Y(t.localizacaoReferencia()),S(),Le("href",t.googleMapsLink(),wn)}}function FB(n,e){if(n&1&&(I(0,"p",84),P(1),w()),n&2){let t=U(3).$implicit;S(),Y(t.content)}}function LB(n,e){if(n&1&&ue(0,FB,2,1,"p",84),n&2){let t=U(2).$implicit;le(t.content?0:-1)}}function VB(n,e){if(n&1&&ue(0,kB,14,5,"div",72)(1,OB,15,5,"div",72)(2,LB,1,1),n&2){let t=U().$implicit;le(t.id==="booking"?0:t.id==="location"?1:2)}}function jB(n,e){if(n&1&&(I(0,"div",59)(1,"div",85)(2,"span",86),P(3,"Segunda a Sexta:"),w(),I(4,"span",78),P(5),w()(),I(6,"div",85)(7,"span",86),P(8,"S\xE1bado:"),w(),I(9,"span",78),P(10),w()(),I(11,"div",85)(12,"span",86),P(13,"Domingo:"),w(),I(14,"span",87),P(15),w()(),I(16,"div",88),P(17," \u26A0\uFE0F Pausa de 12:00 \xE0s 15:00 de segunda a sexta "),w()()),n&2){let t=U(2);S(5),Y(t.horariosSegSex()),S(5),Y(t.horariosSabado()),S(5),Y(t.horariosDomingo())}}function UB(n,e){if(n&1&&(I(0,"div",90),oe(1,"img",91),I(2,"div")(3,"h4",92),P(4),w(),I(5,"p",93),P(6),w()()()),n&2){let t=e.$implicit;S(),Le("src",t.imageUrl,wn)("alt",t.name),S(3),Y(t.name),S(2),Y(t.specialty)}}function BB(n,e){if(n&1&&(I(0,"div",62),rt(1,UB,7,4,"div",90,oa),w()),n&2){let t=U(2).$implicit;S(),it(t.teamMembers)}}function HB(n,e){n&1&&(I(0,"p",89),P(1,"Nenhum profissional cadastrado no momento."),w())}function $B(n,e){if(n&1&&ue(0,BB,3,0,"div",62)(1,HB,2,0,"p",89),n&2){let t=U().$implicit;le(t.teamMembers&&t.teamMembers.length>0?0:1)}}function zB(n,e){if(n&1&&(I(0,"div",94)(1,"h4",95),P(2),w(),I(3,"p",96),P(4),w(),I(5,"div",97)(6,"span",98),P(7,"\u{1F4C5}"),w(),I(8,"span",99),P(9),w()()()),n&2){let t=e.$implicit;S(2),Y(t.title),S(2),Y(t.location||t.description||"Participa\xE7\xE3o comunit\xE1ria"),S(5),Y(t.date)}}function qB(n,e){if(n&1&&(I(0,"div",60),rt(1,zB,10,3,"div",94,vB),w()),n&2){let t=U().$implicit;S(),it(t.projectGallery)}}function GB(n,e){if(n&1&&(I(0,"div",102)(1,"div",107),oe(2,"img",108),w(),I(3,"h4",109),P(4),w(),I(5,"p",110),P(6),w()()),n&2){let t=e.$implicit;S(2),Le("src",t.imageUrl,wn)("alt",t.name),S(2),Y(t.name),S(2),Y(t.role)}}function WB(n,e){if(n&1&&(I(0,"div",100)(1,"div",101),rt(2,GB,7,4,"div",102,oa),w(),I(4,"div",103)(5,"p",104),P(6,"Quer ser um parceiro?"),w(),I(7,"a",105),$e(),I(8,"svg",106),oe(9,"path",19),w(),P(10," Entre em contato via WhatsApp "),w()()()),n&2){let t=U(2).$implicit,r=U();S(2),it(t.partners),S(5),Le("href",r.whatsappLink(),wn)}}function KB(n,e){if(n&1&&(I(0,"div")(1,"p",111),P(2,"Nenhuma parceria cadastrada no momento."),w(),I(3,"div",103)(4,"p",104),P(5,"Quer ser um parceiro?"),w(),I(6,"a",105),$e(),I(7,"svg",106),oe(8,"path",19),w(),P(9," Entre em contato via WhatsApp "),w()()()),n&2){let t=U(3);S(6),Le("href",t.whatsappLink(),wn)}}function QB(n,e){if(n&1&&ue(0,WB,11,1,"div",100)(1,KB,10,1,"div"),n&2){let t=U().$implicit;le(t.partners&&t.partners.length>0?0:1)}}function YB(n,e){if(n&1&&(I(0,"li",115)(1,"span",116),P(2),w(),I(3,"div",16)(4,"span",117),P(5," Sim "),w(),I(6,"span",118),P(7),w()()()),n&2){let t=e.$implicit;S(2),Y(t.name),S(5),ot(" ",t.price," ")}}function JB(n,e){if(n&1&&(I(0,"div",112)(1,"div",113),oe(2,"span",114),P(3," Realizamos "),w(),I(4,"ul",77),rt(5,YB,8,2,"li",115,oa),w()()),n&2){let t=U(2).$implicit,r=U();S(5),it(r.getServicesBy(t.listItems,!0))}}function ZB(n,e){if(n&1&&(I(0,"li",121)(1,"span",122),P(2),w(),I(3,"div",16)(4,"span",123),P(5," Em Breve "),w(),I(6,"span",124),P(7),w()()()),n&2){let t=e.$implicit;S(2),Y(t.name),S(5),ot(" ",t.price," ")}}function XB(n,e){if(n&1&&(I(0,"div",112)(1,"div",119),oe(2,"span",120),P(3," Em Breve "),w(),I(4,"ul",77),rt(5,ZB,8,2,"li",121,oa),w()()),n&2){let t=U(2).$implicit,r=U();S(5),it(r.getServicesBy(t.listItems,"soon"))}}function e4(n,e){if(n&1&&(I(0,"li",127)(1,"span",128),P(2),w(),I(3,"div",16)(4,"span",129),P(5," N\xE3o "),w(),I(6,"span",130),P(7," - "),w()()()),n&2){let t=e.$implicit;S(2),Y(t.name)}}function t4(n,e){if(n&1&&(I(0,"div",112)(1,"div",125),oe(2,"span",126),P(3," N\xE3o Realizamos "),w(),I(4,"ul",77),rt(5,e4,8,1,"li",127,oa),w()()),n&2){let t=U(2).$implicit,r=U();S(5),it(r.getServicesBy(t.listItems,!1))}}function n4(n,e){if(n&1&&(I(0,"div",61),ue(1,JB,7,0,"div",112),ue(2,XB,7,0,"div",112),ue(3,t4,7,0,"div",112),w()),n&2){let t=U().$implicit,r=U();S(),le(r.hasServicesBy(t.listItems,!0)?1:-1),S(),le(r.hasServicesBy(t.listItems,"soon")?2:-1),S(),le(r.hasServicesBy(t.listItems,!1)?3:-1)}}function r4(n,e){n&1&&(I(0,"span",136),P(1,"Novo"),w())}function i4(n,e){n&1&&P(0," \u2605 ")}function o4(n,e){n&1&&P(0," \u2606 ")}function s4(n,e){if(n&1&&ue(0,i4,1,0)(1,o4,1,0),n&2){let t=e.$implicit,r=U().$implicit;le(t<=r.rating?0:1)}}function a4(n,e){if(n&1&&(I(0,"div",135),ue(1,r4,2,0,"span",136),I(2,"div",137)(3,"span",138),P(4),w(),I(5,"div",139),rt(6,s4,2,1,null,null,hc),w()(),I(8,"p",140),P(9),w()()),n&2){let t=e.$implicit;Ve("border-brand-fireOrange",t.isNew),S(),le(t.isNew?1:-1),S(3),Y(t.name),S(2),it(gc(5,dx)),S(3),ot('"',t.comment,'"')}}function c4(n,e){if(n&1){let t=Lt();I(0,"button",148),Re("click",function(){let i=Te(t).$implicit,o=U(4);return Se(o.setReviewRating(i))}),I(1,"span"),P(2," \u2605 "),w()()}if(n&2){let t=e.$implicit,r=U(4);S(),Ve("text-brand-fireOrange",t<=r.newReviewRating())("text-gray-600",t>r.newReviewRating())("drop-shadow-[0_0_5px_rgba(255,140,0,0",t<=r.newReviewRating())}}function u4(n,e){if(n&1){let t=Lt();I(0,"div",134)(1,"h4",141),P(2,"Sua Opini\xE3o Importa"),w(),I(3,"div",142),rt(4,c4,3,6,"button",143,hc),w(),I(6,"div",144)(7,"input",145),dt("ngModelChange",function(i){Te(t);let o=U(3);return Ct(o.newReviewName,i)||(o.newReviewName=i),Se(i)}),w(),I(8,"textarea",146),dt("ngModelChange",function(i){Te(t);let o=U(3);return Ct(o.newReviewMessage,i)||(o.newReviewMessage=i),Se(i)}),w(),I(9,"button",147),Re("click",function(){Te(t);let i=U(3);return Se(i.submitReview())}),P(10," Enviar Feedback "),w()()()}if(n&2){let t=U(3);S(4),it(gc(2,dx)),S(3),lt("ngModel",t.newReviewName),S(),lt("ngModel",t.newReviewMessage)}}function l4(n,e){if(n&1){let t=Lt();I(0,"div",62),rt(1,a4,10,6,"div",131,oa),I(3,"div",132)(4,"button",133),Re("click",function(){Te(t);let i=U(2);return Se(i.toggleReviewForm())}),P(5),w()(),ue(6,u4,11,3,"div",134),w()}if(n&2){let t=U().$implicit,r=U();S(),it(t.testimonials),S(4),ot(" ",r.showReviewForm()?"Cancelar":"Escrever Feedback"," "),S(),le(r.showReviewForm()?6:-1)}}function d4(n,e){if(n&1&&(I(0,"span",152),P(1),w()),n&2){let t=U(3);S(),Y(t.countAvisosByType("info"))}}function f4(n,e){if(n&1&&(I(0,"div",164)(1,"h4",165),P(2),w(),I(3,"p",166),P(4),w(),I(5,"small",167),P(6),w()()),n&2){let t=e.$implicit,r=U(4);S(2),Y(t.titulo),S(2),Y(t.conteudo),S(2),Y(r.formatDate(t.data))}}function h4(n,e){if(n&1&&(I(0,"div",153),rt(1,f4,7,3,"div",164,Du),w()),n&2){let t=U(3);S(),it(t.getAvisosByType("info"))}}function p4(n,e){if(n&1&&(I(0,"span",156),P(1),w()),n&2){let t=U(3);S(),Y(t.countAvisosByType("warning"))}}function g4(n,e){if(n&1&&(I(0,"div",168)(1,"h4",169),P(2),w(),I(3,"p",166),P(4),w(),I(5,"small",167),P(6),w()()),n&2){let t=e.$implicit,r=U(4);S(2),Y(t.titulo),S(2),Y(t.conteudo),S(2),Y(r.formatDate(t.data))}}function m4(n,e){if(n&1&&(I(0,"div",157),rt(1,g4,7,3,"div",168,Du),w()),n&2){let t=U(3);S(),it(t.getAvisosByType("warning"))}}function y4(n,e){if(n&1&&(I(0,"span",159),P(1),w()),n&2){let t=U(3);S(),Y(t.countAvisosByType("danger"))}}function v4(n,e){if(n&1&&(I(0,"div",170)(1,"h4",171),P(2),w(),I(3,"p",166),P(4),w(),I(5,"small",167),P(6),w()()),n&2){let t=e.$implicit,r=U(4);S(2),Y(t.titulo),S(2),Y(t.conteudo),S(2),Y(r.formatDate(t.data))}}function _4(n,e){if(n&1&&(I(0,"div",160),rt(1,v4,7,3,"div",170,Du),w()),n&2){let t=U(3);S(),it(t.getAvisosByType("danger"))}}function E4(n,e){if(n&1&&(I(0,"span",162),P(1),w()),n&2){let t=U(3);S(),Y(t.countAvisosByType("success"))}}function I4(n,e){if(n&1&&(I(0,"div",172)(1,"h4",173),P(2),w(),I(3,"p",166),P(4),w(),I(5,"small",167),P(6),w()()),n&2){let t=e.$implicit,r=U(4);S(2),Y(t.titulo),S(2),Y(t.conteudo),S(2),Y(r.formatDate(t.data))}}function w4(n,e){if(n&1&&(I(0,"div",163),rt(1,I4,7,3,"div",172,Du),w()),n&2){let t=U(3);S(),it(t.getAvisosByType("success"))}}function b4(n,e){if(n&1){let t=Lt();I(0,"div",62)(1,"div",149)(2,"div")(3,"button",150),Re("click",function(){Te(t);let i=U(2);return Se(i.toggleAvisoType("info"))}),I(4,"span",151),P(5,"\u25CF"),w(),P(6," Informativo "),ue(7,d4,2,1,"span",152),w(),ue(8,h4,3,0,"div",153),w(),I(9,"div",154)(10,"button",150),Re("click",function(){Te(t);let i=U(2);return Se(i.toggleAvisoType("warning"))}),I(11,"span",155),P(12,"\u25CF"),w(),P(13," Aviso "),ue(14,p4,2,1,"span",156),w(),ue(15,m4,3,0,"div",157),w(),I(16,"div",154)(17,"button",150),Re("click",function(){Te(t);let i=U(2);return Se(i.toggleAvisoType("danger"))}),I(18,"span",158),P(19,"\u25CF"),w(),P(20," Importante "),ue(21,y4,2,1,"span",159),w(),ue(22,_4,3,0,"div",160),w(),I(23,"div",154)(24,"button",150),Re("click",function(){Te(t);let i=U(2);return Se(i.toggleAvisoType("success"))}),I(25,"span",161),P(26,"\u25CF"),w(),P(27," Sucesso "),ue(28,E4,2,1,"span",162),w(),ue(29,w4,3,0,"div",163),w()()()}if(n&2){let t=U(2);S(3),Ve("border-l-4",t.avisoSelectedType()==="info")("border-blue-400",t.avisoSelectedType()==="info")("text-blue-400",t.avisoSelectedType()==="info")("text-gray-400",t.avisoSelectedType()!=="info")("bg-gradient-to-r",t.avisoSelectedType()!=="info")("from-blue-500/5",t.avisoSelectedType()!=="info")("to-blue-500/0",t.avisoSelectedType()!=="info")("bg-blue-500/15",t.avisoSelectedType()==="info")("shadow-blue-500/20",t.avisoSelectedType()!=="info")("shadow-lg",t.avisoSelectedType()!=="info")("shadow-blue-500/40",t.avisoSelectedType()==="info")("shadow-xl",t.avisoSelectedType()==="info"),S(4),le(t.countAvisosByType("info")>0?7:-1),S(),le(t.avisoSelectedType()==="info"&&t.getAvisosByType("info").length>0?8:-1),S(2),Ve("border-l-4",t.avisoSelectedType()==="warning")("border-yellow-400",t.avisoSelectedType()==="warning")("text-yellow-400",t.avisoSelectedType()==="warning")("text-gray-400",t.avisoSelectedType()!=="warning")("bg-gradient-to-r",t.avisoSelectedType()!=="warning")("from-yellow-500/5",t.avisoSelectedType()!=="warning")("to-yellow-500/0",t.avisoSelectedType()!=="warning")("bg-yellow-500/15",t.avisoSelectedType()==="warning")("shadow-yellow-500/20",t.avisoSelectedType()!=="warning")("shadow-lg",t.avisoSelectedType()!=="warning")("shadow-yellow-500/40",t.avisoSelectedType()==="warning")("shadow-xl",t.avisoSelectedType()==="warning"),S(4),le(t.countAvisosByType("warning")>0?14:-1),S(),le(t.avisoSelectedType()==="warning"&&t.getAvisosByType("warning").length>0?15:-1),S(2),Ve("border-l-4",t.avisoSelectedType()==="danger")("border-red-400",t.avisoSelectedType()==="danger")("text-red-400",t.avisoSelectedType()==="danger")("text-gray-400",t.avisoSelectedType()!=="danger")("bg-gradient-to-r",t.avisoSelectedType()!=="danger")("from-red-500/5",t.avisoSelectedType()!=="danger")("to-red-500/0",t.avisoSelectedType()!=="danger")("bg-red-500/15",t.avisoSelectedType()==="danger")("shadow-red-500/20",t.avisoSelectedType()!=="danger")("shadow-lg",t.avisoSelectedType()!=="danger")("shadow-red-500/40",t.avisoSelectedType()==="danger")("shadow-xl",t.avisoSelectedType()==="danger"),S(4),le(t.countAvisosByType("danger")>0?21:-1),S(),le(t.avisoSelectedType()==="danger"&&t.getAvisosByType("danger").length>0?22:-1),S(2),Ve("border-l-4",t.avisoSelectedType()==="success")("border-green-400",t.avisoSelectedType()==="success")("text-green-400",t.avisoSelectedType()==="success")("text-gray-400",t.avisoSelectedType()!=="success")("bg-gradient-to-r",t.avisoSelectedType()!=="success")("from-green-500/5",t.avisoSelectedType()!=="success")("to-green-500/0",t.avisoSelectedType()!=="success")("bg-green-500/15",t.avisoSelectedType()==="success")("shadow-green-500/20",t.avisoSelectedType()!=="success")("shadow-lg",t.avisoSelectedType()!=="success")("shadow-green-500/40",t.avisoSelectedType()==="success")("shadow-xl",t.avisoSelectedType()==="success"),S(4),le(t.countAvisosByType("success")>0?28:-1),S(),le(t.avisoSelectedType()==="success"&&t.getAvisosByType("success").length>0?29:-1)}}function C4(n,e){if(n&1){let t=Lt();I(0,"div",43)(1,"div",44)(2,"button",45),Re("click",function(){let i=Te(t).$implicit,o=U();return Se(o.toggleItem(i.id))}),oe(3,"div",46),I(4,"div",47)(5,"div",48),ue(6,CB,2,0,":svg:svg",49),ue(7,DB,2,0,":svg:svg",50),ue(8,TB,2,0,":svg:svg",50),ue(9,SB,2,0,":svg:svg",49),ue(10,AB,2,0,":svg:svg",49),ue(11,RB,2,0,":svg:svg",49),ue(12,xB,3,0,":svg:svg",49),ue(13,MB,2,0,":svg:svg",49),w(),I(14,"span",51),P(15),w(),ue(16,NB,2,0,"span",52),ue(17,PB,2,1,"span",53),w(),$e(),I(18,"svg",54),oe(19,"path",55),w()(),Un(),I(20,"div",56)(21,"div",57)(22,"div",58),ue(23,VB,3,1),ue(24,jB,18,3,"div",59),ue(25,$B,2,1),ue(26,qB,3,0,"div",60),ue(27,QB,2,1),ue(28,n4,4,3,"div",61),ue(29,l4,7,2,"div",62),ue(30,b4,30,104,"div",62),w()()()()()}if(n&2){let t=e.$implicit,r=U();Ve("z-30",t.isOpen)("z-0",!t.isOpen)("scale-[1",t.isOpen)("my-2",t.isOpen),S(),Ve("border-brand-fireOrange",t.isOpen)("shadow-[0_0_25px_rgba(255,69,0,0",t.isOpen)("border-white/10",!t.isOpen)("bg-[#0F0F0F]",t.isOpen)("bg-black",!t.isOpen),S(),Ve("featured-service",t.featured),S(3),Ve("text-brand-fireOrange",t.isOpen)("scale-110",t.isOpen)("drop-shadow-[0_0_8px_rgba(255,69,0,0",t.isOpen),S(),le(t.icon==="scissors"?6:-1),S(),le(t.icon==="users"?7:-1),S(),le(t.icon==="image"?8:-1),S(),le(t.icon==="clock"?9:-1),S(),le(t.icon==="star"?10:-1),S(),le(t.icon==="calendar"?11:-1),S(),le(t.icon==="map"?12:-1),S(),le(t.icon==="briefcase"?13:-1),S(),Ve("text-white",t.isOpen)("text-gray-400",!t.isOpen),S(),ot(" ",t.title," "),S(),le(t.featured?16:-1),S(),le(t.id==="avisos"&&r.avisos().length>0?17:-1),S(),Ve("rotate-180",t.isOpen)("text-brand-fireOrange",t.isOpen),S(2),Kn("grid-template-rows",t.isOpen?"1fr":"0fr"),S(3),le(t.type==="text"?23:-1),S(),le(t.type==="hours"?24:-1),S(),le(t.type==="team"?25:-1),S(),le(t.type==="projects"?26:-1),S(),le(t.type==="partners"?27:-1),S(),le(t.type==="list"?28:-1),S(),le(t.type==="feedback"?29:-1),S(),le(t.type==="text"&&t.id==="avisos"?30:-1)}}var Wh=class n{constructor(e){this.ngZone=e;this.firebaseConfig={apiKey:"AIzaSyDE2tWDNCDrY6O20EWrDt-NkvZmCm_MR10",authDomain:"isaacbarbearia-admin.firebaseapp.com",projectId:"isaacbarbearia-admin",storageBucket:"isaacbarbearia-admin.firebasestorage.app",messagingSenderId:"308982033120",appId:"1:308982033120:web:38b82c1a3ca9e933be7e85"};this.app=eu(this.firebaseConfig);this.db=wu(this.app);this.isLoading=de(!0);this.loadingProgress=de(0);this.hasLoadingStarted=!1;this.avisos=de([]);this.avisoSelectedType=de(null);this.whatsappLink=de("https://wa.me/5585999999999");this.whatsappNumber=de("(85) 99999-9999");this.telefoneLink=de("tel:5585999999999");this.telefoneNumber=de("(85) 99999-9999");this.agendamentoInfo=de("O agendamento \xE9 feito preferencialmente via WhatsApp ou telefone.");this.localizacaoEndereco=de("Rua das Pedras, 123");this.localizacaoBairro=de("Centro");this.localizacaoCidade=de("Fortaleza - CE");this.localizacaoReferencia=de("Pr\xF3ximo \xE0 pra\xE7a principal");this.googleMapsLink=de("https://share.google/Q4GvyJhu3aPv7HcgA");this.horariosSegSex=de("09:00 \xE0s 20:00");this.horariosSabado=de("09:00 \xE0s 18:00");this.horariosDomingo=de("Fechado");this.locationLink=de("#");this.embers=de([]);this.sparks=de([]);this.showReviewForm=de(!1);this.newReviewName=de("");this.newReviewMessage=de("");this.newReviewRating=de(5);this.items=de([{id:"services",title:"Nossos Servi\xE7os & Pre\xE7os",isOpen:!1,featured:!0,type:"list",icon:"scissors",listItems:[]},{id:"team",title:"Profissionais",isOpen:!1,type:"team",icon:"users",teamMembers:[]},{id:"projects",title:"Participa\xE7\xE3o Comunit\xE1ria",isOpen:!1,type:"projects",icon:"image",projectGallery:[]},{id:"partnerships",title:"Parcerias",isOpen:!1,type:"partners",icon:"briefcase",partners:[]},{id:"feedback",title:"Feedback",isOpen:!1,type:"feedback",icon:"star",testimonials:[]},{id:"avisos",title:"Avisos",isOpen:!1,type:"text",icon:"briefcase",content:""},{id:"booking",title:"Agendamento",isOpen:!1,type:"text",icon:"calendar",content:"O agendamento \xE9 feito preferencialmente via WhatsApp ou telefone. Clique no \xEDcone do WhatsApp acima ou ligue para (11) 99999-9999."},{id:"hours",title:"Hor\xE1rios",isOpen:!1,type:"hours",icon:"clock",content:`Segunda a S\xE1bado: 09:00 \xE0s 20:00
Domingo: Fechado`},{id:"location",title:"Localiza\xE7\xE3o",isOpen:!1,type:"text",icon:"map",content:"Estamos na Rua das Pedras, 123 - Centro. Pr\xF3ximo \xE0 pra\xE7a principal."}]);this.currentYear=new Date().getFullYear()}ngOnInit(){this.hasLoadingStarted||(this.hasLoadingStarted=!0,this.startLoading()),this.generateEmbers(),this.generateSparks()}async startLoading(){this.isLoading.set(!0),this.loadingProgress.set(0);let e=0,t=setInterval(()=>{e+=.83,e<=100&&this.loadingProgress.set(e)},100);this.loadDynamicData(),setTimeout(()=>{clearInterval(t),this.loadingProgress.set(100),setTimeout(()=>{this.isLoading.set(!1)},500)},12e3)}async loadDynamicData(){try{let[e,t,r,i,o,s,a,u,l]=await Promise.all([hn(yt(this.db,"profissionais")),hn(yt(this.db,"parceiros")),hn(yt(this.db,"participacoes")),hn(yt(this.db,"avaliacoes")),hn(yt(this.db,"servicos")),qh(Vt(this.db,"config","agendamento")),qh(Vt(this.db,"config","localizacao")),qh(Vt(this.db,"config","horarios")),hn(yt(this.db,"avisos"))]),f=e.docs.map(A=>{let N=A.data();return{name:N.nome||"Profissional",specialty:N.especialidade||"Especialidade",imageUrl:N.imagem||`https://picsum.photos/seed/${encodeURIComponent(N.nome||A.id)}/200/200`}}),p=o.docs.map(A=>{let N=A.data(),Z=N.realiza===!0&&N.preco&&N.preco>0?`R$ ${N.preco}`:"-";return{name:N.nome||"Servi\xE7o",price:Z,available:N.realiza}}),g=t.docs.map(A=>{let N=A.data();return{name:N.nome||"Parceiro",role:"",imageUrl:N.imagem||`https://picsum.photos/seed/${encodeURIComponent(N.nome||A.id)}/200/200`}}),y=r.docs.map(A=>{let N=A.data();return{title:N.titulo||"Evento",imageUrl:`https://picsum.photos/seed/${encodeURIComponent(N.titulo||A.id)}/300/300`,projectUrl:"#",date:N.data||"Data a definir",location:N.descricao||"Comunidade"}}),x=i.docs.map(A=>{let N=A.data();return{name:N.cliente||"Cliente",comment:N.comentario||"\xD3timo atendimento!",rating:N.estrelas||5}});if(s.exists()){let A=s.data();if(A.whatsapp){let N=A.whatsapp.replace(/\D/g,"");this.whatsappLink.set(`https://wa.me/${N}`),this.whatsappNumber.set(A.whatsapp)}if(A.telefone){let N=A.telefone.replace(/\D/g,"");this.telefoneLink.set(`tel:${N}`),this.telefoneNumber.set(A.telefone)}A.info&&this.agendamentoInfo.set(A.info)}if(a.exists()){let A=a.data();A.endereco&&this.localizacaoEndereco.set(A.endereco),A.bairro&&this.localizacaoBairro.set(A.bairro),A.cidade&&this.localizacaoCidade.set(A.cidade),A.referencia&&this.localizacaoReferencia.set(A.referencia),A.googleMapsLink&&this.googleMapsLink.set(A.googleMapsLink)}if(u.exists()){let A=u.data();A.segSex&&this.horariosSegSex.set(A.segSex),A.sabado&&this.horariosSabado.set(A.sabado),A.domingo&&this.horariosDomingo.set(A.domingo)}f.length||g.length||y.length||x.length||p.length?this.items.update(A=>A.map(N=>N.id==="services"&&p.length?z(k({},N),{listItems:p}):N.id==="team"&&f.length?z(k({},N),{teamMembers:f}):N.id==="partnerships"&&g.length?z(k({},N),{partners:g}):N.id==="projects"&&y.length?z(k({},N),{projectGallery:y}):N.id==="feedback"&&x.length?z(k({},N),{testimonials:x}):N)):this.items.update(A=>A.map(N=>N.id==="services"?z(k({},N),{listItems:[]}):N.id==="team"?z(k({},N),{teamMembers:[]}):N.id==="partnerships"?z(k({},N),{partners:[]}):N.id==="projects"?z(k({},N),{projectGallery:[]}):N.id==="feedback"?z(k({},N),{testimonials:[]}):N));let O=l.docs.map(A=>{let N=A.data();return{id:A.id,titulo:N.titulo||"Aviso",conteudo:N.conteudo||"",tipo:N.tipo||"info",data:N.data||new Date().toISOString()}});O.sort((A,N)=>new Date(N.data).getTime()-new Date(A.data).getTime()),this.avisos.set(O)}catch(e){console.error("Erro ao carregar dados do Firebase:",e)}}formatDate(e){return new Date(e).toLocaleDateString("pt-BR")}getAvisosByType(e){return e?this.avisos().filter(t=>t.tipo===e):[]}countAvisosByType(e){return this.getAvisosByType(e).length}generateEmbers(){let e=[];for(let r=0;r<25;r++)e.push({left:Math.random()*100+"%",animationDuration:Math.random()*5+5+"s",animationDelay:Math.random()*5+"s",opacity:Math.random()*.5+.2,size:Math.random()*3+2+"px"});this.embers.set(e)}generateSparks(){let e=[];for(let r=0;r<20;r++)e.push({left:Math.random()*100+"%",animationDuration:Math.random()*3+3+"s",animationDelay:Math.random()*5+"s",opacity:Math.random()*.7+.3,size:Math.random()*2+1+"px"});this.sparks.set(e)}toggleItem(e){this.items.update(t=>t.map(r=>z(k({},r),{isOpen:r.id===e?!r.isOpen:!1}))),e==="avisos"&&this.avisoSelectedType.set(null)}toggleAvisoType(e){this.avisoSelectedType()===e?this.avisoSelectedType.set(null):this.avisoSelectedType.set(e)}toggleReviewForm(){this.showReviewForm.update(e=>!e)}setReviewRating(e){this.newReviewRating.set(e)}async submitReview(){let e=this.newReviewName().trim(),t=this.newReviewMessage().trim(),r=this.newReviewRating();if(!e||!t){alert("Por favor, preencha nome e coment\xE1rio!");return}try{console.log("Salvando feedback:",{name:e,message:t,rating:r});let i=await Po(yt(this.db,"avaliacoes"),{cliente:e,comentario:t,estrelas:r,data:new Date().toLocaleDateString("pt-BR")});console.log("Feedback salvo com ID:",i.id),this.items.update(o=>o.map(s=>s.id==="feedback"&&s.testimonials?z(k({},s),{testimonials:[{name:e,comment:t,rating:r,isNew:!0},...s.testimonials]}):s)),this.newReviewName.set(""),this.newReviewMessage.set(""),this.newReviewRating.set(5),this.showReviewForm.set(!1),alert("Feedback enviado com sucesso!")}catch(i){console.error("Erro ao salvar feedback:",i),alert("Erro ao salvar feedback. Verifique o console.")}}getServicesBy(e,t){return e.filter(r=>r.available===t)}hasServicesBy(e,t){return e.some(r=>r.available===t)}static{this.\u0275fac=function(t){return new(t||n)(ge(Ft))}}static{this.\u0275cmp=bn({type:n,selectors:[["app-root"]],decls:40,vars:4,consts:[[1,"min-h-screen","bg-black","text-[#e0e0e0]","font-sans","flex","flex-col","items-center","py-12","px-4","relative","overflow-x-hidden"],[1,"fixed","inset-0","z-[9999]","bg-black","flex","flex-col","items-center","justify-center","loading-screen"],[1,"fixed","inset-0","pointer-events-none","z-0","overflow-hidden"],[1,"absolute","bottom-0","left-0","w-full","h-64","bg-gradient-to-t","from-brand-fireOrange/15","to-transparent"],[1,"absolute","top-0","left-0","w-full","h-48","bg-gradient-to-b","from-brand-fireOrange/10","to-transparent"],[1,"ember",3,"left","width","height","animation-duration","animation-delay","opacity"],[1,"spark",3,"left","width","height","animation-duration","animation-delay","opacity"],[1,"relative","z-10","w-full","max-w-md","flex","flex-col","flex-grow","neon-gold-border-container","rounded-2xl"],[1,"flex","flex-col","items-center","mb-8","animate-fade-in"],[1,"relative","w-80","mb-8","mt-4"],["ngSrc","https://i.postimg.cc/283QNmDj/Design-sem-nome-removebg-preview.png","priority","","width","1280","height","1119","alt","Isaac Barbearia Logo",1,"relative","z-10","w-full","h-auto","object-contain","transition-all","duration-300"],[1,"w-full","max-w-xs","flex","items-center","gap-4","-mt-6","mb-8","animate-fade-in"],[1,"h-px","flex-grow","bg-gradient-to-r","from-transparent","to-brand-gold/30"],[1,"text-brand-fireOrange","font-serif","text-sm","uppercase","tracking-[0.2em]","animate-shimmer","font-bold",2,"text-shadow","0 0 10px #ff8c00, 0 0 20px #ff8c00, 0 0 30px #ff6400"],[1,"h-px","flex-grow","bg-gradient-to-l","from-transparent","to-brand-gold/30"],[1,"w-full","p-3","bg-black/30","backdrop-blur-md","rounded-2xl","border","border-white/10","shadow-2xl","shadow-black","mb-12","flex","flex-row","items-center","justify-between"],[1,"flex","items-center","gap-4"],["target","_blank","aria-label","WhatsApp",1,"w-14","h-14","flex","items-center","justify-center","rounded-2xl","bg-[#111]","border","border-white/10","text-brand-gold","shadow-lg","hover:text-green-500","hover:border-green-500","hover:scale-110","btn-neon-green",3,"href"],["viewBox","0 0 24 24","fill","currentColor",1,"w-7","h-7"],["d","M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"],["target","_blank","aria-label","Localiza\xE7\xE3o",1,"w-14","h-14","flex","items-center","justify-center","rounded-2xl","bg-[#111]","border","border-white/10","text-brand-gold","shadow-lg","hover:text-blue-500","hover:border-blue-500","hover:scale-110","btn-neon-blue",3,"href"],["fill-rule","evenodd","d","M11.54 22.351l.07.04.028.016a.76.76 0 00.723 0l.028-.015.071-.041a16.975 16.975 0 001.144-.742 19.58 19.58 0 002.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 00-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 002.682 2.282 16.975 16.975 0 001.145.742zM12 13.5a3 3 0 100-6 3 3 0 000 6z","clip-rule","evenodd"],["href","https://www.instagram.com/isaac._barbearia","target","_blank","rel","noopener noreferrer",1,"btn-fire","flex","items-center","justify-center","gap-2","px-5","py-3","rounded-lg","font-bold","text-sm","uppercase","tracking-wider","transition-all","duration-300","transform","active:scale-95"],["viewBox","0 0 24 24","fill","currentColor",1,"w-5","h-5"],["d","M7.8,2H16.2C19.4,2 22,4.6 22,7.8V16.2A5.8,5.8 0 0,1 16.2,22H7.8C4.6,22 2,19.4 2,16.2V7.8A5.8,5.8 0 0,1 7.8,2M7.6,4A3.6,3.6 0 0,0 4,7.6V16.4C4,18.39 5.61,20 7.6,20H16.4A3.6,3.6 0 0,0 20,16.4V7.6C20,5.61 18.39,4 16.4,4H7.6M17.25,5.5A1.25,1.25 0 0,1 18.5,6.75A1.25,1.25 0 0,1 17.25,8A1.25,1.25 0 0,1 16,6.75A1.25,1.25 0 0,1 17.25,5.5M12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9Z"],[1,"w-full","relative","z-20","flex","flex-col","gap-3"],[1,"w-full","relative","transition-all","duration-500","ease-in-out",3,"z-30","z-0","scale-[1","my-2"],[1,"mt-auto","py-8","text-center","opacity-60"],[1,"text-[9px]","text-gray-500","uppercase","tracking-widest"],[1,"text-[8px]","text-gray-600","mt-1"],[1,"absolute","inset-0","bg-gradient-radial","from-brand-fireOrange/20","via-black","to-black","animate-pulse-slow"],[1,"relative","mb-8"],["src","https://i.postimg.cc/283QNmDj/Design-sem-nome-removebg-preview.png","alt","Isaac Barbearia",1,"relative","z-10","w-80","h-auto","animate-fade-in"],[1,"relative","z-10","text-center","mb-8"],[1,"text-brand-gold/80","text-sm","tracking-wider"],[1,"relative","z-10","w-64","h-2","bg-white/10","rounded-full","overflow-hidden","backdrop-blur-sm"],[1,"h-full","bg-gradient-to-r","from-brand-fireOrange","via-yellow-500","to-brand-fireOrange","animate-shimmer","transition-all","duration-300"],[1,"relative","z-10","mt-4","text-brand-fireOrange","font-bold","text-lg"],[1,"absolute","inset-0","overflow-hidden","pointer-events-none"],[1,"loading-ember",3,"left","animation-delay"],[1,"loading-ember"],[1,"ember"],[1,"spark"],[1,"w-full","relative","transition-all","duration-500","ease-in-out"],[1,"w-full","overflow-hidden","rounded-xl","border","transition-all","duration-300","shadow-xl"],[1,"w-full","relative","flex","items-center","justify-between","p-4","group/btn","outline-none",3,"click"],[1,"absolute","inset-0","bg-gradient-to-r","from-brand-fireOrange/10","to-transparent","opacity-0","group-hover/btn:opacity-100","transition-opacity","duration-300"],[1,"flex","items-center","gap-4","text-left","relative","z-10"],[1,"text-brand-gold","transition-all","duration-300"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["fill","none","stroke","currentColor","stroke-width","1.5","viewBox","0 0 24 24",1,"w-6","h-6"],[1,"font-sans","font-medium","text-sm","tracking-wide","transition-colors","duration-300"],[1,"ml-2","bg-brand-fireOrange/20","text-brand-fireOrange","border","border-brand-fireOrange/50","text-[9px]","font-bold","uppercase","tracking-wider","px-2","py-0.5","rounded"],[1,"ml-2","bg-red-500/20","text-red-400","border","border-red-500/50","text-[9px]","font-bold","uppercase","tracking-wider","px-2","py-0.5","rounded"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-500","transition-transform","duration-300","relative","z-10"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],[1,"grid","transition-all","duration-300","ease-in-out"],[1,"overflow-hidden"],[1,"px-6","pb-6","pt-2","border-t","border-brand-fireOrange/20","bg-black/40"],[1,"text-center","text-gray-300","font-light","text-sm","animate-fade-in","space-y-2"],[1,"space-y-3","animate-fade-in"],[1,"space-y-5","animate-fade-in"],[1,"space-y-4","animate-fade-in"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M14.121 14.121L19 19m-7-7l7-7m-7 7l-2.879 2.879M12 12L9.121 9.121m0 5.758a3 3 0 10-4.243 4.243 3 3 0 004.243-4.243zm0-5.758a3 3 0 10-4.243-4.243 3 3 0 004.243 4.243z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Z"],["stroke-linecap","round","stroke-linejoin","round","d","M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M20.25 7.5l-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"],[1,"text-gray-300","font-light","leading-relaxed","text-sm","animate-fade-in","space-y-3"],[1,"flex","flex-col","gap-2","mt-3"],["target","_blank",1,"flex","items-center","gap-2","text-green-400","hover:text-green-300","transition-colors",3,"href"],[1,"flex","items-center","gap-2","text-blue-400","hover:text-blue-300","transition-colors",3,"href"],["d","M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"],[1,"space-y-1"],[1,"font-semibold","text-brand-fireOrange"],[1,"text-xs","text-gray-400"],["target","_blank",1,"inline-flex","items-center","gap-2","text-blue-400","hover:text-blue-300","transition-colors","mt-3",3,"href"],["d","M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"w-4","h-4"],["d","M5 12h14M12 5l7 7-7 7"],[1,"text-gray-300","font-light","leading-relaxed","text-sm","animate-fade-in"],[1,"flex","justify-between","items-center","px-4"],[1,"text-gray-400"],[1,"font-semibold","text-red-400"],[1,"pt-2","mt-2","border-t","border-white/10","text-xs","text-gray-500"],[1,"text-gray-400","text-sm","italic"],[1,"flex","items-center","gap-4","bg-white/5","p-3","rounded-lg","border","border-white/10"],[1,"w-16","h-16","rounded-full","object-cover","border-2","border-brand-gold",3,"src","alt"],[1,"font-bold","text-white","text-sm"],[1,"text-brand-fireOrange","text-xs","font-medium","uppercase","tracking-wider"],[1,"bg-gradient-to-br","from-white/10","to-white/5","p-5","rounded-lg","border","border-brand-fireOrange/30","hover:border-brand-fireOrange/60","hover:shadow-[0_0_20px_rgba(255,140,0,0.2)]","transition-all","duration-300","group"],[1,"font-bold","text-white","text-lg","mb-3","group-hover:text-brand-fireOrange","transition-colors","uppercase","tracking-wide"],[1,"text-gray-300","text-sm","leading-relaxed","mb-4"],[1,"flex","items-center","gap-2","pt-3","border-t","border-white/10"],[1,"text-brand-gold","text-xs"],[1,"text-brand-gold","text-xs","font-medium"],[1,"animate-fade-in"],[1,"grid","grid-cols-3","gap-4","mb-4"],[1,"bg-gradient-to-br","from-white/5","to-white/[0.02]","border","border-white/10","rounded-xl","p-4","flex","flex-col","items-center","text-center","hover:border-brand-fireOrange","hover:shadow-[0_0_20px_rgba(255,140,0,0.3)]","transition-all","duration-500","group/partner","cursor-default"],[1,"flex","flex-col","items-center","justify-center","text-center","pt-2","border-t","border-dashed","border-white/10"],[1,"text-gray-400","text-[10px]","font-medium","uppercase","tracking-widest","mb-2"],["target","_blank",1,"text-brand-fireOrange","hover:text-white","text-xs","font-bold","uppercase","tracking-widest","flex","items-center","gap-2","transition-colors",3,"href"],["viewBox","0 0 24 24","fill","currentColor",1,"w-4","h-4"],[1,"w-16","h-16","rounded-xl","overflow-hidden","mb-3","border-2","border-brand-gold/30","group-hover/partner:border-brand-fireOrange","group-hover/partner:scale-110","transition-all","duration-500","shadow-xl","bg-white/5"],[1,"w-full","h-full","object-cover","group-hover/partner:scale-105","transition-all","duration-500",3,"src","alt"],[1,"text-brand-fireOrange","font-bold","text-xs","uppercase","tracking-wide","group-hover/partner:text-white","transition-colors"],[1,"text-gray-400","text-[10px]","mt-1","leading-tight"],[1,"text-gray-400","text-sm","italic","mb-4"],[1,"space-y-2"],[1,"text-xs","font-bold","text-green-400","uppercase","tracking-widest","px-3","py-1","border-b","border-green-500/30","flex","items-center","gap-2"],[1,"w-2","h-2","rounded-full","bg-green-400"],[1,"flex","justify-between","items-center","border-b","border-white/5","pb-2","hover:border-brand-fireOrange/30","transition-colors"],[1,"text-gray-300","text-sm","font-medium"],[1,"text-[10px]","font-bold","px-2","py-0.5","rounded","uppercase","tracking-wider","min-w-[3.5rem]","text-center","bg-green-500/20","text-green-400","border","border-green-500/30"],[1,"text-sm","font-serif","font-bold","w-12","text-right","text-brand-fireOrange"],[1,"text-xs","font-bold","text-yellow-400","uppercase","tracking-widest","px-3","py-1","border-b","border-yellow-500/30","flex","items-center","gap-2"],[1,"w-2","h-2","rounded-full","bg-yellow-400"],[1,"flex","justify-between","items-center","border-b","border-white/5","pb-2","hover:border-brand-fireOrange/30","transition-colors","opacity-70"],[1,"text-gray-400","text-sm","font-medium"],[1,"text-[10px]","font-bold","px-2","py-0.5","rounded","uppercase","tracking-wider","min-w-[3.5rem]","text-center","bg-yellow-500/20","text-yellow-400","border","border-yellow-500/30"],[1,"text-sm","font-serif","font-bold","w-12","text-right","text-gray-500"],[1,"text-xs","font-bold","text-red-500","uppercase","tracking-widest","px-3","py-1","border-b","border-red-500/30","flex","items-center","gap-2"],[1,"w-2","h-2","rounded-full","bg-red-500"],[1,"flex","justify-between","items-center","border-b","border-white/5","pb-2","hover:border-brand-fireOrange/30","transition-colors","opacity-50"],[1,"text-gray-500","text-sm","font-medium","line-through"],[1,"text-[10px]","font-bold","px-2","py-0.5","rounded","uppercase","tracking-wider","min-w-[3.5rem]","text-center","bg-red-500/10","text-red-500"],[1,"text-sm","font-serif","font-bold","w-12","text-right","text-gray-600"],[1,"bg-white/5","p-3","rounded","border","border-white/5","hover:border-brand-fireOrange/30","transition-colors","relative",3,"border-brand-fireOrange"],[1,"pt-2","text-center"],[1,"bg-white/10","text-white","hover:bg-brand-fireOrange","hover:text-black","border","border-white/20","px-6","py-2","rounded-full","text-xs","uppercase","tracking-widest","font-bold","transition-all","duration-300",3,"click"],[1,"pt-4","mt-2","border-t","border-white/10","animate-slide-down"],[1,"bg-white/5","p-3","rounded","border","border-white/5","hover:border-brand-fireOrange/30","transition-colors","relative"],[1,"absolute","top-0","right-0","bg-brand-fireOrange","text-black","text-[9px]","px-2","py-0.5","font-bold","uppercase","rounded-bl-md"],[1,"flex","justify-between","mb-1"],[1,"text-brand-gold","text-xs","font-bold"],[1,"flex","text-brand-fireOrange","text-[10px]"],[1,"text-gray-400","text-xs","italic"],[1,"text-brand-gold","text-sm","font-bold","mb-3","uppercase","tracking-wider","text-center"],[1,"flex","justify-center","gap-3","mb-4"],[1,"text-2xl","focus:outline-none","transition-transform","hover:scale-125"],[1,"space-y-3"],["type","text","placeholder","Seu Nome",1,"w-full","bg-white/5","border","border-white/10","rounded-md","text-sm","p-3","text-white","placeholder-gray-500","focus:border-brand-fireOrange","focus:ring-1","focus:ring-brand-fireOrange","outline-none","transition-all",3,"ngModelChange","ngModel"],["placeholder","Escreva sua mensagem aqui...","rows","3",1,"w-full","bg-white/5","border","border-white/10","rounded-md","text-sm","p-3","text-white","placeholder-gray-500","focus:border-brand-fireOrange","focus:ring-1","focus:ring-brand-fireOrange","outline-none","transition-all","resize-none",3,"ngModelChange","ngModel"],[1,"w-full","bg-gradient-to-r","from-brand-fireOrange","to-red-700","text-white","font-bold","py-3","rounded-md","text-sm","uppercase","tracking-widest","hover:shadow-[0_0_20px_rgba(255,69,0,0.4)]","active:scale-95","transition-all",3,"click"],[1,"text-2xl","focus:outline-none","transition-transform","hover:scale-125",3,"click"],[1,"flex","flex-col","gap-0"],[1,"w-full","px-4","py-3","text-sm","font-bold","uppercase","tracking-wider","transition-all","duration-300","text-left","rounded-t","flex","items-center","gap-3",3,"click"],[1,"text-2xl","text-blue-400"],[1,"ml-auto","bg-blue-500/30","px-2","py-0.5","rounded","text-xs","font-semibold"],[1,"space-y-3","bg-blue-500/5","p-4","rounded-b"],[1,"mt-2"],[1,"text-2xl","text-yellow-400"],[1,"ml-auto","bg-yellow-500/40","px-2","py-0.5","rounded","text-xs","font-semibold"],[1,"space-y-3","bg-yellow-500/5","p-4","rounded-b"],[1,"text-2xl","text-red-400"],[1,"ml-auto","bg-red-500/40","px-2","py-0.5","rounded","text-xs","font-semibold"],[1,"space-y-3","bg-red-500/5","p-4","rounded-b"],[1,"text-2xl","text-green-400"],[1,"ml-auto","bg-green-500/40","px-2","py-0.5","rounded","text-xs","font-semibold"],[1,"space-y-3","bg-green-500/5","p-4","rounded-b"],[1,"bg-blue-500/10","rounded","p-3","border-l-2","border-blue-400"],[1,"text-blue-300","font-semibold","mb-1"],[1,"text-gray-300","text-sm","mb-2"],[1,"text-gray-500"],[1,"bg-yellow-500/10","rounded","p-3","border-l-2","border-yellow-400"],[1,"text-yellow-300","font-semibold","mb-1"],[1,"bg-red-500/10","rounded","p-3","border-l-2","border-red-400"],[1,"text-red-300","font-semibold","mb-1"],[1,"bg-green-500/10","rounded","p-3","border-l-2","border-green-400"],[1,"text-green-300","font-semibold","mb-1"]],template:function(t,r){t&1&&(I(0,"div",0),ue(1,EB,14,4,"div",1)(2,IB,0,0),I(3,"div",2),oe(4,"div",3)(5,"div",4),rt(6,wB,1,12,"div",5,Nd),rt(8,bB,1,12,"div",6,Nd),w(),I(10,"div",7)(11,"div",8)(12,"div",9),oe(13,"img",10),w(),I(14,"div",11),oe(15,"div",12),I(16,"span",13),P(17,"Desde 2024"),w(),oe(18,"div",14),w(),I(19,"div",15)(20,"div",16)(21,"a",17),$e(),I(22,"svg",18),oe(23,"path",19),w()(),Un(),I(24,"a",20),$e(),I(25,"svg",18),oe(26,"path",21),w()()(),Un(),I(27,"a",22),$e(),I(28,"svg",23),oe(29,"path",24),w(),Un(),I(30,"span"),P(31,"Seguir"),w()()(),I(32,"div",25),rt(33,C4,31,55,"div",26,Du),w()(),I(35,"footer",27)(36,"p",28),P(37),w(),I(38,"p",29),P(39,"vers\xE3o 0.2"),w()()()()),t&2&&(S(),le(r.isLoading()?1:2),S(5),it(r.embers()),S(2),it(r.sparks()),S(13),Le("href",r.whatsappLink(),wn),S(3),Le("href",r.googleMapsLink(),wn),S(9),it(r.items()),S(4),ot("Isaac Barbearia \xA9 ",r.currentYear))},dependencies:[oi,Ss,di,Ts,go,PD],encapsulation:2})}};function Ax(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Rx=Ax,xx=new Tr("auth","Firebase",Ax());var Xh=new hi("@firebase/auth");function D4(n,...e){Xh.logLevel<=fe.WARN&&Xh.warn(`Auth (${mi}): ${n}`,...e)}function Qh(n,...e){Xh.logLevel<=fe.ERROR&&Xh.error(`Auth (${mi}): ${n}`,...e)}function ar(n,...e){throw mI(n,...e)}function ko(n,...e){return mI(n,...e)}function Mx(n,e,t){let r=z(k({},Rx()),{[e]:t});return new Tr("auth","Firebase",r).create(e,{appName:n.name})}function Ci(n){return Mx(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mI(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return xx.create(n,...e)}function J(n,e,...t){if(!n)throw mI(e,...t)}function Lr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Qh(e),new Error(e)}function Di(n,e){n||Lr(e)}function YE(){return typeof self<"u"&&self.location?.href||""}function T4(){return fx()==="http:"||fx()==="https:"}function fx(){return typeof self<"u"&&self.location?.protocol||null}function S4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(T4()||_S()||"connection"in navigator)?navigator.onLine:!0}function A4(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Oo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Di(t>e,"Short delay should be less than long delay!"),this.isMobile=yS()||ES()}get(){return S4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function yI(n,e){Di(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var ep=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var R4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var x4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],M4=new Oo(3e4,6e4);function Lo(n,e){return n.tenantId&&!e.tenantId?z(k({},e),{tenantId:n.tenantId}):e}async function Ti(n,e,t,r,i={}){return Nx(n,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=Jc(k({key:n.config.apiKey},s)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);let l=k({method:e,headers:u},o);return vS()||(l.referrerPolicy="no-referrer"),n.emulatorConfig&&fi(n.emulatorConfig.host)&&(l.credentials="include"),ep.fetch()(await Px(n,n.config.apiHost,t,a),l)})}async function Nx(n,e,t){n._canInitEmulator=!1;let r=k(k({},R4),e);try{let i=new JE(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw Kh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kh(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Kh(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Kh(n,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Mx(n,f,l);ar(n,f)}}catch(i){if(i instanceof en)throw i;ar(n,"network-request-failed",{message:String(i)})}}async function dp(n,e,t,r,i={}){let o=await Ti(n,e,t,r,i);return"mfaPendingCredential"in o&&ar(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function Px(n,e,t,r){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?yI(n.config,i):`${n.config.apiScheme}://${i}`;return x4.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function N4(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var JE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ko(this.auth,"network-request-failed")),M4.get())})}};function Kh(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=ko(n,e,r);return i.customData._tokenResponse=t,i}function hx(n){return n!==void 0&&n.enterprise!==void 0}var ZE=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return N4(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function P4(n,e){return Ti(n,"GET","/v2/recaptchaConfig",Lo(n,e))}async function k4(n,e){return Ti(n,"POST","/v1/accounts:delete",e)}async function tp(n,e){return Ti(n,"POST","/v1/accounts:lookup",e)}function Su(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kx(n,e=!1){let t=Qe(n),r=await t.getIdToken(e),i=vI(r);J(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Su(WE(i.auth_time)),issuedAtTime:Su(WE(i.iat)),expirationTime:Su(WE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function WE(n){return Number(n)*1e3}function vI(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Qh("JWT malformed, contained fewer than 3 sections"),null;try{let i=Of(t);return i?JSON.parse(i):(Qh("Failed to decode base64 JWT payload"),null)}catch(i){return Qh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function px(n){let e=vI(n);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ru(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof en&&O4(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function O4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var XE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var xu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Su(this.lastLoginAt),this.creationTime=Su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function np(n){let e=n.auth,t=await n.getIdToken(),r=await Ru(n,tp(e,{idToken:t}));J(r?.users.length,e,"internal-error");let i=r.users[0];n._notifyReloadListener(i);let o=i.providerUserInfo?.length?Fx(i.providerUserInfo):[],s=F4(n.providerData,o),a=n.isAnonymous,u=!(n.email&&i.passwordHash)&&!s?.length,l=a?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new xu(i.createdAt,i.lastLoginAt),isAnonymous:l};Object.assign(n,f)}async function Ox(n){let e=Qe(n);await np(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function F4(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Fx(n){return n.map(r=>{var i=r,{providerId:e}=i,t=Up(i,["providerId"]);return{providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}})}async function L4(n,e){let t=await Nx(n,{},async()=>{let r=Jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=await Px(n,i,"/v1/token",`key=${o}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&fi(n.emulatorConfig.host)&&(u.credentials="include"),ep.fetch()(s,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function V4(n,e){return Ti(n,"POST","/v2/accounts:revokeToken",Lo(n,e))}var Au=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):px(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){J(e.length!==0,"internal-error");let t=px(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:o}=await L4(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(J(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(J(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Lr("not implemented")}};function wi(n,e){J(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var bi=class n{constructor(o){var s=o,{uid:e,auth:t,stsTokenManager:r}=s,i=Up(s,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new xu(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let t=await Ru(this,this.stsTokenManager.getToken(this.auth,e));return J(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return kx(this,e)}reload(){return Ox(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>k({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(z(k({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await np(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tn(this.auth.app))return Promise.reject(Ci(this.auth));let e=await this.getIdToken();return await Ru(this,k4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return z(k({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>k({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){let r=t.displayName??void 0,i=t.email??void 0,o=t.phoneNumber??void 0,s=t.photoURL??void 0,a=t.tenantId??void 0,u=t._redirectEventId??void 0,l=t.createdAt??void 0,f=t.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:y,providerData:x,stsTokenManager:O}=t;J(p&&O,e,"internal-error");let A=Au.fromJSON(this.name,O);J(typeof p=="string",e,"internal-error"),wi(r,e.name),wi(i,e.name),J(typeof g=="boolean",e,"internal-error"),J(typeof y=="boolean",e,"internal-error"),wi(o,e.name),wi(s,e.name),wi(a,e.name),wi(u,e.name),wi(l,e.name),wi(f,e.name);let N=new n({uid:p,auth:e,email:i,emailVerified:g,displayName:r,isAnonymous:y,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:A,createdAt:l,lastLoginAt:f});return x&&Array.isArray(x)&&(N.providerData=x.map(Z=>k({},Z))),u&&(N._redirectEventId=u),N}static async _fromIdTokenResponse(e,t,r=!1){let i=new Au;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await np(o),o}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];J(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?Fx(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Au;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new xu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var gx=new Map;function Vr(n){Di(n instanceof Function,"Expected a class definition");let e=gx.get(n);return e?(Di(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,gx.set(n,e),e)}var j4=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),eI=j4;function Yh(n,e,t){return`firebase:${n}:${e}:${t}`}var rp=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Yh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Yh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await tp(this.auth,{idToken:e}).catch(()=>{});return t?bi._fromGetAccountInfoResponse(this.auth,t,e):null}return bi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(Vr(eI),e,r);let i=(await Promise.all(t.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||Vr(eI),s=Yh(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let f=await l._get(s);if(f){let p;if(typeof f=="string"){let g=await tp(e,{idToken:f}).catch(()=>{});if(!g)break;p=await bi._fromGetAccountInfoResponse(e,g,f)}else p=bi._fromJSON(e,f);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(t.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new n(o,e,r))}};function mx(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ux(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Lx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Hx(e))return"Blackberry";if($x(e))return"Webos";if(Vx(e))return"Safari";if((e.includes("chrome/")||jx(e))&&!e.includes("edge/"))return"Chrome";if(Bx(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Lx(n=ht()){return/firefox\//i.test(n)}function Vx(n=ht()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jx(n=ht()){return/crios\//i.test(n)}function Ux(n=ht()){return/iemobile/i.test(n)}function Bx(n=ht()){return/android/i.test(n)}function Hx(n=ht()){return/blackberry/i.test(n)}function $x(n=ht()){return/webos/i.test(n)}function _I(n=ht()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function U4(n=ht()){return _I(n)&&!!window.navigator?.standalone}function B4(){return IS()&&document.documentMode===10}function zx(n=ht()){return _I(n)||Bx(n)||$x(n)||Hx(n)||/windows phone/i.test(n)||Ux(n)}function qx(n,e=[]){let t;switch(n){case"Browser":t=mx(ht());break;case"Worker":t=`${mx(ht())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${mi}/${r}`}var tI=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function H4(n,e={}){return Ti(n,"GET","/v2/passwordPolicy",Lo(n,e))}var $4=6,nI=class{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??$4,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var rI=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ip(this),this.idTokenSubscription=new ip(this),this.beforeStateQueue=new tI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Vr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await rp.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await tp(this,{idToken:e}),r=await bi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(tn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}let t=await this.assertedPersistence.getCurrentUser(),r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let o=this.redirectUser?._redirectEventId,s=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!o||o===s)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await np(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=A4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tn(this.app))return Promise.reject(Ci(this));let t=e?Qe(e):null;return t&&J(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tn(this.app)?Promise.reject(Ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tn(this.app)?Promise.reject(Ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await H4(this),t=new nI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await V4(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&Vr(e)||this._popupRedirectResolver;J(t,this,"argument-error"),this.redirectPersistenceManager=await rp.create(this,[Vr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);let r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(tn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&D4(`Error while retrieving App Check token: ${e.error}`),e?.token}};function sa(n){return Qe(n)}var ip=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=DS(t=>this.observer=t)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var fp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function z4(n){fp=n}function Gx(n){return fp.loadJS(n)}function q4(){return fp.recaptchaEnterpriseScript}function G4(){return fp.gapiScript}function Wx(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var iI=class{constructor(){this.enterprise=new oI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},oI=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var W4="recaptcha-enterprise",Kx="NO_RECAPTCHA",sI=class{constructor(e){this.type=W4,this.auth=sa(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{P4(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new ZE(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})})}function i(o,s,a){let u=window.grecaptcha;hx(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(Kx)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iI().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&hx(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=q4();u.length!==0&&(u+=a),Gx(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}};async function Tu(n,e,t,r=!1,i=!1){let o=new sI(n),s;if(i)s=Kx;else try{s=await o.verify(t)}catch{s=await o.verify(t,!0)}let a=k({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function yx(n,e,t,r,i){if(i==="EMAIL_PASSWORD_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=await Tu(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=await Tu(n,e,t,t==="getOobCode");return r(n,s)}else return Promise.reject(o)});else if(i==="PHONE_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){let o=await Tu(n,e,t);return r(n,o).catch(async s=>{if(n._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(s.code==="auth/missing-recaptcha-token"||s.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let a=await Tu(n,e,t,!1,!0);return r(n,a)}return Promise.reject(s)})}else{let o=await Tu(n,e,t,!1,!0);return r(n,o)}else return Promise.reject(i+" provider is not supported.")}function Qx(n,e){let t=Xc(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Tn(o,e??{}))return i;ar(i,"already-initialized")}return t.initialize({options:e})}function K4(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Vr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Yx(n,e,t){let r=sa(n);J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=Jx(e),{host:s,port:a}=Q4(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},f=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){J(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),J(Tn(l,r.config.emulator)&&Tn(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,fi(s)?(Lf(`${o}//${s}${u}`),Vf("Auth",!0)):i||Y4()}function Jx(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Q4(n){let e=Jx(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:vx(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:vx(s)}}}function vx(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Y4(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Mu=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Lr("not implemented")}_getIdTokenResponse(e){return Lr("not implemented")}_linkToIdToken(e,t){return Lr("not implemented")}_getReauthenticationResolver(e){return Lr("not implemented")}};async function J4(n,e){return Ti(n,"POST","/v1/accounts:signUp",e)}async function Z4(n,e){return dp(n,"POST","/v1/accounts:signInWithPassword",Lo(n,e))}async function X4(n,e){return dp(n,"POST","/v1/accounts:signInWithEmailLink",Lo(n,e))}async function e3(n,e){return dp(n,"POST","/v1/accounts:signInWithEmailLink",Lo(n,e))}var Nu=class n extends Mu{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yx(e,t,"signInWithPassword",Z4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return X4(e,{email:this._email,oobCode:this._password});default:ar(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yx(e,r,"signUpPassword",J4,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return e3(e,{idToken:t,email:this._email,oobCode:this._password});default:ar(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function KE(n,e){return dp(n,"POST","/v1/accounts:signInWithIdp",Lo(n,e))}function t3(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function n3(n){let e=As(Rs(n)).link,t=e?As(Rs(e)).deep_link_id:null,r=As(Rs(n)).deep_link_id;return(r?As(Rs(r)).link:null)||r||t||e||n}var op=class n{constructor(e){let t=As(Rs(e)),r=t.apiKey??null,i=t.oobCode??null,o=t3(t.mode??null);J(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){let t=n3(e);try{return new n(t)}catch{return null}}};var Zx=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Nu._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=op.parseLink(r);return J(i,"argument-error"),Nu._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),sp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var aI=class extends sp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Pu=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){let o=await bi._fromIdTokenResponse(e,r,i),s=_x(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);let i=_x(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function _x(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var cI=class n extends en{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function Xx(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?cI._fromErrorAndOperation(n,o,e,r):o})}async function r3(n,e,t=!1){let r=await Ru(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Pu._forOperation(n,"link",r)}async function i3(n,e,t=!1){let{auth:r}=n;if(tn(r.app))return Promise.reject(Ci(r));let i="reauthenticate";try{let o=await Ru(n,Xx(r,i,e,n),t);J(o.idToken,r,"internal-error");let s=vI(o.idToken);J(s,r,"internal-error");let{sub:a}=s;return J(n.uid===a,r,"user-mismatch"),Pu._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&ar(r,"user-mismatch"),o}}async function e1(n,e,t=!1){if(tn(n.app))return Promise.reject(Ci(n));let r="signIn",i=await Xx(n,r,e),o=await Pu._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function t1(n,e){return e1(sa(n),e)}async function o3(n){let e=sa(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function EI(n,e,t){return tn(n.app)?Promise.reject(Ci(n)):t1(Qe(n),Zx.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&o3(n),r})}function n1(n,e,t,r){return Qe(n).onIdTokenChanged(e,t,r)}function r1(n,e,t){return Qe(n).beforeAuthStateChanged(e,t)}function II(n,e,t,r){return Qe(n).onAuthStateChanged(e,t,r)}function wI(n){return Qe(n).signOut()}var ap="__sak";var cp=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ap,"1"),this.storage.removeItem(ap),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var s3=1e3,a3=10,c3=(()=>{class n extends cp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);B4()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,a3):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},s3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){let r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}return n.type="LOCAL",n})(),i1=c3;var u3=(()=>{class n extends cp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),bI=u3;function l3(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var d3=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(async f=>f(r.origin,s)),l=await l3(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function o1(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var uI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=o1("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(f),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function sr(){return window}function f3(n){sr().location.href=n}function s1(){return typeof sr().WorkerGlobalScope<"u"&&typeof sr().importScripts=="function"}async function h3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function p3(){return navigator?.serviceWorker?.controller||null}function g3(){return s1()?self:null}var a1="firebaseLocalStorageDb",m3=1,up="firebaseLocalStorage",c1="fbase_key",Fo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function hp(n,e){return n.transaction([up],e?"readwrite":"readonly").objectStore(up)}function y3(){let n=indexedDB.deleteDatabase(a1);return new Fo(n).toPromise()}function lI(){let n=indexedDB.open(a1,m3);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(up,{keyPath:c1})}catch(i){t(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(up)?e(r):(r.close(),await y3(),e(await lI()))})})}async function Ex(n,e,t){let r=hp(n,!0).put({[c1]:e,value:t});return new Fo(r).toPromise()}async function v3(n,e){let t=hp(n,!1).get(e),r=await new Fo(t).toPromise();return r===void 0?null:r.value}function Ix(n,e){let t=hp(n,!0).delete(e);return new Fo(t).toPromise()}var _3=800,E3=3,I3=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lI(),this.db)}async _withRetries(t){let r=0;for(;;)try{let i=await this._openDb();return await t(i)}catch(i){if(r++>E3)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return s1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=d3._getInstance(g3()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await h3(),!this.activeServiceWorker)return;this.sender=new uI(this.activeServiceWorker);let t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||p3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await lI();return await Ex(t,ap,"1"),await Ix(t,ap),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ex(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){let r=await this._withRetries(i=>v3(i,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ix(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(o=>{let s=hp(o,!1).getAll();return new Fo(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),u1=I3;var Jne=Wx("rcb"),Zne=new Oo(3e4,6e4);function w3(n,e){return e?Vr(e):(J(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var ku=class extends Mu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return KE(e,this._buildIdpRequest())}_linkToIdToken(e,t){return KE(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return KE(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function b3(n){return e1(n.auth,new ku(n),n.bypassAuthState)}function C3(n){let{auth:e,user:t}=n;return J(t,e,"internal-error"),i3(t,new ku(n),n.bypassAuthState)}async function D3(n){let{auth:e,user:t}=n;return J(t,e,"internal-error"),r3(t,new ku(n),n.bypassAuthState)}var dI=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return b3;case"linkViaPopup":case"linkViaRedirect":return D3;case"reauthViaPopup":case"reauthViaRedirect":return C3;default:ar(this.auth,"internal-error")}}resolve(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Xne=new Oo(2e3,1e4);var T3="pendingRedirect",Jh=new Map,fI=class extends dI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Jh.get(this.auth._key());if(!e){try{let r=await S3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Jh.set(this.auth._key(),e)}return this.bypassAuthState||Jh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function S3(n,e){let t=x3(e),r=R3(n);if(!await r._isAvailable())return!1;let i=await r._get(t)==="true";return await r._remove(t),i}function A3(n,e){Jh.set(n._key(),e)}function R3(n){return Vr(n._redirectPersistence)}function x3(n){return Yh(T3,n.config.apiKey,n.name)}async function M3(n,e,t=!1){if(tn(n.app))return Promise.reject(Ci(n));let r=sa(n),i=w3(r,e),s=await new fI(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var N3=600*1e3,hI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!P3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!l1(e)){let r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ko(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=N3&&this.cachedEventUids.clear(),this.cachedEventUids.has(wx(e))}saveEventToCache(e){this.cachedEventUids.add(wx(e)),this.lastProcessedEventTime=Date.now()}};function wx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function l1({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function P3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return l1(n);default:return!1}}async function k3(n,e={}){return Ti(n,"GET","/v1/projects",e)}var O3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,F3=/^https?/;async function L3(n){if(n.config.emulator)return;let{authorizedDomains:e}=await k3(n);for(let t of e)try{if(V3(t))return}catch{}ar(n,"unauthorized-domain")}function V3(n){let e=YE(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!F3.test(t))return!1;if(O3.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var j3=new Oo(3e4,6e4);function bx(){let n=sr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function U3(n){return new Promise((e,t)=>{function r(){bx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bx(),t(ko(n,"network-request-failed"))},timeout:j3.get()})}if(sr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(sr().gapi?.load)r();else{let i=Wx("iframefcb");return sr()[i]=()=>{gapi.load?r():t(ko(n,"network-request-failed"))},Gx(`${G4()}?onload=${i}`).catch(o=>t(o))}}).catch(e=>{throw Zh=null,e})}var Zh=null;function B3(n){return Zh=Zh||U3(n),Zh}var H3=new Oo(5e3,15e3),$3="__/auth/iframe",z3="emulator/auth/iframe",q3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},G3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function W3(n){let e=n.config;J(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?yI(e,z3):`https://${n.config.authDomain}/${$3}`,r={apiKey:e.apiKey,appName:n.name,v:mi},i=G3.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Jc(r).slice(1)}`}async function K3(n){let e=await B3(n),t=sr().gapi;return J(t,n,"internal-error"),e.open({where:document.body,url:W3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:q3,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=ko(n,"network-request-failed"),a=sr().setTimeout(()=>{o(s)},H3.get());function u(){sr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})}))}var Q3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Y3=500,J3=600,Z3="_blank",X3="http://localhost",lp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function eH(n,e,t,r=Y3,i=J3){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=z(k({},Q3),{width:r.toString(),height:i.toString(),top:o,left:s}),l=ht().toLowerCase();t&&(a=jx(l)?Z3:t),Lx(l)&&(e=e||X3,u.scrollbars="yes");let f=Object.entries(u).reduce((g,[y,x])=>`${g}${y}=${x},`,"");if(U4(l)&&a!=="_self")return tH(e||"",a),new lp(null);let p=window.open(e||"",a,f);J(p,n,"popup-blocked");try{p.focus()}catch{}return new lp(p)}function tH(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var nH="__/auth/handler",rH="emulator/auth/handler",iH=encodeURIComponent("fac");async function Cx(n,e,t,r,i,o){J(n.config.authDomain,n,"auth-domain-config-required"),J(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:mi,eventId:i};if(e instanceof sp){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",CS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(o||{}))s[f]=p}if(e instanceof aI){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let f of Object.keys(a))a[f]===void 0&&delete a[f];let u=await n._getAppCheckToken(),l=u?`#${iH}=${encodeURIComponent(u)}`:"";return`${oH(n)}?${Jc(a).slice(1)}${l}`}function oH({config:n}){return n.emulator?yI(n,rH):`https://${n.authDomain}/${nH}`}var QE="webStorageSupport",pI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bI,this._completeRedirectFn=M3,this._overrideRedirectResult=A3}async _openPopup(e,t,r,i){Di(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");let o=await Cx(e,t,r,YE(),i);return eH(e,o,o1())}async _openRedirect(e,t,r,i){await this._originValidation(e);let o=await Cx(e,t,r,YE(),i);return f3(o),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Di(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await K3(e),r=new hI(e);return t.register("authEvent",i=>(J(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(QE,{type:QE},i=>{let o=i?.[0]?.[QE];o!==void 0&&t(!!o),ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=L3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zx()||Vx()||_I()}},d1=pI;var Dx="@firebase/auth",Tx="1.12.0";var gI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function sH(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aH(n){gi(new ln("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;J(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qx(n)},l=new rI(r,i,o,u);return K4(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),gi(new ln("auth-internal",e=>{let t=sa(e.getProvider("auth").getImmediate());return(r=>new gI(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sn(Dx,Tx,sH(n)),Sn(Dx,Tx,"esm2020")}var cH=300,uH=Dv("authIdTokenMaxAge")||cH,Sx=null,lH=n=>async e=>{let t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>uH)return;let i=t?.token;Sx!==i&&(Sx=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function CI(n=Hf()){let e=Xc(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Qx(n,{popupRedirectResolver:d1,persistence:[u1,i1,bI]}),r=Dv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=lH(o.toString());r1(t,s,()=>s(t.currentUser)),n1(t,a=>s(a))}}let i=bv("auth");return i&&Yx(t,`http://${i}`),t}function dH(){return document.getElementsByTagName("head")?.[0]??document}z4({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=ko("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",dH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aH("Browser");var fH={firebase:{apiKey:"AIzaSyDE2tWDNCDrY6O20EWrDt-NkvZmCm_MR10",authDomain:"isaacbarbearia-admin.firebaseapp.com",projectId:"isaacbarbearia-admin",storageBucket:"isaacbarbearia-admin.firebasestorage.app",messagingSenderId:"308982033120",appId:"1:308982033120:web:38b82c1a3ca9e933be7e85"}},aa=class n{constructor(){this.app=eu(fH.firebase);this.auth=CI(this.app);this.firestore=wu(this.app)}login(e,t){return EI(this.auth,e,t)}logout(){return wI(this.auth)}getCurrentUser(){return new Promise((e,t)=>{II(this.auth,r=>{r?e(r):t(null)})})}async addProfissional(e){return Po(yt(this.firestore,"profissionais"),e)}async getProfissionais(){return(await hn(yt(this.firestore,"profissionais"))).docs.map(t=>k({id:t.id},t.data()))}async updateProfissional(e,t){return Gh(Vt(this.firestore,"profissionais",e),t)}async deleteProfissional(e){return Cu(Vt(this.firestore,"profissionais",e))}async addParceiro(e){return Po(yt(this.firestore,"parceiros"),e)}async getParceiros(){return(await hn(yt(this.firestore,"parceiros"))).docs.map(t=>k({id:t.id},t.data()))}async updateParceiro(e,t){return Gh(Vt(this.firestore,"parceiros",e),t)}async deleteParceiro(e){return Cu(Vt(this.firestore,"parceiros",e))}async addParticipacao(e){return Po(yt(this.firestore,"participacoes"),e)}async getParticipacoes(){return(await hn(yt(this.firestore,"participacoes"))).docs.map(t=>k({id:t.id},t.data()))}async updateParticipacao(e,t){return Gh(Vt(this.firestore,"participacoes",e),t)}async deleteParticipacao(e){return Cu(Vt(this.firestore,"participacoes",e))}async addAvaliacao(e){return Po(yt(this.firestore,"avaliacoes"),e)}async getAvaliacoes(){return(await hn(yt(this.firestore,"avaliacoes"))).docs.map(t=>k({id:t.id},t.data()))}async deleteAvaliacao(e){return Cu(Vt(this.firestore,"avaliacoes",e))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}};function hH(n,e){if(n&1&&(I(0,"p",7),P(1),w()),n&2){let t=U();S(),Y(t.erro)}}var pp=class n{constructor(e,t){this.firebaseService=e;this.router=t;this.email="";this.password="";this.erro=""}async login(){try{await this.firebaseService.login(this.email,this.password),this.router.navigate(["/admin"])}catch(e){this.erro="Email ou senha incorretos!",console.error("Erro de login:",e)}}static{this.\u0275fac=function(t){return new(t||n)(ge(aa),ge(ui))}}static{this.\u0275cmp=bn({type:n,selectors:[["app-login"]],decls:12,vars:3,consts:[[1,"login-container"],[1,"login-box"],[3,"ngSubmit"],["name","email","type","email","placeholder","Email","required","",3,"ngModelChange","ngModel"],["name","password","type","password","placeholder","Senha","required","",3,"ngModelChange","ngModel"],["type","submit"],["class","error",4,"ngIf"],[1,"error"]],template:function(t,r){t&1&&(I(0,"div",0)(1,"div",1)(2,"h1"),P(3,"Admin Login"),w(),I(4,"p"),P(5,"Isaac Barbearia"),w(),I(6,"form",2),Re("ngSubmit",function(){return r.login()}),I(7,"input",3),dt("ngModelChange",function(o){return Ct(r.email,o)||(r.email=o),o}),w(),I(8,"input",4),dt("ngModelChange",function(o){return Ct(r.password,o)||(r.password=o),o}),w(),I(9,"button",5),P(10,"Entrar"),w()(),Wn(11,hH,2,1,"p",6),w()()),t&2&&(S(7),lt("ngModel",r.email),S(),lt("ngModel",r.password),S(3),Le("ngIf",r.erro))},dependencies:[oi,vc,Ss,Pf,di,Ts,Mf,Kc,go,Wc],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);font-family:Arial,sans-serif}.login-box[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:8px;box-shadow:0 10px 25px #0003;width:100%;max-width:400px}h1[_ngcontent-%COMP%]{color:#333;text-align:center;margin:0 0 5px;font-size:28px}p[_ngcontent-%COMP%]{text-align:center;color:#999;margin:0 0 30px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}input[_ngcontent-%COMP%]{padding:12px;border:1px solid #ddd;border-radius:4px;font-size:14px;transition:border-color .3s}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 5px #667eea4d}button[_ngcontent-%COMP%]{padding:12px;background:#667eea;color:#fff;border:none;border-radius:4px;font-size:16px;cursor:pointer;transition:background .3s;font-weight:700}button[_ngcontent-%COMP%]:hover{background:#764ba2}.error[_ngcontent-%COMP%]{color:#e74c3c;text-align:center;margin-top:10px;font-size:14px}"]})}};function pH(n,e){if(n&1){let t=Lt();I(0,"tr")(1,"td"),P(2),w(),I(3,"td"),P(4),w(),I(5,"td"),P(6),w(),I(7,"td")(8,"button",12),Re("click",function(){let i=Te(t).$implicit,o=U(2);return Se(o.deletarProfissional(i.id))}),P(9,"Deletar"),w()()()}if(n&2){let t=e.$implicit;S(2),Y(t.nome),S(2),Y(t.especialidade),S(2),Y(t.telefone)}}function gH(n,e){if(n&1){let t=Lt();I(0,"div",5)(1,"h2"),P(2,"Gerenciar Profissionais"),w(),I(3,"form",6),Re("ngSubmit",function(){Te(t);let i=U();return Se(i.adicionarProfissional())}),I(4,"input",7),dt("ngModelChange",function(i){Te(t);let o=U();return Ct(o.novoProfissional.nome,i)||(o.novoProfissional.nome=i),Se(i)}),w(),I(5,"input",8),dt("ngModelChange",function(i){Te(t);let o=U();return Ct(o.novoProfissional.especialidade,i)||(o.novoProfissional.especialidade=i),Se(i)}),w(),I(6,"input",9),dt("ngModelChange",function(i){Te(t);let o=U();return Ct(o.novoProfissional.telefone,i)||(o.novoProfissional.telefone=i),Se(i)}),w(),I(7,"button",10),P(8,"Adicionar Profissional"),w()(),I(9,"table")(10,"thead")(11,"tr")(12,"th"),P(13,"Nome"),w(),I(14,"th"),P(15,"Especialidade"),w(),I(16,"th"),P(17,"Telefone"),w(),I(18,"th"),P(19,"A\xE7\xF5es"),w()()(),I(20,"tbody"),Wn(21,pH,10,3,"tr",11),w()()()}if(n&2){let t=U();S(4),lt("ngModel",t.novoProfissional.nome),S(),lt("ngModel",t.novoProfissional.especialidade),S(),lt("ngModel",t.novoProfissional.telefone),S(15),Le("ngForOf",t.profissionais)}}function mH(n,e){if(n&1){let t=Lt();I(0,"tr")(1,"td"),P(2),w(),I(3,"td"),P(4),w(),I(5,"td"),P(6),w(),I(7,"td")(8,"button",12),Re("click",function(){let i=Te(t).$implicit,o=U(2);return Se(o.deletarParceiro(i.id))}),P(9,"Deletar"),w()()()}if(n&2){let t=e.$implicit;S(2),Y(t.nome),S(2),Y(t.descricao),S(2),ot("",t.desconto,"%")}}function yH(n,e){if(n&1){let t=Lt();I(0,"div",5)(1,"h2"),P(2,"Gerenciar Parceiros e Conv\xEAnios"),w(),I(3,"form",6),Re("ngSubmit",function(){Te(t);let i=U();return Se(i.adicionarParceiro())}),I(4,"input",13),dt("ngModelChange",function(i){Te(t);let o=U();return Ct(o.novoParceiro.nome,i)||(o.novoParceiro.nome=i),Se(i)}),w(),I(5,"input",14),dt("ngModelChange",function(i){Te(t);let o=U();return Ct(o.novoParceiro.descricao,i)||(o.novoParceiro.descricao=i),Se(i)}),w(),I(6,"input",15),dt("ngModelChange",function(i){Te(t);let o=U();return Ct(o.novoParceiro.desconto,i)||(o.novoParceiro.desconto=i),Se(i)}),w(),I(7,"button",10),P(8,"Adicionar Parceiro"),w()(),I(9,"table")(10,"thead")(11,"tr")(12,"th"),P(13,"Nome"),w(),I(14,"th"),P(15,"Descri\xE7\xE3o"),w(),I(16,"th"),P(17,"Desconto"),w(),I(18,"th"),P(19,"A\xE7\xF5es"),w()()(),I(20,"tbody"),Wn(21,mH,10,3,"tr",11),w()()()}if(n&2){let t=U();S(4),lt("ngModel",t.novoParceiro.nome),S(),lt("ngModel",t.novoParceiro.descricao),S(),lt("ngModel",t.novoParceiro.desconto),S(15),Le("ngForOf",t.parceiros)}}function vH(n,e){if(n&1){let t=Lt();I(0,"div",20)(1,"h3"),P(2),w(),I(3,"p"),P(4),w(),I(5,"p")(6,"strong"),P(7,"Data:"),w(),P(8),w(),I(9,"button",12),Re("click",function(){let i=Te(t).$implicit,o=U(2);return Se(o.deletarParticipacao(i.id))}),P(10,"Deletar"),w()()}if(n&2){let t=e.$implicit;S(2),Y(t.titulo),S(2),Y(t.descricao),S(4),ot(" ",t.data)}}function _H(n,e){if(n&1){let t=Lt();I(0,"div",5)(1,"h2"),P(2,"Participa\xE7\xE3o Comunit\xE1ria"),w(),I(3,"form",6),Re("ngSubmit",function(){Te(t);let i=U();return Se(i.adicionarParticipacao())}),I(4,"input",16),dt("ngModelChange",function(i){Te(t);let o=U();return Ct(o.novaParticipacao.titulo,i)||(o.novaParticipacao.titulo=i),Se(i)}),w(),I(5,"textarea",14),dt("ngModelChange",function(i){Te(t);let o=U();return Ct(o.novaParticipacao.descricao,i)||(o.novaParticipacao.descricao=i),Se(i)}),w(),I(6,"input",17),dt("ngModelChange",function(i){Te(t);let o=U();return Ct(o.novaParticipacao.data,i)||(o.novaParticipacao.data=i),Se(i)}),w(),I(7,"button",10),P(8,"Adicionar Evento"),w()(),I(9,"div",18),Wn(10,vH,11,3,"div",19),w()()}if(n&2){let t=U();S(4),lt("ngModel",t.novaParticipacao.titulo),S(),lt("ngModel",t.novaParticipacao.descricao),S(),lt("ngModel",t.novaParticipacao.data),S(4),Le("ngForOf",t.participacoes)}}function EH(n,e){if(n&1){let t=Lt();I(0,"div",22)(1,"h3"),P(2),w(),I(3,"p")(4,"strong"),P(5,"Estrelas:"),w(),P(6),w(),I(7,"p"),P(8),w(),I(9,"p")(10,"small"),P(11),w()(),I(12,"button",12),Re("click",function(){let i=Te(t).$implicit,o=U(2);return Se(o.deletarAvaliacao(i.id))}),P(13,"Deletar"),w()()}if(n&2){let t=e.$implicit;S(2),Y(t.cliente),S(4),ot(" ",t.estrelas,"/5"),S(2),Y(t.comentario),S(3),Y(t.data)}}function IH(n,e){if(n&1&&(I(0,"div",5)(1,"h2"),P(2,"Avalia\xE7\xF5es dos Clientes"),w(),I(3,"div",18),Wn(4,EH,14,4,"div",21),w()()),n&2){let t=U();S(4),Le("ngForOf",t.avaliacoes)}}var gp=class n{constructor(e,t){this.firebaseService=e;this.router=t;this.tabAtual="profissionais";this.profissionais=[];this.parceiros=[];this.participacoes=[];this.avaliacoes=[];this.novoProfissional={nome:"",especialidade:"",telefone:""};this.novoParceiro={nome:"",descricao:"",desconto:""};this.novaParticipacao={titulo:"",descricao:"",data:""}}ngOnInit(){this.carregarDados()}async carregarDados(){try{this.profissionais=await this.firebaseService.getProfissionais(),this.parceiros=await this.firebaseService.getParceiros(),this.participacoes=await this.firebaseService.getParticipacoes(),this.avaliacoes=await this.firebaseService.getAvaliacoes()}catch(e){console.error("Erro ao carregar dados:",e)}}async adicionarProfissional(){try{await this.firebaseService.addProfissional(this.novoProfissional),this.novoProfissional={nome:"",especialidade:"",telefone:""},this.carregarDados()}catch(e){console.error("Erro ao adicionar profissional:",e)}}async deletarProfissional(e){try{await this.firebaseService.deleteProfissional(e),this.carregarDados()}catch(t){console.error("Erro ao deletar profissional:",t)}}async adicionarParceiro(){try{await this.firebaseService.addParceiro(this.novoParceiro),this.novoParceiro={nome:"",descricao:"",desconto:""},this.carregarDados()}catch(e){console.error("Erro ao adicionar parceiro:",e)}}async deletarParceiro(e){try{await this.firebaseService.deleteParceiro(e),this.carregarDados()}catch(t){console.error("Erro ao deletar parceiro:",t)}}async adicionarParticipacao(){try{await this.firebaseService.addParticipacao(this.novaParticipacao),this.novaParticipacao={titulo:"",descricao:"",data:""},this.carregarDados()}catch(e){console.error("Erro ao adicionar participa\xE7\xE3o:",e)}}async deletarParticipacao(e){try{await this.firebaseService.deleteParticipacao(e),this.carregarDados()}catch(t){console.error("Erro ao deletar participa\xE7\xE3o:",t)}}async deletarAvaliacao(e){try{await this.firebaseService.deleteAvaliacao(e),this.carregarDados()}catch(t){console.error("Erro ao deletar feedback:",t)}}async logout(){try{await this.firebaseService.logout(),this.router.navigate(["/"])}catch(e){console.error("Erro ao fazer logout:",e)}}static{this.\u0275fac=function(t){return new(t||n)(ge(aa),ge(ui))}}static{this.\u0275cmp=bn({type:n,selectors:[["app-admin"]],decls:18,vars:12,consts:[[1,"admin-container"],[1,"tabs"],[3,"click"],[1,"btn-logout",3,"click"],["class","tab-content",4,"ngIf"],[1,"tab-content"],[3,"ngSubmit"],["name","nome","placeholder","Nome","required","",3,"ngModelChange","ngModel"],["name","especialidade","placeholder","Especialidade","required","",3,"ngModelChange","ngModel"],["name","telefone","placeholder","Telefone",3,"ngModelChange","ngModel"],["type","submit"],[4,"ngFor","ngForOf"],[1,"btn-delete",3,"click"],["name","nome","placeholder","Nome do Parceiro","required","",3,"ngModelChange","ngModel"],["name","descricao","placeholder","Descri\xE7\xE3o",3,"ngModelChange","ngModel"],["name","desconto","placeholder","Desconto (%)",3,"ngModelChange","ngModel"],["name","titulo","placeholder","T\xEDtulo do Evento","required","",3,"ngModelChange","ngModel"],["name","data","type","date","required","",3,"ngModelChange","ngModel"],[1,"cards"],["class","card",4,"ngFor","ngForOf"],[1,"card"],["class","card-avaliacao",4,"ngFor","ngForOf"],[1,"card-avaliacao"]],template:function(t,r){t&1&&(I(0,"div",0)(1,"h1"),P(2,"Painel Admin - Isaac Barbearia"),w(),I(3,"div",1)(4,"button",2),Re("click",function(){return r.tabAtual="profissionais"}),P(5," Profissionais "),w(),I(6,"button",2),Re("click",function(){return r.tabAtual="parceiros"}),P(7," Parceiros "),w(),I(8,"button",2),Re("click",function(){return r.tabAtual="participacoes"}),P(9," Participa\xE7\xE3o "),w(),I(10,"button",2),Re("click",function(){return r.tabAtual="avaliacoes"}),P(11," Avalia\xE7\xF5es "),w(),I(12,"button",3),Re("click",function(){return r.logout()}),P(13,"Sair"),w()(),Wn(14,gH,22,4,"div",4)(15,yH,22,4,"div",4)(16,_H,11,4,"div",4)(17,IH,5,1,"div",4),w()),t&2&&(S(4),Ve("active",r.tabAtual==="profissionais"),S(2),Ve("active",r.tabAtual==="parceiros"),S(2),Ve("active",r.tabAtual==="participacoes"),S(2),Ve("active",r.tabAtual==="avaliacoes"),S(4),Le("ngIf",r.tabAtual==="profissionais"),S(),Le("ngIf",r.tabAtual==="parceiros"),S(),Le("ngIf",r.tabAtual==="participacoes"),S(),Le("ngIf",r.tabAtual==="avaliacoes"))},dependencies:[oi,Hd,vc,Ss,Pf,di,Ts,Mf,Kc,go,Wc],styles:[".admin-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;font-family:Arial,sans-serif}h1[_ngcontent-%COMP%]{color:#333;text-align:center;margin-bottom:30px}.tabs[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:30px;border-bottom:2px solid #ddd}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 20px;background:#f0f0f0;border:none;cursor:pointer;font-size:16px;border-radius:4px 4px 0 0;transition:all .3s}.tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#333;color:#fff}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#555;color:#fff}.btn-logout[_ngcontent-%COMP%]{margin-left:auto;background:#e74c3c!important}.btn-logout[_ngcontent-%COMP%]:hover{background:#c0392b!important}.tab-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}h2[_ngcontent-%COMP%]{color:#333;margin-bottom:20px}form[_ngcontent-%COMP%]{background:#f9f9f9;padding:20px;border-radius:8px;margin-bottom:30px;display:flex;flex-direction:column;gap:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:10px;border:1px solid #ddd;border-radius:4px;font-size:14px;font-family:Arial,sans-serif}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}button[type=submit][_ngcontent-%COMP%]{padding:12px 20px;background:#27ae60;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:16px;transition:background .3s}button[type=submit][_ngcontent-%COMP%]:hover{background:#229954}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px;background:#fff;box-shadow:0 2px 4px #0000001a}thead[_ngcontent-%COMP%]{background:#333;color:#fff}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #ddd}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f5f5f5}.btn-delete[_ngcontent-%COMP%]{padding:6px 12px;background:#e74c3c;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background .3s}.btn-delete[_ngcontent-%COMP%]:hover{background:#c0392b}.cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px;margin-top:20px}.card[_ngcontent-%COMP%], .card-avaliacao[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 8px #0000001a;transition:transform .3s,box-shadow .3s}.card[_ngcontent-%COMP%]:hover, .card-avaliacao[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 4px 12px #00000026}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .card-avaliacao[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;color:#333}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .card-avaliacao[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;color:#666}.card-avaliacao[_ngcontent-%COMP%]{border-left:4px solid #f39c12}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-top:10px}"]})}};var wH=[{path:"",component:Wh},{path:"admin/login",component:pp},{path:"admin",component:gp},{path:"**",redirectTo:""}];Uy(wf,{providers:[Iy(),dv(wH)]}).catch(n=>console.error(n));
