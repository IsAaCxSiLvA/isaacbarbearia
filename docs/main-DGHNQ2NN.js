var YM=Object.defineProperty,JM=Object.defineProperties;var ZM=Object.getOwnPropertyDescriptors;var Yu=Object.getOwnPropertySymbols;var Pw=Object.prototype.hasOwnProperty,kw=Object.prototype.propertyIsEnumerable;var Nw=(n,e,t)=>e in n?YM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,P=(n,e)=>{for(var t in e||={})Pw.call(e,t)&&Nw(n,t,e[t]);if(Yu)for(var t of Yu(e))kw.call(e,t)&&Nw(n,t,e[t]);return n},z=(n,e)=>JM(n,ZM(e));var Up=(n,e)=>{var t={};for(var r in n)Pw.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Yu)for(var r of Yu(n))e.indexOf(r)<0&&kw.call(n,r)&&(t[r]=n[r]);return t};var Dt=null,Ju=!1,zp=1,XM=null,kt=Symbol("SIGNAL");function Q(n){let e=Dt;return Dt=n,e}function Xu(){return Dt}var Ca={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Da(n){if(Ju)throw new Error("");if(Dt===null)return;Dt.consumerOnSignalRead(n);let e=Dt.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=Dt.recomputing;if(r&&(t=e!==void 0?e.nextProducer:Dt.producers,t!==void 0&&t.producer===n)){Dt.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===Dt&&(!r||t1(i,Dt)))return;let o=Bo(Dt),s={producer:n,consumer:Dt,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};Dt.producersTail=s,e!==void 0?e.nextProducer=s:Dt.producers=s,o&&Vw(n,s)}function Ow(){zp++}function qp(n){if(!(Bo(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===zp)){if(!n.producerMustRecompute(n)&&!tl(n)){$p(n);return}n.producerRecomputeValue(n),$p(n)}}function Gp(n){if(n.consumers===void 0)return;let e=Ju;Ju=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||e1(r)}}finally{Ju=e}}function Wp(){return Dt?.consumerAllowSignalWrites!==!1}function e1(n){n.dirty=!0,Gp(n),n.consumerMarkedDirty?.(n)}function $p(n){n.dirty=!1,n.lastCleanEpoch=zp}function Ta(n){return n&&Fw(n),Q(n)}function Fw(n){n.producersTail=void 0,n.recomputing=!0}function el(n,e){Q(e),n&&Lw(n)}function Lw(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(Bo(n))do t=Kp(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function tl(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(qp(t),r!==t.version))return!0}return!1}function Sa(n){if(Bo(n)){let e=n.producers;for(;e!==void 0;)e=Kp(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function Vw(n,e){let t=n.consumersTail,r=Bo(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)Vw(i.producer,i)}function Kp(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Bo(e)){let o=e.producers;for(;o!==void 0;)o=Kp(o)}return t}function Bo(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Qp(n){XM?.(n)}function t1(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Yp(n,e){return Object.is(n,e)}function nl(n,e){let t=Object.create(n1);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(qp(t),Da(t),t.value===Zu)throw t.error;return t.value};return r[kt]=t,Qp(t),r}var Bp=Symbol("UNSET"),Hp=Symbol("COMPUTING"),Zu=Symbol("ERRORED"),n1=z(P({},Ca),{value:Bp,dirty:!0,error:null,equal:Yp,kind:"computed",producerMustRecompute(n){return n.value===Bp||n.value===Hp},producerRecomputeValue(n){if(n.value===Hp)throw new Error("");let e=n.value;n.value=Hp;let t=Ta(n),r,i=!1;try{r=n.computation(),Q(null),i=e!==Bp&&e!==Zu&&r!==Zu&&n.equal(e,r)}catch(o){r=Zu,n.error=o}finally{el(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function r1(){throw new Error}var jw=r1;function Uw(n){jw(n)}function Jp(n){jw=n}var i1=null;function Zp(n,e){let t=Object.create(rl);t.value=n,e!==void 0&&(t.equal=e);let r=()=>Bw(t);return r[kt]=t,Qp(t),[r,s=>Aa(t,s),s=>Hw(t,s)]}function Bw(n){return Da(n),n.value}function Aa(n,e){Wp()||Uw(n),n.equal(n.value,e)||(n.value=e,o1(n))}function Hw(n,e){Wp()||Uw(n),Aa(n,e(n.value))}var rl=z(P({},Ca),{equal:Yp,value:void 0,kind:"signal"});function o1(n){n.version++,Ow(),Gp(n),i1?.(n)}function Xp(n){let e=Q(null);try{return n()}finally{Q(e)}}function ne(n){return typeof n=="function"}function Ho(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var il=Ho(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ra(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var yt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ne(r))try{r()}catch(o){e=o instanceof il?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{$w(o)}catch(s){e=e??[],s instanceof il?e=[...e,...s.errors]:e.push(s)}}if(e)throw new il(e)}}add(e){var t;if(e&&e!==this)if(this.closed)$w(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ra(t,e)}remove(e){let{_finalizers:t}=this;t&&Ra(t,e),e instanceof n&&e._removeParent(this)}};yt.EMPTY=(()=>{let n=new yt;return n.closed=!0,n})();var eg=yt.EMPTY;function ol(n){return n instanceof yt||n&&"closed"in n&&ne(n.remove)&&ne(n.add)&&ne(n.unsubscribe)}function $w(n){ne(n)?n():n.unsubscribe()}var mn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var $o={setTimeout(n,e,...t){let{delegate:r}=$o;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=$o;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function sl(n){$o.setTimeout(()=>{let{onUnhandledError:e}=mn;if(e)e(n);else throw n})}function xa(){}var zw=tg("C",void 0,void 0);function qw(n){return tg("E",void 0,n)}function Gw(n){return tg("N",n,void 0)}function tg(n,e,t){return{kind:n,value:e,error:t}}var Pi=null;function zo(n){if(mn.useDeprecatedSynchronousErrorHandling){let e=!Pi;if(e&&(Pi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Pi;if(Pi=null,t)throw r}}else n()}function Ww(n){mn.useDeprecatedSynchronousErrorHandling&&Pi&&(Pi.errorThrown=!0,Pi.error=n)}var ki=class extends yt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ol(e)&&e.add(this)):this.destination=c1}static create(e,t,r){return new qo(e,t,r)}next(e){this.isStopped?rg(Gw(e),this):this._next(e)}error(e){this.isStopped?rg(qw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?rg(zw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},s1=Function.prototype.bind;function ng(n,e){return s1.call(n,e)}var ig=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){al(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){al(r)}else al(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){al(t)}}},qo=class extends ki{constructor(e,t,r){super();let i;if(ne(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&mn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ng(e.next,o),error:e.error&&ng(e.error,o),complete:e.complete&&ng(e.complete,o)}):i=e}this.destination=new ig(i)}};function al(n){mn.useDeprecatedSynchronousErrorHandling?Ww(n):sl(n)}function a1(n){throw n}function rg(n,e){let{onStoppedNotification:t}=mn;t&&$o.setTimeout(()=>t(n,e))}var c1={closed:!0,next:xa,error:a1,complete:xa};var Go=typeof Symbol=="function"&&Symbol.observable||"@@observable";function yn(n){return n}function og(...n){return sg(n)}function sg(n){return n.length===0?yn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var _e=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=l1(t)?t:new qo(t,r,i);return zo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Kw(r),new r((i,o)=>{let s=new qo({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Go](){return this}pipe(...t){return sg(t)(this)}toPromise(t){return t=Kw(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Kw(n){var e;return(e=n??mn.Promise)!==null&&e!==void 0?e:Promise}function u1(n){return n&&ne(n.next)&&ne(n.error)&&ne(n.complete)}function l1(n){return n&&n instanceof ki||u1(n)&&ol(n)}function d1(n){return ne(n?.lift)}function be(n){return e=>{if(d1(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ce(n,e,t,r,i){return new ag(n,e,t,r,i)}var ag=class extends ki{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var Qw=Ho(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ot=(()=>{class n extends _e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new cl(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Qw}next(t){zo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){zo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){zo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?eg:(this.currentObservers=null,o.push(t),new yt(()=>{this.currentObservers=null,Ra(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new _e;return t.source=this,t}}return n.create=(e,t)=>new cl(e,t),n})(),cl=class extends ot{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:eg}};var vt=class extends ot{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var _t=new _e(n=>n.complete());function Yw(n){return n&&ne(n.schedule)}function Jw(n){return n[n.length-1]}function ul(n){return ne(Jw(n))?n.pop():void 0}function Wr(n){return Yw(Jw(n))?n.pop():void 0}function Xw(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function Zw(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Oi(n){return this instanceof Oi?(this.v=n,this):new Oi(n)}function e0(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(R){return Promise.resolve(R).then(y,p)}}function a(y,R){r[y]&&(i[y]=function(O){return new Promise(function(S,N){o.push([y,O,S,N])>1||u(y,O)})},R&&(i[y]=R(i[y])))}function u(y,R){try{l(r[y](R))}catch(O){g(o[0][3],O)}}function l(y){y.value instanceof Oi?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,R){y(R),o.shift(),o.length&&u(o[0][0],o[0][1])}}function t0(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Zw=="function"?Zw(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var ll=n=>n&&typeof n.length=="number"&&typeof n!="function";function dl(n){return ne(n?.then)}function hl(n){return ne(n[Go])}function fl(n){return Symbol.asyncIterator&&ne(n?.[Symbol.asyncIterator])}function pl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function h1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var gl=h1();function ml(n){return ne(n?.[gl])}function yl(n){return e0(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Oi(t.read());if(i)return yield Oi(void 0);yield yield Oi(r)}}finally{t.releaseLock()}})}function vl(n){return ne(n?.getReader)}function Ge(n){if(n instanceof _e)return n;if(n!=null){if(hl(n))return f1(n);if(ll(n))return p1(n);if(dl(n))return g1(n);if(fl(n))return n0(n);if(ml(n))return m1(n);if(vl(n))return y1(n)}throw pl(n)}function f1(n){return new _e(e=>{let t=n[Go]();if(ne(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function p1(n){return new _e(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function g1(n){return new _e(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,sl)})}function m1(n){return new _e(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function n0(n){return new _e(e=>{v1(n,e).catch(t=>e.error(t))})}function y1(n){return n0(yl(n))}function v1(n,e){var t,r,i,o;return Xw(this,void 0,void 0,function*(){try{for(t=t0(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Ut(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function _l(n,e=0){return be((t,r)=>{t.subscribe(Ce(r,i=>Ut(r,n,()=>r.next(i),e),()=>Ut(r,n,()=>r.complete(),e),i=>Ut(r,n,()=>r.error(i),e)))})}function El(n,e=0){return be((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function r0(n,e){return Ge(n).pipe(El(e),_l(e))}function i0(n,e){return Ge(n).pipe(El(e),_l(e))}function o0(n,e){return new _e(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function s0(n,e){return new _e(t=>{let r;return Ut(t,e,()=>{r=n[gl](),Ut(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ne(r?.return)&&r.return()})}function Il(n,e){if(!n)throw new Error("Iterable cannot be null");return new _e(t=>{Ut(t,e,()=>{let r=n[Symbol.asyncIterator]();Ut(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function a0(n,e){return Il(yl(n),e)}function c0(n,e){if(n!=null){if(hl(n))return r0(n,e);if(ll(n))return o0(n,e);if(dl(n))return i0(n,e);if(fl(n))return Il(n,e);if(ml(n))return s0(n,e);if(vl(n))return a0(n,e)}throw pl(n)}function We(n,e){return e?c0(n,e):Ge(n)}function ye(...n){let e=Wr(n);return We(n,e)}function cg(n,e){let t=ne(n)?n:()=>n,r=i=>i.error(t());return new _e(e?i=>e.schedule(r,0,i):r)}function wl(n){return!!n&&(n instanceof _e||ne(n.lift)&&ne(n.subscribe))}var Fi=Ho(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Oe(n,e){return be((t,r)=>{let i=0;t.subscribe(Ce(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:_1}=Array;function E1(n,e){return _1(e)?n(...e):n(e)}function bl(n){return Oe(e=>E1(n,e))}var{isArray:I1}=Array,{getPrototypeOf:w1,prototype:b1,keys:C1}=Object;function Cl(n){if(n.length===1){let e=n[0];if(I1(e))return{args:e,keys:null};if(D1(e)){let t=C1(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function D1(n){return n&&typeof n=="object"&&w1(n)===b1}function Dl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function ug(...n){let e=Wr(n),t=ul(n),{args:r,keys:i}=Cl(n);if(r.length===0)return We([],e);let o=new _e(T1(r,e,i?s=>Dl(i,s):yn));return t?o.pipe(bl(t)):o}function T1(n,e,t=yn){return r=>{u0(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)u0(e,()=>{let l=We(n[u],e),h=!1;l.subscribe(Ce(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function u0(n,e,t){n?Ut(t,n,e):e()}function l0(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=O=>l<r?R(O):u.push(O),R=O=>{o&&e.next(O),l++;let S=!1;Ge(t(O,h++)).subscribe(Ce(e,N=>{i?.(N),o?y(N):e.next(N)},()=>{S=!0},void 0,()=>{if(S)try{for(l--;u.length&&l<r;){let N=u.shift();s?Ut(e,s,()=>R(N)):R(N)}g()}catch(N){e.error(N)}}))};return n.subscribe(Ce(e,y,()=>{p=!0,g()})),()=>{a?.()}}function Ot(n,e,t=1/0){return ne(e)?Ot((r,i)=>Oe((o,s)=>e(r,o,i,s))(Ge(n(r,i))),t):(typeof e=="number"&&(t=e),be((r,i)=>l0(r,i,n,t)))}function d0(n=1/0){return Ot(yn,n)}function h0(){return d0(1)}function Wo(...n){return h0()(We(n,Wr(n)))}function Ma(n){return new _e(e=>{Ge(n()).subscribe(e)})}function lg(...n){let e=ul(n),{args:t,keys:r}=Cl(n),i=new _e(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Ge(t[h]).subscribe(Ce(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Dl(r,a):a),o.complete())}))}});return e?i.pipe(bl(e)):i}function cr(n,e){return be((t,r)=>{let i=0;t.subscribe(Ce(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Na(n){return be((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Ce(t,void 0,void 0,s=>{o=Ge(n(s,Na(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Tl(n,e){return ne(e)?Ot(n,e,1):Ot(n,1)}function f0(n){return be((e,t)=>{let r=!1;e.subscribe(Ce(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ur(n){return n<=0?()=>_t:be((e,t)=>{let r=0;e.subscribe(Ce(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function p0(n=S1){return be((e,t)=>{let r=!1;e.subscribe(Ce(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function S1(){return new Fi}function dg(n){return be((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function lr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?cr((i,o)=>n(i,o,r)):yn,ur(1),t?f0(e):p0(()=>new Fi))}function Sl(n){return n<=0?()=>_t:be((e,t)=>{let r=[];e.subscribe(Ce(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function hg(...n){let e=Wr(n);return be((t,r)=>{(e?Wo(n,t,e):Wo(n,t)).subscribe(r)})}function dr(n,e){return be((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Ce(r,u=>{i?.unsubscribe();let l=0,h=o++;Ge(n(u,h)).subscribe(i=Ce(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Pa(n){return be((e,t)=>{Ge(n).subscribe(Ce(t,()=>t.complete(),xa)),!t.closed&&e.subscribe(t)})}function On(n,e,t){let r=ne(n)||e||t?{next:n,error:e,complete:t}:n;return r?be((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ce(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):yn}var fg;function Al(){return fg}function Fn(n){let e=fg;return fg=n,e}var g0=Symbol("NotFound");function Ko(n){return n===g0||n?.name==="\u0275NotFound"}var Pl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",$=class extends Error{code;constructor(e,t){super(Hi(e,t)),this.code=e}};function x1(n){return`NG0${Math.abs(n)}`}function Hi(n,e){return`${x1(n)}${e?": "+e:""}`}function De(n){for(let e in n)if(n[e]===De)return e;throw Error("")}function E0(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function fr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(fr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Ag(n,e){return n?e?`${n} ${e}`:n:e||""}var M1=De({__forward_ref__:De});function gr(n){return n.__forward_ref__=gr,n.toString=function(){return fr(this())},n}function Et(n){return Rg(n)?n():n}function Rg(n){return typeof n=="function"&&n.hasOwnProperty(M1)&&n.__forward_ref__===gr}function W(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function mr(n){return{providers:n.providers||[],imports:n.imports||[]}}function ja(n){return N1(n,kl)}function xg(n){return ja(n)!==null}function N1(n,e){return n.hasOwnProperty(e)&&n[e]||null}function P1(n){let e=n?.[kl]??null;return e||null}function gg(n){return n&&n.hasOwnProperty(xl)?n[xl]:null}var kl=De({\u0275prov:De}),xl=De({\u0275inj:De}),q=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=W({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Mg(n){return n&&!!n.\u0275providers}var Ng=De({\u0275cmp:De}),Pg=De({\u0275dir:De}),kg=De({\u0275pipe:De}),Og=De({\u0275mod:De}),Oa=De({\u0275fac:De}),$i=De({__NG_ELEMENT_ID__:De}),m0=De({__NG_ENV_ID__:De});function Fg(n){return Ol(n,"@NgModule"),n[Og]||null}function Qr(n){return Ol(n,"@Component"),n[Ng]||null}function Lg(n){return Ol(n,"@Directive"),n[Pg]||null}function I0(n){return Ol(n,"@Pipe"),n[kg]||null}function Ol(n,e){if(n==null)throw new $(-919,!1)}function Jo(n){return typeof n=="string"?n:n==null?"":String(n)}var w0=De({ngErrorCode:De}),k1=De({ngErrorMessage:De}),O1=De({ngTokenPath:De});function Vg(n,e){return b0("",-200,e)}function Fl(n,e){throw new $(-201,!1)}function b0(n,e,t){let r=new $(e,n);return r[w0]=e,r[k1]=n,t&&(r[O1]=t),r}function F1(n){return n[w0]}var mg;function C0(){return mg}function Gt(n){let e=mg;return mg=n,e}function jg(n,e,t){let r=ja(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Fl(n,"")}var L1={},Li=L1,V1="__NG_DI_FLAG__",yg=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Vi(t)||0;try{return this.injector.get(e,r&8?null:Li,r)}catch(i){if(Ko(i))return i;throw i}}};function j1(n,e=0){let t=Al();if(t===void 0)throw new $(-203,!1);if(t===null)return jg(n,void 0,e);{let r=U1(e),i=t.retrieve(n,r);if(Ko(i)){if(r.optional)return null;throw i}return i}}function se(n,e=0){return(C0()||j1)(Et(n),e)}function V(n,e){return se(n,Vi(e))}function Vi(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function U1(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function vg(n){let e=[];for(let t=0;t<n.length;t++){let r=Et(n[t]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=B1(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(se(i,o))}else e.push(se(r))}return e}function B1(n){return n[V1]}function ji(n,e){let t=n.hasOwnProperty(Oa);return t?n[Oa]:null}function Ll(n,e){n.forEach(t=>Array.isArray(t)?Ll(t,e):e(t))}function Ug(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ua(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function D0(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function T0(n,e,t){let r=Zo(n,e);return r>=0?n[r|1]=t:(r=~r,D0(n,r,e,t)),r}function Vl(n,e){let t=Zo(n,e);if(t>=0)return n[t|1]}function Zo(n,e){return H1(n,e,1)}function H1(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Yr={},Wt=[],Xo=new q(""),Bg=new q("",-1),Hg=new q(""),Fa=class{get(e,t=Li){if(t===Li){let i=b0("",-201);throw i.name="\u0275NotFound",i}return t}};function Ba(n){return{\u0275providers:n}}function S0(...n){return{\u0275providers:$g(!0,n),\u0275fromNgModule:!0}}function $g(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Ll(e,s=>{let a=s;Ml(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&A0(i,o),t}function A0(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];zg(i,o=>{e(o,r)})}}function Ml(n,e,t,r){if(n=Et(n),!n)return!1;let i=null,o=gg(n),s=!o&&Qr(n);if(!o&&!s){let u=n.ngModule;if(o=gg(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Ml(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;Ll(o.imports,h=>{Ml(h,e,t,r)&&(l||=[],l.push(h))}),l!==void 0&&A0(l,e)}if(!a){let l=ji(i)||(()=>new i);e({provide:i,useFactory:l,deps:Wt},i),e({provide:Hg,useValue:i,multi:!0},i),e({provide:Xo,useValue:()=>se(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;zg(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function zg(n,e){for(let t of n)Mg(t)&&(t=t.\u0275providers),Array.isArray(t)?zg(t,e):e(t)}var $1=De({provide:String,useValue:De});function R0(n){return n!==null&&typeof n=="object"&&$1 in n}function z1(n){return!!(n&&n.useExisting)}function q1(n){return!!(n&&n.useFactory)}function Ui(n){return typeof n=="function"}function x0(n){return!!n.useClass}var Ha=new q(""),Rl={},y0={},pg;function $a(){return pg===void 0&&(pg=new Fa),pg}var nt=class{},Bi=class extends nt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Eg(e,s=>this.processProvider(s)),this.records.set(Bg,Qo(void 0,this)),i.has("environment")&&this.records.set(nt,Qo(void 0,this));let o=this.records.get(Ha);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Hg,Wt,{self:!0}))}retrieve(e,t){let r=Vi(t)||0;try{return this.get(e,Li,r)}catch(i){if(Ko(i))return i;throw i}}destroy(){ka(this),this._destroyed=!0;let e=Q(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Q(e)}}onDestroy(e){return ka(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ka(this);let t=Fn(this),r=Gt(void 0),i;try{return e()}finally{Fn(t),Gt(r)}}get(e,t=Li,r){if(ka(this),e.hasOwnProperty(m0))return e[m0](this);let i=Vi(r),o,s=Fn(this),a=Gt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=Y1(e)&&ja(e);h&&this.injectableDefInScope(h)?l=Qo(_g(e),Rl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?$a():this.parent;return t=i&8&&t===Li?null:t,u.get(e,t)}catch(u){let l=F1(u);throw l===-200||l===-201?new $(l,null):u}finally{Gt(a),Fn(s)}}resolveInjectorInitializers(){let e=Q(null),t=Fn(this),r=Gt(void 0),i;try{let o=this.get(Xo,Wt,{self:!0});for(let s of o)s()}finally{Fn(t),Gt(r),Q(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(fr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Et(e);let t=Ui(e)?e:Et(e&&e.provide),r=W1(e);if(!Ui(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Qo(void 0,Rl,!0),i.factory=()=>vg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Q(null);try{if(t.value===y0)throw Vg(fr(e));return t.value===Rl&&(t.value=y0,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&Q1(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Q(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Et(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function _g(n){let e=ja(n),t=e!==null?e.factory:ji(n);if(t!==null)return t;if(n instanceof q)throw new $(204,!1);if(n instanceof Function)return G1(n);throw new $(204,!1)}function G1(n){if(n.length>0)throw new $(204,!1);let t=P1(n);return t!==null?()=>t.factory(n):()=>new n}function W1(n){if(R0(n))return Qo(void 0,n.useValue);{let e=qg(n);return Qo(e,Rl)}}function qg(n,e,t){let r;if(Ui(n)){let i=Et(n);return ji(i)||_g(i)}else if(R0(n))r=()=>Et(n.useValue);else if(q1(n))r=()=>n.useFactory(...vg(n.deps||[]));else if(z1(n))r=(i,o)=>se(Et(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Et(n&&(n.useClass||n.provide));if(K1(n))r=()=>new i(...vg(n.deps));else return ji(i)||_g(i)}return r}function ka(n){if(n.destroyed)throw new $(205,!1)}function Qo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function K1(n){return!!n.deps}function Q1(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Y1(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Eg(n,e){for(let t of n)Array.isArray(t)?Eg(t,e):t&&Mg(t)?Eg(t.\u0275providers,e):e(t)}function Tt(n,e){let t;n instanceof Bi?(ka(n),t=n):t=new yg(n);let r,i=Fn(t),o=Gt(void 0);try{return e()}finally{Fn(i),Gt(o)}}function M0(){return C0()!==void 0||Al()!=null}var vn=0,Z=1,re=2,st=3,on=4,sn=5,es=6,ts=7,He=8,yr=9,Ln=10,Ve=11,ns=12,Gg=13,zi=14,Qt=15,qi=16,Gi=17,Wi=18,vr=19,Wg=20,hr=21,jl=22,za=23,Yt=24,Ul=25,Ki=26,It=27,N0=1,Kg=6,Jr=7,qa=8,Ga=9,$e=10;function Vn(n){return Array.isArray(n)&&typeof n[N0]=="object"}function _n(n){return Array.isArray(n)&&n[N0]===!0}function Qg(n){return(n.flags&4)!==0}function Zr(n){return n.componentOffset>-1}function Wa(n){return(n.flags&1)===1}function jn(n){return!!n.template}function rs(n){return(n[re]&512)!==0}function Qi(n){return(n[re]&256)===256}var Yg="svg",P0="math";function an(n){for(;Array.isArray(n);)n=n[vn];return n}function Jg(n,e){return an(e[n])}function En(n,e){return an(e[n.index])}function Ka(n,e){return n.data[e]}function cn(n,e){let t=e[n];return Vn(t)?t:t[vn]}function Bl(n){return(n[re]&128)===128}function k0(n){return _n(n[st])}function Un(n,e){return e==null?null:n[e]}function Zg(n){n[Gi]=0}function Xg(n){n[re]&1024||(n[re]|=1024,Bl(n)&&Ya(n))}function O0(n,e){for(;n>0;)e=e[zi],n--;return e}function Qa(n){return!!(n[re]&9216||n[Yt]?.dirty)}function Hl(n){n[Ln].changeDetectionScheduler?.notify(8),n[re]&64&&(n[re]|=1024),Qa(n)&&Ya(n)}function Ya(n){n[Ln].changeDetectionScheduler?.notify(0);let e=Kr(n);for(;e!==null&&!(e[re]&8192||(e[re]|=8192,!Bl(e)));)e=Kr(e)}function em(n,e){if(Qi(n))throw new $(911,!1);n[hr]===null&&(n[hr]=[]),n[hr].push(e)}function F0(n,e){if(n[hr]===null)return;let t=n[hr].indexOf(e);t!==-1&&n[hr].splice(t,1)}function Kr(n){let e=n[st];return _n(e)?e[st]:e}function L0(n){return n[ts]??=[]}function V0(n){return n.cleanup??=[]}var ae={lFrame:eb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ig=!1;function j0(){return ae.lFrame.elementDepthCount}function U0(){ae.lFrame.elementDepthCount++}function B0(){ae.lFrame.elementDepthCount--}function tm(){return ae.bindingsEnabled}function H0(){return ae.skipHydrationRootTNode!==null}function $0(n){return ae.skipHydrationRootTNode===n}function z0(){ae.skipHydrationRootTNode=null}function me(){return ae.lFrame.lView}function St(){return ae.lFrame.tView}function Te(n){return ae.lFrame.contextLView=n,n[He]}function Se(n){return ae.lFrame.contextLView=null,n}function Jt(){let n=nm();for(;n!==null&&n.type===64;)n=n.parent;return n}function nm(){return ae.lFrame.currentTNode}function q0(){let n=ae.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function is(n,e){let t=ae.lFrame;t.currentTNode=n,t.isParent=e}function rm(){return ae.lFrame.isParent}function G0(){ae.lFrame.isParent=!1}function im(){return Ig}function om(n){let e=Ig;return Ig=n,e}function sm(){let n=ae.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function W0(){return ae.lFrame.bindingIndex}function K0(n){return ae.lFrame.bindingIndex=n}function Yi(){return ae.lFrame.bindingIndex++}function am(n){let e=ae.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Q0(){return ae.lFrame.inI18n}function Y0(n,e){let t=ae.lFrame;t.bindingIndex=t.bindingRootIndex=n,$l(e)}function J0(){return ae.lFrame.currentDirectiveIndex}function $l(n){ae.lFrame.currentDirectiveIndex=n}function Z0(n){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function cm(n){ae.lFrame.currentQueryIndex=n}function J1(n){let e=n[Z];return e.type===2?e.declTNode:e.type===1?n[sn]:null}function um(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=J1(o),i===null||(o=o[zi],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ae.lFrame=X0();return r.currentTNode=e,r.lView=n,!0}function zl(n){let e=X0(),t=n[Z];ae.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function X0(){let n=ae.lFrame,e=n===null?null:n.child;return e===null?eb(n):e}function eb(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function tb(){let n=ae.lFrame;return ae.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var lm=tb;function ql(){let n=tb();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function nb(n){return(ae.lFrame.contextLView=O0(n,ae.lFrame.contextLView))[He]}function _r(){return ae.lFrame.selectedIndex}function Xr(n){ae.lFrame.selectedIndex=n}function Gl(){let n=ae.lFrame;return Ka(n.tView,n.selectedIndex)}function Pe(){ae.lFrame.currentNamespace=Yg}function Zt(){Z1()}function Z1(){ae.lFrame.currentNamespace=null}function rb(){return ae.lFrame.currentNamespace}var ib=!0;function Wl(){return ib}function Kl(n){ib=n}function wg(n,e=null,t=null,r){let i=dm(n,e,t,r);return i.resolveInjectorInitializers(),i}function dm(n,e=null,t=null,r,i=new Set){let o=[t||Wt,S0(n)];return r=r||(typeof n=="object"?void 0:fr(n)),new Bi(o,e||$a(),r||null,i)}var Kt=class n{static THROW_IF_NOT_FOUND=Li;static NULL=new Fa;static create(e,t){if(Array.isArray(e))return wg({name:""},t,e,"");{let r=e.name??"";return wg({name:r},e.parent,e.providers,r)}}static \u0275prov=W({token:n,providedIn:"any",factory:()=>se(Bg)});static __NG_ELEMENT_ID__=-1},rt=new q(""),Bn=(()=>{class n{static __NG_ELEMENT_ID__=X1;static __NG_ENV_ID__=t=>t}return n})(),bg=class extends Bn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Qi(this._lView)}onDestroy(e){let t=this._lView;return em(t,e),()=>F0(t,e)}};function X1(){return new bg(me())}var ob=!1,sb=new q(""),ei=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new vt(!1);debugTaskTracker=V(sb,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new _e(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),this.debugTaskTracker?.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.debugTaskTracker?.remove(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}return n})(),Cg=class extends ot{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,M0()&&(this.destroyRef=V(Bn,{optional:!0})??void 0,this.pendingTasks=V(ei,{optional:!0})??void 0)}emit(e){let t=Q(null);try{super.next(e)}finally{Q(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof yt&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ke=Cg;function Nl(...n){}function hm(n){let e,t;function r(){n=Nl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function ab(n){return queueMicrotask(()=>n()),()=>{n=Nl}}var fm="isAngularZone",La=fm+"_ID",eN=0,Ft=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ke(!1);onMicrotaskEmpty=new Ke(!1);onStable=new Ke(!1);onError=new Ke(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=ob}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,rN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(fm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new $(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,tN,Nl,Nl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},tN={};function pm(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function nN(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){hm(()=>{n.callbackScheduled=!1,Dg(n),n.isCheckStableRunning=!0,pm(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Dg(n)}function rN(n){let e=()=>{nN(n)},t=eN++;n._inner=n._inner.fork({name:"angular",properties:{[fm]:!0,[La]:t,[La+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(iN(u))return r.invokeTask(o,s,a,u);try{return v0(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),_0(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return v0(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!oN(u)&&e(),_0(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Dg(n),pm(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Dg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function v0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function _0(n){n._nesting--,pm(n)}var Va=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ke;onMicrotaskEmpty=new Ke;onStable=new Ke;onError=new Ke;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function iN(n){return cb(n,"__ignore_ng_zone__")}function oN(n){return cb(n,"__scheduler_tick__")}function cb(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var pr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Hn=new q("",{factory:()=>{let n=V(Ft),e=V(nt),t;return r=>{n.runOutsideAngular(()=>{e.destroyed&&!t?setTimeout(()=>{throw r}):(t??=e.get(pr),t.handleError(r))})}}}),ub={provide:Xo,useValue:()=>{let n=V(pr,{optional:!0})},multi:!0};function ue(n,e){let[t,r,i]=Zp(n,e?.equal),o=t,s=o[kt];return o.set=r,o.update=i,o.asReadonly=lb.bind(o),o}function lb(){let n=this[kt];if(n.readonlyFn===void 0){let e=()=>this();e[kt]=n,n.readonlyFn=e}return n.readonlyFn}var Yo=class{},Ja=new q("",{factory:()=>!0});var gm=new q("");var mm=(()=>{class n{static \u0275prov=W({token:n,providedIn:"root",factory:()=>new Tg})}return n})(),Tg=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}},Sg=class{[kt];constructor(e){this[kt]=e}destroy(){this[kt].destroy()}};function at(n){return Xp(n)}function sc(n){return{toString:n}.toString()}function pN(n){return typeof n=="function"}function Bb(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Xl=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}},Ir=(()=>{let n=()=>Hb;return n.ngInherit=!0,n})();function Hb(n){return n.type.prototype.ngOnChanges&&(n.setInput=mN),gN}function gN(){let n=zb(this),e=n?.current;if(e){let t=n.previous;if(t===Yr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function mN(n,e,t,r,i){let o=this.declaredInputs[r],s=zb(n)||yN(n,{previous:Yr,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Xl(l&&l.currentValue,t,u===Yr),Bb(n,e,i,t)}var $b="__ngSimpleChanges__";function zb(n){return n[$b]||null}function yN(n,e){return n[$b]=e}var db=[];var xe=function(n,e=null,t){for(let r=0;r<db.length;r++){let i=db[r];i(n,e,t)}},Ie=(function(n){return n[n.TemplateCreateStart=0]="TemplateCreateStart",n[n.TemplateCreateEnd=1]="TemplateCreateEnd",n[n.TemplateUpdateStart=2]="TemplateUpdateStart",n[n.TemplateUpdateEnd=3]="TemplateUpdateEnd",n[n.LifecycleHookStart=4]="LifecycleHookStart",n[n.LifecycleHookEnd=5]="LifecycleHookEnd",n[n.OutputStart=6]="OutputStart",n[n.OutputEnd=7]="OutputEnd",n[n.BootstrapApplicationStart=8]="BootstrapApplicationStart",n[n.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",n[n.BootstrapComponentStart=10]="BootstrapComponentStart",n[n.BootstrapComponentEnd=11]="BootstrapComponentEnd",n[n.ChangeDetectionStart=12]="ChangeDetectionStart",n[n.ChangeDetectionEnd=13]="ChangeDetectionEnd",n[n.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",n[n.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",n[n.AfterRenderHooksStart=16]="AfterRenderHooksStart",n[n.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",n[n.ComponentStart=18]="ComponentStart",n[n.ComponentEnd=19]="ComponentEnd",n[n.DeferBlockStateStart=20]="DeferBlockStateStart",n[n.DeferBlockStateEnd=21]="DeferBlockStateEnd",n[n.DynamicComponentStart=22]="DynamicComponentStart",n[n.DynamicComponentEnd=23]="DynamicComponentEnd",n[n.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",n[n.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",n})(Ie||{});function vN(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Hb(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function qb(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Yl(n,e,t){Gb(n,e,3,t)}function Jl(n,e,t,r){(n[re]&3)===t&&Gb(n,e,t,r)}function ym(n,e){let t=n[re];(t&3)===e&&(t&=16383,t+=1,n[re]=t)}function Gb(n,e,t,r){let i=r!==void 0?n[Gi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Gi]+=65536),(a<o||o==-1)&&(_N(n,t,e,u),n[Gi]=(n[Gi]&4294901760)+u+2),u++}function hb(n,e){xe(Ie.LifecycleHookStart,n,e);let t=Q(null);try{e.call(n)}finally{Q(t),xe(Ie.LifecycleHookEnd,n,e)}}function _N(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[re]>>14<n[Gi]>>16&&(n[re]&3)===e&&(n[re]+=16384,hb(a,o)):hb(a,o)}var ss=-1,Zi=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function EN(n){return(n.flags&8)!==0}function IN(n){return(n.flags&16)!==0}function wN(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];CN(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function bN(n){return n===3||n===4||n===6}function CN(n){return n.charCodeAt(0)===64}function ec(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?fb(n,t,i,null,e[++r]):fb(n,t,i,null,null))}}return n}function fb(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function Wb(n){return n!==ss}function ed(n){return n&32767}function DN(n){return n>>16}function td(n,e){let t=DN(n),r=e;for(;t>0;)r=r[zi],t--;return r}var Am=!0;function pb(n){let e=Am;return Am=n,e}var TN=256,Kb=TN-1,Qb=5,SN=0,$n={};function AN(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty($i)&&(r=t[$i]),r==null&&(r=t[$i]=SN++);let i=r&Kb,o=1<<i;e.data[n+(i>>Qb)]|=o}function nd(n,e){let t=Yb(n,e);if(t!==-1)return t;let r=e[Z];r.firstCreatePass&&(n.injectorIndex=e.length,vm(r.data,n),vm(e,null),vm(r.blueprint,null));let i=Ym(n,e),o=n.injectorIndex;if(Wb(i)){let s=ed(i),a=td(i,e),u=a[Z].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function vm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Yb(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Ym(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=tC(i),r===null)return ss;if(t++,i=i[zi],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ss}function Rm(n,e,t){AN(n,e,t)}function Jb(n,e,t){if(t&8||n!==void 0)return n;Fl(e,"NodeInjector")}function Zb(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[yr],o=Gt(void 0);try{return i?i.get(e,r,t&8):jg(e,r,t&8)}finally{Gt(o)}}return Jb(r,e,t)}function Xb(n,e,t,r=0,i){if(n!==null){if(e[re]&2048&&!(r&2)){let s=PN(n,e,t,r,$n);if(s!==$n)return s}let o=eC(n,e,t,r,$n);if(o!==$n)return o}return Zb(e,t,r,i)}function eC(n,e,t,r,i){let o=MN(t);if(typeof o=="function"){if(!um(e,n,r))return r&1?Jb(i,t,r):Zb(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Fl(t);else return s}finally{lm()}}else if(typeof o=="number"){let s=null,a=Yb(n,e),u=ss,l=r&1?e[Qt][sn]:null;for((a===-1||r&4)&&(u=a===-1?Ym(n,e):e[a+8],u===ss||!mb(r,!1)?a=-1:(s=e[Z],a=ed(u),e=td(u,e)));a!==-1;){let h=e[Z];if(gb(o,a,h.data)){let p=RN(a,e,t,s,r,l);if(p!==$n)return p}u=e[a+8],u!==ss&&mb(r,e[Z].data[a+8]===l)&&gb(o,a,e)?(s=h,a=ed(u),e=td(u,e)):a=-1}}return i}function RN(n,e,t,r,i,o){let s=e[Z],a=s.data[n+8],u=r==null?Zr(a)&&Am:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=xN(a,s,t,u,l);return h!==null?rd(e,s,h,a,i):$n}function xN(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let R=s[y];if(y<u&&t===R||y>=u&&R.type===t)return y}if(i){let y=s[u];if(y&&jn(y)&&y.type===t)return u}return null}function rd(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Zi){let a=o;if(a.resolving)throw Vg("");let u=pb(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],h,p=a.injectImpl?Gt(a.injectImpl):null,g=um(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&vN(t,s[t],e)}finally{p!==null&&Gt(p),pb(u),a.resolving=!1,lm()}}return o}function MN(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty($i)?n[$i]:void 0;return typeof e=="number"?e>=0?e&Kb:NN:e}function gb(n,e,t){let r=1<<n;return!!(t[e+(n>>Qb)]&r)}function mb(n,e){return!(n&2)&&!(n&1&&e)}var Ji=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Xb(this._tNode,this._lView,e,Vi(r),t)}};function NN(){return new Ji(Jt(),me())}function ro(n){return sc(()=>{let e=n.prototype.constructor,t=e[Oa]||xm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Oa]||xm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function xm(n){return Rg(n)?()=>{let e=xm(Et(n));return e&&e()}:ji(n)}function PN(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[re]&2048&&!rs(s);){let a=eC(o,s,t,r|2,$n);if(a!==$n)return a;let u=o.parent;if(!u){let l=s[Wg];if(l){let h=l.get(t,$n,r);if(h!==$n)return h}u=tC(s),s=s[zi]}o=u}return i}function tC(n){let e=n[Z],t=e.type;return t===2?e.declTNode:t===1?n[sn]:null}function kN(){return gd(Jt(),me())}function gd(n,e){return new wr(En(n,e))}var wr=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=kN}return n})();function nC(n){return(n.flags&128)===128}var Jm=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(Jm||{}),rC=new Map,ON=0;function FN(){return ON++}function LN(n){rC.set(n[vr],n)}function Mm(n){rC.delete(n[vr])}var yb="__ngContext__";function as(n,e){Vn(e)?(n[yb]=e[vr],LN(e)):n[yb]=e}function iC(n){return sC(n[ns])}function oC(n){return sC(n[on])}function sC(n){for(;n!==null&&!_n(n);)n=n[on];return n}var VN;function Zm(n){VN=n}var md=new q("",{factory:()=>jN}),jN="ng";var yd=new q(""),ac=new q("",{providedIn:"platform",factory:()=>"unknown"});var vd=new q("",{factory:()=>V(rt).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),_d={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},Ed=new q("",{factory:()=>_d});var aC="r";var cC="di";var uC=!1,lC=new q("",{factory:()=>uC});var UN=(n,e,t,r)=>{};function BN(n,e,t,r){UN(n,e,t,r)}function Xm(n){return(n.flags&32)===32}var HN=()=>null;function dC(n,e,t=!1){return HN(n,e,t)}function hC(n,e){let t=n.contentQueries;if(t!==null){let r=Q(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];cm(o),a.contentQueries(2,e[s],s)}}}finally{Q(r)}}}function Nm(n,e,t){cm(0);let r=Q(null);try{e(n,t)}finally{Q(r)}}function fC(n,e,t){if(Qg(e)){let r=Q(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{Q(r)}}}var wn=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n[n.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",n})(wn||{});var id=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Pl})`}};function cc(n){return n instanceof id?n.changingThisBreaksApplicationSecurity:n}function pC(n,e){let t=gC(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Pl})`)}return t===e}function gC(n){return n instanceof id&&n.getTypeName()||null}var $N=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function mC(n){return n=String(n),n.match($N)?n:"unsafe:"+n}function zN(n,e){return n.createText(e)}function qN(n,e,t){n.setValue(e,t)}function yC(n,e,t){return n.createElement(e,t)}function od(n,e,t,r,i){n.insertBefore(e,t,r,i)}function vC(n,e,t){n.appendChild(e,t)}function vb(n,e,t,r,i){r!==null?od(n,e,t,r,i):vC(n,e,t)}function _C(n,e,t,r){n.removeChild(null,e,t,r)}function GN(n,e,t){n.setAttribute(e,"style",t)}function WN(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function EC(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&wN(n,e,r),i!==null&&WN(n,e,i),o!==null&&GN(n,e,o)}var ey=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(ey||{});function bn(n){let e=KN();return e?e.sanitize(ey.URL,n)||"":pC(n,"URL")?cc(n):mC(Jo(n))}function KN(){let n=me();return n&&n[Ln].sanitizer}function IC(n){return n instanceof Function?n():n}function QN(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var wC="ng-template";function YN(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&QN(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(ty(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function ty(n){return n.type===4&&n.value!==wC}function JN(n,e,t){let r=n.type===4&&!t?wC:n.value;return e===r}function ZN(n,e,t){let r=4,i=n.attrs,o=i!==null?tP(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!In(r)&&!In(u))return!1;if(s&&In(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!JN(n,u,t)||u===""&&e.length===1){if(In(r))return!1;s=!0}}else if(r&8){if(i===null||!YN(n,i,u,t)){if(In(r))return!1;s=!0}}else{let l=e[++a],h=XN(u,i,ty(n),t);if(h===-1){if(In(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(In(r))return!1;s=!0}}}}return In(r)||s}function In(n){return(n&1)===0}function XN(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return nP(e,n)}function eP(n,e,t=!1){for(let r=0;r<e.length;r++)if(ZN(n,e[r],t))return!0;return!1}function tP(n){for(let e=0;e<n.length;e++){let t=n[e];if(bN(t))return e}return n.length}function nP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function _b(n,e){return n?":not("+e.trim()+")":e}function rP(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!In(s)&&(e+=_b(o,i),i=""),r=s,o=o||!In(r);t++}return i!==""&&(e+=_b(o,i)),e}function iP(n){return n.map(rP).join(",")}function oP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!In(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Xt={};function ny(n,e,t,r,i,o,s,a,u,l,h){let p=It+r,g=p+i,y=sP(p,g),R=typeof l=="function"?l():l;return y[Z]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:R,incompleteFirstPass:!1,ssrId:h}}function sP(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Xt);return t}function aP(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=ny(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function ry(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[vn]=i,p[re]=r|4|128|8|64|1024,(l!==null||n&&n[re]&2048)&&(p[re]|=2048),Zg(p),p[st]=p[zi]=n,p[He]=t,p[Ln]=s||n&&n[Ln],p[Ve]=a||n&&n[Ve],p[yr]=u||n&&n[yr]||null,p[sn]=o,p[vr]=FN(),p[es]=h,p[Wg]=l,p[Qt]=e.type==2?n[Qt]:p,p}function cP(n,e,t){let r=En(e,n),i=aP(t),o=n[Ln].rendererFactory,s=iy(n,ry(n,i,null,bC(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function bC(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function CC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function iy(n,e){return n[ns]?n[Gg][on]=e:n[ns]=e,n[Gg]=e,e}function M(n=1){DC(St(),me(),_r()+n,!1)}function DC(n,e,t,r){if(!r)if((e[re]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Yl(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Jl(e,o,0,t)}Xr(t)}var Id=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Id||{});function Pm(n,e,t,r){let i=Q(null);try{let[o,s,a]=n.inputs[t],u=null;(s&Id.SignalBased)!==0&&(u=e[o][kt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):Bb(e,u,o,r)}finally{Q(i)}}var zn=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(zn||{}),uP;function oy(n,e){return uP(n,e)}var Xi=new Set,sy=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(sy||{}),uc=new q(""),Eb=new Set;function qn(n){Eb.has(n)||(Eb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var TC=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}return n})();var SC=new q("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:V(nt)})});function AC(n,e,t){let r=n.get(SC);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function lP(n,e){let t=n.get(SC);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)t.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function dP(n,e){for(let[t,r]of e)AC(n,r.animateFns)}function Ib(n,e,t,r){let i=n?.[Ki]?.enter;e!==null&&i&&i.has(t.index)&&dP(r,i)}function os(n,e,t,r,i,o,s,a){if(i!=null){let u,l=!1;_n(i)?u=i:Vn(i)&&(l=!0,i=i[vn]);let h=an(i);n===0&&r!==null?(Ib(a,r,o,t),s==null?vC(e,r,h):od(e,r,h,s||null,!0)):n===1&&r!==null?(Ib(a,r,o,t),od(e,r,h,s||null,!0)):n===2?wb(a,o,t,p=>{_C(e,h,l,p)}):n===3&&wb(a,o,t,()=>{e.destroyNode(h)}),u!=null&&CP(e,n,t,u,o,r,s)}}function hP(n,e){RC(n,e),e[vn]=null,e[sn]=null}function fP(n,e,t,r,i,o){r[vn]=i,r[sn]=e,bd(n,r,t,1,i,o)}function RC(n,e){e[Ln].changeDetectionScheduler?.notify(9),bd(n,e,e[Ve],2,null,null)}function pP(n){let e=n[ns];if(!e)return _m(n[Z],n);for(;e;){let t=null;if(Vn(e))t=e[ns];else{let r=e[$e];r&&(t=r)}if(!t){for(;e&&!e[on]&&e!==n;)Vn(e)&&_m(e[Z],e),e=e[st];e===null&&(e=n),Vn(e)&&_m(e[Z],e),t=e&&e[on]}e=t}}function ay(n,e){let t=n[Ga],r=t.indexOf(e);t.splice(r,1)}function wd(n,e){if(Qi(e))return;let t=e[Ve];t.destroyNode&&bd(n,e,t,3,null,null),pP(e)}function _m(n,e){if(Qi(e))return;let t=Q(null);try{e[re]&=-129,e[re]|=256,e[Yt]&&Sa(e[Yt]),yP(n,e),mP(n,e),e[Z].type===1&&e[Ve].destroy();let r=e[qi];if(r!==null&&_n(e[st])){r!==e[st]&&ay(r,e);let i=e[Wi];i!==null&&i.detachView(n)}Mm(e)}finally{Q(t)}}function wb(n,e,t,r){let i=n?.[Ki];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&Xi.add(n[vr]),AC(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:h}=l();a.push(h)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),gP(n,r)}else n&&Xi.delete(n[vr]),r(!1)},i)}function gP(n,e){let t=n[Ki]?.running;if(t){t.then(()=>{n[Ki].running=void 0,Xi.delete(n[vr]),e(!0)});return}e(!1)}function mP(n,e){let t=n.cleanup,r=e[ts];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[ts]=null);let i=e[hr];if(i!==null){e[hr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[za];if(o!==null){e[za]=null;for(let s of o)s.destroy()}}function yP(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Zi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];xe(Ie.LifecycleHookStart,a,u);try{u.call(a)}finally{xe(Ie.LifecycleHookEnd,a,u)}}else{xe(Ie.LifecycleHookStart,i,o);try{o.call(i)}finally{xe(Ie.LifecycleHookEnd,i,o)}}}}}function vP(n,e,t){return _P(n,e.parent,t)}function _P(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[vn];if(Zr(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===wn.None||i===wn.Emulated)return null}return En(r,t)}function EP(n,e,t){return wP(n,e,t)}function IP(n,e,t){return n.type&40?En(n,t):null}var wP=IP,bb;function cy(n,e,t,r){let i=vP(n,r,e),o=e[Ve],s=r.parent||e[sn],a=EP(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)vb(o,i,t[u],a,!1);else vb(o,i,t,a,!1);bb!==void 0&&bb(o,r,e,t,i)}function Za(n,e){if(e!==null){let t=e.type;if(t&3)return En(e,n);if(t&4)return km(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Za(n,r);{let i=n[e.index];return _n(i)?km(-1,i):an(i)}}else{if(t&128)return Za(n,e.next);if(t&32)return oy(e,n)()||an(n[e.index]);{let r=xC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Kr(n[Qt]);return Za(i,r)}else return Za(n,e.next)}}}return null}function xC(n,e){if(e!==null){let r=n[Qt][sn],i=e.projection;return r.projection[i]}return null}function km(n,e){let t=$e+n+1;if(t<e.length){let r=e[t],i=r[Z].firstChild;if(i!==null)return Za(r,i)}return e[Jr]}function uy(n,e,t,r,i,o,s){for(;t!=null;){let a=r[yr];if(t.type===128){t=t.next;continue}let u=r[t.index],l=t.type;if(s&&e===0&&(u&&as(an(u),r),t.flags|=2),!Xm(t))if(l&8)uy(n,e,t.child,r,i,o,!1),os(e,n,a,i,u,t,o,r);else if(l&32){let h=oy(t,r),p;for(;p=h();)os(e,n,a,i,p,t,o,r);os(e,n,a,i,u,t,o,r)}else l&16?bP(n,e,r,t,i,o):os(e,n,a,i,u,t,o,r);t=s?t.projectionNext:t.next}}function bd(n,e,t,r,i,o){uy(t,r,n.firstChild,e,i,o,!1)}function bP(n,e,t,r,i,o){let s=t[Qt],u=s[sn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];os(e,n,t[yr],i,h,r,o,t)}else{let l=u,h=s[st];nC(r)&&(l.flags|=128),uy(n,e,l,h,i,o,!0)}}function CP(n,e,t,r,i,o,s){let a=r[Jr],u=an(r);a!==u&&os(e,n,t,o,a,i,s);for(let l=$e;l<r.length;l++){let h=r[l];bd(h[Z],h,n,e,o,a)}}function DP(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:zn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=zn.Important),n.setStyle(t,r,i,o))}}function MC(n,e,t,r,i){let o=_r(),s=r&2;try{Xr(-1),s&&e.length>It&&DC(n,e,It,!1);let a=s?Ie.TemplateUpdateStart:Ie.TemplateCreateStart;xe(a,i,t),t(r,i)}finally{Xr(o);let a=s?Ie.TemplateUpdateEnd:Ie.TemplateCreateEnd;xe(a,i,t)}}function ly(n,e,t){NP(n,e,t),(t.flags&64)===64&&PP(n,e,t)}function dy(n,e,t=En){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function TP(n,e,t,r){let o=r.get(lC,uC)||t===wn.ShadowDom||t===wn.ExperimentalIsolatedShadowDom,s=n.selectRootElement(e,o);return SP(s),s}function SP(n){AP(n)}var AP=()=>null;function RP(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function NC(n,e,t,r,i,o){let s=e[Z];if(hy(n,s,e,t,r)){Zr(n)&&MP(e,n.index);return}n.type&3&&(t=RP(t)),xP(n,e,t,r,i,o)}function xP(n,e,t,r,i,o){if(n.type&3){let s=En(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function MP(n,e){let t=cn(e,n);t[re]&16||(t[re]|=64)}function NP(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Zr(t)&&cP(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||nd(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=rd(e,n,s,t);if(as(u,e),o!==null&&LP(e,s-r,u,a,t,o),jn(a)){let l=cn(t.index,e);l[He]=rd(e,n,s,t)}}}function PP(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=J0();try{Xr(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];$l(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&kP(u,l)}}finally{Xr(-1),$l(s)}}function kP(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function PC(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];eP(e,o.selectors,!1)&&(r??=[],jn(o)?r.unshift(o):r.push(o))}return r}function OP(n,e,t,r,i,o){let s=En(n,e);FP(e[Ve],s,o,n.value,t,r,i)}function FP(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Jo(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function LP(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Pm(r,t,u,l)}}function VP(n,e,t,r,i){let o=It+t,s=e[Z],a=i(s,e,n,r,t);e[o]=a,is(n,!0);let u=n.type===2;return u?(EC(e[Ve],a,n),(j0()===0||Wa(n))&&as(a,e),U0()):as(a,e),Wl()&&(!u||!Xm(n))&&cy(s,e,a,n),n}function jP(n){let e=n;return rm()?G0():(e=e.parent,is(e,!1)),e}function UP(n,e){let t=n[yr];if(!t)return;let r;try{r=t.get(Hn,null)}catch{r=null}r?.(e)}function hy(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Pm(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];Pm(h,l,r,i),a=!0}return a}function BP(n,e){let t=cn(e,n),r=t[Z];HP(r,t);let i=t[vn];i!==null&&t[es]===null&&(t[es]=dC(i,t[yr])),xe(Ie.ComponentStart);try{fy(r,t,t[He])}finally{xe(Ie.ComponentEnd,t[He])}}function HP(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function fy(n,e,t){zl(e);try{let r=n.viewQuery;r!==null&&Nm(1,r,t);let i=n.template;i!==null&&MC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Wi]?.finishViewCreation(n),n.staticContentQueries&&hC(n,e),n.staticViewQueries&&Nm(2,n.viewQuery,t);let o=n.components;o!==null&&$P(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[re]&=-5,ql()}}function $P(n,e){for(let t=0;t<e.length;t++)BP(n,e[t])}function Cd(n,e,t,r){let i=Q(null);try{let o=e.tView,a=n[re]&4096?4096:16,u=ry(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[qi]=l;let h=n[Wi];return h!==null&&(u[Wi]=h.createEmbeddedView(o)),fy(o,u,t),u}finally{Q(i)}}function tc(n,e){return!e||e.firstChild===null||nC(n)}function nc(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(an(o)),_n(o)&&kC(o,r);let s=t.type;if(s&8)nc(n,e,t.child,r);else if(s&32){let a=oy(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=xC(e,t);if(Array.isArray(a))r.push(...a);else{let u=Kr(e[Qt]);nc(u[Z],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function kC(n,e){for(let t=$e;t<n.length;t++){let r=n[t],i=r[Z].firstChild;i!==null&&nc(r[Z],r,i,e)}n[Jr]!==n[vn]&&e.push(n[Jr])}function OC(n){if(n[Ul]!==null){for(let e of n[Ul])e.impl.addSequence(e);n[Ul].length=0}}var FC=[];function zP(n){return n[Yt]??qP(n)}function qP(n){let e=FC.pop()??Object.create(WP);return e.lView=n,e}function GP(n){n.lView[Yt]!==n&&(n.lView=null,FC.push(n))}var WP=z(P({},Ca),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Ya(n.lView)},consumerOnSignalRead(){this.lView[Yt]=this}});function KP(n){let e=n[Yt]??Object.create(QP);return e.lView=n,e}var QP=z(P({},Ca),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Kr(n.lView);for(;e&&!LC(e[Z]);)e=Kr(e);e&&Xg(e)},consumerOnSignalRead(){this.lView[Yt]=this}});function LC(n){return n.type!==2}function VC(n){if(n[za]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[za])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[re]&8192)}}var YP=100;function jC(n,e=0){let r=n[Ln].rendererFactory,i=!1;i||r.begin?.();try{JP(n,e)}finally{i||r.end?.()}}function JP(n,e){let t=im();try{om(!0),Om(n,e);let r=0;for(;Qa(n);){if(r===YP)throw new $(103,!1);r++,Om(n,1)}}finally{om(t)}}function ZP(n,e,t,r){if(Qi(e))return;let i=e[re],o=!1,s=!1;zl(e);let a=!0,u=null,l=null;o||(LC(n)?(l=zP(e),u=Ta(l)):Xu()===null?(a=!1,l=KP(e),u=Ta(l)):e[Yt]&&(Sa(e[Yt]),e[Yt]=null));try{Zg(e),K0(n.bindingStartIndex),t!==null&&MC(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&Yl(e,y,null)}else{let y=n.preOrderHooks;y!==null&&Jl(e,y,0,null),ym(e,0)}if(s||XP(e),VC(e),UC(e,0),n.contentQueries!==null&&hC(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&Yl(e,y)}else{let y=n.contentHooks;y!==null&&Jl(e,y,1),ym(e,1)}tk(n,e);let p=n.components;p!==null&&HC(e,p,0);let g=n.viewQuery;if(g!==null&&Nm(2,g,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&Yl(e,y)}else{let y=n.viewHooks;y!==null&&Jl(e,y,2),ym(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[jl]){for(let y of e[jl])y();e[jl]=null}o||(OC(e),e[re]&=-73)}catch(h){throw o||Ya(e),h}finally{l!==null&&(el(l,u),a&&GP(l)),ql()}}function UC(n,e){for(let t=iC(n);t!==null;t=oC(t))for(let r=$e;r<t.length;r++){let i=t[r];BC(i,e)}}function XP(n){for(let e=iC(n);e!==null;e=oC(e)){if(!(e[re]&2))continue;let t=e[Ga];for(let r=0;r<t.length;r++){let i=t[r];Xg(i)}}}function ek(n,e,t){xe(Ie.ComponentStart);let r=cn(e,n);try{BC(r,t)}finally{xe(Ie.ComponentEnd,r[He])}}function BC(n,e){Bl(n)&&Om(n,e)}function Om(n,e){let r=n[Z],i=n[re],o=n[Yt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&tl(o)),s||=!1,o&&(o.dirty=!1),n[re]&=-9217,s)ZP(r,n,r.template,n[He]);else if(i&8192){let a=Q(null);try{VC(n),UC(n,1);let u=r.components;u!==null&&HC(n,u,1),OC(n)}finally{Q(a)}}}function HC(n,e,t){for(let r=0;r<e.length;r++)ek(n,e[r],t)}function tk(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Xr(~i);else{let o=i,s=t[++r],a=t[++r];Y0(s,o);let u=e[o];xe(Ie.HostBindingsUpdateStart,u);try{a(2,u)}finally{xe(Ie.HostBindingsUpdateEnd,u)}}}}finally{Xr(-1)}}function py(n,e){let t=im()?64:1088;for(n[Ln].changeDetectionScheduler?.notify(e);n;){n[re]|=t;let r=Kr(n);if(rs(n)&&!r)return n;n=r}return null}function $C(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function zC(n,e){let t=$e+e;if(t<n.length)return n[t]}function Dd(n,e,t,r=!0){let i=e[Z];if(nk(i,e,n,t),r){let s=km(t,n),a=e[Ve],u=a.parentNode(n[Jr]);u!==null&&fP(i,n[sn],a,e,u,s)}let o=e[es];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function qC(n,e){let t=rc(n,e);return t!==void 0&&wd(t[Z],t),t}function rc(n,e){if(n.length<=$e)return;let t=$e+e,r=n[t];if(r){let i=r[qi];i!==null&&i!==n&&ay(i,r),e>0&&(n[t-1][on]=r[on]);let o=Ua(n,$e+e);hP(r[Z],r);let s=o[Wi];s!==null&&s.detachView(o[Z]),r[st]=null,r[on]=null,r[re]&=-129}return r}function nk(n,e,t,r){let i=$e+r,o=t.length;r>0&&(t[i-1][on]=e),r<o-$e?(e[on]=t[i],Ug(t,$e+r,e)):(t.push(e),e[on]=null),e[st]=t;let s=e[qi];s!==null&&t!==s&&GC(s,e);let a=e[Wi];a!==null&&a.insertView(n),Hl(e),e[re]|=128}function GC(n,e){let t=n[Ga],r=e[st];if(Vn(r))n[re]|=2;else{let i=r[st][Qt];e[Qt]!==i&&(n[re]|=2)}t===null?n[Ga]=[e]:t.push(e)}var ti=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[Z];return nc(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[He]}set context(e){this._lView[He]=e}get destroyed(){return Qi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[st];if(_n(e)){let t=e[qa],r=t?t.indexOf(this):-1;r>-1&&(rc(e,r),Ua(t,r))}this._attachedToViewContainer=!1}wd(this._lView[Z],this._lView)}onDestroy(e){em(this._lView,e)}markForCheck(){py(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[re]&=-129}reattach(){Hl(this._lView),this._lView[re]|=128}detectChanges(){this._lView[re]|=1024,jC(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=rs(this._lView),t=this._lView[qi];t!==null&&!e&&ay(t,this._lView),RC(this._lView[Z],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let t=rs(this._lView),r=this._lView[qi];r!==null&&!t&&GC(r,this._lView),Hl(this._lView)}};var lc=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=rk;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=Cd(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new ti(o)}}return n})();function rk(){return ik(Jt(),me())}function ik(n,e){return n.type&4?new lc(e,n,gd(n,e)):null}function Td(n,e,t,r,i){let o=n.data[e];if(o===null)o=ok(n,e,t,r,i),Q0()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=q0();o.injectorIndex=s===null?-1:s.injectorIndex}return is(o,!0),o}function ok(n,e,t,r,i){let o=nm(),s=rm(),a=s?o:o&&o.parent,u=n.data[e]=ak(n,a,t,e,r,i);return sk(n,u,o,s),u}function sk(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function ak(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return H0()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ck(n){let e=n[Kg]??[],r=n[st][Ve],i=[];for(let o of e)o.data[cC]!==void 0?i.push(o):uk(o,r);n[Kg]=i}function uk(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[aC];for(;t<i;){let o=r.nextSibling;_C(e,r,!1),r=o,t++}}}var lk=()=>null,dk=()=>null;function Fm(n,e){return lk(n,e)}function WC(n,e,t){return dk(n,e,t)}var KC=class{},Sd=class{},Lm=class{resolveComponentFactory(e){throw new $(917,!1)}},dc=class{static NULL=new Lm},eo=class{},ni=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>hk()}return n})();function hk(){let n=me(),e=Jt(),t=cn(e.index,n);return(Vn(t)?t:n)[Ve]}var QC=(()=>{class n{static \u0275prov=W({token:n,providedIn:"root",factory:()=>null})}return n})();var Zl={},Vm=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Zl,r);return i!==Zl||t===Zl?i:this.parentInjector.get(e,t,r)}};function Cb(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Ag(i,a);else if(o==2){let u=a,l=e[++s];r=Ag(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function le(n,e=0){let t=me();if(t===null)return se(n,e);let r=Jt();return Xb(r,t,Et(n),e)}function YC(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}gk(n,e,t,a,o,u,l)}o!==null&&r!==null&&fk(t,r,o)}function fk(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new $(-301,!1);r.push(e[i],o)}}function pk(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function gk(n,e,t,r,i,o,s){let a=r.length,u=null;for(let g=0;g<a;g++){let y=r[g];u===null&&jn(y)&&(u=y,pk(n,t,g)),Rm(nd(t,e),n,y.type)}Ik(t,n.data.length,a),u?.viewProvidersResolver&&u.viewProvidersResolver(u);for(let g=0;g<a;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=CC(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let y=r[g];if(t.mergedAttrs=ec(t.mergedAttrs,y.hostAttrs),yk(n,t,e,p,y),Ek(p,y,i),s!==null&&s.has(y)){let[O,S]=s.get(y);t.directiveToIndex.set(y.type,[p,O+t.directiveStart,S+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let R=y.type.prototype;!l&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(R.ngOnChanges||R.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}mk(n,t,o)}function mk(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))Db(0,e,i,r),Db(1,e,i,r),Sb(e,r,!1);else{let o=t.get(i);Tb(0,e,o,r),Tb(1,e,o,r),Sb(e,r,!0)}}}function Db(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),JC(e,o)}}function Tb(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),JC(e,s)}}function JC(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function Sb(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||ty(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function yk(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=ji(i.type,!0)),s=new Zi(o,jn(i),le,null);n.blueprint[r]=s,t[r]=s,vk(n,e,r,CC(n,t,i.hostVars,Xt),i)}function vk(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;_k(s)!=a&&s.push(a),s.push(t,r,o)}}function _k(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Ek(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;jn(e)&&(t[""]=n)}}function Ik(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function ZC(n,e,t,r,i,o,s,a){let u=e[Z],l=u.consts,h=Un(l,s),p=Td(u,n,t,r,h);return o&&YC(u,e,p,Un(l,a),i),p.mergedAttrs=ec(p.mergedAttrs,p.attrs),p.attrs!==null&&Cb(p,p.attrs,!1),p.mergedAttrs!==null&&Cb(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function XC(n,e){qb(n,e),Qg(e)&&n.queries.elementEnd(e)}function gy(n){return tD(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function eD(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function tD(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function nD(n,e,t){return n[e]=t}function wk(n,e){return n[e]}function Er(n,e,t){if(t===Xt)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function jm(n,e,t,r){let i=Er(n,e,t);return Er(n,e+1,r)||i}function bk(n,e,t,r,i,o){let s=jm(n,e,t,r);return jm(n,e+2,i,o)||s}function Em(n,e,t){return function r(i){let o=Zr(n)?cn(n.index,e):e;py(o,5);let s=e[He],a=Ab(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=Ab(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function Ab(n,e,t,r){let i=Q(null);try{return xe(Ie.OutputStart,e,t),t(r)!==!1}catch(o){return UP(n,o),!1}finally{xe(Ie.OutputEnd,e,t),Q(i)}}function Ck(n,e,t,r,i,o,s,a){let u=Wa(n),l=!1,h=null;if(!r&&u&&(h=Tk(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=En(n,t),g=r?r(p):p;BN(t,g,o,a);let y=i.listen(g,o,a);if(!Dk(o)){let R=r?O=>r(an(O[n.index])):n.index;rD(R,e,t,o,a,y,!1)}}return l}function Dk(n){return n.startsWith("animation")||n.startsWith("transition")}function Tk(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[ts],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function rD(n,e,t,r,i,o,s){let a=e.firstCreatePass?V0(e):null,u=L0(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function Rb(n,e,t,r,i,o){let s=e[t],a=e[Z],l=a.data[t].outputs[r],p=s[l].subscribe(o);rD(n.index,a,e,i,o,p,!0)}var Um=Symbol("BINDING");var sd=class extends dc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Qr(e);return new cs(t,this.ngModule)}};function Sk(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Id.SignalBased)!==0};return i&&(o.transform=i),o})}function Ak(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function Rk(n,e,t){let r=e instanceof nt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Vm(t,r):t}function xk(n){let e=n.get(eo,null);if(e===null)throw new $(407,!1);let t=n.get(QC,null),r=n.get(Yo,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function Mk(n,e){let t=iD(n);return yC(e,t,t==="svg"?Yg:t==="math"?P0:null)}function iD(n){return(n.selectors[0][0]||"div").toLowerCase()}var cs=class extends Sd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Sk(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Ak(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=iP(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){xe(Ie.DynamicComponentStart);let a=Q(null);try{let u=this.componentDef,l=Nk(r,u,s,o),h=Rk(u,i||this.ngModule,e),p=xk(h),g=p.rendererFactory.createRenderer(null,u),y=r?TP(g,r,u.encapsulation,h):Mk(u,g),R=s?.some(xb)||o?.some(N=>typeof N!="function"&&N.bindings.some(xb)),O=ry(null,l,null,512|bC(u),null,null,p,g,h,null,dC(y,h,!0));O[It]=y,zl(O);let S=null;try{let N=ZC(It,O,2,"#host",()=>l.directiveRegistry,!0,0);EC(g,y,N),as(y,O),ly(l,O,N),fC(l,N,O),XC(l,N),t!==void 0&&kk(N,this.ngContentSelectors,t),S=cn(N.index,O),O[He]=S[He],fy(l,O,null)}catch(N){throw S!==null&&Mm(S),Mm(O),N}finally{xe(Ie.DynamicComponentEnd),ql()}return new ad(this.componentType,O,!!R)}finally{Q(a)}}};function Nk(n,e,t,r){let i=n?["ng-version","21.1.2"]:oP(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[Um].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let g of p.bindings){a+=g[Um].requiredVars;let y=h+1;g.create&&(g.targetIdx=y,(o??=[]).push(g)),g.update&&(g.targetIdx=y,(s??=[]).push(g))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,g=Lg(p);u.push(g)}return ny(0,null,Pk(o,s),1,a,u,null,null,null,[i],null)}function Pk(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function xb(n){let e=n[Um].kind;return e==="input"||e==="twoWay"}var ad=class extends KC{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Ka(t[Z],It),this.location=gd(this._tNode,t),this.instance=cn(this._tNode.index,t)[He],this.hostView=this.changeDetectorRef=new ti(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=hy(r,i[Z],i,e,t);this.previousInputValues.set(e,t);let s=cn(r.index,i);py(s,1)}get injector(){return new Ji(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function kk(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var io=(()=>{class n{static __NG_ELEMENT_ID__=Ok}return n})();function Ok(){let n=Jt();return Lk(n,me())}var Fk=io,oD=class extends Fk{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return gd(this._hostTNode,this._hostLView)}get injector(){return new Ji(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ym(this._hostTNode,this._hostLView);if(Wb(e)){let t=td(e,this._hostLView),r=ed(e),i=t[Z].data[r+8];return new Ji(i,t)}else return new Ji(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Mb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-$e}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Fm(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,tc(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!pN(e),l;if(u)l=t;else{let S=t||{};l=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef,s=S.directives,a=S.bindings}let h=u?e:new cs(Qr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let N=(u?p:this.parentInjector).get(nt,null);N&&(o=N)}let g=Qr(h.componentType??{}),y=Fm(this._lContainer,g?.id??null),R=y?.firstChild??null,O=h.create(p,i,R,o,s,a);return this.insertImpl(O.hostView,l,tc(this._hostTNode,y)),O}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(k0(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[st],l=new oD(u,u[sn],u[st]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Dd(s,i,o,r),e.attachToViewContainerRef(),Ug(Im(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Mb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=rc(this._lContainer,t);r&&(Ua(Im(this._lContainer),t),wd(r[Z],r))}detach(e){let t=this._adjustIndex(e,-1),r=rc(this._lContainer,t);return r&&Ua(Im(this._lContainer),t)!=null?new ti(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Mb(n){return n[qa]}function Im(n){return n[qa]||(n[qa]=[])}function Lk(n,e){let t,r=e[n.index];return _n(r)?t=r:(t=$C(r,e,null,n),e[n.index]=t,iy(e,t)),jk(t,e,n,r),new oD(t,n,e)}function Vk(n,e){let t=n[Ve],r=t.createComment(""),i=En(e,n),o=t.parentNode(i);return od(t,o,r,t.nextSibling(i),!1),r}var jk=Hk,Uk=()=>!1;function Bk(n,e,t){return Uk(n,e,t)}function Hk(n,e,t,r){if(n[Jr])return;let i;t.type&8?i=an(r):i=Vk(e,t),n[Jr]=i}var to=class{},Ad=class{};var cd=class extends to{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new sd(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Fg(e);this._bootstrapComponents=IC(o.bootstrap),this._r3Injector=dm(e,t,[{provide:to,useValue:this},{provide:dc,useValue:this.componentFactoryResolver},...r],fr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ud=class extends Ad{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new cd(this.moduleType,e,[])}};var ic=class extends to{injector;componentFactoryResolver=new sd(this);instance=null;constructor(e){super();let t=new Bi([...e.providers,{provide:to,useValue:this},{provide:dc,useValue:this.componentFactoryResolver}],e.parent||$a(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function hc(n,e,t=null){return new ic({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var $k=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=$g(!1,t.type),i=r.length>0?hc([r],this._injector,""):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=W({token:n,providedIn:"environment",factory:()=>new n(se(nt))})}return n})();function Cn(n){return sc(()=>{let e=sD(n),t=z(P({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Jm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get($k).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||wn.Emulated,styles:n.styles||Wt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&qn("NgStandalone"),aD(t);let r=n.dependencies;return t.directiveDefs=Nb(r,zk),t.pipeDefs=Nb(r,I0),t.id=Wk(t),t})}function zk(n){return Qr(n)||Lg(n)}function ri(n){return sc(()=>({type:n.type,bootstrap:n.bootstrap||Wt,declarations:n.declarations||Wt,imports:n.imports||Wt,exports:n.exports||Wt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function qk(n,e){if(n==null)return Yr;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Id.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function Gk(n){if(n==null)return Yr;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Qe(n){return sc(()=>{let e=sD(n);return aD(e),e})}function sD(n){let e={};return{type:n.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Yr,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Wt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:qk(n.inputs,e),outputs:Gk(n.outputs),debugInfo:null}}function aD(n){n.features?.forEach(e=>e(n))}function Nb(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function Wk(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Kk(n){return Object.getPrototypeOf(n.prototype).constructor}function Gn(n){let e=Kk(n.type),t=!0,r=[n];for(;e;){let i;if(jn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=wm(n.inputs),s.declaredInputs=wm(n.declaredInputs),s.outputs=wm(n.outputs);let a=i.hostBindings;a&&Xk(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&Jk(n,u),l&&Zk(n,l),Qk(n,i),E0(n.outputs,i.outputs),jn(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Gn&&(t=!1)}}e=Object.getPrototypeOf(e)}Yk(r)}function Qk(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function Yk(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ec(i.hostAttrs,t=ec(t,i.hostAttrs))}}function wm(n){return n===Yr?{}:n===Wt?[]:n}function Jk(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function Zk(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function Xk(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function cD(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=ec(n.mergedAttrs,n.attrs);let h=n.tView=ny(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),is(n,!1);let u=tO(t,e,n,r);Wl()&&cy(t,e,u,n),as(u,e);let l=$C(u,e,u,n);e[r+It]=l,iy(e,l),Bk(l,n,e)}function eO(n,e,t,r,i,o,s,a,u,l,h){let p=t+It,g;return e.firstCreatePass?(g=Td(e,p,4,s||null,a||null),tm()&&YC(e,n,g,Un(e.consts,l),PC),qb(e,g)):g=e.data[p],cD(g,n,e,t,r,i,o,u),Wa(g)&&ly(e,n,g),l!=null&&dy(n,g,h),g}function ld(n,e,t,r,i,o,s,a,u,l,h){let p=t+It,g;if(e.firstCreatePass){if(g=Td(e,p,4,s||null,a||null),l!=null){let y=Un(e.consts,l);g.localNames=[];for(let R=0;R<y.length;R+=2)g.localNames.push(y[R],-1)}}else g=e.data[p];return cD(g,n,e,t,r,i,o,u),l!=null&&dy(n,g,h),g}function Wn(n,e,t,r,i,o,s,a){let u=me(),l=St(),h=Un(l.consts,o);return eO(u,l,n,e,t,r,i,h,void 0,s,a),Wn}var tO=nO;function nO(n,e,t,r){return Kl(!0),e[Ve].createComment("")}var my=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function uD(n){return typeof n=="function"&&n[kt]!==void 0}function yy(n){return uD(n)&&typeof n.set=="function"}var vy=new q("");function ii(n){return!!n&&typeof n.then=="function"}function _y(n){return!!n&&typeof n.subscribe=="function"}var lD=new q("");var Ey=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=V(lD,{optional:!0})??[];injector=V(Kt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Tt(this.injector,i);if(ii(o))t.push(o);else if(_y(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Rd=new q("");function dD(){Jp(()=>{let n="";throw new $(600,n)})}function hD(n){return n.isBoundToModule}var rO=10;var oo=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=V(Hn);afterRenderManager=V(TC);zonelessEnabled=V(Ja);rootEffectScheduler=V(mm);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ot;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=V(ei);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Oe(t=>!t))}constructor(){V(uc,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=V(nt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Kt.NULL){return this._injector.get(Ft).run(()=>{xe(Ie.BootstrapComponentStart);let s=t instanceof Sd;if(!this._injector.get(Ey).done){let R="";throw new $(405,R)}let u;s?u=t:u=this._injector.get(dc).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=hD(u)?void 0:this._injector.get(to),h=r||u.selector,p=u.create(i,[],h,l),g=p.location.nativeElement,y=p.injector.get(vy,null);return y?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),Xa(this.components,p),y?.unregisterApplication(g)}),this._loadComponent(p),xe(Ie.BootstrapComponentEnd,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){xe(Ie.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(sy.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw xe(Ie.ChangeDetectionEnd),new $(101,!1);let t=Q(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Q(t),this.afterTick.next(),xe(Ie.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(eo,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<rO;){xe(Ie.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{xe(Ie.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Qa(i))continue;let o=r&&!this.zonelessEnabled?0:1;jC(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Qa(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Xa(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Rd,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Xa(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new $(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Xa(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function xd(n,e,t,r){let i=me(),o=Yi();if(Er(i,o,e)){let s=St(),a=Gl();OP(a,i,n,e,t,r)}return xd}var Rq=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Bm=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function bm(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function iO(n,e,t,r){let i,o,s=0,a=n.length-1,u=void 0;if(Array.isArray(e)){Q(r);let l=e.length-1;for(Q(null);s<=a&&s<=l;){let h=n.at(s),p=e[s],g=bm(s,h,s,p,t);if(g!==0){g<0&&n.updateValue(s,p),s++;continue}let y=n.at(a),R=e[l],O=bm(a,y,l,R,t);if(O!==0){O<0&&n.updateValue(a,R),a--,l--;continue}let S=t(s,h),N=t(a,y),J=t(s,p);if(Object.is(J,N)){let Ee=t(l,R);Object.is(Ee,S)?(n.swap(s,a),n.updateValue(a,R),l--,a--):n.move(a,s),n.updateValue(s,p),s++;continue}if(i??=new dd,o??=kb(n,s,a,t),Hm(n,i,s,J))n.updateValue(s,p),s++,a++;else if(o.has(J))i.set(S,n.detach(s)),a--;else{let Ee=n.create(s,e[s]);n.attach(s,Ee),s++,a++}}for(;s<=l;)Pb(n,i,t,s,e[s]),s++}else if(e!=null){Q(r);let l=e[Symbol.iterator]();Q(null);let h=l.next();for(;!h.done&&s<=a;){let p=n.at(s),g=h.value,y=bm(s,p,s,g,t);if(y!==0)y<0&&n.updateValue(s,g),s++,h=l.next();else{i??=new dd,o??=kb(n,s,a,t);let R=t(s,g);if(Hm(n,i,s,R))n.updateValue(s,g),s++,a++,h=l.next();else if(!o.has(R))n.attach(s,n.create(s,g)),s++,a++,h=l.next();else{let O=t(s,p);i.set(O,n.detach(s)),a--}}}for(;!h.done;)Pb(n,i,t,n.length,h.value),h=l.next()}for(;s<=a;)n.destroy(n.detach(a--));i?.forEach(l=>{n.destroy(l)})}function Hm(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function Pb(n,e,t,r,i){if(Hm(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function kb(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var dd=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function fe(n,e,t,r,i,o,s,a){qn("NgControlFlow");let u=me(),l=St(),h=Un(l.consts,o);return ld(u,l,n,e,t,r,i,h,256,s,a),Iy}function Iy(n,e,t,r,i,o,s,a){qn("NgControlFlow");let u=me(),l=St(),h=Un(l.consts,o);return ld(u,l,n,e,t,r,i,h,512,s,a),Iy}function pe(n,e){qn("NgControlFlow");let t=me(),r=Yi(),i=t[r]!==Xt?t[r]:-1,o=i!==-1?hd(t,It+i):void 0,s=0;if(Er(t,r,n)){let a=Q(null);try{if(o!==void 0&&qC(o,s),n!==-1){let u=It+n,l=hd(t,u),h=Gm(t[Z],u),p=WC(l,h,t),g=Cd(t,h,e,{dehydratedView:p});Dd(l,g,s,tc(h,p))}}finally{Q(a)}}else if(o!==void 0){let a=zC(o,s);a!==void 0&&(a[He]=e)}}var $m=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-$e}};function Md(n){return n}function fc(n,e){return e}var zm=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function At(n,e,t,r,i,o,s,a,u,l,h,p,g){qn("NgControlFlow");let y=me(),R=St(),O=u!==void 0,S=me(),N=a?s.bind(S[Qt][He]):s,J=new zm(O,N);S[It+n]=J,ld(y,R,n+1,e,t,r,i,Un(R.consts,o),256),O&&ld(y,R,n+2,u,l,h,p,Un(R.consts,g),512)}var qm=class extends Bm{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-$e}at(e){return this.getLView(e)[He].$implicit}attach(e,t){let r=t[es];this.needsIndexUpdate||=e!==this.length,Dd(this.lContainer,t,e,tc(this.templateTNode,r)),oO(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,sO(this.lContainer,e),aO(this.lContainer,e)}create(e,t){let r=Fm(this.lContainer,this.templateTNode.tView.ssrId);return Cd(this.hostLView,this.templateTNode,new $m(this.lContainer,t,e),{dehydratedView:r})}destroy(e){wd(e[Z],e)}updateValue(e,t){this.getLView(e)[He].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[He].$index=e}getLView(e){return cO(this.lContainer,e)}};function Rt(n){let e=Q(null),t=_r();try{let r=me(),i=r[Z],o=r[t],s=t+1,a=hd(r,s);if(o.liveCollection===void 0){let l=Gm(i,s);o.liveCollection=new qm(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(iO(u,n,o.trackByFn,e),u.updateIndexes(),o.hasEmptyBlock){let l=Yi(),h=u.length===0;if(Er(r,l,h)){let p=t+2,g=hd(r,p);if(h){let y=Gm(i,p),R=WC(g,y,r),O=Cd(r,y,void 0,{dehydratedView:R});Dd(g,O,0,tc(y,R))}else i.firstUpdatePass&&ck(g),qC(g,0)}}}finally{Q(e)}}function hd(n,e){return n[e]}function oO(n,e){if(n.length<=$e)return;let t=$e+e,r=n[t],i=r?r[Ki]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[yr];lP(o,i),Xi.delete(r[vr]),i.detachedLeaveAnimationFns=void 0}}function sO(n,e){if(n.length<=$e)return;let t=$e+e,r=n[t],i=r?r[Ki]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function aO(n,e){return rc(n,e)}function cO(n,e){return zC(n,e)}function Gm(n,e){return Ka(n,e)}function ke(n,e,t){let r=me(),i=Yi();if(Er(r,i,e)){let o=St(),s=Gl();NC(s,r,n,e,r[Ve],t)}return ke}function Ob(n,e,t,r,i){hy(e,n,t,i?"class":"style",r)}function I(n,e,t,r){let i=me(),o=i[Z],s=n+It,a=o.firstCreatePass?ZC(s,i,2,e,PC,tm(),t,r):o.data[s];if(VP(a,i,n,e,uO),Wa(a)){let u=i[Z];ly(u,i,a),fC(u,a,i)}return r!=null&&dy(i,a),I}function C(){let n=St(),e=Jt(),t=jP(e);return n.firstCreatePass&&XC(n,t),$0(t)&&z0(),B0(),t.classesWithoutHost!=null&&EN(t)&&Ob(n,t,me(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&IN(t)&&Ob(n,t,me(),t.stylesWithoutHost,!1),C}function X(n,e,t,r){return I(n,e,t,r),C(),X}var uO=(n,e,t,r,i)=>(Kl(!0),yC(e[Ve],r,rb()));function Lt(){return me()}var pc="en-US";var lO=pc;function fD(n){typeof n=="string"&&(lO=n.toLowerCase().replace(/_/g,"-"))}function Re(n,e,t){let r=me(),i=St(),o=Jt();return pD(i,r,r[Ve],o,n,e,t),Re}function pD(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=Em(r,e,o),Ck(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let g=h[p],y=h[p+1];u??=Em(r,e,o),Rb(r,e,g,y,i,u)}if(l&&l.length)for(let p of l)u??=Em(r,e,o),Rb(r,e,p,i,i,u)}}function U(n=1){return nb(n)}function Ql(n,e){return n<<17|e<<2}function no(n){return n>>17&32767}function dO(n){return(n&2)==2}function hO(n,e){return n&131071|e<<17}function Wm(n){return n|2}function us(n){return(n&131068)>>2}function Cm(n,e){return n&-131069|e<<2}function fO(n){return(n&1)===1}function Km(n){return n|1}function pO(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=no(s),u=us(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Zo(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let g=no(n[a+1]);n[r+1]=Ql(g,a),g!==0&&(n[g+1]=Cm(n[g+1],r)),n[a+1]=hO(n[a+1],r)}else n[r+1]=Ql(a,0),a!==0&&(n[a+1]=Cm(n[a+1],r)),a=r;else n[r+1]=Ql(u,0),a===0?a=r:n[u+1]=Cm(n[u+1],r),u=r;l&&(n[r+1]=Wm(n[r+1])),Fb(n,h,r,!0),Fb(n,h,r,!1),gO(e,h,n,r,o),s=Ql(a,u),o?e.classBindings=s:e.styleBindings=s}function gO(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Zo(o,e)>=0&&(t[r+1]=Km(t[r+1]))}function Fb(n,e,t,r){let i=n[t+1],o=e===null,s=r?no(i):us(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];mO(u,e)&&(a=!0,n[s+1]=r?Km(l):Wm(l)),s=r?no(l):us(l)}a&&(n[t+1]=r?Wm(i):Km(i))}function mO(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Zo(n,e)>=0:!1}function Kn(n,e,t){return gD(n,e,t,!1),Kn}function je(n,e){return gD(n,e,null,!0),je}function gD(n,e,t,r){let i=me(),o=St(),s=am(2);if(o.firstUpdatePass&&vO(o,n,s,r),e!==Xt&&Er(i,s,e)){let a=o.data[_r()];bO(o,a,i,i[Ve],n,i[s+1]=CO(e,t),r,s)}}function yO(n,e){return e>=n.expandoStartIndex}function vO(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[_r()],s=yO(n,t);DO(o,r)&&e===null&&!s&&(e=!1),e=_O(i,o,e,r),pO(i,o,e,t,s,r)}}function _O(n,e,t,r){let i=Z0(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Dm(null,n,e,t,r),t=oc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Dm(i,n,e,t,r),o===null){let u=EO(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Dm(null,n,e,u[1],r),u=oc(u,e.attrs,r),IO(n,e,r,u))}else o=wO(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function EO(n,e,t){let r=t?e.classBindings:e.styleBindings;if(us(r)!==0)return n[no(r)]}function IO(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[no(i)]=r}function wO(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=oc(r,s,t)}return oc(r,e.attrs,t)}function Dm(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=oc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function oc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),T0(n,s,t?!0:e[++o]))}return n===void 0?null:n}function bO(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=fO(l)?Lb(u,e,t,i,us(l),s):void 0;if(!fd(h)){fd(o)||dO(l)&&(o=Lb(u,null,t,i,a,s));let p=Jg(_r(),t);DP(r,s,p,i,o)}}function Lb(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=t[i+1];g===Xt&&(g=p?Wt:void 0);let y=p?Vl(g,r):h===r?g:void 0;if(l&&!fd(y)&&(y=Vl(u,r)),fd(y)&&(a=y,s))return a;let R=n[i+1];i=s?no(R):us(R)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Vl(u,r))}return a}function fd(n){return n!==void 0}function CO(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=fr(cc(n)))),n}function DO(n,e){return(n.flags&(e?8:16))!==0}function k(n,e=""){let t=me(),r=St(),i=n+It,o=r.firstCreatePass?Td(r,i,1,e,null):r.data[i],s=TO(r,t,o,e);t[i]=s,Wl()&&cy(r,t,s,o),is(o,!1)}var TO=(n,e,t,r)=>(Kl(!0),zN(e[Ve],r));function SO(n,e,t,r=""){return Er(n,Yi(),t)?e+Jo(t)+r:Xt}function AO(n,e,t,r,i,o=""){let s=W0(),a=jm(n,s,t,i);return am(2),a?e+Jo(t)+r+Jo(i)+o:Xt}function ce(n){return Ye("",n),ce}function Ye(n,e,t){let r=me(),i=SO(r,n,e,t);return i!==Xt&&mD(r,_r(),i),Ye}function Nd(n,e,t,r,i){let o=me(),s=AO(o,n,e,t,r,i);return s!==Xt&&mD(o,_r(),s),Nd}function mD(n,e,t){let r=Jg(e,n);qN(n[Ve],r,t)}function ct(n,e,t){yy(e)&&(e=e());let r=me(),i=Yi();if(Er(r,i,e)){let o=St(),s=Gl();NC(s,r,n,e,r[Ve],t)}return ct}function wt(n,e){let t=yy(n);return t&&n.set(e),t}function ut(n,e){let t=me(),r=St(),i=Jt();return pD(r,t,t[Ve],i,n,e),ut}function Vb(n,e,t){let r=St();r.firstCreatePass&&yD(e,r.data,r.blueprint,jn(n),t)}function yD(n,e,t,r,i){if(n=Et(n),Array.isArray(n))for(let o=0;o<n.length;o++)yD(n[o],e,t,r,i);else{let o=St(),s=me(),a=Jt(),u=Ui(n)?n:Et(n.provide),l=qg(n),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Ui(n)||!n.multi){let y=new Zi(l,i,le,null),R=Sm(u,e,i?h:h+g,p);R===-1?(Rm(nd(a,s),o,u),Tm(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[R]=y,s[R]=y)}else{let y=Sm(u,e,h+g,p),R=Sm(u,e,h,h+g),O=y>=0&&t[y],S=R>=0&&t[R];if(i&&!S||!i&&!O){Rm(nd(a,s),o,u);let N=MO(i?xO:RO,t.length,i,r,l,n);!i&&S&&(t[R].providerFactory=N),Tm(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(N),s.push(N)}else{let N=vD(t[i?R:y],l,!i&&r);Tm(o,n,y>-1?y:R,N)}!i&&r&&S&&t[R].componentProviders++}}}function Tm(n,e,t,r){let i=Ui(e),o=x0(e);if(i||o){let u=(o?Et(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function vD(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Sm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function RO(n,e,t,r,i){return Qm(this.multi,[])}function xO(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=rd(r,r[Z],this.providerFactory.index,i);s=u.slice(0,a),Qm(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],Qm(o,s);return s}function Qm(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function MO(n,e,t,r,i,o){let s=new Zi(n,t,le,null);return s.multi=[],s.index=e,s.componentProviders=0,vD(s,i,r&&!t),s}function ls(n,e){return t=>{t.providersResolver=(r,i)=>Vb(r,i?i(n):n,!1),e&&(t.viewProvidersResolver=(r,i)=>Vb(r,i?i(e):e,!0))}}function gc(n,e){let t=sm()+n,r=me();return r[t]===Xt?nD(r,t,e()):wk(r,t)}function Pd(n,e,t,r,i,o,s){return PO(me(),sm(),n,e,t,r,i,o)}function NO(n,e){let t=n[e];return t===Xt?void 0:t}function PO(n,e,t,r,i,o,s,a,u){let l=e+t;return bk(n,l,i,o,s,a)?nD(n,l+4,u?r.call(u,i,o,s,a):r(i,o,s,a)):NO(n,l+4)}var pd=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},wy=(()=>{class n{compileModuleSync(t){return new ud(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Fg(t),o=IC(i.declarations).reduce((s,a)=>{let u=Qr(a);return u&&s.push(new cs(u)),s},[]);return new pd(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _D=(()=>{class n{applicationErrorHandler=V(Hn);appRef=V(oo);taskService=V(ei);ngZone=V(Ft);zonelessEnabled=V(Ja);tracing=V(uc,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new yt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(La):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(V(gm,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let t=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(t);return}this.switchToMicrotaskScheduler(),this.taskService.remove(t)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let t=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})})}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?ab:hm;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(La+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.applicationErrorHandler(r)}finally{this.taskService.remove(t),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function by(){return qn("NgZoneless"),Ba([...Cy(),[]])}function Cy(){return[{provide:Yo,useExisting:_D},{provide:Ft,useClass:Va},{provide:Ja,useValue:!0}]}function kO(){return typeof $localize<"u"&&$localize.locale||pc}var kd=new q("",{factory:()=>V(kd,{optional:!0,skipSelf:!0})||kO()});function so(n,e){return nl(n,e?.equal)}var CD=Symbol("InputSignalNode#UNSET"),ZO=z(P({},rl),{transformFn:void 0,applyValueToInputSignal(n,e){Aa(n,e)}});function DD(n,e){let t=Object.create(ZO);t.value=n,t.transformFn=e?.transform;function r(){if(Da(t),t.value===CD){let i=null;throw new $(-950,i)}return t.value}return r[kt]=t,r}function ED(n,e){return DD(n,e)}function XO(n){return DD(CD,n)}var TD=(ED.required=XO,ED);var Dy=new q(""),eF=new q("");function mc(n){return!n.moduleRef}function tF(n){let e=mc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ft);return t.run(()=>{mc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Hn),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),mc(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Dy);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Dy);s.add(o),n.moduleRef.onDestroy(()=>{Xa(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return rF(r,t,()=>{let o=e.get(ei),s=o.add(),a=e.get(Ey);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(kd,pc);if(fD(u||pc),!e.get(eF,!0))return mc(n)?e.get(oo):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(mc(n)){let h=e.get(oo);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return nF?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>{o.remove(s)})})})}var nF;function rF(n,e,t){try{let r=t();return ii(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Od=null;function iF(n=[],e){return Kt.create({name:e,providers:[{provide:Ha,useValue:"platform"},{provide:Dy,useValue:new Set([()=>Od=null])},...n]})}function oF(n=[]){if(Od)return Od;let e=iF(n);return Od=e,dD(),sF(e),e}function sF(n){let e=n.get(yd,null);Tt(n,()=>{e?.forEach(t=>t())})}var aF=1e4;var JY=aF-1e3;var ao=(()=>{class n{static __NG_ELEMENT_ID__=cF}return n})();function cF(n){return uF(Jt(),me(),(n&16)===16)}function uF(n,e,t){if(Zr(n)&&!t){let r=cn(n.index,e);return new ti(r,r)}else if(n.type&175){let r=e[Qt];return new ti(r,e)}return null}var Ty=class{constructor(){}supports(e){return gy(e)}create(e){return new Sy(e)}},lF=(n,e)=>e,Sy=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||lF}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<ID(r,i,o)?t:r,a=ID(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let y=g<o.length?o[g]:o[g]=0,R=y+g;h<=R&&R<l&&(o[g]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!gy(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,eD(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Ay(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Fd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Fd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Ay=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Ry=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Fd=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Ry,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function ID(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function wD(){return new My([new Ty])}var My=(()=>{class n{factories;static \u0275prov=W({token:n,providedIn:"root",factory:wD});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=V(n,{optional:!0,skipSelf:!0});return n.create(t,r||wD())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new $(901,!1)}}return n})();function SD(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;xe(Ie.BootstrapApplicationStart);try{let o=i?.injector??oF(r),s=[Cy(),ub,...t||[]],a=new ic({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return tF({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{xe(Ie.BootstrapApplicationEnd)}}function br(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Ny(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}var AD=null;function un(){return AD}function Py(n){AD??=n}var yc=class{},Vd=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>V(RD),providedIn:"platform"})}return n})();var RD=(()=>{class n extends Vd{_location;_history;_doc=V(rt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return un().getBaseHref(this._doc)}onPopState(t){let r=un().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=un().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function ND(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function xD(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function oi(n){return n&&n[0]!=="?"?`?${n}`:n}var jd=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>V(hF),providedIn:"root"})}return n})(),dF=new q(""),hF=(()=>{class n extends jd{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ND(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+oi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+oi(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+oi(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(se(Vd),se(dF,8))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ds=(()=>{class n{_subject=new ot;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=gF(xD(MD(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+oi(r))}normalize(t){return n.stripTrailingSlash(pF(this._basePath,MD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+oi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+oi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=oi;static joinWithSlash=ND;static stripTrailingSlash=xD;static \u0275fac=function(r){return new(r||n)(se(jd))};static \u0275prov=W({token:n,factory:()=>fF(),providedIn:"root"})}return n})();function fF(){return new ds(se(jd))}function pF(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function MD(n){return n.replace(/\/index.html$/,"")}function gF(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var ky=/\s+/,PD=[],Oy=(()=>{class n{_ngEl;_renderer;initialClasses=PD;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(ky):PD}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(ky):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(ky).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(le(wr),le(ni))};static \u0275dir=Qe({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Ud=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Hd=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Ud(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),kD(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);kD(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(le(io),le(lc),le(My))};static \u0275dir=Qe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function kD(n,e){n.context.$implicit=e.item}var vc=(()=>{class n{_viewContainer;_context=new Bd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){OD(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){OD(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(le(io),le(lc))};static \u0275dir=Qe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Bd=class{$implicit=null;ngIf=null};function OD(n,e){if(n&&!n.createEmbeddedView)throw new $(2020,!1)}var si=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ri({type:n});static \u0275inj=mr({})}return n})();function Fy(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var _c=class{};var LD="browser";var VD=n=>n.src,mF=new q("",{factory:()=>VD});var FD=/^((\s*\d+w\s*(,|$)){1,})$/;var yF=[1,2],vF=640;var _F=1920,EF=1080;var jD=(()=>{class n{imageLoader=V(mF);config=IF(V(Ed));renderer=V(ni);imgElement=V(wr).nativeElement;injector=V(Kt);destroyRef=V(Bn);lcpObserver;_renderedSrc=null;ngSrc;ngSrcset;sizes;width;height;decoding;loading;priority=!1;loaderParams;disableOptimizedSrcset=!1;fill=!1;placeholder;placeholderConfig;src;srcset;constructor(){}ngOnInit(){qn("NgOptimizedImage"),this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("decoding",this.getDecoding()),this.setHostAttribute("ng-img","true");let t=this.updateSrcAndSrcset();this.sizes?this.getLoadingBehavior()==="lazy"?this.setHostAttribute("sizes","auto, "+this.sizes):this.setHostAttribute("sizes",this.sizes):this.ngSrcset&&FD.test(this.ngSrcset)&&this.getLoadingBehavior()==="lazy"&&this.setHostAttribute("sizes","auto, 100vw")}ngOnChanges(t){if(t.ngSrc&&!t.ngSrc.isFirstChange()){let r=this._renderedSrc;this.updateSrcAndSrcset(!0)}}callImageLoader(t){let r=t;return this.loaderParams&&(r.loaderParams=this.loaderParams),this.imageLoader(r)}getLoadingBehavior(){return!this.priority&&this.loading!==void 0?this.loading:this.priority?"eager":"lazy"}getFetchPriority(){return this.priority?"high":"auto"}getDecoding(){return this.priority?"sync":this.decoding??"auto"}getRewrittenSrc(){if(!this._renderedSrc){let t={src:this.ngSrc};this._renderedSrc=this.callImageLoader(t)}return this._renderedSrc}getRewrittenSrcset(){let t=FD.test(this.ngSrcset);return this.ngSrcset.split(",").filter(i=>i!=="").map(i=>{i=i.trim();let o=t?parseFloat(i):parseFloat(i)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:o})} ${i}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){let{breakpoints:t}=this.config,r=t;return this.sizes?.trim()==="100vw"&&(r=t.filter(o=>o>=vF)),r.map(o=>`${this.callImageLoader({src:this.ngSrc,width:o})} ${o}w`).join(", ")}updateSrcAndSrcset(t=!1){t&&(this._renderedSrc=null);let r=this.getRewrittenSrc();this.setHostAttribute("src",r);let i;return this.ngSrcset?i=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(i=this.getAutomaticSrcset()),i&&this.setHostAttribute("srcset",i),i}getFixedSrcset(){return yF.map(r=>`${this.callImageLoader({src:this.ngSrc,width:this.width*r})} ${r}x`).join(", ")}shouldGenerateAutomaticSrcset(){let t=!1;return this.sizes||(t=this.width>_F||this.height>EF),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==VD&&!t}generatePlaceholder(t){let{placeholderResolution:r}=this.config;return t===!0?`url(${this.callImageLoader({src:this.ngSrc,width:r,isPlaceholder:!0})})`:typeof t=="string"?`url(${t})`:null}shouldBlurPlaceholder(t){return!t||!t.hasOwnProperty("blur")?!0:!!t.blur}removePlaceholderOnLoad(t){let r=()=>{let s=this.injector.get(ao);i(),o(),this.placeholder=!1,s.markForCheck()},i=this.renderer.listen(t,"load",r),o=this.renderer.listen(t,"error",r);this.destroyRef.onDestroy(()=>{i(),o()}),wF(t,r)}setHostAttribute(t,r){this.renderer.setAttribute(this.imgElement,t,r)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Qe({type:n,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function(r,i){r&2&&Kn("position",i.fill?"absolute":null)("width",i.fill?"100%":null)("height",i.fill?"100%":null)("inset",i.fill?"0":null)("background-size",i.placeholder?"cover":null)("background-position",i.placeholder?"50% 50%":null)("background-repeat",i.placeholder?"no-repeat":null)("background-image",i.placeholder?i.generatePlaceholder(i.placeholder):null)("filter",i.placeholder&&i.shouldBlurPlaceholder(i.placeholderConfig)?"blur(15px)":null)},inputs:{ngSrc:[2,"ngSrc","ngSrc",bF],ngSrcset:"ngSrcset",sizes:"sizes",width:[2,"width","width",Ny],height:[2,"height","height",Ny],decoding:"decoding",loading:"loading",priority:[2,"priority","priority",br],loaderParams:"loaderParams",disableOptimizedSrcset:[2,"disableOptimizedSrcset","disableOptimizedSrcset",br],fill:[2,"fill","fill",br],placeholder:[2,"placeholder","placeholder",CF],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},features:[Ir]})}return n})();function IF(n){let e={};return n.breakpoints&&(e.breakpoints=n.breakpoints.sort((t,r)=>t-r)),Object.assign({},_d,n,e)}function wF(n,e){n.complete&&n.naturalWidth&&e()}function bF(n){return typeof n=="string"?n:cc(n)}function CF(n){return typeof n=="string"&&n!=="true"&&n!=="false"&&n!==""?n:br(n)}var Ec=class{_doc;constructor(e){this._doc=e}manager},$d=(()=>{class n extends Ec{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(se(rt))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),Gd=new q(""),By=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof $d));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof $d);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new $(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(se(Gd),se(Ft))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),Vy="ng-app-id";function UD(n){for(let e of n)e.remove()}function BD(n,e){let t=e.createElement("style");return t.textContent=n,t}function DF(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Vy}="${e}"],link[${Vy}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Vy),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Uy(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Hy=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,DF(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,BD);r?.forEach(i=>this.addUsage(i,this.external,Uy))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(UD(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])UD(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,BD(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Uy(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(se(rt),se(md),se(vd,8),se(ac))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),jy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},$y=/%COMP%/g;var $D="%COMP%",TF=`_nghost-${$D}`,SF=`_ngcontent-${$D}`,AF=!0,RF=new q("",{factory:()=>AF});function xF(n){return SF.replace($y,n)}function MF(n){return TF.replace($y,n)}function zD(n,e){return e.map(t=>t.replace($y,n))}var zy=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(t,r,i,o,s,a,u=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=u,this.tracingService=l,this.defaultRenderer=new Ic(t,s,a,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof qd?i.applyToHost(t):i instanceof wc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.tracingService;switch(r.encapsulation){case wn.Emulated:o=new qd(u,l,r,this.appId,h,s,a,p);break;case wn.ShadowDom:return new zd(u,t,r,s,a,this.nonce,p,l);case wn.ExperimentalIsolatedShadowDom:return new zd(u,t,r,s,a,this.nonce,p);default:o=new wc(u,l,r,h,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(se(By),se(Hy),se(md),se(RF),se(rt),se(Ft),se(vd),se(uc,8))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),Ic=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(jy[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(HD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(HD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=jy[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=jy[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(zn.DashCase|zn.Important)?e.style.setProperty(t,r,i&zn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&zn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=un().getGlobalEventTarget(this.doc,e),!e))throw new $(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function HD(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var zd=class extends Ic{hostEl;sharedStylesHost;shadowRoot;constructor(e,t,r,i,o,s,a,u){super(e,i,o,a),this.hostEl=t,this.sharedStylesHost=u,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=zD(r.id,l);for(let p of l){let g=document.createElement("style");s&&g.setAttribute("nonce",s),g.textContent=p,this.shadowRoot.appendChild(g)}let h=r.getExternalStyles?.();if(h)for(let p of h){let g=Uy(p,i);s&&g.setAttribute("nonce",s),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},wc=class extends Ic{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=u?zD(u,l):l,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Xi.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},qd=class extends wc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,t,r,o,s,a,u,l),this.contentAttr=xF(l),this.hostAttr=MF(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Wd=class n extends yc{supportsDOMEvents=!0;static makeCurrent(){Py(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=NF();return t==null?null:PF(t)}resetBaseElement(){bc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Fy(document.cookie,e)}},bc=null;function NF(){return bc=bc||document.head.querySelector("base"),bc?bc.getAttribute("href"):null}function PF(n){return new URL(n,document.baseURI).pathname}var kF=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),qD=["alt","control","meta","shift"],OF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},FF={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},GD=(()=>{class n extends Ec{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>un().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),qD.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=OF[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),qD.forEach(s=>{if(s!==i){let a=FF[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(se(rt))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})();async function qy(n,e,t){let r=P({rootComponent:n},LF(e,t));return SD(r)}function LF(n,e){return{platformRef:e?.platformRef,appProviders:[...HF,...n?.providers??[]],platformProviders:BF}}function VF(){Wd.makeCurrent()}function jF(){return new pr}function UF(){return Zm(document),document}var BF=[{provide:ac,useValue:LD},{provide:yd,useValue:VF,multi:!0},{provide:rt,useFactory:UF}];var HF=[{provide:Ha,useValue:"root"},{provide:pr,useFactory:jF},{provide:Gd,useClass:$d,multi:!0},{provide:Gd,useClass:GD,multi:!0},zy,Hy,By,{provide:eo,useExisting:zy},{provide:_c,useClass:kF},[]];var WD=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(se(rt))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ee="primary",Oc=Symbol("RouteTitle"),Yy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function lo(n){return new Yy(n)}function Gy(n,e,t){for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(i[0]===":")t[i.substring(1)]=o;else if(i!==o.path)return!1}return!0}function rT(n,e,t){let r=t.path.split("/"),i=r.indexOf("**");if(i===-1){if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let u={},l=n.slice(0,r.length);return Gy(r,l,u)?{consumed:l,posParams:u}:null}if(i!==r.lastIndexOf("**"))return null;let o=r.slice(0,i),s=r.slice(i+1);if(o.length+s.length>n.length||t.pathMatch==="full"&&e.hasChildren()&&t.path!=="**")return null;let a={};return!Gy(o,n.slice(0,o.length),a)||!Gy(s,n.slice(n.length-s.length),a)?null:{consumed:n,posParams:a}}function Xd(n){return new Promise((e,t)=>{n.pipe(lr()).subscribe({next:r=>e(r),error:r=>t(r)})})}function zF(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Qn(n[t],e[t]))return!1;return!0}function Qn(n,e){let t=n?Jy(n):void 0,r=e?Jy(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!iT(n[i],e[i]))return!1;return!0}function Jy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function iT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function qF(n){return n.length>0?n[n.length-1]:null}function po(n){return wl(n)?n:ii(n)?We(Promise.resolve(n)):ye(n)}function oT(n){return wl(n)?Xd(n):Promise.resolve(n)}var GF={exact:aT,subset:cT},sT={exact:WF,subset:KF,ignored:()=>!0};function KD(n,e,t){return GF[t.paths](n.root,e.root,t.matrixParams)&&sT[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function WF(n,e){return Qn(n,e)}function aT(n,e,t){if(!co(n.segments,e.segments)||!Yd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!aT(n.children[r],e.children[r],t))return!1;return!0}function KF(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>iT(n[t],e[t]))}function cT(n,e,t){return uT(n,e,e.segments,t)}function uT(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!co(i,t)||e.hasChildren()||!Yd(i,t,r))}else if(n.segments.length===t.length){if(!co(n.segments,t)||!Yd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!cT(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!co(n.segments,i)||!Yd(n.segments,i,r)||!n.children[ee]?!1:uT(n.children[ee],e,o,r)}}function Yd(n,e,t){return e.every((r,i)=>sT[t](n[i].parameters,r.parameters))}var Tn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new we([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=lo(this.queryParams),this._queryParamMap}toString(){return JF.serialize(this)}},we=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jd(this)}},ai=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=lo(this.parameters),this._parameterMap}toString(){return dT(this)}};function QF(n,e){return co(n,e)&&n.every((t,r)=>Qn(t.parameters,e[r].parameters))}function co(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function YF(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ee&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ee&&(t=t.concat(e(i,r)))}),t}var Fc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>new ci,providedIn:"root"})}return n})(),ci=class{parse(e){let t=new Xy(e);return new Tn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Cc(e.root,!0)}`,r=eL(e.queryParams),i=typeof e.fragment=="string"?`#${ZF(e.fragment)}`:"";return`${t}${r}${i}`}},JF=new ci;function Jd(n){return n.segments.map(e=>dT(e)).join("/")}function Cc(n,e){if(!n.hasChildren())return Jd(n);if(e){let t=n.children[ee]?Cc(n.children[ee],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ee&&r.push(`${i}:${Cc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=YF(n,(r,i)=>i===ee?[Cc(n.children[ee],!1)]:[`${i}:${Cc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ee]!=null?`${Jd(n)}/${t[0]}`:`${Jd(n)}/(${t.join("//")})`}}function lT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kd(n){return lT(n).replace(/%3B/gi,";")}function ZF(n){return encodeURI(n)}function Zy(n){return lT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zd(n){return decodeURIComponent(n)}function QD(n){return Zd(n.replace(/\+/g,"%20"))}function dT(n){return`${Zy(n.path)}${XF(n.parameters)}`}function XF(n){return Object.entries(n).map(([e,t])=>`;${Zy(e)}=${Zy(t)}`).join("")}function eL(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Kd(t)}=${Kd(i)}`).join("&"):`${Kd(t)}=${Kd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var tL=/^[^\/()?;#]+/;function Wy(n){let e=n.match(tL);return e?e[0]:""}var nL=/^[^\/()?;=#]+/;function rL(n){let e=n.match(nL);return e?e[0]:""}var iL=/^[^=?&#]+/;function oL(n){let e=n.match(iL);return e?e[0]:""}var sL=/^[^&#]+/;function aL(n){let e=n.match(sL);return e?e[0]:""}var Xy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ee]=new we(e,t)),r}parseSegment(){let e=Wy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new ai(Zd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=rL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Wy(this.remaining);i&&(r=i,this.capture(r))}e[Zd(t)]=Zd(r)}parseQueryParam(e){let t=oL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=aL(this.remaining);s&&(r=s,this.capture(r))}let i=QD(t),o=QD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Wy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ee);let s=this.parseChildren();t[o??ee]=Object.keys(s).length===1&&s[ee]?s[ee]:new we([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function hT(n){return n.segments.length>0?new we([],{[ee]:n}):n}function fT(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=fT(i);if(r===ee&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new we(n.segments,e);return cL(t)}function cL(n){if(n.numberOfChildren===1&&n.children[ee]){let e=n.children[ee];return new we(n.segments.concat(e.segments),e.children)}return n}function gs(n){return n instanceof Tn}function pT(n,e,t=null,r=null,i=new ci){let o=gT(n);return mT(o,e,t,r,i)}function gT(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new we(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=hT(r);return e??i}function mT(n,e,t,r,i){let o=n;for(;o.parent;)o=o.parent;if(e.length===0)return Ky(o,o,o,t,r,i);let s=uL(e);if(s.toRoot())return Ky(o,o,new we([],{}),t,r,i);let a=lL(s,o,n),u=a.processChildren?Tc(a.segmentGroup,a.index,s.commands):vT(a.segmentGroup,a.index,s.commands);return Ky(o,a.segmentGroup,u,t,r,i)}function eh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Rc(n){return typeof n=="object"&&n!=null&&n.outlets}function YD(n,e,t){n||="\u0275";let r=new Tn;return r.queryParams={[n]:e},t.parse(t.serialize(r)).queryParams[n]}function Ky(n,e,t,r,i,o){let s={};for(let[l,h]of Object.entries(r??{}))s[l]=Array.isArray(h)?h.map(p=>YD(l,p,o)):YD(l,h,o);let a;n===e?a=t:a=yT(n,e,t);let u=hT(fT(a));return new Tn(u,s,i)}function yT(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=yT(o,e,t)}),new we(n.segments,r)}var th=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&eh(r[0]))throw new $(4003,!1);let i=r.find(Rc);if(i&&i!==qF(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function uL(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new th(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new th(t,e,r)}var fs=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function lL(n,e,t){if(n.isAbsolute)return new fs(e,!0,0);if(!t)return new fs(e,!1,NaN);if(t.parent===null)return new fs(t,!0,0);let r=eh(n.commands[0])?0:1,i=t.segments.length-1+r;return dL(t,i,n.numberOfDoubleDots)}function dL(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new fs(r,!1,i-o)}function hL(n){return Rc(n[0])?n[0].outlets:{[ee]:n}}function vT(n,e,t){if(n??=new we([],{}),n.segments.length===0&&n.hasChildren())return Tc(n,e,t);let r=fL(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new we(n.segments.slice(0,r.pathIndex),{});return o.children[ee]=new we(n.segments.slice(r.pathIndex),n.children),Tc(o,0,i)}else return r.match&&i.length===0?new we(n.segments,{}):r.match&&!n.hasChildren()?ev(n,e,t):r.match?Tc(n,0,i):ev(n,e,t)}function Tc(n,e,t){if(t.length===0)return new we(n.segments,{});{let r=hL(t),i={};if(Object.keys(r).some(o=>o!==ee)&&n.children[ee]&&n.numberOfChildren===1&&n.children[ee].segments.length===0){let o=Tc(n.children[ee],e,t);return new we(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=vT(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new we(n.segments,i)}}function fL(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Rc(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!ZD(u,l,s))return o;r+=2}else{if(!ZD(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ev(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Rc(o)){let u=pL(o.outlets);return new we(r,u)}if(i===0&&eh(t[0])){let u=n.segments[e];r.push(new ai(u.path,JD(t[0]))),i++;continue}let s=Rc(o)?o.outlets[ee]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&eh(a)?(r.push(new ai(s,JD(a))),i+=2):(r.push(new ai(s,{})),i++)}return new we(r,{})}function pL(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=ev(new we([],{}),0,r))}),e}function JD(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function ZD(n,e,t){return n==t.path&&Qn(e,t.parameters)}var Sc="imperative",lt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(lt||{}),tn=class{id;url;constructor(e,t){this.id=e,this.url=t}},ho=class extends tn{type=lt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Dr=class extends tn{urlAfterRedirects;type=lt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},xt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(xt||{}),xc=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(xc||{}),ln=class extends tn{reason;code;type=lt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}};function _T(n){return n instanceof ln&&(n.code===xt.Redirect||n.code===xt.SupersededByNewNavigation)}var Tr=class extends tn{reason;code;type=lt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},fo=class extends tn{error;target;type=lt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ms=class extends tn{urlAfterRedirects;state;type=lt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nh=class extends tn{urlAfterRedirects;state;type=lt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rh=class extends tn{urlAfterRedirects;state;shouldActivate;type=lt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ih=class extends tn{urlAfterRedirects;state;type=lt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},oh=class extends tn{urlAfterRedirects;state;type=lt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sh=class{route;type=lt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ah=class{route;type=lt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ch=class{snapshot;type=lt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uh=class{snapshot;type=lt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lh=class{snapshot;type=lt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dh=class{snapshot;type=lt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ys=class{},vs=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function gL(n){return!(n instanceof ys)&&!(n instanceof vs)}var hh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return this.route?.snapshot._environmentInjector??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Is(this.rootInjector)}},Is=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new hh(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(se(nt))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=tv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=tv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=nv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return nv(e,this._root).map(t=>t.value)}};function tv(n,e){if(n===e.value)return e;for(let t of e.children){let r=tv(n,t);if(r)return r}return null}function nv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=nv(n,t);if(r.length)return r.unshift(e),r}return[]}var en=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function hs(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Mc=class extends fh{snapshot;constructor(e,t){super(e),this.snapshot=t,lv(this,e)}toString(){return this.snapshot.toString()}};function ET(n,e){let t=mL(n,e),r=new vt([new ai("",{})]),i=new vt({}),o=new vt({}),s=new vt({}),a=new vt(""),u=new ui(r,i,s,a,o,ee,n,t.root);return u.snapshot=t.root,new Mc(new en(u,[]),t)}function mL(n,e){let t={},r={},i={},s=new uo([],t,i,"",r,ee,n,null,{},e);return new Nc("",new en(s,[]))}var ui=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Oe(l=>l[Oc]))??ye(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Oe(e=>lo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Oe(e=>lo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ph(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:P(P({},e.params),n.params),data:P(P({},e.data),n.data),resolve:P(P(P(P({},n.data),e.data),i?.data),n._resolvedData)}:r={params:P({},n.params),data:P({},n.data),resolve:P(P({},n.data),n._resolvedData??{})},i&&wT(i)&&(r.resolve[Oc]=i.title),r}var uo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;_environmentInjector;get title(){return this.data?.[Oc]}constructor(e,t,r,i,o,s,a,u,l,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l,this._environmentInjector=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=lo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=lo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Nc=class extends fh{url;constructor(e,t){super(t),this.url=e,lv(this,t)}toString(){return IT(this._root)}};function lv(n,e){e.value._routerState=n,e.children.forEach(t=>lv(n,t))}function IT(n){let e=n.children.length>0?` { ${n.children.map(IT).join(", ")} } `:"";return`${n.value}${e}`}function Qy(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Qn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Qn(e.params,t.params)||n.paramsSubject.next(t.params),zF(e.url,t.url)||n.urlSubject.next(t.url),Qn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function rv(n,e){let t=Qn(n.params,e.params)&&QF(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||rv(n.parent,e.parent))}function wT(n){return typeof n.title=="string"||n.title===null}var bT=new q(""),Lc=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ee;activateEvents=new Ke;deactivateEvents=new Ke;attachEvents=new Ke;detachEvents=new Ke;routerOutletData=TD();parentContexts=V(Is);location=V(io);changeDetector=V(ao);inputBinder=V(vh,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new iv(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Qe({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ir]})}return n})(),iv=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===ui?this.route:e===Is?this.childContexts:e===bT?this.outletData:this.parent.get(e,t)}},vh=new q("");var dv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Cn({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&X(0,"router-outlet")},dependencies:[Lc],encapsulation:2})}return n})();function hv(n){let e=n.children&&n.children.map(hv),t=e?z(P({},n),{children:e}):P({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ee&&(t.component=dv),t}function yL(n,e,t){let r=Pc(n,e._root,t?t._root:void 0);return new Mc(r,e)}function Pc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=vL(n,e,t);return new en(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Pc(n,a)),s}}let r=_L(e.value),i=e.children.map(o=>Pc(n,o));return new en(r,i)}}function vL(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Pc(n,r,i);return Pc(n,r)})}function _L(n){return new ui(new vt(n.url),new vt(n.params),new vt(n.queryParams),new vt(n.fragment),new vt(n.data),n.outlet,n.component,n)}var _s=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},CT="ngNavigationCancelingError";function gh(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=gs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=DT(!1,xt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function DT(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[CT]=!0,t.cancellationCode=e,t}function EL(n){return TT(n)&&gs(n.url)}function TT(n){return!!n&&n[CT]}var ov=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Qy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=hs(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=hs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=hs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=hs(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new dh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new uh(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Qy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Qy(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},mh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ps=class{component;route;constructor(e,t){this.component=e,this.route=t}};function IL(n,e,t){let r=n._root,i=e?e._root:null;return Dc(r,i,t,[r.value])}function wL(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ws(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!xg(n)?n:e.get(n):r}function Dc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=hs(e);return n.children.forEach(s=>{bL(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ac(a,t.getContext(s),i)),i}function bL(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=CL(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new mh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Dc(n,e,a?a.children:null,r,i):Dc(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ps(a.outlet.component,s))}else s&&Ac(e,a,i),i.canActivateChecks.push(new mh(r)),o.component?Dc(n,null,a?a.children:null,r,i):Dc(n,null,t,r,i);return i}function CL(n,e,t){if(typeof t=="function")return Tt(e._environmentInjector,()=>t(n,e));switch(t){case"pathParamsChange":return!co(n.url,e.url);case"pathParamsOrQueryParamsChange":return!co(n.url,e.url)||!Qn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rv(n,e)||!Qn(n.queryParams,e.queryParams);default:return!rv(n,e)}}function Ac(n,e,t){let r=hs(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ac(s,e.children.getContext(o),t):Ac(s,null,t):Ac(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ps(e.outlet.component,i)):t.canDeactivateChecks.push(new ps(null,i)):t.canDeactivateChecks.push(new ps(null,i))}function Vc(n){return typeof n=="function"}function DL(n){return typeof n=="boolean"}function TL(n){return n&&Vc(n.canLoad)}function SL(n){return n&&Vc(n.canActivate)}function AL(n){return n&&Vc(n.canActivateChild)}function RL(n){return n&&Vc(n.canDeactivate)}function xL(n){return n&&Vc(n.canMatch)}function ST(n){return n instanceof Fi||n?.name==="EmptyError"}var Qd=Symbol("INITIAL_VALUE");function Es(){return dr(n=>ug(n.map(e=>e.pipe(ur(1),hg(Qd)))).pipe(Oe(e=>{for(let t of e)if(t!==!0){if(t===Qd)return Qd;if(t===!1||ML(t))return t}return!0}),cr(e=>e!==Qd),ur(1)))}function ML(n){return gs(n)||n instanceof _s}function AT(n){return n.aborted?ye(void 0).pipe(ur(1)):new _e(e=>{let t=()=>{e.next(),e.complete()};return n.addEventListener("abort",t),()=>n.removeEventListener("abort",t)})}function RT(n){return Pa(AT(n))}function NL(n){return Ot(e=>{let{targetSnapshot:t,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:o}}=e;return o.length===0&&i.length===0?ye(z(P({},e),{guardsResult:!0})):PL(o,t,r).pipe(Ot(s=>s&&DL(s)?kL(t,i,n):ye(s)),Oe(s=>z(P({},e),{guardsResult:s})))})}function PL(n,e,t){return We(n).pipe(Ot(r=>jL(r.component,r.route,t,e)),lr(r=>r!==!0,!0))}function kL(n,e,t){return We(e).pipe(Tl(r=>Wo(FL(r.route.parent,t),OL(r.route,t),VL(n,r.path),LL(n,r.route))),lr(r=>r!==!0,!0))}function OL(n,e){return n!==null&&e&&e(new lh(n)),ye(!0)}function FL(n,e){return n!==null&&e&&e(new ch(n)),ye(!0)}function LL(n,e){let t=e.routeConfig?e.routeConfig.canActivate:null;if(!t||t.length===0)return ye(!0);let r=t.map(i=>Ma(()=>{let o=e._environmentInjector,s=ws(i,o),a=SL(s)?s.canActivate(e,n):Tt(o,()=>s(e,n));return po(a).pipe(lr())}));return ye(r).pipe(Es())}function VL(n,e){let t=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(o=>wL(o)).filter(o=>o!==null).map(o=>Ma(()=>{let s=o.guards.map(a=>{let u=o.node._environmentInjector,l=ws(a,u),h=AL(l)?l.canActivateChild(t,n):Tt(u,()=>l(t,n));return po(h).pipe(lr())});return ye(s).pipe(Es())}));return ye(i).pipe(Es())}function jL(n,e,t,r){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return ye(!0);let o=i.map(s=>{let a=e._environmentInjector,u=ws(s,a),l=RL(u)?u.canDeactivate(n,e,t,r):Tt(a,()=>u(n,e,t,r));return po(l).pipe(lr())});return ye(o).pipe(Es())}function UL(n,e,t,r,i){let o=e.canLoad;if(o===void 0||o.length===0)return ye(!0);let s=o.map(a=>{let u=ws(a,n),l=TL(u)?u.canLoad(e,t):Tt(n,()=>u(e,t)),h=po(l);return i?h.pipe(RT(i)):h});return ye(s).pipe(Es(),xT(r))}function xT(n){return og(On(e=>{if(typeof e!="boolean")throw gh(n,e)}),Oe(e=>e===!0))}function BL(n,e,t,r,i){let o=e.canMatch;if(!o||o.length===0)return ye(!0);let s=o.map(a=>{let u=ws(a,n),l=xL(u)?u.canMatch(e,t):Tt(n,()=>u(e,t));return po(l).pipe(RT(i))});return ye(s).pipe(Es(),xT(r))}var Cr=class n extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,n.prototype)}},kc=class n extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,n.prototype)}};function HL(n){throw new $(4e3,!1)}function $L(n){throw DT(!1,xt.GuardRejected)}var sv=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}async lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[ee])throw HL(`${e.redirectTo}`);i=i.children[ee]}}async applyRedirectCommands(e,t,r,i,o){let s=await zL(t,i,o);if(s instanceof Tn)throw new kc(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new kc(a);return a}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Tn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new we(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function zL(n,e,t){if(typeof n=="string")return Promise.resolve(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p,paramMap:g,queryParamMap:y}=e;return Xd(po(Tt(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p,paramMap:g,queryParamMap:y}))))}function qL(n,e){return n.providers&&!n._injector&&(n._injector=hc(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Dn(n){return n.outlet||ee}function GL(n,e){let t=n.filter(r=>Dn(r)===e);return t.push(...n.filter(r=>Dn(r)!==e)),t}var av={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function WL(n,e,t,r,i,o){let s=MT(n,e,t);return s.matched?(r=qL(e,r),BL(r,e,t,i,o).pipe(Oe(a=>a===!0?s:P({},av)))):ye(s)}function MT(n,e,t){if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?P({},av):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||rT)(t,n,e);if(!i)return P({},av);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?P(P({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function XD(n,e,t,r){return t.length>0&&YL(n,t,r)?{segmentGroup:new we(e,QL(r,new we(t,n.children))),slicedSegments:[]}:t.length===0&&JL(n,t,r)?{segmentGroup:new we(n.segments,KL(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new we(n.segments,n.children),slicedSegments:t}}function KL(n,e,t,r){let i={};for(let o of t)if(_h(n,e,o)&&!r[Dn(o)]){let s=new we([],{});i[Dn(o)]=s}return P(P({},r),i)}function QL(n,e){let t={};t[ee]=e;for(let r of n)if(r.path===""&&Dn(r)!==ee){let i=new we([],{});t[Dn(r)]=i}return t}function YL(n,e,t){return t.some(r=>_h(n,e,r)&&Dn(r)!==ee)}function JL(n,e,t){return t.some(r=>_h(n,e,r))}function _h(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function ZL(n,e,t){return e.length===0&&!n.children[t]}var cv=class{};async function XL(n,e,t,r,i,o,s="emptyOnly",a){return new uv(n,e,t,r,i,s,o,a).recognize()}var eV=31,uv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a,u){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=u,this.applyRedirects=new sv(this.urlSerializer,this.urlTree)}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}async recognize(){let e=XD(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:r}=await this.match(e),i=new en(r,t),o=new Nc("",i),s=pT(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(e){let t=new uo([],Object.freeze({}),Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ee,this.rootComponentType,null,{},this.injector);try{return{children:await this.processSegmentGroup(this.injector,this.config,e,ee,t),rootSnapshot:t}}catch(r){if(r instanceof kc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Cr?this.noMatchError(r):r}}async processSegmentGroup(e,t,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,t,r,o);let s=await this.processSegment(e,t,r,r.segments,i,!0,o);return s instanceof en?[s]:[]}async processChildren(e,t,r,i){let o=[];for(let u of Object.keys(r.children))u==="primary"?o.unshift(u):o.push(u);let s=[];for(let u of o){let l=r.children[u],h=GL(t,u),p=await this.processSegmentGroup(e,h,l,u,i);s.push(...p)}let a=NT(s);return tV(a),a}async processSegment(e,t,r,i,o,s,a){for(let u of t)try{return await this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a)}catch(l){if(l instanceof Cr||ST(l))continue;throw l}if(ZL(r,i,o))return new cv;throw new Cr(r)}async processSegmentAgainstRoute(e,t,r,i,o,s,a,u){if(Dn(r)!==s&&(s===ee||!_h(i,o,r)))throw new Cr(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,o,s,u);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u);throw new Cr(i)}async expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=MT(t,i,o);if(!u)throw new Cr(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>eV&&(this.allowRedirects=!1));let y=new uo(o,l,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,eT(i),Dn(i),i.component??i._loadedComponent??null,i,tT(i),e),R=ph(y,a,this.paramsInheritanceStrategy);if(y.params=Object.freeze(R.params),y.data=Object.freeze(R.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let O=await this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e),S=await this.applyRedirects.lineralizeSegments(i,O);return this.processSegment(e,r,t,S.concat(g),s,!1,a)}async matchSegmentAgainstRoute(e,t,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await Xd(WL(t,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(t.children={}),!a?.matched)throw new Cr(t);e=r._injector??e;let{routes:u}=await this.getChildConfig(e,r,i),l=r._loadedInjector??e,{parameters:h,consumedSegments:p,remainingSegments:g}=a,y=new uo(p,h,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,eT(r),Dn(r),r.component??r._loadedComponent??null,r,tT(r),e),R=ph(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(R.params),y.data=Object.freeze(R.data);let{segmentGroup:O,slicedSegments:S}=XD(t,p,g,u);if(S.length===0&&O.hasChildren()){let Ee=await this.processChildren(l,u,O,y);return new en(y,Ee)}if(u.length===0&&S.length===0)return new en(y,[]);let N=Dn(r)===o,J=await this.processSegment(l,u,O,S,N?ee:o,!0,y);return new en(y,J instanceof en?[J]:[])}async getChildConfig(e,t,r){if(t.children)return{routes:t.children,injector:e};if(t.loadChildren){if(t._loadedRoutes!==void 0){let o=t._loadedNgModuleFactory;return o&&!t._loadedInjector&&(t._loadedInjector=o.create(e).injector),{routes:t._loadedRoutes,injector:t._loadedInjector}}if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await Xd(UL(e,t,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(e,t);return t._loadedRoutes=o.routes,t._loadedInjector=o.injector,t._loadedNgModuleFactory=o.factory,o}throw $L(t)}return{routes:[],injector:e}}};function tV(n){n.sort((e,t)=>e.value.outlet===ee?-1:t.value.outlet===ee?1:e.value.outlet.localeCompare(t.value.outlet))}function nV(n){let e=n.value.routeConfig;return e&&e.path===""}function NT(n){let e=[],t=new Set;for(let r of n){if(!nV(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=NT(r.children);e.push(new en(r.value,i))}return e.filter(r=>!t.has(r))}function eT(n){return n.data||{}}function tT(n){return n.resolve||{}}function rV(n,e,t,r,i,o,s){return Ot(async a=>{let{state:u,tree:l}=await XL(n,e,t,r,a.extractedUrl,i,o,s);return z(P({},a),{targetSnapshot:u,urlAfterRedirects:l})})}function iV(n){return Ot(e=>{let{targetSnapshot:t,guards:{canActivateChecks:r}}=e;if(!r.length)return ye(e);let i=new Set(r.map(a=>a.route)),o=new Set;for(let a of i)if(!o.has(a))for(let u of PT(a))o.add(u);let s=0;return We(o).pipe(Tl(a=>i.has(a)?oV(a,t,n):(a.data=ph(a,a.parent,n).resolve,ye(void 0))),On(()=>s++),Sl(1),Ot(a=>s===o.size?ye(e):_t))})}function PT(n){let e=n.children.map(t=>PT(t)).flat();return[n,...e]}function oV(n,e,t){let r=n.routeConfig,i=n._resolve;return r?.title!==void 0&&!wT(r)&&(i[Oc]=r.title),Ma(()=>(n.data=ph(n,n.parent,t).resolve,sV(i,n,e).pipe(Oe(o=>(n._resolvedData=o,n.data=P(P({},n.data),o),null)))))}function sV(n,e,t){let r=Jy(n);if(r.length===0)return ye({});let i={};return We(r).pipe(Ot(o=>aV(n[o],e,t).pipe(lr(),On(s=>{if(s instanceof _s)throw gh(new ci,s);i[o]=s}))),Sl(1),Oe(()=>i),Na(o=>ST(o)?_t:cg(o)))}function aV(n,e,t){let r=e._environmentInjector,i=ws(n,r),o=i.resolve?i.resolve(e,t):Tt(r,()=>i(e,t));return po(o)}function nT(n){return dr(e=>{let t=n(e);return t?We(t).pipe(Oe(()=>e)):ye(e)})}var fv=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ee);return r}getResolvedTitleForRoute(t){return t.data[Oc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>V(kT),providedIn:"root"})}return n})(),kT=(()=>{class n extends fv{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(se(WD))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jc=new q("",{factory:()=>({})}),Uc=new q(""),OT=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=V(wy);async loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await oT(Tt(t,()=>r.loadComponent())),s=await VT(LT(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await FT(r,this.compiler,t,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,r._loadedNgModuleFactory=o.factory,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();async function FT(n,e,t,r){let i=await oT(Tt(t,()=>n.loadChildren())),o=await VT(LT(i)),s;o instanceof Ad||Array.isArray(o)?s=o:s=await e.compileModuleAsync(o),r&&r(n);let a,u,l=!1,h;return Array.isArray(s)?(u=s,l=!0):(a=s.create(t).injector,h=s,u=a.get(Uc,[],{optional:!0,self:!0}).flat()),{routes:u.map(hv),injector:a,factory:h}}function cV(n){return n&&typeof n=="object"&&"default"in n}function LT(n){return cV(n)?n.default:n}async function VT(n){return n}var Eh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>V(uV),providedIn:"root"})}return n})(),uV=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jT=new q("");var lV=()=>{},UT=new q(""),BT=(()=>{class n{currentNavigation=ue(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=ue(null);events=new ot;transitionAbortWithErrorSubject=new ot;configLoader=V(OT);environmentInjector=V(nt);destroyRef=V(Bn);urlSerializer=V(Fc);rootContexts=V(Is);location=V(ds);inputBindingEnabled=V(vh,{optional:!0})!==null;titleStrategy=V(fv);options=V(jc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=V(Eh);createViewTransition=V(jT,{optional:!0});navigationErrorHandler=V(UT,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ye(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new sh(i)),r=i=>this.events.next(new ah(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;at(()=>{this.transitions?.next(z(P({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(t){return this.transitions=new vt(null),this.transitions.pipe(cr(r=>r!==null),dr(r=>{let i=!1,o=new AbortController,s=()=>!i&&this.currentTransition?.id===r.id;return ye(r).pipe(dr(a=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",xt.SupersededByNewNavigation),_t;this.currentTransition=r;let u=this.lastSuccessfulNavigation();this.currentNavigation.set({id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:u?z(P({},u),{previousNavigation:null}):null,abort:()=>o.abort()});let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=a.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&h!=="reload")return this.events.next(new Tr(a.id,this.urlSerializer.serialize(a.rawUrl),"",xc.IgnoredSameUrlNavigation)),a.resolve(!1),_t;if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return ye(a).pipe(dr(p=>(this.events.next(new ho(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),p.id!==this.navigationId?_t:Promise.resolve(p))),rV(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),On(p=>{r.targetSnapshot=p.targetSnapshot,r.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation.update(y=>(y.finalUrl=p.urlAfterRedirects,y));let g=new ms(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:p,extractedUrl:g,source:y,restoredState:R,extras:O}=a,S=new ho(p,this.urlSerializer.serialize(g),y,R);this.events.next(S);let N=ET(this.rootComponentType,this.environmentInjector).snapshot;return this.currentTransition=r=z(P({},a),{targetSnapshot:N,urlAfterRedirects:g,extras:z(P({},O),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(J=>(J.finalUrl=g,J)),ye(r)}else return this.events.next(new Tr(a.id,this.urlSerializer.serialize(a.extractedUrl),"",xc.IgnoredByUrlHandlingStrategy)),a.resolve(!1),_t}),Oe(a=>{let u=new nh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);return this.events.next(u),this.currentTransition=r=z(P({},a),{guards:IL(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),r}),NL(a=>this.events.next(a)),dr(a=>{if(r.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw gh(this.urlSerializer,a.guardsResult);let u=new rh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);if(this.events.next(u),!s())return _t;if(!a.guardsResult)return this.cancelNavigationTransition(a,"",xt.GuardRejected),_t;if(a.guards.canActivateChecks.length===0)return ye(a);let l=new ih(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);if(this.events.next(l),!s())return _t;let h=!1;return ye(a).pipe(iV(this.paramsInheritanceStrategy),On({next:()=>{h=!0;let p=new oh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(p)},complete:()=>{h||this.cancelNavigationTransition(a,"",xt.NoDataFromResolver)}}))}),nT(a=>{let u=h=>{let p=[];if(h.routeConfig?._loadedComponent)h.component=h.routeConfig?._loadedComponent;else if(h.routeConfig?.loadComponent){let g=h._environmentInjector;p.push(this.configLoader.loadComponent(g,h.routeConfig).then(y=>{h.component=y}))}for(let g of h.children)p.push(...u(g));return p},l=u(a.targetSnapshot.root);return l.length===0?ye(a):We(Promise.all(l).then(()=>a))}),nT(()=>this.afterPreactivation()),dr(()=>{let{currentSnapshot:a,targetSnapshot:u}=r,l=this.createViewTransition?.(this.environmentInjector,a.root,u.root);return l?We(l).pipe(Oe(()=>r)):ye(r)}),ur(1),Oe(a=>{let u=yL(t.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);this.currentTransition=r=a=z(P({},a),{targetRouterState:u}),this.currentNavigation.update(l=>(l.targetRouterState=u,l)),this.events.next(new ys),s()&&(new ov(t.routeReuseStrategy,r.targetRouterState,r.currentRouterState,l=>this.events.next(l),this.inputBindingEnabled).activate(this.rootContexts),s()&&(i=!0,this.currentNavigation.update(l=>(l.abort=lV,l)),this.lastSuccessfulNavigation.set(at(this.currentNavigation)),this.events.next(new Dr(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)))}),Pa(AT(o.signal).pipe(cr(()=>!i&&!r.targetRouterState),On(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",xt.Aborted)}))),On({complete:()=>{i=!0}}),Pa(this.transitionAbortWithErrorSubject.pipe(On(a=>{throw a}))),dg(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",xt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Na(a=>{if(i=!0,this.destroyed)return r.resolve(!1),_t;if(TT(a))this.events.next(new ln(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode)),EL(a)?this.events.next(new vs(a.url,a.navigationBehaviorOptions)):r.resolve(!1);else{let u=new fo(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);try{let l=Tt(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(l instanceof _s){let{message:h,cancellationCode:p}=gh(this.urlSerializer,l);this.events.next(new ln(r.id,this.urlSerializer.serialize(r.extractedUrl),h,p)),this.events.next(new vs(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(u),a}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return _t}))}))}cancelNavigationTransition(t,r,i){let o=new ln(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=at(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dV(n){return n!==Sc}var HT=new q("");var $T=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>V(hV),providedIn:"root"})}return n})(),yh=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}shouldDestroyInjector(e){return!0}},hV=(()=>{class n extends yh{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ro(n)))(i||n)}})();static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pv=(()=>{class n{urlSerializer=V(Fc);options=V(jc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=V(ds);urlHandlingStrategy=V(Eh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Tn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Tn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=ET(null,V(nt));getRouterState(){return this.routerState}_stateMemento=this.createStateMemento();get stateMemento(){return this._stateMemento}updateStateMemento(){this._stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}restoredState(){return this.location.getState()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>V(fV),providedIn:"root"})}return n})(),fV=(()=>{class n extends pv{currentPageId=0;lastSuccessfulId=-1;get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof ho?this.updateStateMemento():t instanceof Tr?this.commitTransition(r):t instanceof ms?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof ys?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof ln&&!_T(t)?this.restoreHistory(r):t instanceof fo?this.restoreHistory(r,!0):t instanceof Dr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=P(P({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=P(P({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ro(n)))(i||n)}})();static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gv(n,e){n.events.pipe(cr(t=>t instanceof Dr||t instanceof ln||t instanceof fo||t instanceof Tr),Oe(t=>t instanceof Dr||t instanceof Tr?0:(t instanceof ln?t.code===xt.Redirect||t.code===xt.SupersededByNewNavigation:!1)?2:1),cr(t=>t!==2),ur(1)).subscribe(()=>{e()})}var zT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},li=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=V(my);stateManager=V(pv);options=V(jc,{optional:!0})||{};pendingTasks=V(ei);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=V(BT);urlSerializer=V(Fc);location=V(ds);urlHandlingStrategy=V(Eh);injector=V(nt);_events=new ot;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=V($T);injectorCleanup=V(HT,{optional:!0});onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=V(Uc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!V(vh,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{}}),this.subscribeToNavigationEvents()}eventsSubscription=new yt;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=at(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof ln&&r.code!==xt.Redirect&&r.code!==xt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Dr)this.navigated=!0,this.injectorCleanup?.(this.routeReuseStrategy,this.routerState,this.config);else if(r instanceof vs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=P({scroll:i.extras.scroll,browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||dV(i.source)},s);this.scheduleNavigation(a,Sc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}gL(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Sc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=P({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(Hn)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return at(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(hv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=P(P({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=gT(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return mT(p,t,h,l??null,this.urlSerializer)}navigateByUrl(t,r={skipLocationChange:!1}){let i=gs(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Sc,null,r)}navigate(t,r={skipLocationChange:!1}){return pV(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Hi(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=P({},zT):r===!1?i=P({},qT):i=r,gs(t))return KD(this.currentUrlTree,t,i);let o=this.parseUrl(t);return KD(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return gv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pV(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new $(4008,!1)}var yV=new q("");function mv(n,...e){return Ba([{provide:Uc,multi:!0,useValue:n},[],{provide:ui,useFactory:vV},{provide:Rd,multi:!0,useFactory:_V},e.map(t=>t.\u0275providers)])}function vV(){return V(li).routerState.root}function _V(){let n=V(Kt);return e=>{let t=n.get(oo);if(e!==t.components[0])return;let r=n.get(li),i=n.get(EV);n.get(IV)===1&&r.initialNavigation(),n.get(wV,null,{optional:!0})?.setUpPreloading(),n.get(yV,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var EV=new q("",{factory:()=>new ot}),IV=new q("",{factory:()=>1});var wV=new q("");var Ih=class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=Cn({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&X(0,"router-outlet")},dependencies:[Lc],encapsulation:2})}};var tS=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(le(ni),le(wr))};static \u0275dir=Qe({type:n})}return n})(),CV=(()=>{class n extends tS{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ro(n)))(i||n)}})();static \u0275dir=Qe({type:n,features:[Gn]})}return n})(),nS=new q("");var DV={provide:nS,useExisting:gr(()=>hi),multi:!0};function TV(){let n=un()?un().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var SV=new q(""),hi=(()=>{class n extends tS{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!TV())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(le(ni),le(wr),le(SV,8))};static \u0275dir=Qe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Re("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[ls([DV]),Gn]})}return n})();function AV(n){return n==null||RV(n)===0}function RV(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var _v=new q(""),rS=new q("");function xV(n){return AV(n.value)?{required:!0}:null}function WT(n){return null}function iS(n){return n!=null}function oS(n){return ii(n)?We(n):n}function sS(n){let e={};return n.forEach(t=>{e=t!=null?P(P({},e),t):e}),Object.keys(e).length===0?null:e}function aS(n,e){return e.map(t=>t(n))}function MV(n){return!n.validate}function cS(n){return n.map(e=>MV(e)?e:t=>e.validate(t))}function NV(n){if(!n)return null;let e=n.filter(iS);return e.length==0?null:function(t){return sS(aS(t,e))}}function Ev(n){return n!=null?NV(cS(n)):null}function PV(n){if(!n)return null;let e=n.filter(iS);return e.length==0?null:function(t){let r=aS(t,e).map(oS);return lg(r).pipe(Oe(sS))}}function Iv(n){return n!=null?PV(cS(n)):null}function KT(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function kV(n){return n._rawValidators}function OV(n){return n._rawAsyncValidators}function yv(n){return n?Array.isArray(n)?n:[n]:[]}function bh(n,e){return Array.isArray(n)?n.includes(e):n===e}function QT(n,e){let t=yv(e);return yv(n).forEach(i=>{bh(t,i)||t.push(i)}),t}function YT(n,e){return yv(e).filter(t=>!bh(n,t))}var Ch=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ev(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Iv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Ds=class extends Ch{name;get formDirective(){return null}get path(){return null}},Gc=class extends Ch{_parent=null;name=null;valueAccessor=null},Dh=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var Ts=(()=>{class n extends Dh{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(le(Gc,2))};static \u0275dir=Qe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&je("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Gn]})}return n})(),xh=(()=>{class n extends Dh{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(le(Ds,10))};static \u0275dir=Qe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&je("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Gn]})}return n})();var Bc="VALID",wh="INVALID",bs="PENDING",Hc="DISABLED",di=class{},Th=class extends di{value;source;constructor(e,t){super(),this.value=e,this.source=t}},zc=class extends di{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},qc=class extends di{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Cs=class extends di{status;source;constructor(e,t){super(),this.status=e,this.source=t}},vv=class extends di{source;constructor(e){super(),this.source=e}},Sh=class extends di{source;constructor(e){super(),this.source=e}};function uS(n){return(Mh(n)?n.validators:n)||null}function FV(n){return Array.isArray(n)?Ev(n):n||null}function lS(n,e){return(Mh(e)?e.asyncValidators:n)||null}function LV(n){return Array.isArray(n)?Iv(n):n||null}function Mh(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function VV(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new $(1e3,"");if(!r[t])throw new $(1001,"")}function jV(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new $(1002,"")})}var Ah=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return at(this.statusReactive)}set status(e){at(()=>this.statusReactive.set(e))}_status=so(()=>this.statusReactive());statusReactive=ue(void 0);get valid(){return this.status===Bc}get invalid(){return this.status===wh}get pending(){return this.status==bs}get disabled(){return this.status===Hc}get enabled(){return this.status!==Hc}errors;get pristine(){return at(this.pristineReactive)}set pristine(e){at(()=>this.pristineReactive.set(e))}_pristine=so(()=>this.pristineReactive());pristineReactive=ue(!0);get dirty(){return!this.pristine}get touched(){return at(this.touchedReactive)}set touched(e){at(()=>this.touchedReactive.set(e))}_touched=so(()=>this.touchedReactive());touchedReactive=ue(!1);get untouched(){return!this.touched}_events=new ot;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(QT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(QT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(YT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(YT(e,this._rawAsyncValidators))}hasValidator(e){return bh(this._rawValidators,e)}hasAsyncValidator(e){return bh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(z(P({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new qc(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new qc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(z(P({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new zc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new zc(!0,r))}markAsPending(e={}){this.status=bs;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cs(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(z(P({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Hc,this.errors=null,this._forEachChild(i=>{i.disable(z(P({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Th(this.value,r)),this._events.next(new Cs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(z(P({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Bc,this._forEachChild(r=>{r.enable(z(P({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(z(P({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bc||this.status===bs)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Th(this.value,t)),this._events.next(new Cs(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(z(P({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hc:Bc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=bs,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=oS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Cs(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ke,this.statusChanges=new Ke}_calculateStatus(){return this._allControlsDisabled()?Hc:this.errors?wh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bs)?bs:this._anyControlsHaveStatus(wh)?wh:Bc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new zc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new qc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Mh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=FV(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=LV(this._rawAsyncValidators)}},Rh=class extends Ah{constructor(e,t,r){super(uS(t),lS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){jV(this,!0,e),Object.keys(e).forEach(r=>{VV(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,z(P({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Sh(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var wv=new q("",{factory:()=>bv}),bv="always";function UV(n,e){return[...e.path,n]}function dS(n,e,t=bv){hS(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),HV(n,e),zV(n,e),$V(n,e),BV(n,e)}function JT(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function BV(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function hS(n,e){let t=kV(n);e.validator!==null?n.setValidators(KT(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=OV(n);e.asyncValidator!==null?n.setAsyncValidators(KT(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();JT(e._rawValidators,i),JT(e._rawAsyncValidators,i)}function HV(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&fS(n,e)})}function $V(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&fS(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function fS(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function zV(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function qV(n,e){n==null,hS(n,e)}function GV(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function WV(n){return Object.getPrototypeOf(n.constructor)===CV}function KV(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function QV(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===hi?t=o:WV(o)?r=o:i=o}),i||r||t||null}var YV={provide:Ds,useExisting:gr(()=>Wc)},$c=Promise.resolve(),Wc=(()=>{class n extends Ds{callSetDisabledState;get submitted(){return at(this.submittedReactive)}_submitted=so(()=>this.submittedReactive());submittedReactive=ue(!1);_directives=new Set;form;ngSubmit=new Ke;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Rh({},Ev(t),Iv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){$c.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),dS(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){$c.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){$c.then(()=>{let r=this._findContainer(t.path),i=new Rh({});qV(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){$c.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){$c.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),KV(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new vv(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(le(_v,10),le(rS,10),le(wv,8))};static \u0275dir=Qe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Re("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ls([YV]),Gn]})}return n})();function ZT(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function XT(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var JV=class extends Ah{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(uS(t),lS(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(XT(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),t.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Sh(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ZT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ZT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){XT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var ZV={provide:Gc,useExisting:gr(()=>go)},eS=Promise.resolve(),go=(()=>{class n extends Gc{_changeDetectorRef;callSetDisabledState;control=new JV;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ke;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=QV(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),GV(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){dS(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){eS.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&br(r);eS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?UV(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(le(Ds,9),le(_v,10),le(rS,10),le(nS,10),le(ao,8),le(wv,8))};static \u0275dir=Qe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ls([ZV]),Gn,Ir]})}return n})();var Nh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Qe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var XV=(()=>{class n{_validator=WT;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):WT,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Qe({type:n,features:[Ir]})}return n})();var e2={provide:_v,useExisting:gr(()=>Kc),multi:!0};var Kc=(()=>{class n extends XV{required;inputName="required";normalizeInput=br;createValidator=t=>xV;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ro(n)))(i||n)}})();static \u0275dir=Qe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&xd("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ls([e2]),Gn]})}return n})();var t2=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ri({type:n});static \u0275inj=mr({})}return n})();var Ss=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:wv,useValue:t.callSetDisabledState??bv}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ri({type:n});static \u0275inj=mr({imports:[t2]})}return n})();var pS=()=>{};var yS=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},n2=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},vS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(t[h],t[p],t[g],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(yS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):n2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Tv;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let R=l<<6&192|p;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Tv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},r2=function(n){let e=yS(n);return vS.encodeByteArray(e,!0)},Yc=function(n){return r2(n).replace(/\./g,"")},kh=function(n){try{return vS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _S(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var i2=()=>_S().__FIREBASE_DEFAULTS__,o2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},s2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&kh(n[1]);return e&&JSON.parse(e)},Oh=()=>{try{return pS()||i2()||o2()||s2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Av=n=>Oh()?.emulatorHosts?.[n],ES=n=>{let e=Av(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Rv=()=>Oh()?.config,xv=n=>Oh()?.[`_${n}`];var Ph=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function fi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Fh(n){return(await fetch(n,{credentials:"include"})).ok}function IS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=P({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Yc(JSON.stringify(t)),Yc(JSON.stringify(s)),""].join(".")}var Qc={};function a2(){let n={prod:[],emulator:[]};for(let e of Object.keys(Qc))Qc[e]?n.emulator.push(e):n.prod.push(e);return n}function c2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var gS=!1;function Lh(n,e){if(typeof window>"u"||typeof document>"u"||!fi(window.location.host)||Qc[n]===e||Qc[n]||gS)return;Qc[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=a2().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{gS=!0,s()},g}function h(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=c2(r),y=t("text"),R=document.getElementById(y)||document.createElement("span"),O=t("learnmore"),S=document.getElementById(O)||document.createElement("a"),N=t("preprendIcon"),J=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let Ee=g.element;a(Ee),h(S,O);let zt=l();u(J,N),Ee.append(J,R,S,zt),document.body.appendChild(Ee)}o?(R.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function u2(){let n=Oh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CS(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function DS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TS(){let n=dt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function SS(){return!u2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mv(){try{return typeof indexedDB=="object"}catch{return!1}}function AS(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}var l2="FirebaseError",nn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=l2,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sr.prototype.create)}},Sr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?d2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new nn(i,a,r)}};function d2(n,e){return n.replace(h2,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var h2=/\{\$([^}]+)}/g;function RS(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Sn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(mS(o)&&mS(s)){if(!Sn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function mS(n){return n!==null&&typeof n=="object"}function Jc(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function As(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Rs(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function xS(n,e){let t=new Sv(n,e);return t.subscribe.bind(t)}var Sv=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");f2(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Dv),i.error===void 0&&(i.error=Dv),i.complete===void 0&&(i.complete=Dv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function f2(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Dv(){}var Bee=14400*1e3;function Je(n){return n&&n._delegate?n._delegate:n}var dn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var mo="[DEFAULT]";var Nv=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Ph;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(g2(e))try{this.getOrInitializeService({instanceIdentifier:mo})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mo){return this.instances.has(e)}getOptions(e=mo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){let r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:p2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mo){return this.component?this.component.multipleInstances?e:mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function p2(n){return n===mo?void 0:n}function g2(n){return n.instantiationMode==="EAGER"}var Vh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Nv(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var m2=[],de=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(de||{}),y2={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},v2=de.INFO,_2={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},E2=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=_2[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},pi=class{constructor(e){this.name=e,this._logLevel=v2,this._logHandler=E2,this._userLogHandler=null,m2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?y2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}};var I2=(n,e)=>e.some(t=>n instanceof t),MS,NS;function w2(){return MS||(MS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function b2(){return NS||(NS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var PS=new WeakMap,kv=new WeakMap,kS=new WeakMap,Pv=new WeakMap,Fv=new WeakMap;function C2(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Yn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&PS.set(t,n)}).catch(()=>{}),Fv.set(e,n),e}function D2(n){if(kv.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});kv.set(n,e)}var Ov={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return kv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||kS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Yn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function OS(n){Ov=n(Ov)}function T2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(jh(this),e,...t);return kS.set(r,e.sort?e.sort():[e]),Yn(r)}:b2().includes(n)?function(...e){return n.apply(jh(this),e),Yn(PS.get(this))}:function(...e){return Yn(n.apply(jh(this),e))}}function S2(n){return typeof n=="function"?T2(n):(n instanceof IDBTransaction&&D2(n),I2(n,w2())?new Proxy(n,Ov):n)}function Yn(n){if(n instanceof IDBRequest)return C2(n);if(Pv.has(n))return Pv.get(n);let e=S2(n);return e!==n&&(Pv.set(n,e),Fv.set(e,n)),e}var jh=n=>Fv.get(n);function LS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Yn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Yn(s.result),u.oldVersion,u.newVersion,Yn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var A2=["get","getKey","getAll","getAllKeys","count"],R2=["put","add","delete","clear"],Lv=new Map;function FS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Lv.get(e))return Lv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=R2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||A2.includes(t)))return;let o=async function(s,...a){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[t](...a),i&&u.done]))[0]};return Lv.set(e,o),o}OS(n=>z(P({},n),{get:(e,t,r)=>FS(e,t)||n.get(e,t,r),has:(e,t)=>!!FS(e,t)||n.has(e,t)}));var jv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(x2(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function x2(n){return n.getComponent()?.type==="VERSION"}var Uv="@firebase/app",VS="0.14.7";var Ar=new pi("@firebase/app"),M2="@firebase/app-compat",N2="@firebase/analytics-compat",P2="@firebase/analytics",k2="@firebase/app-check-compat",O2="@firebase/app-check",F2="@firebase/auth",L2="@firebase/auth-compat",V2="@firebase/database",j2="@firebase/data-connect",U2="@firebase/database-compat",B2="@firebase/functions",H2="@firebase/functions-compat",$2="@firebase/installations",z2="@firebase/installations-compat",q2="@firebase/messaging",G2="@firebase/messaging-compat",W2="@firebase/performance",K2="@firebase/performance-compat",Q2="@firebase/remote-config",Y2="@firebase/remote-config-compat",J2="@firebase/storage",Z2="@firebase/storage-compat",X2="@firebase/firestore",ej="@firebase/ai",tj="@firebase/firestore-compat",nj="firebase",rj="12.8.0";var Bv="[DEFAULT]",ij={[Uv]:"fire-core",[M2]:"fire-core-compat",[P2]:"fire-analytics",[N2]:"fire-analytics-compat",[O2]:"fire-app-check",[k2]:"fire-app-check-compat",[F2]:"fire-auth",[L2]:"fire-auth-compat",[V2]:"fire-rtdb",[j2]:"fire-data-connect",[U2]:"fire-rtdb-compat",[B2]:"fire-fn",[H2]:"fire-fn-compat",[$2]:"fire-iid",[z2]:"fire-iid-compat",[q2]:"fire-fcm",[G2]:"fire-fcm-compat",[W2]:"fire-perf",[K2]:"fire-perf-compat",[Q2]:"fire-rc",[Y2]:"fire-rc-compat",[J2]:"fire-gcs",[Z2]:"fire-gcs-compat",[X2]:"fire-fst",[tj]:"fire-fst-compat",[ej]:"fire-vertex","fire-js":"fire-js",[nj]:"fire-js-all"};var Uh=new Map,oj=new Map,Hv=new Map;function jS(n,e){try{n.container.addComponent(e)}catch(t){Ar.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function mi(n){let e=n.name;if(Hv.has(e))return Ar.debug(`There were multiple attempts to register component ${e}.`),!1;Hv.set(e,n);for(let t of Uh.values())jS(t,n);for(let t of oj.values())jS(t,n);return!0}function Xc(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function rn(n){return n==null?!1:n.settings!==void 0}var sj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gi=new Sr("app","Firebase",sj);var $v=class{constructor(e,t,r){this._isDeleted=!1,this._options=P({},e),this._config=P({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new dn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}};var yi=rj;function eu(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=P({name:Bv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw gi.create("bad-app-name",{appName:String(i)});if(t||(t=Rv()),!t)throw gi.create("no-options");let o=Uh.get(i);if(o){if(Sn(t,o.options)&&Sn(r,o.config))return o;throw gi.create("duplicate-app",{appName:i})}let s=new Vh(i);for(let u of Hv.values())s.addComponent(u);let a=new $v(t,r,s);return Uh.set(i,a),a}function Bh(n=Bv){let e=Uh.get(n);if(!e&&n===Bv&&Rv())return eu();if(!e)throw gi.create("no-app",{appName:n});return e}function An(n,e,t){let r=ij[n]??n;t&&(r+=`-${t}`);let i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ar.warn(s.join(" "));return}mi(new dn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var aj="firebase-heartbeat-database",cj=1,Zc="firebase-heartbeat-store",Vv=null;function $S(){return Vv||(Vv=LS(aj,cj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Zc)}catch(t){console.warn(t)}}}}).catch(n=>{throw gi.create("idb-open",{originalErrorMessage:n.message})})),Vv}async function uj(n){try{let t=(await $S()).transaction(Zc),r=await t.objectStore(Zc).get(zS(n));return await t.done,r}catch(e){if(e instanceof nn)Ar.warn(e.message);else{let t=gi.create("idb-get",{originalErrorMessage:e?.message});Ar.warn(t.message)}}}async function US(n,e){try{let r=(await $S()).transaction(Zc,"readwrite");await r.objectStore(Zc).put(e,zS(n)),await r.done}catch(t){if(t instanceof nn)Ar.warn(t.message);else{let r=gi.create("idb-set",{originalErrorMessage:t?.message});Ar.warn(r.message)}}}function zS(n){return`${n.name}!${n.options.appId}`}var lj=1024,dj=30,zv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new qv(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=BS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>dj){let i=fj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ar.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=BS(),{heartbeatsToSend:t,unsentEntries:r}=hj(this._heartbeatsCache.heartbeats),i=Yc(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Ar.warn(e),""}}};function BS(){return new Date().toISOString().substring(0,10)}function hj(n,e=lj){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),HS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),HS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var qv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Mv()?AS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await uj(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return US(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return US(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function HS(n){return Yc(JSON.stringify({version:2,heartbeats:n})).length}function fj(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function pj(n){mi(new dn("platform-logger",e=>new jv(e),"PRIVATE")),mi(new dn("heartbeat",e=>new zv(e),"PRIVATE")),An(Uv,VS,n),An(Uv,VS,"esm2020"),An("fire-js","")}pj("");var gj="firebase",mj="12.8.0";An(gj,mj,"app");var qS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},GS={};var Rr,Gv;(function(){var n;function e(b,v){function E(){}E.prototype=v.prototype,b.F=v.prototype,b.prototype=new E,b.prototype.constructor=b,b.D=function(D,w,A){for(var _=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)_[jt-2]=arguments[jt];return v.prototype[w].apply(D,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,v,E){E||(E=0);let D=Array(16);if(typeof v=="string")for(var w=0;w<16;++w)D[w]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(w=0;w<16;++w)D[w]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=b.g[0],E=b.g[1],w=b.g[2];let A=b.g[3],_;_=v+(A^E&(w^A))+D[0]+3614090360&4294967295,v=E+(_<<7&4294967295|_>>>25),_=A+(w^v&(E^w))+D[1]+3905402710&4294967295,A=v+(_<<12&4294967295|_>>>20),_=w+(E^A&(v^E))+D[2]+606105819&4294967295,w=A+(_<<17&4294967295|_>>>15),_=E+(v^w&(A^v))+D[3]+3250441966&4294967295,E=w+(_<<22&4294967295|_>>>10),_=v+(A^E&(w^A))+D[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=A+(w^v&(E^w))+D[5]+1200080426&4294967295,A=v+(_<<12&4294967295|_>>>20),_=w+(E^A&(v^E))+D[6]+2821735955&4294967295,w=A+(_<<17&4294967295|_>>>15),_=E+(v^w&(A^v))+D[7]+4249261313&4294967295,E=w+(_<<22&4294967295|_>>>10),_=v+(A^E&(w^A))+D[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=A+(w^v&(E^w))+D[9]+2336552879&4294967295,A=v+(_<<12&4294967295|_>>>20),_=w+(E^A&(v^E))+D[10]+4294925233&4294967295,w=A+(_<<17&4294967295|_>>>15),_=E+(v^w&(A^v))+D[11]+2304563134&4294967295,E=w+(_<<22&4294967295|_>>>10),_=v+(A^E&(w^A))+D[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=A+(w^v&(E^w))+D[13]+4254626195&4294967295,A=v+(_<<12&4294967295|_>>>20),_=w+(E^A&(v^E))+D[14]+2792965006&4294967295,w=A+(_<<17&4294967295|_>>>15),_=E+(v^w&(A^v))+D[15]+1236535329&4294967295,E=w+(_<<22&4294967295|_>>>10),_=v+(w^A&(E^w))+D[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=A+(E^w&(v^E))+D[6]+3225465664&4294967295,A=v+(_<<9&4294967295|_>>>23),_=w+(v^E&(A^v))+D[11]+643717713&4294967295,w=A+(_<<14&4294967295|_>>>18),_=E+(A^v&(w^A))+D[0]+3921069994&4294967295,E=w+(_<<20&4294967295|_>>>12),_=v+(w^A&(E^w))+D[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=A+(E^w&(v^E))+D[10]+38016083&4294967295,A=v+(_<<9&4294967295|_>>>23),_=w+(v^E&(A^v))+D[15]+3634488961&4294967295,w=A+(_<<14&4294967295|_>>>18),_=E+(A^v&(w^A))+D[4]+3889429448&4294967295,E=w+(_<<20&4294967295|_>>>12),_=v+(w^A&(E^w))+D[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=A+(E^w&(v^E))+D[14]+3275163606&4294967295,A=v+(_<<9&4294967295|_>>>23),_=w+(v^E&(A^v))+D[3]+4107603335&4294967295,w=A+(_<<14&4294967295|_>>>18),_=E+(A^v&(w^A))+D[8]+1163531501&4294967295,E=w+(_<<20&4294967295|_>>>12),_=v+(w^A&(E^w))+D[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=A+(E^w&(v^E))+D[2]+4243563512&4294967295,A=v+(_<<9&4294967295|_>>>23),_=w+(v^E&(A^v))+D[7]+1735328473&4294967295,w=A+(_<<14&4294967295|_>>>18),_=E+(A^v&(w^A))+D[12]+2368359562&4294967295,E=w+(_<<20&4294967295|_>>>12),_=v+(E^w^A)+D[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=A+(v^E^w)+D[8]+2272392833&4294967295,A=v+(_<<11&4294967295|_>>>21),_=w+(A^v^E)+D[11]+1839030562&4294967295,w=A+(_<<16&4294967295|_>>>16),_=E+(w^A^v)+D[14]+4259657740&4294967295,E=w+(_<<23&4294967295|_>>>9),_=v+(E^w^A)+D[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=A+(v^E^w)+D[4]+1272893353&4294967295,A=v+(_<<11&4294967295|_>>>21),_=w+(A^v^E)+D[7]+4139469664&4294967295,w=A+(_<<16&4294967295|_>>>16),_=E+(w^A^v)+D[10]+3200236656&4294967295,E=w+(_<<23&4294967295|_>>>9),_=v+(E^w^A)+D[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=A+(v^E^w)+D[0]+3936430074&4294967295,A=v+(_<<11&4294967295|_>>>21),_=w+(A^v^E)+D[3]+3572445317&4294967295,w=A+(_<<16&4294967295|_>>>16),_=E+(w^A^v)+D[6]+76029189&4294967295,E=w+(_<<23&4294967295|_>>>9),_=v+(E^w^A)+D[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=A+(v^E^w)+D[12]+3873151461&4294967295,A=v+(_<<11&4294967295|_>>>21),_=w+(A^v^E)+D[15]+530742520&4294967295,w=A+(_<<16&4294967295|_>>>16),_=E+(w^A^v)+D[2]+3299628645&4294967295,E=w+(_<<23&4294967295|_>>>9),_=v+(w^(E|~A))+D[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=A+(E^(v|~w))+D[7]+1126891415&4294967295,A=v+(_<<10&4294967295|_>>>22),_=w+(v^(A|~E))+D[14]+2878612391&4294967295,w=A+(_<<15&4294967295|_>>>17),_=E+(A^(w|~v))+D[5]+4237533241&4294967295,E=w+(_<<21&4294967295|_>>>11),_=v+(w^(E|~A))+D[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=A+(E^(v|~w))+D[3]+2399980690&4294967295,A=v+(_<<10&4294967295|_>>>22),_=w+(v^(A|~E))+D[10]+4293915773&4294967295,w=A+(_<<15&4294967295|_>>>17),_=E+(A^(w|~v))+D[1]+2240044497&4294967295,E=w+(_<<21&4294967295|_>>>11),_=v+(w^(E|~A))+D[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=A+(E^(v|~w))+D[15]+4264355552&4294967295,A=v+(_<<10&4294967295|_>>>22),_=w+(v^(A|~E))+D[6]+2734768916&4294967295,w=A+(_<<15&4294967295|_>>>17),_=E+(A^(w|~v))+D[13]+1309151649&4294967295,E=w+(_<<21&4294967295|_>>>11),_=v+(w^(E|~A))+D[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=A+(E^(v|~w))+D[11]+3174756917&4294967295,A=v+(_<<10&4294967295|_>>>22),_=w+(v^(A|~E))+D[2]+718787259&4294967295,w=A+(_<<15&4294967295|_>>>17),_=E+(A^(w|~v))+D[9]+3951481745&4294967295,b.g[0]=b.g[0]+v&4294967295,b.g[1]=b.g[1]+(w+(_<<21&4294967295|_>>>11))&4294967295,b.g[2]=b.g[2]+w&4294967295,b.g[3]=b.g[3]+A&4294967295}r.prototype.v=function(b,v){v===void 0&&(v=b.length);let E=v-this.blockSize,D=this.C,w=this.h,A=0;for(;A<v;){if(w==0)for(;A<=E;)i(this,b,A),A+=this.blockSize;if(typeof b=="string"){for(;A<v;)if(D[w++]=b.charCodeAt(A++),w==this.blockSize){i(this,D),w=0;break}}else for(;A<v;)if(D[w++]=b[A++],w==this.blockSize){i(this,D),w=0;break}}this.h=w,this.o+=v},r.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var v=1;v<b.length-8;++v)b[v]=0;v=this.o*8;for(var E=b.length-8;E<b.length;++E)b[E]=v&255,v/=256;for(this.v(b),b=Array(16),v=0,E=0;E<4;++E)for(let D=0;D<32;D+=8)b[v++]=this.g[E]>>>D&255;return b};function o(b,v){var E=a;return Object.prototype.hasOwnProperty.call(E,b)?E[b]:E[b]=v(b)}function s(b,v){this.h=v;let E=[],D=!0;for(let w=b.length-1;w>=0;w--){let A=b[w]|0;D&&A==v||(E[w]=A,D=!1)}this.g=E}var a={};function u(b){return-128<=b&&b<128?o(b,function(v){return new s([v|0],v<0?-1:0)}):new s([b|0],b<0?-1:0)}function l(b){if(isNaN(b)||!isFinite(b))return p;if(b<0)return S(l(-b));let v=[],E=1;for(let D=0;b>=E;D++)v[D]=b/E|0,E*=4294967296;return new s(v,0)}function h(b,v){if(b.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(b.charAt(0)=="-")return S(h(b.substring(1),v));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');let E=l(Math.pow(v,8)),D=p;for(let A=0;A<b.length;A+=8){var w=Math.min(8,b.length-A);let _=parseInt(b.substring(A,A+w),v);w<8?(w=l(Math.pow(v,w)),D=D.j(w).add(l(_))):(D=D.j(E),D=D.add(l(_)))}return D}var p=u(0),g=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(O(this))return-S(this).m();let b=0,v=1;for(let E=0;E<this.g.length;E++){let D=this.i(E);b+=(D>=0?D:4294967296+D)*v,v*=4294967296}return b},n.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(R(this))return"0";if(O(this))return"-"+S(this).toString(b);let v=l(Math.pow(b,6));var E=this;let D="";for(;;){let w=zt(E,v).g;E=N(E,w.j(v));let A=((E.g.length>0?E.g[0]:E.h)>>>0).toString(b);if(E=w,R(E))return A+D;for(;A.length<6;)A="0"+A;D=A+D}},n.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function R(b){if(b.h!=0)return!1;for(let v=0;v<b.g.length;v++)if(b.g[v]!=0)return!1;return!0}function O(b){return b.h==-1}n.l=function(b){return b=N(this,b),O(b)?-1:R(b)?0:1};function S(b){let v=b.g.length,E=[];for(let D=0;D<v;D++)E[D]=~b.g[D];return new s(E,~b.h).add(g)}n.abs=function(){return O(this)?S(this):this},n.add=function(b){let v=Math.max(this.g.length,b.g.length),E=[],D=0;for(let w=0;w<=v;w++){let A=D+(this.i(w)&65535)+(b.i(w)&65535),_=(A>>>16)+(this.i(w)>>>16)+(b.i(w)>>>16);D=_>>>16,A&=65535,_&=65535,E[w]=_<<16|A}return new s(E,E[E.length-1]&-2147483648?-1:0)};function N(b,v){return b.add(S(v))}n.j=function(b){if(R(this)||R(b))return p;if(O(this))return O(b)?S(this).j(S(b)):S(S(this).j(b));if(O(b))return S(this.j(S(b)));if(this.l(y)<0&&b.l(y)<0)return l(this.m()*b.m());let v=this.g.length+b.g.length,E=[];for(var D=0;D<2*v;D++)E[D]=0;for(D=0;D<this.g.length;D++)for(let w=0;w<b.g.length;w++){let A=this.i(D)>>>16,_=this.i(D)&65535,jt=b.i(w)>>>16,Ur=b.i(w)&65535;E[2*D+2*w]+=_*Ur,J(E,2*D+2*w),E[2*D+2*w+1]+=A*Ur,J(E,2*D+2*w+1),E[2*D+2*w+1]+=_*jt,J(E,2*D+2*w+1),E[2*D+2*w+2]+=A*jt,J(E,2*D+2*w+2)}for(b=0;b<v;b++)E[b]=E[2*b+1]<<16|E[2*b];for(b=v;b<2*v;b++)E[b]=0;return new s(E,0)};function J(b,v){for(;(b[v]&65535)!=b[v];)b[v+1]+=b[v]>>>16,b[v]&=65535,v++}function Ee(b,v){this.g=b,this.h=v}function zt(b,v){if(R(v))throw Error("division by zero");if(R(b))return new Ee(p,p);if(O(b))return v=zt(S(b),v),new Ee(S(v.g),S(v.h));if(O(v))return v=zt(b,S(v)),new Ee(S(v.g),v.h);if(b.g.length>30){if(O(b)||O(v))throw Error("slowDivide_ only works with positive integers.");for(var E=g,D=v;D.l(b)<=0;)E=gn(E),D=gn(D);var w=mt(E,1),A=mt(D,1);for(D=mt(D,2),E=mt(E,2);!R(D);){var _=A.add(D);_.l(b)<=0&&(w=w.add(E),A=_),D=mt(D,1),E=mt(E,1)}return v=N(b,w.j(v)),new Ee(w,v)}for(w=p;b.l(v)>=0;){for(E=Math.max(1,Math.floor(b.m()/v.m())),D=Math.ceil(Math.log(E)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),A=l(E),_=A.j(v);O(_)||_.l(b)>0;)E-=D,A=l(E),_=A.j(v);R(A)&&(A=g),w=w.add(A),b=N(b,_)}return new Ee(w,b)}n.B=function(b){return zt(this,b).h},n.and=function(b){let v=Math.max(this.g.length,b.g.length),E=[];for(let D=0;D<v;D++)E[D]=this.i(D)&b.i(D);return new s(E,this.h&b.h)},n.or=function(b){let v=Math.max(this.g.length,b.g.length),E=[];for(let D=0;D<v;D++)E[D]=this.i(D)|b.i(D);return new s(E,this.h|b.h)},n.xor=function(b){let v=Math.max(this.g.length,b.g.length),E=[];for(let D=0;D<v;D++)E[D]=this.i(D)^b.i(D);return new s(E,this.h^b.h)};function gn(b){let v=b.g.length+1,E=[];for(let D=0;D<v;D++)E[D]=b.i(D)<<1|b.i(D-1)>>>31;return new s(E,b.h)}function mt(b,v){let E=v>>5;v%=32;let D=b.g.length-E,w=[];for(let A=0;A<D;A++)w[A]=v>0?b.i(A+E)>>>v|b.i(A+E+1)<<32-v:b.i(A+E);return new s(w,b.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Gv=GS.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Rr=GS.Integer=s}).apply(typeof qS<"u"?qS:typeof self<"u"?self:typeof window<"u"?window:{});var Hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xr={};var Wv,yj,xs,Kv,tu,$h,Qv,Yv,Jv;(function(){var n,e=Object.defineProperty;function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hh=="object"&&Hh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var T=c[m];if(!(T in f))break e;f=f[T]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}i("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(c){return c||function(d){var f=[],m;for(m in d)Object.prototype.hasOwnProperty.call(d,m)&&f.push([m,d[m]]);return f}});var o=o||{},s=this||self;function a(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function u(c,d,f){return c.call.apply(c.bind,arguments)}function l(c,d,f){return l=u,l.apply(null,arguments)}function h(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function p(c,d){function f(){}f.prototype=d.prototype,c.Z=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Ob=function(m,T,x){for(var j=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)j[oe-2]=arguments[oe];return d.prototype[T].apply(m,j)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function y(c){let d=c.length;if(d>0){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function R(c,d){for(let m=1;m<arguments.length;m++){let T=arguments[m];var f=typeof T;if(f=f!="object"?f:T?Array.isArray(T)?"array":f:"null",f=="array"||f=="object"&&typeof T.length=="number"){f=c.length||0;let x=T.length||0;c.length=f+x;for(let j=0;j<x;j++)c[f+j]=T[j]}else c.push(T)}}class O{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function S(c){s.setTimeout(()=>{throw c},0)}function N(){var c=b;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class J{constructor(){this.h=this.g=null}add(d,f){let m=Ee.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var Ee=new O(()=>new zt,c=>c.reset());class zt{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let gn,mt=!1,b=new J,v=()=>{let c=Promise.resolve(void 0);gn=()=>{c.then(E)}};function E(){for(var c;c=N();){try{c.h.call(c.g)}catch(f){S(f)}var d=Ee;d.j(c),d.h<100&&(d.h++,c.next=d.g,d.g=c)}mt=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var A=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};s.addEventListener("test",f,d),s.removeEventListener("test",f,d)}catch{}return c})();function _(c){return/^[\s\xa0]*$/.test(c)}function jt(c,d){w.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,d)}p(jt,w),jt.prototype.init=function(c,d){let f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget,d||(f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement)),this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&jt.Z.h.call(this)},jt.prototype.h=function(){jt.Z.h.call(this);let c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ur="closure_listenable_"+(Math.random()*1e6|0),_M=0;function EM(c,d,f,m,T){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=T,this.key=++_M,this.da=this.fa=!1}function ku(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ou(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function IM(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function xI(c){let d={};for(let f in c)d[f]=c[f];return d}let MI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function NI(c,d){let f,m;for(let T=1;T<arguments.length;T++){m=arguments[T];for(f in m)c[f]=m[f];for(let x=0;x<MI.length;x++)f=MI[x],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function Fu(c){this.src=c,this.g={},this.h=0}Fu.prototype.add=function(c,d,f,m,T){let x=c.toString();c=this.g[x],c||(c=this.g[x]=[],this.h++);let j=yp(c,d,m,T);return j>-1?(d=c[j],f||(d.fa=!1)):(d=new EM(d,this.src,x,!!m,T),d.fa=f,c.push(d)),d};function mp(c,d){let f=d.type;if(f in c.g){var m=c.g[f],T=Array.prototype.indexOf.call(m,d,void 0),x;(x=T>=0)&&Array.prototype.splice.call(m,T,1),x&&(ku(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function yp(c,d,f,m){for(let T=0;T<c.length;++T){let x=c[T];if(!x.da&&x.listener==d&&x.capture==!!f&&x.ha==m)return T}return-1}var vp="closure_lm_"+(Math.random()*1e6|0),_p={};function PI(c,d,f,m,T){if(m&&m.once)return OI(c,d,f,m,T);if(Array.isArray(d)){for(let x=0;x<d.length;x++)PI(c,d[x],f,m,T);return null}return f=bp(f),c&&c[Ur]?c.J(d,f,a(m)?!!m.capture:!!m,T):kI(c,d,f,!1,m,T)}function kI(c,d,f,m,T,x){if(!d)throw Error("Invalid event type");let j=a(T)?!!T.capture:!!T,oe=Ip(c);if(oe||(c[vp]=oe=new Fu(c)),f=oe.add(d,f,m,j,x),f.proxy)return f;if(m=wM(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)A||(T=j),T===void 0&&(T=!1),c.addEventListener(d.toString(),m,T);else if(c.attachEvent)c.attachEvent(LI(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function wM(){function c(f){return d.call(c.src,c.listener,f)}let d=bM;return c}function OI(c,d,f,m,T){if(Array.isArray(d)){for(let x=0;x<d.length;x++)OI(c,d[x],f,m,T);return null}return f=bp(f),c&&c[Ur]?c.K(d,f,a(m)?!!m.capture:!!m,T):kI(c,d,f,!0,m,T)}function FI(c,d,f,m,T){if(Array.isArray(d))for(var x=0;x<d.length;x++)FI(c,d[x],f,m,T);else m=a(m)?!!m.capture:!!m,f=bp(f),c&&c[Ur]?(c=c.i,x=String(d).toString(),x in c.g&&(d=c.g[x],f=yp(d,f,m,T),f>-1&&(ku(d[f]),Array.prototype.splice.call(d,f,1),d.length==0&&(delete c.g[x],c.h--)))):c&&(c=Ip(c))&&(d=c.g[d.toString()],c=-1,d&&(c=yp(d,f,m,T)),(f=c>-1?d[c]:null)&&Ep(f))}function Ep(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Ur])mp(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(LI(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=Ip(d))?(mp(f,c),f.h==0&&(f.src=null,d[vp]=null)):ku(c)}}}function LI(c){return c in _p?_p[c]:_p[c]="on"+c}function bM(c,d){if(c.da)c=!0;else{d=new jt(d,this);let f=c.listener,m=c.ha||c.src;c.fa&&Ep(c),c=f.call(m,d)}return c}function Ip(c){return c=c[vp],c instanceof Fu?c:null}var wp="__closure_events_fn_"+(Math.random()*1e9>>>0);function bp(c){return typeof c=="function"?c:(c[wp]||(c[wp]=function(d){return c.handleEvent(d)}),c[wp])}function Ct(){D.call(this),this.i=new Fu(this),this.M=this,this.G=null}p(Ct,D),Ct.prototype[Ur]=!0,Ct.prototype.removeEventListener=function(c,d,f,m){FI(this,c,d,f,m)};function Nt(c,d){var f,m=c.G;if(m)for(f=[];m;m=m.G)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new w(d,c);else if(d instanceof w)d.target=d.target||c;else{var T=d;d=new w(m,c),NI(d,T)}T=!0;let x,j;if(f)for(j=f.length-1;j>=0;j--)x=d.g=f[j],T=Lu(x,m,!0,d)&&T;if(x=d.g=c,T=Lu(x,m,!0,d)&&T,T=Lu(x,m,!1,d)&&T,f)for(j=0;j<f.length;j++)x=d.g=f[j],T=Lu(x,m,!1,d)&&T}Ct.prototype.N=function(){if(Ct.Z.N.call(this),this.i){var c=this.i;for(let d in c.g){let f=c.g[d];for(let m=0;m<f.length;m++)ku(f[m]);delete c.g[d],c.h--}}this.G=null},Ct.prototype.J=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},Ct.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function Lu(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();let T=!0;for(let x=0;x<d.length;++x){let j=d[x];if(j&&!j.da&&j.capture==f){let oe=j.listener,tt=j.ha||j.src;j.fa&&mp(c.i,j),T=oe.call(tt,m)!==!1&&T}}return T&&!m.defaultPrevented}function CM(c,d){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=l(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:s.setTimeout(c,d||0)}function VI(c){c.g=CM(()=>{c.g=null,c.i&&(c.i=!1,VI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class DM extends D{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:VI(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ca(c){D.call(this),this.h=c,this.g={}}p(ca,D);var jI=[];function UI(c){Ou(c.g,function(d,f){this.g.hasOwnProperty(f)&&Ep(d)},c),c.g={}}ca.prototype.N=function(){ca.Z.N.call(this),UI(this)},ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cp=s.JSON.stringify,TM=s.JSON.parse,SM=class{stringify(c){return s.JSON.stringify(c,void 0)}parse(c){return s.JSON.parse(c,void 0)}};function BI(){}function HI(){}var ua={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Dp(){w.call(this,"d")}p(Dp,w);function Tp(){w.call(this,"c")}p(Tp,w);var Ai={},$I=null;function Vu(){return $I=$I||new Ct}Ai.Ia="serverreachability";function zI(c){w.call(this,Ai.Ia,c)}p(zI,w);function la(c){let d=Vu();Nt(d,new zI(d))}Ai.STAT_EVENT="statevent";function qI(c,d){w.call(this,Ai.STAT_EVENT,c),this.stat=d}p(qI,w);function Pt(c){let d=Vu();Nt(d,new qI(d,c))}Ai.Ja="timingevent";function GI(c,d){w.call(this,Ai.Ja,c),this.size=d}p(GI,w);function da(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){c()},d)}function ha(){this.g=!0}ha.prototype.ua=function(){this.g=!1};function AM(c,d,f,m,T,x){c.info(function(){if(c.g)if(x){var j="",oe=x.split("&");for(let Me=0;Me<oe.length;Me++){var tt=oe[Me].split("=");if(tt.length>1){let it=tt[0];tt=tt[1];let kn=it.split("_");j=kn.length>=2&&kn[1]=="type"?j+(it+"="+tt+"&"):j+(it+"=redacted&")}}}else j=null;else j=x;return"XMLHTTP REQ ("+m+") [attempt "+T+"]: "+d+`
`+f+`
`+j})}function RM(c,d,f,m,T,x,j){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+T+"]: "+d+`
`+f+`
`+x+" "+j})}function Vo(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+MM(c,f)+(m?" "+m:"")})}function xM(c,d){c.info(function(){return"TIMEOUT: "+d})}ha.prototype.info=function(){};function MM(c,d){if(!c.g)return d;if(!d)return null;try{let x=JSON.parse(d);if(x){for(c=0;c<x.length;c++)if(Array.isArray(x[c])){var f=x[c];if(!(f.length<2)){var m=f[1];if(Array.isArray(m)&&!(m.length<1)){var T=m[0];if(T!="noop"&&T!="stop"&&T!="close")for(let j=1;j<m.length;j++)m[j]=""}}}}return Cp(x)}catch{return d}}var ju={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},WI={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},KI;function Sp(){}p(Sp,BI),Sp.prototype.g=function(){return new XMLHttpRequest},KI=new Sp;function fa(c){return encodeURIComponent(String(c))}function NM(c){var d=1;c=c.split(":");let f=[];for(;d>0&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function Br(c,d,f,m){this.j=c,this.i=d,this.l=f,this.S=m||1,this.V=new ca(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new QI}function QI(){this.i=null,this.g="",this.h=!1}var YI={},Ap={};function Rp(c,d,f){c.M=1,c.A=Bu(Pn(d)),c.u=f,c.R=!0,JI(c,null)}function JI(c,d){c.F=Date.now(),Uu(c),c.B=Pn(c.A);var f=c.B,m=c.S;Array.isArray(m)||(m=[String(m)]),lw(f.i,"t",m),c.C=0,f=c.j.L,c.h=new QI,c.g=Aw(c.j,f?d:null,!c.u),c.P>0&&(c.O=new DM(l(c.Y,c,c.g),c.P)),d=c.V,f=c.g,m=c.ba;var T="readystatechange";Array.isArray(T)||(T&&(jI[0]=T.toString()),T=jI);for(let x=0;x<T.length;x++){let j=PI(f,T[x],m||d.handleEvent,!1,d.h||d);if(!j)break;d.g[j.key]=j}d=c.J?xI(c.J):{},c.u?(c.v||(c.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,d)):(c.v="GET",c.g.ea(c.B,c.v,null,d)),la(),AM(c.i,c.v,c.B,c.l,c.S,c.u)}Br.prototype.ba=function(c){c=c.target;let d=this.O;d&&zr(c)==3?d.j():this.Y(c)},Br.prototype.Y=function(c){try{if(c==this.g)e:{let oe=zr(this.g),tt=this.g.ya(),Me=this.g.ca();if(!(oe<3)&&(oe!=3||this.g&&(this.h.h||this.g.la()||yw(this.g)))){this.K||oe!=4||tt==7||(tt==8||Me<=0?la(3):la(2)),xp(this);var d=this.g.ca();this.X=d;var f=PM(this);if(this.o=d==200,RM(this.i,this.v,this.B,this.l,this.S,oe,d),this.o){if(this.U&&!this.L){t:{if(this.g){var m,T=this.g;if((m=T.g?T.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(m)){var x=m;break t}}x=null}if(c=x)Vo(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Mp(this,c);else{this.o=!1,this.m=3,Pt(12),Ri(this),pa(this);break e}}if(this.R){c=!0;let it;for(;!this.K&&this.C<f.length;)if(it=kM(this,f),it==Ap){oe==4&&(this.m=4,Pt(14),c=!1),Vo(this.i,this.l,null,"[Incomplete Response]");break}else if(it==YI){this.m=4,Pt(15),Vo(this.i,this.l,f,"[Invalid Chunk]"),c=!1;break}else Vo(this.i,this.l,it,null),Mp(this,it);if(ZI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),oe!=4||f.length!=0||this.h.h||(this.m=1,Pt(16),c=!1),this.o=this.o&&c,!c)Vo(this.i,this.l,f,"[Invalid Chunked Response]"),Ri(this),pa(this);else if(f.length>0&&!this.W){this.W=!0;var j=this.j;j.g==this&&j.aa&&!j.P&&(j.j.info("Great, no buffering proxy detected. Bytes received: "+f.length),Vp(j),j.P=!0,Pt(11))}}else Vo(this.i,this.l,f,null),Mp(this,f);oe==4&&Ri(this),this.o&&!this.K&&(oe==4?Cw(this.j,this):(this.o=!1,Uu(this)))}else KM(this.g),d==400&&f.indexOf("Unknown SID")>0?(this.m=3,Pt(12)):(this.m=0,Pt(13)),Ri(this),pa(this)}}}catch{}};function PM(c){if(!ZI(c))return c.g.la();let d=yw(c.g);if(d==="")return"";let f="",m=d.length,T=zr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Ri(c),pa(c),"";c.h.i=new s.TextDecoder}for(let x=0;x<m;x++)c.h.h=!0,f+=c.h.i.decode(d[x],{stream:!(T&&x==m-1)});return d.length=0,c.h.g+=f,c.C=0,c.h.g}function ZI(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function kM(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?Ap:(f=Number(d.substring(f,m)),isNaN(f)?YI:(m+=1,m+f>d.length?Ap:(d=d.slice(m,m+f),c.C=m+f,d)))}Br.prototype.cancel=function(){this.K=!0,Ri(this)};function Uu(c){c.T=Date.now()+c.H,XI(c,c.H)}function XI(c,d){if(c.D!=null)throw Error("WatchDog timer not null");c.D=da(l(c.aa,c),d)}function xp(c){c.D&&(s.clearTimeout(c.D),c.D=null)}Br.prototype.aa=function(){this.D=null;let c=Date.now();c-this.T>=0?(xM(this.i,this.B),this.M!=2&&(la(),Pt(17)),Ri(this),this.m=2,pa(this)):XI(this,this.T-c)};function pa(c){c.j.I==0||c.K||Cw(c.j,c)}function Ri(c){xp(c);var d=c.O;d&&typeof d.dispose=="function"&&d.dispose(),c.O=null,UI(c.V),c.g&&(d=c.g,c.g=null,d.abort(),d.dispose())}function Mp(c,d){try{var f=c.j;if(f.I!=0&&(f.g==c||Np(f.h,c))){if(!c.L&&Np(f.h,c)&&f.I==3){try{var m=f.Ba.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var T=m;if(T[0]==0){e:if(!f.v){if(f.g)if(f.g.F+3e3<c.F)Wu(f),qu(f);else break e;Lp(f),Pt(18)}}else f.xa=T[1],0<f.xa-f.K&&T[2]<37500&&f.F&&f.A==0&&!f.C&&(f.C=da(l(f.Va,f),6e3));nw(f.h)<=1&&f.ta&&(f.ta=void 0)}else Mi(f,11)}else if((c.L||f.g==c)&&Wu(f),!_(d))for(T=f.Ba.g.parse(d),d=0;d<T.length;d++){let Me=T[d],it=Me[0];if(!(it<=f.K))if(f.K=it,Me=Me[1],f.I==2)if(Me[0]=="c"){f.M=Me[1],f.ba=Me[2];let kn=Me[3];kn!=null&&(f.ka=kn,f.j.info("VER="+f.ka));let Ni=Me[4];Ni!=null&&(f.za=Ni,f.j.info("SVER="+f.za));let qr=Me[5];qr!=null&&typeof qr=="number"&&qr>0&&(m=1.5*qr,f.O=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let Gr=c.g;if(Gr){let Qu=Gr.g?Gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qu){var x=m.h;x.g||Qu.indexOf("spdy")==-1&&Qu.indexOf("quic")==-1&&Qu.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(Pp(x,x.h),x.h=null))}if(m.G){let jp=Gr.g?Gr.g.getResponseHeader("X-HTTP-Session-Id"):null;jp&&(m.wa=jp,Ne(m.J,m.G,jp))}}f.I=3,f.l&&f.l.ra(),f.aa&&(f.T=Date.now()-c.F,f.j.info("Handshake RTT: "+f.T+"ms")),m=f;var j=c;if(m.na=Sw(m,m.L?m.ba:null,m.W),j.L){rw(m.h,j);var oe=j,tt=m.O;tt&&(oe.H=tt),oe.D&&(xp(oe),Uu(oe)),m.g=j}else ww(m);f.i.length>0&&Gu(f)}else Me[0]!="stop"&&Me[0]!="close"||Mi(f,7);else f.I==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Mi(f,7):Fp(f):Me[0]!="noop"&&f.l&&f.l.qa(Me),f.A=0)}}la(4)}catch{}}var OM=class{constructor(c,d){this.g=c,this.map=d}};function ew(c){this.l=c||10,s.PerformanceNavigationTiming?(c=s.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function tw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function nw(c){return c.h?1:c.g?c.g.size:0}function Np(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Pp(c,d){c.g?c.g.add(d):c.h=d}function rw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}ew.prototype.cancel=function(){if(this.i=iw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function iw(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.G);return d}return y(c.i)}var ow=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function FM(c,d){if(c){c=c.split("&");for(let f=0;f<c.length;f++){let m=c[f].indexOf("="),T,x=null;m>=0?(T=c[f].substring(0,m),x=c[f].substring(m+1)):T=c[f],d(T,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function Hr(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;c instanceof Hr?(this.l=c.l,ga(this,c.j),this.o=c.o,this.g=c.g,ma(this,c.u),this.h=c.h,kp(this,dw(c.i)),this.m=c.m):c&&(d=String(c).match(ow))?(this.l=!1,ga(this,d[1]||"",!0),this.o=ya(d[2]||""),this.g=ya(d[3]||"",!0),ma(this,d[4]),this.h=ya(d[5]||"",!0),kp(this,d[6]||"",!0),this.m=ya(d[7]||"")):(this.l=!1,this.i=new _a(null,this.l))}Hr.prototype.toString=function(){let c=[];var d=this.j;d&&c.push(va(d,sw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(va(d,sw,!0),"@"),c.push(fa(f).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.u,f!=null&&c.push(":",String(f))),(f=this.h)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(va(f,f.charAt(0)=="/"?jM:VM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",va(f,BM)),c.join("")},Hr.prototype.resolve=function(c){let d=Pn(this),f=!!c.j;f?ga(d,c.j):f=!!c.o,f?d.o=c.o:f=!!c.g,f?d.g=c.g:f=c.u!=null;var m=c.h;if(f)ma(d,c.u);else if(f=!!c.h){if(m.charAt(0)!="/")if(this.g&&!this.h)m="/"+m;else{var T=d.h.lastIndexOf("/");T!=-1&&(m=d.h.slice(0,T+1)+m)}if(T=m,T==".."||T==".")m="";else if(T.indexOf("./")!=-1||T.indexOf("/.")!=-1){m=T.lastIndexOf("/",0)==0,T=T.split("/");let x=[];for(let j=0;j<T.length;){let oe=T[j++];oe=="."?m&&j==T.length&&x.push(""):oe==".."?((x.length>1||x.length==1&&x[0]!="")&&x.pop(),m&&j==T.length&&x.push("")):(x.push(oe),m=!0)}m=x.join("/")}else m=T}return f?d.h=m:f=c.i.toString()!=="",f?kp(d,dw(c.i)):f=!!c.m,f&&(d.m=c.m),d};function Pn(c){return new Hr(c)}function ga(c,d,f){c.j=f?ya(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function ma(c,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);c.u=d}else c.u=null}function kp(c,d,f){d instanceof _a?(c.i=d,HM(c.i,c.l)):(f||(d=va(d,UM)),c.i=new _a(d,c.l))}function Ne(c,d,f){c.i.set(d,f)}function Bu(c){return Ne(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ya(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function va(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,LM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function LM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var sw=/[#\/\?@]/g,VM=/[#\?:]/g,jM=/[#\?]/g,UM=/[#\?@]/g,BM=/#/g;function _a(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function xi(c){c.g||(c.g=new Map,c.h=0,c.i&&FM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=_a.prototype,n.add=function(c,d){xi(this),this.i=null,c=jo(this,c);let f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function aw(c,d){xi(c),d=jo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function cw(c,d){return xi(c),d=jo(c,d),c.g.has(d)}n.forEach=function(c,d){xi(this),this.g.forEach(function(f,m){f.forEach(function(T){c.call(d,T,m,this)},this)},this)};function uw(c,d){xi(c);let f=[];if(typeof d=="string")cw(c,d)&&(f=f.concat(c.g.get(jo(c,d))));else for(c=Array.from(c.g.values()),d=0;d<c.length;d++)f=f.concat(c[d]);return f}n.set=function(c,d){return xi(this),this.i=null,c=jo(this,c),cw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=uw(this,c),c.length>0?String(c[0]):d):d};function lw(c,d,f){aw(c,d),f.length>0&&(c.i=null,c.g.set(jo(c,d),y(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(let m=0;m<d.length;m++){var f=d[m];let T=fa(f);f=uw(this,f);for(let x=0;x<f.length;x++){let j=T;f[x]!==""&&(j+="="+fa(f[x])),c.push(j)}}return this.i=c.join("&")};function dw(c){let d=new _a;return d.i=c.i,c.g&&(d.g=new Map(c.g),d.h=c.h),d}function jo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function HM(c,d){d&&!c.j&&(xi(c),c.i=null,c.g.forEach(function(f,m){let T=m.toLowerCase();m!=T&&(aw(this,m),lw(this,T,f))},c)),c.j=d}function $M(c,d){let f=new ha;if(s.Image){let m=new Image;m.onload=h($r,f,"TestLoadImage: loaded",!0,d,m),m.onerror=h($r,f,"TestLoadImage: error",!1,d,m),m.onabort=h($r,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=h($r,f,"TestLoadImage: timeout",!1,d,m),s.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function zM(c,d){let f=new ha,m=new AbortController,T=setTimeout(()=>{m.abort(),$r(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(x=>{clearTimeout(T),x.ok?$r(f,"TestPingServer: ok",!0,d):$r(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),$r(f,"TestPingServer: error",!1,d)})}function $r(c,d,f,m,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),m(f)}catch{}}function qM(){this.g=new SM}function Hu(c){this.i=c.Sb||null,this.h=c.ab||!1}p(Hu,BI),Hu.prototype.g=function(){return new $u(this.i,this.h)};function $u(c,d){Ct.call(this),this.H=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p($u,Ct),n=$u.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=d,this.readyState=1,Ia(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(d.body=c),(this.H||s).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ea(this)),this.readyState=0},n.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ia(this)),this.g&&(this.readyState=3,Ia(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;hw(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function hw(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}n.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ea(this):Ia(this),this.readyState==3&&hw(this)}},n.Oa=function(c){this.g&&(this.response=this.responseText=c,Ea(this))},n.Na=function(c){this.g&&(this.response=c,Ea(this))},n.ga=function(){this.g&&Ea(this)};function Ea(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Ia(c)}n.setRequestHeader=function(c,d){this.A.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Ia(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty($u.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function fw(c){let d="";return Ou(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Op(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=fw(f),typeof c=="string"?f!=null&&fa(f):Ne(c,d,f))}function Ue(c){Ct.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Ue,Ct);var GM=/^https?$/i,WM=["POST","PUT"];n=Ue.prototype,n.Fa=function(c){this.H=c},n.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():KI.g(),this.g.onreadystatechange=g(l(this.Ca,this));try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(x){pw(this,x);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var T in m)f.set(T,m[T]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let x of m.keys())f.set(x,m.get(x));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(x=>x.toLowerCase()=="content-type"),T=s.FormData&&c instanceof s.FormData,!(Array.prototype.indexOf.call(WM,d,void 0)>=0)||m||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[x,j]of f)this.g.setRequestHeader(x,j);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(x){pw(this,x)}};function pw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.o=5,gw(c),zu(c)}function gw(c){c.A||(c.A=!0,Nt(c,"complete"),Nt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Nt(this,"complete"),Nt(this,"abort"),zu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zu(this,!0)),Ue.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?mw(this):this.Xa())},n.Xa=function(){mw(this)};function mw(c){if(c.h&&typeof o<"u"){if(c.v&&zr(c)==4)setTimeout(c.Ca.bind(c),0);else if(Nt(c,"readystatechange"),zr(c)==4){c.h=!1;try{let x=c.ca();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=x===0){let j=String(c.D).match(ow)[1]||null;!j&&s.self&&s.self.location&&(j=s.self.location.protocol.slice(0,-1)),m=!GM.test(j?j.toLowerCase():"")}f=m}if(f)Nt(c,"complete"),Nt(c,"success");else{c.o=6;try{var T=zr(c)>2?c.g.statusText:""}catch{T=""}c.l=T+" ["+c.ca()+"]",gw(c)}}finally{zu(c)}}}}function zu(c,d){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);let f=c.g;c.g=null,d||Nt(c,"ready");try{f.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function zr(c){return c.g?c.g.readyState:0}n.ca=function(){try{return zr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),TM(d)}};function yw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function KM(c){let d={};c=(c.g&&zr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(_(c[m]))continue;var f=NM(c[m]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let x=d[T]||[];d[T]=x,x.push(f)}IM(d,function(m){return m.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wa(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function vw(c){this.za=0,this.i=[],this.j=new ha,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wa("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wa("baseRetryDelayMs",5e3,c),this.Za=wa("retryDelaySeedMs",1e4,c),this.Ta=wa("forwardChannelMaxRetries",2,c),this.va=wa("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ew(c&&c.concurrentRequestLimit),this.Ba=new qM,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=vw.prototype,n.ka=8,n.I=1,n.connect=function(c,d,f,m){Pt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.J=Sw(this,null,this.W),Gu(this)};function Fp(c){if(_w(c),c.I==3){var d=c.V++,f=Pn(c.J);if(Ne(f,"SID",c.M),Ne(f,"RID",d),Ne(f,"TYPE","terminate"),ba(c,f),d=new Br(c,c.j,d),d.M=2,d.A=Bu(Pn(f)),f=!1,s.navigator&&s.navigator.sendBeacon)try{f=s.navigator.sendBeacon(d.A.toString(),"")}catch{}!f&&s.Image&&(new Image().src=d.A,f=!0),f||(d.g=Aw(d.j,null),d.g.ea(d.A)),d.F=Date.now(),Uu(d)}Tw(c)}function qu(c){c.g&&(Vp(c),c.g.cancel(),c.g=null)}function _w(c){qu(c),c.v&&(s.clearTimeout(c.v),c.v=null),Wu(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&s.clearTimeout(c.m),c.m=null)}function Gu(c){if(!tw(c.h)&&!c.m){c.m=!0;var d=c.Ea;gn||v(),mt||(gn(),mt=!0),b.add(d,c),c.D=0}}function QM(c,d){return nw(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=d.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=da(l(c.Ea,c,d),Dw(c,c.D)),c.D++,!0)}n.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;let T=new Br(this,this.j,c),x=this.o;if(this.U&&(x?(x=xI(x),NI(x,this.U)):x=this.U),this.u!==null||this.R||(T.J=x,x=null),this.S)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,d>4096){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Iw(this,T,d),f=Pn(this.J),Ne(f,"RID",c),Ne(f,"CVER",22),this.G&&Ne(f,"X-HTTP-Session-Id",this.G),ba(this,f),x&&(this.R?d="headers="+fa(fw(x))+"&"+d:this.u&&Op(f,this.u,x)),Pp(this.h,T),this.Ra&&Ne(f,"TYPE","init"),this.S?(Ne(f,"$req",d),Ne(f,"SID","null"),T.U=!0,Rp(T,f,null)):Rp(T,f,d),this.I=2}}else this.I==3&&(c?Ew(this,c):this.i.length==0||tw(this.h)||Ew(this))};function Ew(c,d){var f;d?f=d.l:f=c.V++;let m=Pn(c.J);Ne(m,"SID",c.M),Ne(m,"RID",f),Ne(m,"AID",c.K),ba(c,m),c.u&&c.o&&Op(m,c.u,c.o),f=new Br(c,c.j,f,c.D+1),c.u===null&&(f.J=c.o),d&&(c.i=d.G.concat(c.i)),d=Iw(c,f,1e3),f.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Pp(c.h,f),Rp(f,m,d)}function ba(c,d){c.H&&Ou(c.H,function(f,m){Ne(d,m,f)}),c.l&&Ou({},function(f,m){Ne(d,m,f)})}function Iw(c,d,f){f=Math.min(c.i.length,f);let m=c.l?l(c.l.Ka,c.l,c):null;e:{var T=c.i;let oe=-1;for(;;){let tt=["count="+f];oe==-1?f>0?(oe=T[0].g,tt.push("ofs="+oe)):oe=0:tt.push("ofs="+oe);let Me=!0;for(let it=0;it<f;it++){var x=T[it].g;let kn=T[it].map;if(x-=oe,x<0)oe=Math.max(0,T[it].g-100),Me=!1;else try{x="req"+x+"_"||"";try{var j=kn instanceof Map?kn:Object.entries(kn);for(let[Ni,qr]of j){let Gr=qr;a(qr)&&(Gr=Cp(qr)),tt.push(x+Ni+"="+encodeURIComponent(Gr))}}catch(Ni){throw tt.push(x+"type="+encodeURIComponent("_badmap")),Ni}}catch{m&&m(kn)}}if(Me){j=tt.join("&");break e}}j=void 0}return c=c.i.splice(0,f),d.G=c,j}function ww(c){if(!c.g&&!c.v){c.Y=1;var d=c.Da;gn||v(),mt||(gn(),mt=!0),b.add(d,c),c.A=0}}function Lp(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=da(l(c.Da,c),Dw(c,c.A)),c.A++,!0)}n.Da=function(){if(this.v=null,bw(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=da(l(this.Wa,this),c)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pt(10),qu(this),bw(this))};function Vp(c){c.B!=null&&(s.clearTimeout(c.B),c.B=null)}function bw(c){c.g=new Br(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var d=Pn(c.na);Ne(d,"RID","rpc"),Ne(d,"SID",c.M),Ne(d,"AID",c.K),Ne(d,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ne(d,"TO",c.ia),Ne(d,"TYPE","xmlhttp"),ba(c,d),c.u&&c.o&&Op(d,c.u,c.o),c.O&&(c.g.H=c.O);var f=c.g;c=c.ba,f.M=1,f.A=Bu(Pn(d)),f.u=null,f.R=!0,JI(f,c)}n.Va=function(){this.C!=null&&(this.C=null,qu(this),Lp(this),Pt(19))};function Wu(c){c.C!=null&&(s.clearTimeout(c.C),c.C=null)}function Cw(c,d){var f=null;if(c.g==d){Wu(c),Vp(c),c.g=null;var m=2}else if(Np(c.h,d))f=d.G,rw(c.h,d),m=1;else return;if(c.I!=0){if(d.o)if(m==1){f=d.u?d.u.length:0,d=Date.now()-d.F;var T=c.D;m=Vu(),Nt(m,new GI(m,f)),Gu(c)}else ww(c);else if(T=d.m,T==3||T==0&&d.X>0||!(m==1&&QM(c,d)||m==2&&Lp(c)))switch(f&&f.length>0&&(d=c.h,d.i=d.i.concat(f)),T){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function Dw(c,d){let f=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(f*=2),f*d}function Mi(c,d){if(c.j.info("Error code "+d),d==2){var f=l(c.bb,c),m=c.Ua;let T=!m;m=new Hr(m||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||ga(m,"https"),Bu(m),T?$M(m.toString(),f):zM(m.toString(),f)}else Pt(2);c.I=0,c.l&&c.l.pa(d),Tw(c),_w(c)}n.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function Tw(c){if(c.I=0,c.ja=[],c.l){let d=iw(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ja,d),R(c.ja,c.i),c.h.i.length=0,y(c.i),c.i.length=0),c.l.oa()}}function Sw(c,d,f){var m=f instanceof Hr?Pn(f):new Hr(f);if(m.g!="")d&&(m.g=d+"."+m.g),ma(m,m.u);else{var T=s.location;m=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;let x=new Hr(null);m&&ga(x,m),d&&(x.g=d),T&&ma(x,T),f&&(x.h=f),m=x}return f=c.G,d=c.wa,f&&d&&Ne(m,f,d),Ne(m,"VER",c.ka),ba(c,m),m}function Aw(c,d,f){if(d&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Aa&&!c.ma?new Ue(new Hu({ab:f})):new Ue(c.ma),d.Fa(c.L),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rw(){}n=Rw.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ku(){}Ku.prototype.g=function(c,d){return new qt(c,d)};function qt(c,d){Ct.call(this),this.g=new vw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(c?c["X-WebChannel-Client-Profile"]=d.sa:c={"X-WebChannel-Client-Profile":d.sa}),this.g.U=c,(c=d&&d.Qb)&&!_(c)&&(this.g.u=c),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!_(d)&&(this.g.G=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Uo(this)}p(qt,Ct),qt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){Fp(this.g)},qt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.v&&(f={},f.__data__=Cp(c),c=f);d.i.push(new OM(d.Ya++,c)),d.I==3&&Gu(d)},qt.prototype.N=function(){this.g.l=null,delete this.j,Fp(this.g),delete this.g,qt.Z.N.call(this)};function xw(c){Dp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}p(xw,Dp);function Mw(){Tp.call(this),this.status=1}p(Mw,Tp);function Uo(c){this.g=c}p(Uo,Rw),Uo.prototype.ra=function(){Nt(this.g,"a")},Uo.prototype.qa=function(c){Nt(this.g,new xw(c))},Uo.prototype.pa=function(c){Nt(this.g,new Mw)},Uo.prototype.oa=function(){Nt(this.g,"b")},Ku.prototype.createWebChannel=Ku.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,Jv=xr.createWebChannelTransport=function(){return new Ku},Yv=xr.getStatEventTarget=function(){return Vu()},Qv=xr.Event=Ai,$h=xr.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ju.NO_ERROR=0,ju.TIMEOUT=8,ju.HTTP_ERROR=6,tu=xr.ErrorCode=ju,WI.COMPLETE="complete",Kv=xr.EventType=WI,HI.EventType=ua,ua.OPEN="a",ua.CLOSE="b",ua.ERROR="c",ua.MESSAGE="d",Ct.prototype.listen=Ct.prototype.J,xs=xr.WebChannel=HI,yj=xr.FetchXmlHttpFactory=Hu,Ue.prototype.listenOnce=Ue.prototype.K,Ue.prototype.getLastError=Ue.prototype.Ha,Ue.prototype.getLastErrorCode=Ue.prototype.ya,Ue.prototype.getStatus=Ue.prototype.ca,Ue.prototype.getResponseJson=Ue.prototype.La,Ue.prototype.getResponseText=Ue.prototype.la,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Fa,Wv=xr.XhrIo=Ue}).apply(typeof Hh<"u"?Hh:typeof self<"u"?self:typeof window<"u"?window:{});var ht=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ht.UNAUTHENTICATED=new ht(null),ht.GOOGLE_CREDENTIALS=new ht("google-credentials-uid"),ht.FIRST_PARTY=new ht("first-party-uid"),ht.MOCK_USER=new ht("mock-user");var Zs="12.8.0";function NA(n){Zs=n}var _o=new pi("@firebase/firestore");function Ms(){return _o.logLevel}function B(n,...e){if(_o.logLevel<=de.DEBUG){let t=e.map(SE);_o.debug(`Firestore (${Zs}): ${n}`,...t)}}function Pr(n,...e){if(_o.logLevel<=de.ERROR){let t=e.map(SE);_o.error(`Firestore (${Zs}): ${n}`,...t)}}function vi(n,...e){if(_o.logLevel<=de.WARN){let t=e.map(SE);_o.warn(`Firestore (${Zs}): ${n}`,...t)}}function SE(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function K(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,PA(n,r,t)}function PA(n,e,t){let r=`FIRESTORE (${Zs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Pr(r),new Error(r)}function Ae(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||PA(e,i,r)}function te(n,e){return n}var F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends nn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Rn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Yh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Jh=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ht.UNAUTHENTICATED))}shutdown(){}},r_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Zh=class{constructor(e){this.t=e,this.currentUser=ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ae(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Rn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Rn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Rn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string",31837,{l:r}),new Yh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string",2055,{h:e}),new ht(e)}},i_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ht.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);let e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}},o_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new i_(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Xh=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},ef=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ae(this.o===void 0,3512);let r=o=>{o.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,B("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Xh(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ae(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Xh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function vj(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Eo=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=vj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function ge(n,e){return n<e?-1:n>e?1:0}function s_(n,e){let t=Math.min(n.length,e.length);for(let r=0;r<t;r++){let i=n.charAt(r),o=e.charAt(r);if(i!==o)return Zv(i)===Zv(o)?ge(i,o):Zv(i)?1:-1}return ge(n.length,e.length)}var _j=55296,Ej=57343;function Zv(n){let e=n.charCodeAt(0);return e>=_j&&e<=Ej}function Vs(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var WS="__name__",tf=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&K(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&K(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return ge(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):s_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rr.fromString(e.substring(4,e.length-2))}},Le=class n extends tf{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},Ij=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$t=class n extends tf{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return Ij.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===WS}static keyField(){return new n([WS])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new H(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new H(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var G=class n{constructor(e){this.path=e}static fromPath(e){return new n(Le.fromString(e))}static fromName(e){return new n(Le.fromString(e).popFirst(5))}static empty(){return new n(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Le.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Le(e.slice()))}};function kA(n,e,t){if(!t)throw new H(F.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function OA(n,e,t,r){if(e===!0&&r===!0)throw new H(F.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function KS(n){if(!G.isDocumentKey(n))throw new H(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function QS(n){if(G.isDocumentKey(n))throw new H(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function FA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function kf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":K(12329,{type:typeof n})}function Nn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new H(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=kf(n);throw new H(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ze(n,e){let t={typeString:n};return e&&(t.value=e),t}function Xs(n,e){if(!FA(n))throw new H(F.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new H(F.INVALID_ARGUMENT,t);return!0}var YS=-62135596800,JS=1e6,qe=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*JS);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<YS)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/JS}_compareTo(e){return this.seconds===e.seconds?ge(this.nanoseconds,e.nanoseconds):ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xs(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-YS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};qe._jsonSchemaVersion="firestore/timestamp/1.0",qe._jsonSchema={type:ze("string",qe._jsonSchemaVersion),seconds:ze("number"),nanoseconds:ze("number")};var ie=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new qe(0,0))}static max(){return new n(new qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var au=-1,nf=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};nf.UNKNOWN_ID=-1;function wj(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new qe(t+1,0):new qe(t,r));return new Io(i,G.empty(),e)}function bj(n){return new Io(n.readTime,n.key,au)}var Io=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ie.min(),G.empty(),au)}static max(){return new n(ie.max(),G.empty(),au)}};function Cj(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=G.comparator(n.documentKey,e.documentKey),t!==0?t:ge(n.largestBatchId,e.largestBatchId))}var Dj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",a_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function ea(n){if(n.code!==F.FAILED_PRECONDITION||n.message!==Dj)throw n;B("LocalStore","Unexpectedly lost primary lease")}var L=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&K(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function Tj(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ta(n){return n.name==="IndexedDbTransactionError"}var AE=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ue&&this.ue(t),t}}n.ce=-1;return n})(),RE=-1;function Of(n){return n==null}function cu(n){return n===0&&1/n==-1/0}function Sj(n){return typeof n=="number"&&Number.isInteger(n)&&!cu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var LA="";function Aj(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ZS(e)),e=Rj(n.get(t),e);return ZS(e)}function Rj(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case LA:t+="";break;default:t+=o}}return t}function ZS(n){return n+LA+""}var xj="remoteDocuments",VA="owner";var jA="mutationQueues";var UA="mutations";var BA="documentMutations",Mj="remoteDocumentsV14";var HA="remoteDocumentGlobal";var $A="targets";var zA="targetDocuments";var qA="targetGlobal",GA="collectionParents";var WA="clientMetadata";var KA="bundles";var QA="namedQueries";var Nj="indexConfiguration";var Pj="indexState";var kj="indexEntries";var YA="documentOverlays";var Oj="globals";var Fj=[jA,UA,BA,xj,$A,VA,qA,zA,WA,HA,GA,KA,QA],bte=[...Fj,YA],Lj=[jA,UA,BA,Mj,$A,VA,qA,zA,WA,HA,GA,KA,QA,YA],Vj=Lj,jj=[...Vj,Nj,Pj,kj];var Cte=[...jj,Oj];function XS(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function wi(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function JA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Be=class n{constructor(e,t){this.comparator=e,this.root=t||Jn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Os(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Os(this.root,e,this.comparator,!1)}getReverseIterator(){return new Os(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Os(this.root,e,this.comparator,!0)}},Os=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Jn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw K(43730,{key:this.key,value:this.value});if(this.right.isRed())throw K(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw K(27949);return e+(this.isRed()?0:1)}};Jn.EMPTY=null,Jn.RED=!0,Jn.BLACK=!1;Jn.EMPTY=new class{constructor(){this.size=0}get key(){throw K(57766)}get value(){throw K(16141)}get color(){throw K(16727)}get left(){throw K(29726)}get right(){throw K(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Jn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ft=class n{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rf(this.data.getIterator())}getIteratorFrom(e){return new rf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},rf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var fn=class n{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new n([])}unionWith(e){let t=new ft($t.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vs(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var of=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var bt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new of("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};bt.EMPTY_BYTE_STRING=new bt("");var Uj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kr(n){if(Ae(!!n,39018),typeof n=="string"){let e=0,t=Uj.exec(n);if(Ae(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fe(n.seconds),nanos:Fe(n.nanos)}}function Fe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Or(n){return typeof n=="string"?bt.fromBase64String(n):bt.fromUint8Array(n)}var ZA="server_timestamp",XA="__type__",eR="__previous_value__",tR="__local_write_time__";function Ff(n){return(n?.mapValue?.fields||{})[XA]?.stringValue===ZA}function Lf(n){let e=n.mapValue.fields[eR];return Ff(e)?Lf(e):e}function uu(n){let e=kr(n.mapValue.fields[tR].timestampValue);return new qe(e.seconds,e.nanos)}var c_=class{constructor(e,t,r,i,o,s,a,u,l,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h,this.apiKey=p}},sf="(default)",lu=class n{constructor(e,t){this.projectId=e,this.database=t||sf}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===sf}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};function nR(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new H(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lu(n.options.projectId,e)}var xE="__type__",rR="__max__",zh={mapValue:{fields:{__type__:{stringValue:rR}}}},ME="__vector__",js="value";function _i(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ff(n)?4:oR(n)?9007199254740991:iR(n)?10:11:K(28295,{value:n})}function rr(n,e){if(n===e)return!0;let t=_i(n);if(t!==_i(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return uu(n).isEqual(uu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=kr(i.timestampValue),a=kr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Or(i.bytesValue).isEqual(Or(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Fe(i.geoPointValue.latitude)===Fe(o.geoPointValue.latitude)&&Fe(i.geoPointValue.longitude)===Fe(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Fe(i.integerValue)===Fe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Fe(i.doubleValue),a=Fe(o.doubleValue);return s===a?cu(s)===cu(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return Vs(n.arrayValue.values||[],e.arrayValue.values||[],rr);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(XS(s)!==XS(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!rr(s[u],a[u])))return!1;return!0})(n,e);default:return K(52216,{left:n})}}function du(n,e){return(n.values||[]).find(t=>rr(t,e))!==void 0}function Us(n,e){if(n===e)return 0;let t=_i(n),r=_i(e);if(t!==r)return ge(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ge(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Fe(o.integerValue||o.doubleValue),u=Fe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(n,e);case 3:return eA(n.timestampValue,e.timestampValue);case 4:return eA(uu(n),uu(e));case 5:return s_(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=Or(o),u=Or(s);return a.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ge(a[l],u[l]);if(h!==0)return h}return ge(a.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=ge(Fe(o.latitude),Fe(s.latitude));return a!==0?a:ge(Fe(o.longitude),Fe(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return tA(n.arrayValue,e.arrayValue);case 10:return(function(o,s){let a=o.fields||{},u=s.fields||{},l=a[js]?.arrayValue,h=u[js]?.arrayValue,p=ge(l?.values?.length||0,h?.values?.length||0);return p!==0?p:tA(l,h)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===zh.mapValue&&s===zh.mapValue)return 0;if(o===zh.mapValue)return 1;if(s===zh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=s_(u[p],h[p]);if(g!==0)return g;let y=Us(a[u[p]],l[h[p]]);if(y!==0)return y}return ge(u.length,h.length)})(n.mapValue,e.mapValue);default:throw K(23264,{he:t})}}function eA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ge(n,e);let t=kr(n),r=kr(e),i=ge(t.seconds,r.seconds);return i!==0?i:ge(t.nanos,r.nanos)}function tA(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Us(t[i],r[i]);if(o)return o}return ge(t.length,r.length)}function Bs(n){return u_(n)}function u_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=kr(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Or(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return G.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=u_(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${u_(t.fields[s])}`;return i+"}"})(n.mapValue):K(61005,{value:n})}function Wh(n){switch(_i(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Lf(n);return e?16+Wh(e):16;case 5:return 2*n.stringValue.length;case 6:return Or(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Wh(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return wi(r.fields,(o,s)=>{i+=o.length+Wh(s)}),i})(n.mapValue);default:throw K(13486,{value:n})}}function l_(n){return!!n&&"integerValue"in n}function NE(n){return!!n&&"arrayValue"in n}function nA(n){return!!n&&"nullValue"in n}function rA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Kh(n){return!!n&&"mapValue"in n}function iR(n){return(n?.mapValue?.fields||{})[xE]?.stringValue===ME}function iu(n){if(n.geoPointValue)return{geoPointValue:P({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:P({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return wi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=iu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=iu(n.arrayValue.values[t]);return e}return P({},n)}function oR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===rR}var Tte={mapValue:{fields:{[xE]:{stringValue:ME},[js]:{arrayValue:{}}}}};var Ht=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Kh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=iu(t)}setAll(e){let t=$t.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=iu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Kh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Kh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){wi(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(iu(this.value))}};function sR(n){let e=[];return wi(n.fields,(t,r)=>{let i=new $t([t]);if(Kh(r)){let o=sR(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new fn(e)}var xn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ie.min(),ie.min(),ie.min(),Ht.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ie.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ie.min(),ie.min(),Ht.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ie.min(),ie.min(),Ht.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ht.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ht.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var wo=class{constructor(e,t){this.position=e,this.inclusive=t}};function iA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=G.comparator(G.fromName(s.referenceValue),t.key):r=Us(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function oA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!rr(n.position[t],e.position[t]))return!1;return!0}var bo=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Bj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var af=class{},et=class n extends af{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new h_(e,t,r):t==="array-contains"?new g_(e,r):t==="in"?new m_(e,r):t==="not-in"?new y_(e,r):t==="array-contains-any"?new v_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new f_(e,r):new p_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Us(t,this.value)):t!==null&&_i(this.value)===_i(t)&&this.matchesComparison(Us(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Mn=class n extends af{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new n(e,t)}matches(e){return aR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function aR(n){return n.op==="and"}function cR(n){return Hj(n)&&aR(n)}function Hj(n){for(let e of n.filters)if(e instanceof Mn)return!1;return!0}function d_(n){if(n instanceof et)return n.field.canonicalString()+n.op.toString()+Bs(n.value);if(cR(n))return n.filters.map(e=>d_(e)).join(",");{let e=n.filters.map(t=>d_(t)).join(",");return`${n.op}(${e})`}}function uR(n,e){return n instanceof et?(function(r,i){return i instanceof et&&r.op===i.op&&r.field.isEqual(i.field)&&rr(r.value,i.value)})(n,e):n instanceof Mn?(function(r,i){return i instanceof Mn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&uR(s,i.filters[a]),!0):!1})(n,e):void K(19439)}function lR(n){return n instanceof et?(function(t){return`${t.field.canonicalString()} ${t.op} ${Bs(t.value)}`})(n):n instanceof Mn?(function(t){return t.op.toString()+" {"+t.getFilters().map(lR).join(" ,")+"}"})(n):"Filter"}var h_=class extends et{constructor(e,t,r){super(e,t,r),this.key=G.fromName(r.referenceValue)}matches(e){let t=G.comparator(e.key,this.key);return this.matchesComparison(t)}},f_=class extends et{constructor(e,t){super(e,"in",t),this.keys=dR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},p_=class extends et{constructor(e,t){super(e,"not-in",t),this.keys=dR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function dR(n,e){return(e.arrayValue?.values||[]).map(t=>G.fromName(t.referenceValue))}var g_=class extends et{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return NE(t)&&du(t.arrayValue,this.value)}},m_=class extends et{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&du(this.value.arrayValue,t)}},y_=class extends et{constructor(e,t){super(e,"not-in",t)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!du(this.value.arrayValue,t)}},v_=class extends et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!NE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>du(this.value.arrayValue,r))}};var __=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}};function sA(n,e=null,t=[],r=[],i=null,o=null,s=null){return new __(n,e,t,r,i,o,s)}function PE(n){let e=te(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>d_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),Of(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Bs(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Bs(r)).join(",")),e.Te=t}return e.Te}function kE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Bj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!uR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!oA(n.startAt,e.startAt)&&oA(n.endAt,e.endAt)}function E_(n){return G.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Hs=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}};function $j(n,e,t,r,i,o,s,a){return new Hs(n,e,t,r,i,o,s,a)}function Vf(n){return new Hs(n)}function aA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function zj(n){return G.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function hR(n){return n.collectionGroup!==null}function Fs(n){let e=te(n);if(e.Ie===null){e.Ie=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ft($t.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new bo(o,r))}),t.has($t.keyField().canonicalString())||e.Ie.push(new bo($t.keyField(),r))}return e.Ie}function Zn(n){let e=te(n);return e.Ee||(e.Ee=qj(e,Fs(n))),e.Ee}function qj(n,e){if(n.limitType==="F")return sA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new bo(i.field,o)});let t=n.endAt?new wo(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new wo(n.startAt.position,n.startAt.inclusive):null;return sA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function cf(n,e,t){return new Hs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function jf(n,e){return kE(Zn(n),Zn(e))&&n.limitType===e.limitType}function fR(n){return`${PE(Zn(n))}|lt:${n.limitType}`}function Ns(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>lR(i)).join(", ")}]`),Of(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Bs(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Bs(i)).join(",")),`Target(${r})`})(Zn(n))}; limitType=${n.limitType})`}function Uf(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):G.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of Fs(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=iA(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,Fs(r),i)||r.endAt&&!(function(s,a,u){let l=iA(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,Fs(r),i))})(n,e)}function Gj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function pR(n){return(e,t)=>{let r=!1;for(let i of Fs(n)){let o=Wj(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Wj(n,e,t){let r=n.field.isKeyField()?G.comparator(e.key,t.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Us(u,l):K(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return K(19790,{direction:n.dir})}}var Fr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){wi(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return JA(this.inner)}size(){return this.innerSize}};var Kj=new Be(G.comparator);function Lr(){return Kj}var gR=new Be(G.comparator);function ru(...n){let e=gR;for(let t of n)e=e.insert(t.key,t);return e}function mR(n){let e=gR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function yo(){return ou()}function yR(){return ou()}function ou(){return new Fr(n=>n.toString(),(n,e)=>n.isEqual(e))}var Qj=new Be(G.comparator),Yj=new ft(G.comparator);function he(...n){let e=Yj;for(let t of n)e=e.add(t);return e}var Jj=new ft(ge);function Zj(){return Jj}function OE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cu(e)?"-0":e}}function vR(n){return{integerValue:""+n}}function Xj(n,e){return Sj(e)?vR(e):OE(n,e)}var $s=class{constructor(){this._=void 0}};function eU(n,e,t){return n instanceof zs?(function(i,o){let s={fields:{[XA]:{stringValue:ZA},[tR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Ff(o)&&(o=Lf(o)),o&&(s.fields[eR]=o),{mapValue:s}})(t,e):n instanceof Co?ER(n,e):n instanceof Do?IR(n,e):(function(i,o){let s=_R(i,o),a=cA(s)+cA(i.Ae);return l_(s)&&l_(i.Ae)?vR(a):OE(i.serializer,a)})(n,e)}function tU(n,e,t){return n instanceof Co?ER(n,e):n instanceof Do?IR(n,e):t}function _R(n,e){return n instanceof qs?(function(r){return l_(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var zs=class extends $s{},Co=class extends $s{constructor(e){super(),this.elements=e}};function ER(n,e){let t=wR(e);for(let r of n.elements)t.some(i=>rr(i,r))||t.push(r);return{arrayValue:{values:t}}}var Do=class extends $s{constructor(e){super(),this.elements=e}};function IR(n,e){let t=wR(e);for(let r of n.elements)t=t.filter(i=>!rr(i,r));return{arrayValue:{values:t}}}var qs=class extends $s{constructor(e,t){super(),this.serializer=e,this.Ae=t}};function cA(n){return Fe(n.integerValue||n.doubleValue)}function wR(n){return NE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function nU(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Co&&i instanceof Co||r instanceof Do&&i instanceof Do?Vs(r.elements,i.elements,rr):r instanceof qs&&i instanceof qs?rr(r.Ae,i.Ae):r instanceof zs&&i instanceof zs})(n.transform,e.transform)}var I_=class{constructor(e,t){this.version=e,this.transformResults=t}},Xn=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Qh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Gs=class{};function bR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ws(n.key,Xn.none()):new To(n.key,n.data,Xn.none());{let t=n.data,r=Ht.empty(),i=new ft($t.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ir(n.key,r,new fn(i.toArray()),Xn.none())}}function rU(n,e,t){n instanceof To?(function(i,o,s){let a=i.value.clone(),u=lA(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof ir?(function(i,o,s){if(!Qh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=lA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(CR(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function su(n,e,t,r){return n instanceof To?(function(o,s,a,u){if(!Qh(o.precondition,s))return a;let l=o.value.clone(),h=dA(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof ir?(function(o,s,a,u){if(!Qh(o.precondition,s))return a;let l=dA(o.fieldTransforms,u,s),h=s.data;return h.setAll(CR(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,a){return Qh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function iU(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=_R(r.transform,i||null);o!=null&&(t===null&&(t=Ht.empty()),t.set(r.field,o))}return t||null}function uA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Vs(r,i,(o,s)=>nU(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var To=class extends Gs{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},ir=class extends Gs{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function CR(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function lA(n,e,t){let r=new Map;Ae(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,tU(s,a,t[i]))}return r}function dA(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,eU(o,s,e))}return r}var Ws=class extends Gs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},w_=class extends Gs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var b_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&rU(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=su(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=su(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=yR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=bR(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),he())}isEqual(e){return this.batchId===e.batchId&&Vs(this.mutations,e.mutations,(t,r)=>uA(t,r))&&Vs(this.baseMutations,e.baseMutations,(t,r)=>uA(t,r))}},C_=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ae(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Qj})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var D_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var T_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ze,ve;function oU(n){switch(n){case F.OK:return K(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return K(15467,{code:n})}}function DR(n){if(n===void 0)return Pr("GRPC error has no .code"),F.UNKNOWN;switch(n){case Ze.OK:return F.OK;case Ze.CANCELLED:return F.CANCELLED;case Ze.UNKNOWN:return F.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return F.INTERNAL;case Ze.UNAVAILABLE:return F.UNAVAILABLE;case Ze.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Ze.NOT_FOUND:return F.NOT_FOUND;case Ze.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Ze.ABORTED:return F.ABORTED;case Ze.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Ze.DATA_LOSS:return F.DATA_LOSS;default:return K(39323,{code:n})}}(ve=Ze||(Ze={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";var sU=null;function aU(){return new TextEncoder}var cU=new Rr([4294967295,4294967295],0);function hA(n){let e=aU().encode(n),t=new Gv;return t.update(e),new Uint8Array(t.digest())}function fA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Rr([t,r],0),new Rr([i,o],0)]}var S_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new vo(`Invalid padding: ${t}`);if(r<0)throw new vo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vo(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new vo(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Rr.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(Rr.fromNumber(r)));return i.compare(cU)===1&&(i=new Rr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let t=hA(e),[r,i]=fA(t);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;let t=hA(e),[r,i]=fA(t);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);this.be(s)}}be(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},vo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var uf=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,hu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ie.min(),i,new Be(ge),Lr(),he())}},hu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,he(),he(),he())}};var Ls=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=i}},lf=class{constructor(e,t){this.targetId=e,this.Ce=t}},df=class{constructor(e,t,r=bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},hf=class{constructor(){this.ve=0,this.Fe=pA(),this.Me=bt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=he(),t=he(),r=he();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:K(38017,{changeType:o})}}),new hu(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=pA()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ae(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}},A_=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=Lr(),this.He=qh(),this.Je=qh(),this.Ze=new Be(ge)}Xe(e){for(let t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{let r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:K(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,i)=>{this.rt(i)&&t(i)})}st(e){let t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){let o=i.target;if(E_(o))if(r===0){let s=new G(o.path);this.et(t,s,xn.newNoDocument(s,ie.min()))}else Ae(r===1,20013,{expectedCount:r});else{let s=this._t(t);if(s!==r){let a=this.ut(e),u=a?this.ct(a,e,s):1;if(u!==0){this.it(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,l)}sU?.lt((function(h,p,g,y,R){let O={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},S=p.unchangedNames;return S&&(O.bloomFilter={applied:R===0,hashCount:S?.hashCount??0,bitmapLength:S?.bits?.bitmap?.length??0,padding:S?.bits?.padding??0,mightContain:N=>y?.mightContain(N)??!1}),O})(s,e.Ce,this.Ge.ht(),a,u))}}}}ut(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Or(r).toUint8Array()}catch(u){if(u instanceof of)return vi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new S_(s,i,o)}catch(u){return vi(u instanceof vo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){let r=this.Ge.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(t,o,null),i++)}),i}Tt(e){let t=new Map;this.ze.forEach((o,s)=>{let a=this.ot(s);if(a){if(o.current&&E_(a.target)){let u=new G(a.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,xn.newNoDocument(u,e))}o.Be&&(t.set(s,o.ke()),o.Ke())}});let r=he();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.ot(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));let i=new uf(e,t,this.Ze,this.je,r);return this.je=Lr(),this.He=qh(),this.Je=qh(),this.Ze=new Be(ge),i}Ye(e,t){if(!this.rt(e))return;let r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;let i=this.nt(e);this.Et(e,t)?i.qe(t,1):i.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new hf,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new ft(ge),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new ft(ge),this.He=this.He.insert(e,t)),t}rt(e){let t=this.ot(e)!==null;return t||B("WatchChangeAggregator","Detected inactive target",e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new hf),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}};function qh(){return new Be(G.comparator)}function pA(){return new Be(G.comparator)}var uU={asc:"ASCENDING",desc:"DESCENDING"},lU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dU={and:"AND",or:"OR"},R_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function x_(n,e){return n.useProto3Json||Of(e)?e:{value:e}}function ff(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function hU(n,e){return ff(n,e.toTimestamp())}function er(n){return Ae(!!n,49232),ie.fromTimestamp((function(t){let r=kr(t);return new qe(r.seconds,r.nanos)})(n))}function FE(n,e){return M_(n,e).canonicalString()}function M_(n,e){let t=(function(i){return new Le(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function SR(n){let e=Le.fromString(n);return Ae(NR(e),10190,{key:e.toString()}),e}function N_(n,e){return FE(n.databaseId,e.path)}function Xv(n,e){let t=SR(e);if(t.get(1)!==n.databaseId.projectId)throw new H(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new H(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new G(RR(t))}function AR(n,e){return FE(n.databaseId,e)}function fU(n){let e=SR(n);return e.length===4?Le.emptyPath():RR(e)}function P_(n){return new Le(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function RR(n){return Ae(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function gA(n,e,t){return{name:N_(n,e),fields:t.value.mapValue.fields}}function pU(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:K(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(Ae(h===void 0||typeof h=="string",58123),bt.fromBase64String(h||"")):(Ae(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),bt.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?F.UNKNOWN:DR(l.code);return new H(h,l.message||"")})(s);t=new df(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Xv(n,r.document.name),o=er(r.document.updateTime),s=r.document.createTime?er(r.document.createTime):ie.min(),a=new Ht({mapValue:{fields:r.document.fields}}),u=xn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Ls(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Xv(n,r.document),o=r.readTime?er(r.readTime):ie.min(),s=xn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Ls([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Xv(n,r.document),o=r.removedTargetIds||[];t=new Ls([],o,i,null)}else{if(!("filter"in e))return K(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new T_(i,o),a=r.targetId;t=new lf(a,s)}}return t}function gU(n,e){let t;if(e instanceof To)t={update:gA(n,e.key,e.value)};else if(e instanceof Ws)t={delete:N_(n,e.key)};else if(e instanceof ir)t={update:gA(n,e.key,e.data),updateMask:CU(e.fieldMask)};else{if(!(e instanceof w_))return K(16599,{dt:e.type});t={verify:N_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof zs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Co)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Do)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof qs)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw K(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:hU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:K(27497)})(n,e.precondition)),t}function mU(n,e){return n&&n.length>0?(Ae(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?er(i.updateTime):er(o);return s.isEqual(ie.min())&&(s=er(o)),new I_(s,i.transformResults||[])})(t,e))):[]}function yU(n,e){return{documents:[AR(n,e.path)]}}function vU(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=AR(n,i);let o=(function(l){if(l.length!==0)return MR(Mn.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(g){return{field:Ps(g.field),direction:IU(g.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=x_(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{ft:t,parent:i}}function _U(n){let e=fU(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ae(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(p){let g=xR(p);return g instanceof Mn&&cR(g)?g.getFilters():[g]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(g=>(function(R){return new bo(ks(R.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(g))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let g;return g=typeof p=="object"?p.value:p,Of(g)?null:g})(t.limit));let u=null;t.startAt&&(u=(function(p){let g=!!p.before,y=p.values||[];return new wo(y,g)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let g=!p.before,y=p.values||[];return new wo(y,g)})(t.endAt)),$j(e,i,s,o,a,"F",u,l)}function EU(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function xR(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=ks(t.unaryFilter.field);return et.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ks(t.unaryFilter.field);return et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ks(t.unaryFilter.field);return et.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ks(t.unaryFilter.field);return et.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return K(61313);default:return K(60726)}})(n):n.fieldFilter!==void 0?(function(t){return et.create(ks(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return K(58110);default:return K(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Mn.create(t.compositeFilter.filters.map(r=>xR(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K(1026)}})(t.compositeFilter.op))})(n):K(30097,{filter:n})}function IU(n){return uU[n]}function wU(n){return lU[n]}function bU(n){return dU[n]}function Ps(n){return{fieldPath:n.canonicalString()}}function ks(n){return $t.fromServerFormat(n.fieldPath)}function MR(n){return n instanceof et?(function(t){if(t.op==="=="){if(rA(t.value))return{unaryFilter:{field:Ps(t.field),op:"IS_NAN"}};if(nA(t.value))return{unaryFilter:{field:Ps(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(rA(t.value))return{unaryFilter:{field:Ps(t.field),op:"IS_NOT_NAN"}};if(nA(t.value))return{unaryFilter:{field:Ps(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ps(t.field),op:wU(t.op),value:t.value}}})(n):n instanceof Mn?(function(t){let r=t.getFilters().map(i=>MR(i));return r.length===1?r[0]:{compositeFilter:{op:bU(t.op),filters:r}}})(n):K(54877,{filter:n})}function CU(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function NR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function PR(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}var fu=class n{constructor(e,t,r,i,o=ie.min(),s=ie.min(),a=bt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var k_=class{constructor(e){this.yt=e}};function kR(n){let e=_U({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?cf(e,e.limit,"L"):e}var pf=class{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Fe(e.integerValue));else if("doubleValue"in e){let r=Fe(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),cu(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=kr(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Or(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?oR(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):iR(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):K(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){let r=e.fields||{};this.Ft(t,55);for(let i of Object.keys(r))this.Ot(i,t),this.Ct(r[i],t)}kt(e,t){let r=e.fields||{};this.Ft(t,53);let i=js,o=r[i].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Fe(o)),this.Ot(i,t),this.Ct(r[i],t)}qt(e,t){let r=e.values||[];this.Ft(t,50);for(let i of r)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),G.fromName(e).path.forEach(r=>{this.Ft(t,60),this.$t(r,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}};pf.Wt=new pf;var O_=class{constructor(){this.Sn=new F_}addToCollectionParentIndex(e,t){return this.Sn.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve(Io.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve(Io.min())}updateCollectionGroup(e,t,r){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}},F_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ft(Le.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ft(Le.comparator)).toArray()}};var Ste=new Uint8Array(0);var mA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OR=41943040,hn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(OR,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);var pu=class n{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new n(0)}static ar(){return new n(-1)}};var yA="LruGarbageCollector",DU=1048576;function vA([n,e],[t,r]){let i=ge(n,t);return i===0?ge(e,r):i}var L_=class{constructor(e){this.Pr=e,this.buffer=new ft(vA),this.Tr=0}Ir(){return++this.Tr}Er(e){let t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();vA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},V_=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){B(yA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ta(t)?B(yA,"Ignoring IndexedDB error during garbage collection: ",t):await ea(t)}await this.Ar(3e5)})}},j_=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return L.resolve(AE.ce);let r=new L_(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(mA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mA):this.gr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Ms()<=de.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function TU(n,e){return new j_(n,e)}var U_=class{constructor(){this.changes=new Fr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?L.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var B_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var H_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&su(r.mutation,i,fn.empty(),qe.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,t,r=he()){let i=yo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=ru();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=yo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,he()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Lr(),s=ou(),a=(function(){return ou()})();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof ir)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),su(h.mutation,l,h.mutation.getFieldMask(),qe.now())):s.set(l.key,fn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>a.set(l,new B_(h,s.get(l)??null))),a))}recalculateAndSaveOverlays(e,t){let r=ou(),i=new Be((s,a)=>s-a),o=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||fn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||he()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=yR();h.forEach(g=>{if(!o.has(g)){let y=bR(t.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return L.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return zj(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):hR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):L.resolve(yo()),a=au,u=o;return s.next(l=>L.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,he())).next(h=>({batchId:a,changes:mR(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new G(t)).next(r=>{let i=ru();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=ru();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,u=>{let l=(function(p,g){return new Hs(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,xn.newInvalidDocument(h)))});let a=ru();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&su(h.mutation,l,fn.empty(),qe.now()),Uf(t,l)&&(a=a.insert(u,l))}),a})}};var $_=class{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return L.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:er(i.createTime)}})(t)),L.resolve()}getNamedQuery(e,t){return L.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(i){return{name:i.name,query:kR(i.bundledQuery),readTime:er(i.readTime)}})(t)),L.resolve()}};var z_=class{constructor(){this.overlays=new Be(G.comparator),this.Lr=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){let r=yo();return L.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.bt(e,t,o)}),L.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Lr.delete(r)),L.resolve()}getOverlaysForCollection(e,t,r){let i=yo(),o=t.length+1,s=new G(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Be((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=yo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=yo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return L.resolve(a)}bt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new D_(t,r));let o=this.Lr.get(t);o===void 0&&(o=he(),this.Lr.set(t,o)),this.Lr.set(t,o.add(r.key))}};var q_=class{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,L.resolve()}};var gu=class{constructor(){this.kr=new ft(Xe.Kr),this.qr=new ft(Xe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){let r=new Xe(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Xe(e,t))}Qr(e,t){e.forEach(r=>this.removeReference(r,t))}Gr(e){let t=new G(new Le([])),r=new Xe(t,e),i=new Xe(t,e+1),o=[];return this.qr.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){let t=new G(new Le([])),r=new Xe(t,e),i=new Xe(t,e+1),o=he();return this.qr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Xe(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Xe=class{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return G.comparator(e.key,t.key)||ge(e.Hr,t.Hr)}static Ur(e,t){return ge(e.Hr,t.Hr)||G.comparator(e.key,t.key)}};var G_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new ft(Xe.Kr)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new b_(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Jr=this.Jr.add(new Xe(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,t){return L.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?RE:this.Yn-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Xe(t,0),i=new Xe(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ft(ge);return t.forEach(i=>{let o=new Xe(i,0),s=new Xe(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),L.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;G.isDocumentKey(o)||(o=o.child(""));let s=new Xe(new G(o),0),a=new ft(ge);return this.Jr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),L.resolve(this.Yr(a))}Yr(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ae(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return L.forEach(t.mutations,i=>{let o=new Xe(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,t){let r=new Xe(t,0),i=this.Jr.firstAfterOrEqual(r);return L.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var W_=class{constructor(e){this.ti=e,this.docs=(function(){return new Be(G.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return L.resolve(r?r.document.mutableCopy():xn.newInvalidDocument(t))}getEntries(e,t){let r=Lr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():xn.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Lr(),s=t.path,a=new G(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||Cj(bj(h),r)<=0||(i.has(h.key)||Uf(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,t,r,i){K(9500)}ni(e,t){return L.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new K_(this)}getSize(e){return L.resolve(this.size)}},K_=class extends U_{constructor(e){super(),this.Mr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)}),L.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}};var Q_=class{constructor(e){this.persistence=e,this.ri=new Fr(t=>PE(t),kE),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.ii=0,this.si=new gu,this.targetCount=0,this.oi=pu._r()}forEachTarget(e,t){return this.ri.forEach((r,i)=>t(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),L.resolve()}lr(e){this.ri.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.oi=new pu(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.lr(t),L.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ri.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ri.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){let r=this.ri.get(t)||null;return L.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),L.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),L.resolve()}getMatchingKeysForTargetId(e,t){let r=this.si.jr(t);return L.resolve(r)}containsKey(e,t){return L.resolve(this.si.containsKey(t))}};var gf=class{constructor(e,t){this._i={},this.overlays={},this.ai=new AE(0),this.ui=!1,this.ui=!0,this.ci=new q_,this.referenceDelegate=e(this),this.li=new Q_(this),this.indexManager=new O_,this.remoteDocumentCache=(function(i){return new W_(i)})(r=>this.referenceDelegate.hi(r)),this.serializer=new k_(t),this.Pi=new $_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new z_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new G_(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){B("MemoryPersistence","Starting transaction:",e);let i=new Y_(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(o=>this.referenceDelegate.Ii(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return L.or(Object.values(this._i).map(r=>()=>r.containsKey(e,t)))}},Y_=class extends a_{constructor(e){super(),this.currentSequenceNumber=e}},J_=class n{constructor(e){this.persistence=e,this.Ri=new gu,this.Ai=null}static Vi(e){return new n(e)}get di(){if(this.Ai)return this.Ai;throw K(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),L.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),L.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach(i=>this.di.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ti(){this.Ai=new Set}Ii(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.di,r=>{let i=G.fromPath(r);return this.mi(e,i).next(o=>{o||t.removeEntry(i,ie.min())})}).next(()=>(this.Ai=null,t.apply(e)))}updateLimboDocument(e,t){return this.mi(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}hi(e){return 0}mi(e,t){return L.or([()=>L.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},mf=class n{constructor(e,t){this.persistence=e,this.fi=new Fr(r=>Aj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=TU(this,t)}static Vi(e,t){return new n(e,t)}Ti(){}Ii(e){return L.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){let t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}pr(e){let t=0;return this.mr(e,r=>{t++}).next(()=>t)}mr(e,t){return L.forEach(this.fi,(r,i)=>this.wr(e,r,i).next(o=>o?L.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ni(e,s=>this.wr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ie.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),L.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),L.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),L.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Wh(e.data.value)),t}wr(e,t,r){return L.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.fi.get(t);return L.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Z_=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=i}static Es(e,t){let r=he(),i=he();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var X_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var eE=class{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return SS()?8:Tj(dt())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.gs(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ps(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new X_;return this.ys(e,t,s).next(a=>{if(o.result=a,this.As)return this.ws(e,t,s,a.size)})}).next(()=>o.result)}ws(e,t,r,i){return r.documentReadCount<this.Vs?(Ms()<=de.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",Ns(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),L.resolve()):(Ms()<=de.DEBUG&&B("QueryEngine","Query:",Ns(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Ms()<=de.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",Ns(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(t))):L.resolve())}gs(e,t){if(aA(t))return L.resolve(null);let r=Zn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=cf(t,null,"F"),r=Zn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=he(...o);return this.fs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ss(t,l,s,u.readTime)?this.gs(e,cf(t,null,"F")):this.Ds(e,l,t,u)}))})))}ps(e,t,r,i){return aA(t)||i.isEqual(ie.min())?L.resolve(null):this.fs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ss(t,s,r,i)?L.resolve(null):(Ms()<=de.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ns(t)),this.Ds(e,s,t,wj(i,au)).next(a=>a))})}bs(e,t){let r=new ft(pR(e));return t.forEach((i,o)=>{Uf(e,o)&&(r=r.add(o))}),r}Ss(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ys(e,t,r){return Ms()<=de.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",Ns(t)),this.fs.getDocumentsMatchingQuery(e,t,Io.min(),r)}Ds(e,t,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var LE="LocalStore",SU=3e8,tE=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.vs=new Be(ge),this.Fs=new Fr(o=>PE(o),kE),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new H_(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.vs))}};function AU(n,e,t,r){return new tE(n,e,t,r)}async function FR(n,e){let t=te(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Os(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=he();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Ns:l,removedBatchIds:s,addedBatchIds:a}))})})}function RU(n,e){let t=te(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,h){let p=l.batch,g=p.keys(),y=L.resolve();return g.forEach(R=>{y=y.next(()=>h.getEntry(u,R)).next(O=>{let S=l.docVersions.get(R);Ae(S!==null,48541),O.version.compareTo(S)<0&&(p.applyToRemoteDocument(O,l),O.isValidDocument()&&(O.setReadTime(l.commitVersion),h.addEntry(O)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=he();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function LR(n){let e=te(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.li.getLastRemoteSnapshotVersion(t))}function xU(n,e){let t=te(n),r=e.snapshotVersion,i=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.xs.newChangeBuffer({trackRemovals:!0});i=t.vs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(t.li.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.li.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(bt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(O,S,N){return O.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=SU?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0})(g,y,h)&&a.push(t.li.updateTargetData(o,y))});let u=Lr(),l=he();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(MU(o,s,e.documentUpdates).next(h=>{u=h.Bs,l=h.Ls})),!r.isEqual(ie.min())){let h=t.li.getLastRemoteSnapshotVersion(o).next(p=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.vs=i,o))}function MU(n,e,t){let r=he(),i=he();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Lr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ie.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):B(LE,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Bs:s,Ls:i}})}function NU(n,e){let t=te(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=RE),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function PU(n,e){let t=te(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.li.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):t.li.allocateTargetId(r).next(s=>(i=new fu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r})}async function nE(n,e,t){let r=te(n),i=r.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ta(s))throw s;B(LE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function _A(n,e,t){let r=te(n),i=ie.min(),o=he();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=te(u),g=p.Fs.get(h);return g!==void 0?L.resolve(p.vs.get(g)):p.li.getTargetData(l,h)})(r,s,Zn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:ie.min(),t?o:he())).next(a=>(kU(r,Gj(e),a),{documents:a,ks:o})))}function kU(n,e,t){let r=n.Ms.get(e)||ie.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ms.set(e,r)}var yf=class{constructor(){this.activeTargetIds=Zj()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var rE=class{constructor(){this.vo=new yf,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new yf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var iE=class{Mo(e){}shutdown(){}};var EA="ConnectivityMonitor",vf=class{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){B(EA,"Network connectivity changed: AVAILABLE");for(let e of this.Lo)e(0)}Bo(){B(EA,"Network connectivity changed: UNAVAILABLE");for(let e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Gh=null;function oE(){return Gh===null?Gh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gh++,"0x"+Gh.toString(16)}var e_="RestConnection",OU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"},sE=class{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===sf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=oE(),a=this.Qo(e,t.toUriEncodedString());B(e_,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,i,o);let{host:l}=new URL(a),h=fi(l);return this.zo(e,a,u,r,h).then(p=>(B(e_,`Received RPC '${e}' ${s}: `,p),p),p=>{throw vi(e_,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Qo(e,t){let r=OU[e],i=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}};var aE=class{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}};var Mt="WebChannelConnection",nu=(n,e,t)=>{n.listen(e,r=>{try{t(r)}catch(i){setTimeout(()=>{throw i},0)}})},_f=class n extends sE{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!n.c_){let e=Yv();nu(e,Qv.STAT_EVENT,t=>{t.stat===$h.PROXY?B(Mt,"STAT_EVENT: detected buffering proxy"):t.stat===$h.NOPROXY&&B(Mt,"STAT_EVENT: detected no buffering proxy")}),n.c_=!0}}zo(e,t,r,i,o){let s=oE();return new Promise((a,u)=>{let l=new Wv;l.setWithCredentials(!0),l.listenOnce(Kv.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case tu.NO_ERROR:let p=l.getResponseJson();B(Mt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case tu.TIMEOUT:B(Mt,`RPC '${e}' ${s} timed out`),u(new H(F.DEADLINE_EXCEEDED,"Request time out"));break;case tu.HTTP_ERROR:let g=l.getStatus();if(B(Mt,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let R=y?.error;if(R&&R.status&&R.message){let O=(function(N){let J=N.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(J)>=0?J:F.UNKNOWN})(R.status);u(new H(O,R.message))}else u(new H(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new H(F.UNAVAILABLE,"Connection failed."));break;default:K(9055,{l_:e,streamId:s,h_:l.getLastErrorCode(),P_:l.getLastError()})}}finally{B(Mt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);B(Mt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}T_(e,t,r){let i=oE(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(a.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,t,r),a.encodeInitMessageHeaders=!0;let l=o.join("");B(Mt,`Creating RPC '${e}' stream ${i}: ${l}`,a);let h=s.createWebChannel(l,a);this.I_(h);let p=!1,g=!1,y=new aE({Ho:R=>{g?B(Mt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(p||(B(Mt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),B(Mt,`RPC '${e}' stream ${i} sending:`,R),h.send(R))},Jo:()=>h.close()});return nu(h,xs.EventType.OPEN,()=>{g||(B(Mt,`RPC '${e}' stream ${i} transport opened.`),y.i_())}),nu(h,xs.EventType.CLOSE,()=>{g||(g=!0,B(Mt,`RPC '${e}' stream ${i} transport closed`),y.o_(),this.E_(h))}),nu(h,xs.EventType.ERROR,R=>{g||(g=!0,vi(Mt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),y.o_(new H(F.UNAVAILABLE,"The operation could not be completed")))}),nu(h,xs.EventType.MESSAGE,R=>{if(!g){let O=R.data[0];Ae(!!O,16349);let S=O,N=S?.error||S[0]?.error;if(N){B(Mt,`RPC '${e}' stream ${i} received error:`,N);let J=N.status,Ee=(function(mt){let b=Ze[mt];if(b!==void 0)return DR(b)})(J),zt=N.message;Ee===void 0&&(Ee=F.INTERNAL,zt="Unknown error status: "+J+" with message "+N.message),g=!0,y.o_(new H(Ee,zt)),h.close()}else B(Mt,`RPC '${e}' stream ${i} received:`,O),y.__(O)}}),n.u_(),setTimeout(()=>{y.s_()},0),y}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(t=>t===e)}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Jv()}};function FU(n){return new _f(n)}function t_(){return typeof document<"u"?document:null}function _u(n){return new R_(n,!0)}_f.c_=!1;var Ef=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=i,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();let t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}};var IA="PersistentStream",If=class{constructor(e,t,r,i,o,s,a,u){this.Ci=e,this.b_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Ef(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===F.RESOURCE_EXHAUSTED?(Pr(t.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;let e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===t&&this.G_(r,i)},r=>{e(()=>{let i=new H(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,t){let r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return B(IA,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget(()=>this.D_===e?t():(B(IA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},cE=class extends If{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=pU(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ie.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ie.min():s.readTime?er(s.readTime):ie.min()})(e);return this.listener.J_(t,r)}Z_(e){let t={};t.database=P_(this.serializer),t.addTarget=(function(o,s){let a,u=s.target;if(a=E_(u)?{documents:yU(o,u)}:{query:vU(o,u).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=TR(o,s.resumeToken);let l=x_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ie.min())>0){a.readTime=ff(o,s.snapshotVersion.toTimestamp());let l=x_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=EU(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){let t={};t.database=P_(this.serializer),t.removeTarget=e,this.K_(t)}},uE=class extends If{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let t=mU(e.writeResults,e.commitTime),r=er(e.commitTime);return this.listener.na(r,t)}ra(){let e={};e.database=P_(this.serializer),this.K_(e)}ea(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>gU(this.serializer,r))};this.K_(t)}};var lE=class{},dE=class extends lE{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,M_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(F.UNKNOWN,o.toString())})}jo(e,t,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.jo(e,M_(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(F.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}};function LU(n,e,t,r){return new dE(n,e,t,r)}var hE=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pr(t),this.aa=!1):B("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var So="RemoteStore",fE=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo(s=>{r.enqueueAndForget(async()=>{xo(this)&&(B(So,"Restarting streams for network reachability change."),await(async function(u){let l=te(u);l.Ea.add(4),await Eu(l),l.Va.set("Unknown"),l.Ea.delete(4),await Bf(l)})(this))})}),this.Va=new hE(r,i)}};async function Bf(n){if(xo(n))for(let e of n.Ra)await e(!0)}async function Eu(n){for(let e of n.Ra)await e(!1)}function VR(n,e){let t=te(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),BE(t)?UE(t):na(t).O_()&&jE(t,e))}function VE(n,e){let t=te(n),r=na(t);t.Ia.delete(e),r.O_()&&jR(t,e),t.Ia.size===0&&(r.O_()?r.L_():xo(t)&&t.Va.set("Unknown"))}function jE(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}na(n).Z_(e)}function jR(n,e){n.da.$e(e),na(n).X_(e)}function UE(n){n.da=new A_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),na(n).start(),n.Va.ua()}function BE(n){return xo(n)&&!na(n).x_()&&n.Ia.size>0}function xo(n){return te(n).Ea.size===0}function UR(n){n.da=void 0}async function VU(n){n.Va.set("Online")}async function jU(n){n.Ia.forEach((e,t)=>{jE(n,e)})}async function UU(n,e){UR(n),BE(n)?(n.Va.ha(e),UE(n)):n.Va.set("Unknown")}async function BU(n,e,t){if(n.Va.set("Online"),e instanceof df&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.da.removeTarget(a))})(n,e)}catch(r){B(So,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wf(n,r)}else if(e instanceof Ls?n.da.Xe(e):e instanceof lf?n.da.st(e):n.da.tt(e),!t.isEqual(ie.min()))try{let r=await LR(n.localStore);t.compareTo(r)>=0&&await(function(o,s){let a=o.da.Tt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ia.get(l);h&&o.Ia.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ia.get(u);if(!h)return;o.Ia.set(u,h.withResumeToken(bt.EMPTY_BYTE_STRING,h.snapshotVersion)),jR(o,u);let p=new fu(h.target,u,l,h.sequenceNumber);jE(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t)}catch(r){B(So,"Failed to raise snapshot:",r),await wf(n,r)}}async function wf(n,e,t){if(!ta(e))throw e;n.Ea.add(1),await Eu(n),n.Va.set("Offline"),t||(t=()=>LR(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{B(So,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Bf(n)})}function BR(n,e){return e().catch(t=>wf(n,t,e))}async function Hf(n){let e=te(n),t=Ei(e),r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:RE;for(;HU(e);)try{let i=await NU(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,$U(e,i)}catch(i){await wf(e,i)}HR(e)&&$R(e)}function HU(n){return xo(n)&&n.Ta.length<10}function $U(n,e){n.Ta.push(e);let t=Ei(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function HR(n){return xo(n)&&!Ei(n).x_()&&n.Ta.length>0}function $R(n){Ei(n).start()}async function zU(n){Ei(n).ra()}async function qU(n){let e=Ei(n);for(let t of n.Ta)e.ea(t.mutations)}async function GU(n,e,t){let r=n.Ta.shift(),i=C_.from(r,e,t);await BR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Hf(n)}async function WU(n,e){e&&Ei(n).Y_&&await(async function(r,i){if((function(s){return oU(s)&&s!==F.ABORTED})(i.code)){let o=r.Ta.shift();Ei(r).B_(),await BR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Hf(r)}})(n,e),HR(n)&&$R(n)}async function wA(n,e){let t=te(n);t.asyncQueue.verifyOperationInProgress(),B(So,"RemoteStore received new credentials");let r=xo(t);t.Ea.add(3),await Eu(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Bf(t)}async function KU(n,e){let t=te(n);e?(t.Ea.delete(2),await Bf(t)):e||(t.Ea.add(2),await Eu(t),t.Va.set("Unknown"))}function na(n){return n.ma||(n.ma=(function(t,r,i){let o=te(t);return o.sa(),new cE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:VU.bind(null,n),Yo:jU.bind(null,n),t_:UU.bind(null,n),J_:BU.bind(null,n)}),n.Ra.push(async e=>{e?(n.ma.B_(),BE(n)?UE(n):n.Va.set("Unknown")):(await n.ma.stop(),UR(n))})),n.ma}function Ei(n){return n.fa||(n.fa=(function(t,r,i){let o=te(t);return o.sa(),new uE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:zU.bind(null,n),t_:WU.bind(null,n),ta:qU.bind(null,n),na:GU.bind(null,n)}),n.Ra.push(async e=>{e?(n.fa.B_(),await Hf(n)):(await n.fa.stop(),n.Ta.length>0&&(B(So,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}var pE=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function HE(n,e){if(Pr("AsyncQueue",`${e}: ${n}`),ta(n))return new H(F.UNAVAILABLE,`${e}: ${n}`);throw n}var mu=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||G.comparator(t.key,r.key):(t,r)=>G.comparator(t.key,r.key),this.keyedMap=ru(),this.sortedSet=new Be(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var bf=class{constructor(){this.ga=new Be(G.comparator)}track(e){let t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):K(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}},Ao=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,mu.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var gE=class{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}},mE=class{constructor(){this.queries=bA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=te(t),o=i.queries;i.queries=bA(),o.forEach((s,a)=>{for(let u of a.ba)u.onError(r)})})(this,new H(F.ABORTED,"Firestore shutting down"))}};function bA(){return new Fr(n=>fR(n),jf)}async function zR(n,e){let t=te(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.Da()&&(r=2):(o=new gE,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(i,!0);break;case 1:o.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){let a=HE(s,`Initialization of query '${Ns(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&$E(t)}async function qR(n,e){let t=te(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.ba.indexOf(e);s>=0&&(o.ba.splice(s,1),o.ba.length===0?i=e.Da()?0:1:!o.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function QU(n,e){let t=te(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.ba)a.Fa(i)&&(r=!0);s.wa=i}}r&&$E(t)}function YU(n,e,t){let r=te(n),i=r.queries.get(e);if(i)for(let o of i.ba)o.onError(t);r.queries.delete(e)}function $E(n){n.Ca.forEach(e=>{e.next()})}var yE,CA;(CA=yE||(yE={})).Ma="default",CA.Cache="cache";var Cf=class{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ao(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;let r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==yE.Cache}};var Df=class{constructor(e){this.key=e}},Tf=class{constructor(e){this.key=e}},vE=class{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=he(),this.mutatedKeys=he(),this.eu=pR(e),this.tu=new mu(this.eu)}get nu(){return this.Za}ru(e,t){let r=t?t.iu:new bf,i=t?t.tu:this.tu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=Uf(this.query,p)?p:null,R=!!g&&this.mutatedKeys.has(g.key),O=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),S=!1;g&&y?g.data.isEqual(y.data)?R!==O&&(r.track({type:3,doc:y}),S=!0):this.su(g,y)||(r.track({type:2,doc:y}),S=!0,(u&&this.eu(y,u)>0||l&&this.eu(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),S=!0):g&&!y&&(r.track({type:1,doc:g}),S=!0,(u||l)&&(a=!0)),S&&(y?(s=s.add(y),o=O?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{tu:s,iu:r,Ss:a,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let s=e.iu.ya();s.sort((h,p)=>(function(y,R){let O=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K(20277,{Vt:S})}};return O(y)-O(R)})(h.type,p.type)||this.eu(h.doc,p.doc)),this.ou(r),i=i??!1;let a=t&&!i?this._u():[],u=this.Ya.size===0&&this.current&&!i?1:0,l=u!==this.Xa;return this.Xa=u,s.length!==0||l?{snapshot:new Ao(this.query,e.tu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bf,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Za=this.Za.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Za=this.Za.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Ya;this.Ya=he(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});let t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new Tf(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new Df(r))}),t}cu(e){this.Za=e.ks,this.Ya=he();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}},zE="SyncEngine",_E=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},EE=class{constructor(e){this.key=e,this.hu=!1}},IE=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Fr(a=>fR(a),jf),this.Iu=new Map,this.Eu=new Set,this.Ru=new Be(G.comparator),this.Au=new Map,this.Vu=new gu,this.du={},this.mu=new Map,this.fu=pu.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};async function JU(n,e,t=!0){let r=JR(n),i,o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await GR(r,e,t,!0),i}async function ZU(n,e){let t=JR(n);await GR(t,e,!0,!1)}async function GR(n,e,t,r){let i=await PU(n.localStore,Zn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=await XU(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&VR(n.remoteStore,i),a}async function XU(n,e,t,r,i){n.pu=(p,g,y)=>(async function(O,S,N,J){let Ee=S.view.ru(N);Ee.Ss&&(Ee=await _A(O.localStore,S.query,!1).then(({documents:b})=>S.view.ru(b,Ee)));let zt=J&&J.targetChanges.get(S.targetId),gn=J&&J.targetMismatches.get(S.targetId)!=null,mt=S.view.applyChanges(Ee,O.isPrimaryClient,zt,gn);return TA(O,S.targetId,mt.au),mt.snapshot})(n,p,g,y);let o=await _A(n.localStore,e,!0),s=new vE(e,o.ks),a=s.ru(o.documents),u=hu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);TA(n,t,l.au);let h=new _E(e,t,s);return n.Tu.set(e,h),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),l.snapshot}async function eB(n,e,t){let r=te(n),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!jf(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await nE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&VE(r.remoteStore,i.targetId),wE(r,i.targetId)}).catch(ea)):(wE(r,i.targetId),await nE(r.localStore,i.targetId,!0))}async function tB(n,e){let t=te(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),VE(t.remoteStore,r.targetId))}async function nB(n,e,t){let r=uB(n);try{let i=await(function(s,a){let u=te(s),l=qe.now(),h=a.reduce((y,R)=>y.add(R.key),he()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let R=Lr(),O=he();return u.xs.getEntries(y,h).next(S=>{R=S,R.forEach((N,J)=>{J.isValidDocument()||(O=O.add(N))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,R)).next(S=>{p=S;let N=[];for(let J of a){let Ee=iU(J,p.get(J.key).overlayedDocument);Ee!=null&&N.push(new ir(J.key,Ee,sR(Ee.value.mapValue),Xn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,N,a)}).next(S=>{g=S;let N=S.applyToLocalDocumentSet(p,O);return u.documentOverlayCache.saveOverlays(y,S.batchId,N)})}).then(()=>({batchId:g.batchId,changes:mR(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.du[s.currentUser.toKey()];l||(l=new Be(ge)),l=l.insert(a,u),s.du[s.currentUser.toKey()]=l})(r,i.batchId,t),await Iu(r,i.changes),await Hf(r.remoteStore)}catch(i){let o=HE(i,"Failed to persist write");t.reject(o)}}async function WR(n,e){let t=te(n);try{let r=await xU(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Au.get(o);s&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Ae(s.hu,14607):i.removedDocuments.size>0&&(Ae(s.hu,42227),s.hu=!1))}),await Iu(t,r,e)}catch(r){await ea(r)}}function DA(n,e,t){let r=te(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Tu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=te(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.ba)g.va(a)&&(l=!0)}),l&&$E(u)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function rB(n,e,t){let r=te(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Au.get(e),o=i&&i.key;if(o){let s=new Be(G.comparator);s=s.insert(o,xn.newNoDocument(o,ie.min()));let a=he().add(o),u=new uf(ie.min(),new Map,new Be(ge),s,a);await WR(r,u),r.Ru=r.Ru.remove(o),r.Au.delete(e),qE(r)}else await nE(r.localStore,e,!1).then(()=>wE(r,e,t)).catch(ea)}async function iB(n,e){let t=te(n),r=e.batch.batchId;try{let i=await RU(t.localStore,e);QR(t,r,null),KR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Iu(t,i)}catch(i){await ea(i)}}async function oB(n,e,t){let r=te(n);try{let i=await(function(s,a){let u=te(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ae(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);QR(r,e,t),KR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Iu(r,i)}catch(i){await ea(i)}}function KR(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function QR(n,e,t){let r=te(n),i=r.du[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function wE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach(r=>{n.Vu.containsKey(r)||YR(n,r)})}function YR(n,e){n.Eu.delete(e.path.canonicalString());let t=n.Ru.get(e);t!==null&&(VE(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),qE(n))}function TA(n,e,t){for(let r of t)r instanceof Df?(n.Vu.addReference(r.key,e),sB(n,r)):r instanceof Tf?(B(zE,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||YR(n,r.key)):K(19791,{wu:r})}function sB(n,e){let t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(B(zE,"New document in limbo: "+t),n.Eu.add(r),qE(n))}function qE(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){let e=n.Eu.values().next().value;n.Eu.delete(e);let t=new G(Le.fromString(e)),r=n.fu.next();n.Au.set(r,new EE(t)),n.Ru=n.Ru.insert(t,r),VR(n.remoteStore,new fu(Zn(Vf(t.path)),r,"TargetPurposeLimboResolution",AE.ce))}}async function Iu(n,e,t){let r=te(n),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{s.push(r.pu(u,e,t).then(l=>{if((l||t)&&r.isPrimaryClient){let h=l?!l.fromCache:t?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(l){i.push(l);let h=Z_.Es(u.targetId,l);o.push(h)}}))}),await Promise.all(s),r.Pu.J_(i),await(async function(u,l){let h=te(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(l,g=>L.forEach(g.Ts,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>L.forEach(g.Is,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!ta(p))throw p;B(LE,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.vs.get(g),R=y.snapshotVersion,O=y.withLastLimboFreeSnapshotVersion(R);h.vs=h.vs.insert(g,O)}}})(r.localStore,o))}async function aB(n,e){let t=te(n);if(!t.currentUser.isEqual(e)){B(zE,"User change. New user:",e.toKey());let r=await FR(t.localStore,e);t.currentUser=e,(function(o,s){o.mu.forEach(a=>{a.forEach(u=>{u.reject(new H(F.CANCELLED,s))})}),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Iu(t,r.Ns)}}function cB(n,e){let t=te(n),r=t.Au.get(e);if(r&&r.hu)return he().add(r.key);{let i=he(),o=t.Iu.get(e);if(!o)return i;for(let s of o){let a=t.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function JR(n){let e=te(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=WR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rB.bind(null,e),e.Pu.J_=QU.bind(null,e.eventManager),e.Pu.yu=YU.bind(null,e.eventManager),e}function uB(n){let e=te(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oB.bind(null,e),e}var GE=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=_u(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return AU(this.persistence,new eE,t.initialUser,this.serializer)}Cu(t){return new gf(J_.Vi,this.serializer)}Du(t){return new rE}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),Sf=class extends GE{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ae(this.persistence.referenceDelegate instanceof mf,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new V_(r,e.asyncQueue,t)}Cu(e){let t=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new gf(r=>mf.Vi(r,t),this.serializer)}};var ZR=(()=>{class n{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>DA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=aB.bind(null,this.syncEngine),await KU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new mE})()}createDatastore(t){let r=_u(t.databaseInfo.databaseId),i=FU(t.databaseInfo);return LU(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,u){return new fE(i,o,s,a,u)})(this.localStore,this.datastore,t.asyncQueue,r=>DA(this.syncEngine,r,0),(function(){return vf.v()?new vf:new iE})())}createSyncEngine(t,r){return(function(o,s,a,u,l,h,p){let g=new IE(o,s,a,u,l,h);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){let i=te(r);B(So,"RemoteStore shutting down."),i.Ea.add(5),await Eu(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}return n.provider={build:()=>new n},n})();var Af=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Pr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Ii="FirestoreClient",bE=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=i,this.user=ht.UNAUTHENTICATED,this.clientId=Eo.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{B(Ii,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(B(Ii,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=HE(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function n_(n,e){n.asyncQueue.verifyOperationInProgress(),B(Ii,"Initializing OfflineComponentProvider");let t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await FR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function SA(n,e){n.asyncQueue.verifyOperationInProgress();let t=await lB(n);B(Ii,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>wA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>wA(e.remoteStore,i)),n._onlineComponents=e}async function lB(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){B(Ii,"Using user provided OfflineComponentProvider");try{await n_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;vi("Error using user provided cache. Falling back to memory cache: "+t),await n_(n,new GE)}}else B(Ii,"Using default OfflineComponentProvider"),await n_(n,new Sf(void 0));return n._offlineComponents}async function XR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(B(Ii,"Using user provided OnlineComponentProvider"),await SA(n,n._uninitializedComponentsProvider._online)):(B(Ii,"Using default OnlineComponentProvider"),await SA(n,new ZR))),n._onlineComponents}function dB(n){return XR(n).then(e=>e.syncEngine)}async function ex(n){let e=await XR(n),t=e.eventManager;return t.onListen=JU.bind(null,e.syncEngine),t.onUnlisten=eB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ZU.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=tB.bind(null,e.syncEngine),t}function tx(n,e,t={}){let r=new Rn;return n.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,u,l){let h=new Af({next:g=>{h.Nu(),s.enqueueAndForget(()=>qR(o,p));let y=g.docs.has(a);!y&&g.fromCache?l.reject(new H(F.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&u&&u.source==="server"?l.reject(new H(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new Cf(Vf(a.path),h,{includeMetadataChanges:!0,Ka:!0});return zR(o,p)})(await ex(n),n.asyncQueue,e,t,r)),r.promise}function nx(n,e,t={}){let r=new Rn;return n.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,u,l){let h=new Af({next:g=>{h.Nu(),s.enqueueAndForget(()=>qR(o,p)),g.fromCache&&u.source==="server"?l.reject(new H(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new Cf(a,h,{includeMetadataChanges:!0,Ka:!0});return zR(o,p)})(await ex(n),n.asyncQueue,e,t,r)),r.promise}function rx(n,e){let t=new Rn;return n.asyncQueue.enqueueAndForget(async()=>nB(await dB(n),e,t)),t.promise}function ix(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var hB="ComponentProvider",AA=new Map;function fB(n,e,t,r,i){return new c_(n,e,t,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,ix(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}var ox="firestore.googleapis.com",RA=!0,Rf=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new H(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ox,this.ssl=RA}else this.host=e.host,this.ssl=e.ssl??RA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DU)throw new H(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ix(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ks=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Jh;switch(r.type){case"firstParty":return new o_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=AA.get(t);r&&(B(hB,"Removing Datastore"),AA.delete(t),r.terminate())})(this),Promise.resolve()}};function sx(n,e,t,r={}){n=Nn(n,Ks);let i=fi(e),o=n._getSettings(),s=z(P({},o),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;i&&(Fh(`https://${a}`),Lh("Firestore",!0)),o.host!==ox&&o.host!==a&&vi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=z(P({},o),{host:a,ssl:i,emulatorOptions:r});if(!Sn(u,s)&&(n._setSettings(u),r.mockUserToken)){let l,h;if(typeof r.mockUserToken=="string")l=r.mockUserToken,h=ht.MOCK_USER;else{l=IS(r.mockUserToken,n._app?.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new H(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new ht(p)}n._authCredentials=new r_(new Yh(l,h))}}var Qs=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},pt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Xs(t,n._jsonSchema))return new n(e,r||null,new G(Le.fromString(t.referencePath)))}};pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:ze("string",pt._jsonSchemaVersion),referencePath:ze("string")};var Mr=class n extends Qs{constructor(e,t,r){super(e,t,Vf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new G(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function gt(n,e,...t){if(n=Je(n),kA("collection","path",e),n instanceof Ks){let r=Le.fromString(e,...t);return QS(r),new Mr(n,null,r)}{if(!(n instanceof pt||n instanceof Mr))throw new H(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Le.fromString(e,...t));return QS(r),new Mr(n.firestore,null,r)}}function Vt(n,e,...t){if(n=Je(n),arguments.length===1&&(e=Eo.newId()),kA("doc","path",e),n instanceof Ks){let r=Le.fromString(e,...t);return KS(r),new pt(n,null,new G(r))}{if(!(n instanceof pt||n instanceof Mr))throw new H(F.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Le.fromString(e,...t));return KS(r),new pt(n.firestore,n instanceof Mr?n.converter:null,new G(r))}}var xA="AsyncQueue",xf=class{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ef(this,"async_queue_retry"),this._c=()=>{let r=t_();r&&B(xA,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;let t=t_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=t_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let t=new Rn;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ta(e))throw e;B(xA,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){let t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Pr("INTERNAL UNHANDLED ERROR: ",MA(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let i=pE.createAndSchedule(this,e,t,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&K(47125,{Pc:MA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}};function MA(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var or=class extends Ks{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new xf,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new xf(e),this._firestoreClient=void 0,await e}}};function wu(n,e){let t=typeof n=="object"?n:Bh(),r=typeof n=="string"?n:e||sf,i=Xc(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=ES("firestore");o&&sx(i,...o)}return i}function bu(n){if(n._terminated)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||pB(n),n._firestoreClient}function pB(n){let e=n._freezeSettings(),t=fB(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new bE(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(i){let o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(n._componentsProvider))}var tr=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(bt.fromBase64String(e))}catch(t){throw new H(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xs(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};tr._jsonSchemaVersion="firestore/bytes/1.0",tr._jsonSchema={type:ze("string",tr._jsonSchemaVersion),bytes:ze("string")};var Ro=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new H(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ys=class{constructor(e){this._methodName=e}};var Nr=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new H(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new H(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ge(this._lat,e._lat)||ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Xs(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Nr._jsonSchemaVersion="firestore/geoPoint/1.0",Nr._jsonSchema={type:ze("string",Nr._jsonSchemaVersion),latitude:ze("number"),longitude:ze("number")};var nr=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xs(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new H(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};nr._jsonSchemaVersion="firestore/vectorValue/1.0",nr._jsonSchema={type:ze("string",nr._jsonSchemaVersion),vectorValues:ze("object")};var gB=/^__.*__$/,CE=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ir(e,this.data,this.fieldMask,t,this.fieldTransforms):new To(e,this.data,t,this.fieldTransforms)}},Mf=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ir(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function ax(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K(40011,{dataSource:n})}}var DE=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new n(P(P({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){let t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){let t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Pf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(ax(this.dataSource)&&gB.test(e))throw this.createError('Document fields cannot begin and end with "__"')}},TE=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||_u(e)}createContext(e,t,r,i=!1){return new DE({dataSource:e,methodName:t,targetDoc:r,path:$t.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function WE(n){let e=n._freezeSettings(),t=_u(n._databaseId);return new TE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function cx(n,e,t,r,i,o={}){let s=n.createContext(o.merge||o.mergeFields?2:0,e,t,i);KE("Data must be an object, but it was:",s,r);let a=dx(r,s),u,l;if(o.merge)u=new fn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=Js(e,p,t);if(!s.contains(g))throw new H(F.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);fx(h,g)||h.push(g)}u=new fn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new CE(new Ht(a),u,l)}var Nf=class n extends Ys{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function ux(n,e,t,r){let i=n.createContext(1,e,t);KE("Data must be an object, but it was:",i,r);let o=[],s=Ht.empty();wi(r,(u,l)=>{let h=QE(e,u,t);l=Je(l);let p=i.childContextForFieldPath(h);if(l instanceof Nf)o.push(h);else{let g=$f(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new fn(o);return new Mf(s,a,i.fieldTransforms)}function lx(n,e,t,r,i,o){let s=n.createContext(1,e,t),a=[Js(e,r,t)],u=[i];if(o.length%2!=0)throw new H(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(Js(e,o[g])),u.push(o[g+1]);let l=[],h=Ht.empty();for(let g=a.length-1;g>=0;--g)if(!fx(l,a[g])){let y=a[g],R=u[g];R=Je(R);let O=s.childContextForFieldPath(y);if(R instanceof Nf)l.push(y);else{let S=$f(R,O);S!=null&&(l.push(y),h.set(y,S))}}let p=new fn(l);return new Mf(h,p,s.fieldTransforms)}function $f(n,e){if(hx(n=Je(n)))return KE("Unsupported field value:",e,n),dx(n,e);if(n instanceof Ys)return(function(r,i){if(!ax(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=$f(a,i.childContextForArray(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=Je(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Xj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=qe.fromDate(r);return{timestampValue:ff(i.serializer,o)}}if(r instanceof qe){let o=new qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ff(i.serializer,o)}}if(r instanceof Nr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof tr)return{bytesValue:TR(i.serializer,r._byteString)};if(r instanceof pt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:FE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof nr)return(function(s,a){let u=s instanceof nr?s.toArray():s;return{mapValue:{fields:{[xE]:{stringValue:ME},[js]:{arrayValue:{values:u.map(h=>{if(typeof h!="number")throw a.createError("VectorValues must only contain numeric values.");return OE(a.serializer,h)})}}}}}})(r,i);if(PR(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${kf(r)}`)})(n,e)}function dx(n,e){let t={};return JA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wi(n,(r,i)=>{let o=$f(i,e.childContextForField(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function hx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof qe||n instanceof Nr||n instanceof tr||n instanceof pt||n instanceof Ys||n instanceof nr||PR(n))}function KE(n,e,t){if(!hx(t)||!FA(t)){let r=kf(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function Js(n,e,t){if((e=Je(e))instanceof Ro)return e._internalPath;if(typeof e=="string")return QE(n,e);throw Pf("Field path arguments must be of type string or ",n,!1,void 0,t)}var mB=new RegExp("[~\\*/\\[\\]]");function QE(n,e,t){if(e.search(mB)>=0)throw Pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ro(...e.split("."))._internalPath}catch{throw Pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Pf(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new H(F.INVALID_ARGUMENT,a+n+u)}function fx(n,e){return n.some(t=>t.isEqual(e))}var yu=class{convertValue(e,t="none"){switch(_i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Or(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw K(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return wi(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){let t=e.fields?.[js].arrayValue?.values?.map(r=>Fe(r.doubleValue));return new nr(t)}convertGeoPoint(e){return new Nr(Fe(e.latitude),Fe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Lf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(uu(e));default:return null}}convertTimestamp(e){let t=kr(e);return new qe(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Le.fromString(e);Ae(NR(r),9688,{name:e});let i=new lu(r.get(1),r.get(3)),o=new G(r.popFirst(5));return i.isEqual(t)||Pr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var vu=class extends yu{constructor(e){super(),this.firestore=e}convertBytes(e){return new tr(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,t)}};var px="@firebase/firestore",gx="4.10.0";var zf=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new YE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){let t=this._document.data.field(Js("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},YE=class extends zf{data(){return super.data()}};function EB(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new H(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function IB(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Mo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},No=class n extends zf{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ra(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Js("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new H(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};No._jsonSchemaVersion="firestore/documentSnapshot/1.0",No._jsonSchema={type:ze("string",No._jsonSchemaVersion),bundleSource:ze("string","DocumentSnapshot"),bundleName:ze("string"),bundle:ze("string")};var ra=class extends No{data(e={}){return super.data(e)}},ia=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Mo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ra(this._firestore,this._userDataWriter,r.key,r,new Mo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new H(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new ra(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Mo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new ra(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Mo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:wB(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new H(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Eo.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function wB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K(61501,{type:n})}}ia._jsonSchemaVersion="firestore/querySnapshot/1.0",ia._jsonSchema={type:ze("string",ia._jsonSchemaVersion),bundleSource:ze("string","QuerySnapshot"),bundleName:ze("string"),bundle:ze("string")};function qf(n){n=Nn(n,pt);let e=Nn(n.firestore,or),t=bu(e);return tx(t,n._key).then(r=>bB(e,n,r))}function pn(n){n=Nn(n,Qs);let e=Nn(n.firestore,or),t=bu(e),r=new vu(e);return EB(n._query),nx(t,n._query).then(i=>new ia(e,r,n,i))}function Gf(n,e,t,...r){n=Nn(n,pt);let i=Nn(n.firestore,or),o=WE(i),s;return s=typeof(e=Je(e))=="string"||e instanceof Ro?lx(o,"updateDoc",n._key,e,t,r):ux(o,"updateDoc",n._key,e),JE(i,[s.toMutation(n._key,Xn.exists(!0))])}function Cu(n){return JE(Nn(n.firestore,or),[new Ws(n._key,Xn.none())])}function Po(n,e){let t=Nn(n.firestore,or),r=Vt(n),i=IB(n.converter,e),o=WE(n.firestore);return JE(t,[cx(o,"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Xn.exists(!1))]).then(()=>r)}function JE(n,e){let t=bu(n);return rx(t,e)}function bB(n,e,t){let r=t.docs.get(e._key),i=new vu(n);return new No(n,i,e._key,r,new Mo(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){NA(yi),mi(new dn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new or(new Zh(r.getProvider("auth-internal")),new ef(s,r.getProvider("app-check-internal")),nR(s,i),s);return o=P({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),An(px,gx,e),An(px,gx,"esm2020")})();var CB=()=>[1,2,3,4,5,6,7,8],mx=()=>[1,2,3,4,5],DB=(n,e,t,r)=>({"border-l-blue-500":n,"border-l-yellow-500":e,"border-l-red-500":t,"border-l-green-500":r}),TB=(n,e,t,r)=>({"text-blue-400":n,"text-yellow-400":e,"text-red-400":t,"text-green-400":r}),yx=(n,e)=>e.id,oa=(n,e)=>e.name,SB=(n,e)=>e.title;function AB(n,e){if(n&1&&X(0,"div",39),n&2){let t=e.$implicit;Kn("left",t*12,"%")("animation-delay",t*.3,"s")}}function RB(n,e){if(n&1&&(I(0,"div",1),X(1,"div",29),I(2,"div",30),X(3,"img",31),C(),I(4,"div",32)(5,"p",33),k(6,"Preparando a experi\xEAncia..."),C()(),I(7,"div",34),X(8,"div",35),C(),I(9,"p",36),k(10),C(),I(11,"div",37),At(12,AB,1,4,"div",38,fc),C()()),n&2){let t=U();M(8),Kn("width",t.loadingProgress(),"%"),M(2),Ye("",t.loadingProgress().toFixed(0),"%"),M(2),Rt(gc(3,CB))}}function xB(n,e){}function MB(n,e){if(n&1&&X(0,"div",40),n&2){let t=e.$implicit;Kn("left",t.left)("width",t.size)("height",t.size)("animation-duration",t.animationDuration)("animation-delay",t.animationDelay)("opacity",t.opacity)}}function NB(n,e){if(n&1&&X(0,"div",41),n&2){let t=e.$implicit;Kn("left",t.left)("width",t.size)("height",t.size)("animation-duration",t.animationDuration)("animation-delay",t.animationDelay)("opacity",t.opacity)}}function PB(n,e){n&1&&(Pe(),I(0,"svg",48),X(1,"path",62),C())}function kB(n,e){n&1&&(Pe(),I(0,"svg",49),X(1,"path",63),C())}function OB(n,e){n&1&&(Pe(),I(0,"svg",49),X(1,"path",64),C())}function FB(n,e){n&1&&(Pe(),I(0,"svg",48),X(1,"path",65),C())}function LB(n,e){n&1&&(Pe(),I(0,"svg",48),X(1,"path",66),C())}function VB(n,e){n&1&&(Pe(),I(0,"svg",48),X(1,"path",67),C())}function jB(n,e){n&1&&(Pe(),I(0,"svg",48),X(1,"path",68)(2,"path",69),C())}function UB(n,e){n&1&&(Pe(),I(0,"svg",48),X(1,"path",70),C())}function BB(n,e){n&1&&(I(0,"span",51),k(1," Essencial "),C())}function HB(n,e){if(n&1&&(I(0,"span",52),k(1),C()),n&2){let t=U(2);M(),Ye(" ",t.avisos().length," ")}}function $B(n,e){if(n&1&&(I(0,"div",71)(1,"p"),k(2),C(),I(3,"div",72)(4,"a",73),Pe(),I(5,"svg",23),X(6,"path",19),C(),Zt(),I(7,"span"),k(8),C()(),I(9,"a",74),Pe(),I(10,"svg",23),X(11,"path",75),C(),Zt(),I(12,"span"),k(13),C()()()()),n&2){let t=U(3);M(2),ce(t.agendamentoInfo()),M(2),ke("href",t.whatsappLink(),bn),M(4),Ye("WhatsApp: ",t.whatsappNumber()),M(),ke("href",t.telefoneLink(),bn),M(4),Ye("Telefone: ",t.telefoneNumber())}}function zB(n,e){if(n&1&&(I(0,"div",71)(1,"div",76)(2,"p",77),k(3),C(),I(4,"p"),k(5),C(),I(6,"p",78),k(7),C()(),I(8,"a",79),Pe(),I(9,"svg",23),X(10,"path",80),C(),Zt(),I(11,"span"),k(12,"Abrir no Google Maps"),C(),Pe(),I(13,"svg",81),X(14,"path",82),C()()()),n&2){let t=U(3);M(3),Ye("\u{1F4CD} ",t.localizacaoEndereco()),M(2),Nd("",t.localizacaoBairro()," - ",t.localizacaoCidade()),M(2),ce(t.localizacaoReferencia()),M(),ke("href",t.googleMapsLink(),bn)}}function qB(n,e){if(n&1&&(I(0,"p",83),k(1),C()),n&2){let t=U(3).$implicit;M(),ce(t.content)}}function GB(n,e){if(n&1&&fe(0,qB,2,1,"p",83),n&2){let t=U(2).$implicit;pe(t.content?0:-1)}}function WB(n,e){if(n&1&&fe(0,$B,14,5,"div",71)(1,zB,15,5,"div",71)(2,GB,1,1),n&2){let t=U().$implicit;pe(t.id==="booking"?0:t.id==="location"?1:2)}}function KB(n,e){if(n&1&&(I(0,"div",58)(1,"div",84)(2,"span",85),k(3,"Segunda a Sexta:"),C(),I(4,"span",77),k(5),C()(),I(6,"div",84)(7,"span",85),k(8,"S\xE1bado:"),C(),I(9,"span",77),k(10),C()(),I(11,"div",84)(12,"span",85),k(13,"Domingo:"),C(),I(14,"span",86),k(15),C()(),I(16,"div",87),k(17," \u26A0\uFE0F Pausa de 12:00 \xE0s 15:00 de segunda a sexta "),C()()),n&2){let t=U(2);M(5),ce(t.horariosSegSex()),M(5),ce(t.horariosSabado()),M(5),ce(t.horariosDomingo())}}function QB(n,e){if(n&1&&(I(0,"div",89),X(1,"img",90),I(2,"div")(3,"h4",91),k(4),C(),I(5,"p",92),k(6),C()()()),n&2){let t=e.$implicit;M(),ke("src",t.imageUrl,bn)("alt",t.name),M(3),ce(t.name),M(2),ce(t.specialty)}}function YB(n,e){if(n&1&&(I(0,"div",61),At(1,QB,7,4,"div",89,oa),C()),n&2){let t=U(2).$implicit;M(),Rt(t.teamMembers)}}function JB(n,e){n&1&&(I(0,"p",88),k(1,"Nenhum profissional cadastrado no momento."),C())}function ZB(n,e){if(n&1&&fe(0,YB,3,0,"div",61)(1,JB,2,0,"p",88),n&2){let t=U().$implicit;pe(t.teamMembers&&t.teamMembers.length>0?0:1)}}function XB(n,e){if(n&1&&(I(0,"div",93)(1,"h4",94),k(2),C(),I(3,"p",95),k(4),C(),I(5,"div",96)(6,"span",97),k(7,"\u{1F4C5}"),C(),I(8,"span",98),k(9),C()()()),n&2){let t=e.$implicit;M(2),ce(t.title),M(2),ce(t.location||t.description||"Participa\xE7\xE3o comunit\xE1ria"),M(5),ce(t.date)}}function e4(n,e){if(n&1&&(I(0,"div",59),At(1,XB,10,3,"div",93,SB),C()),n&2){let t=U().$implicit;M(),Rt(t.projectGallery)}}function t4(n,e){if(n&1&&(I(0,"div",101)(1,"div",106),X(2,"img",107),C(),I(3,"h4",108),k(4),C(),I(5,"p",109),k(6),C()()),n&2){let t=e.$implicit;M(2),ke("src",t.imageUrl,bn)("alt",t.name),M(2),ce(t.name),M(2),ce(t.role)}}function n4(n,e){if(n&1&&(I(0,"div",99)(1,"div",100),At(2,t4,7,4,"div",101,oa),C(),I(4,"div",102)(5,"p",103),k(6,"Quer ser um parceiro?"),C(),I(7,"a",104),Pe(),I(8,"svg",105),X(9,"path",19),C(),k(10," Entre em contato via WhatsApp "),C()()()),n&2){let t=U(2).$implicit,r=U();M(2),Rt(t.partners),M(5),ke("href",r.whatsappLink(),bn)}}function r4(n,e){if(n&1&&(I(0,"div")(1,"p",110),k(2,"Nenhuma parceria cadastrada no momento."),C(),I(3,"div",102)(4,"p",103),k(5,"Quer ser um parceiro?"),C(),I(6,"a",104),Pe(),I(7,"svg",105),X(8,"path",19),C(),k(9," Entre em contato via WhatsApp "),C()()()),n&2){let t=U(3);M(6),ke("href",t.whatsappLink(),bn)}}function i4(n,e){if(n&1&&fe(0,n4,11,1,"div",99)(1,r4,10,1,"div"),n&2){let t=U().$implicit;pe(t.partners&&t.partners.length>0?0:1)}}function o4(n,e){if(n&1&&(I(0,"li",114)(1,"span",115),k(2),C(),I(3,"div",16)(4,"span",116),k(5," Sim "),C(),I(6,"span",117),k(7),C()()()),n&2){let t=e.$implicit;M(2),ce(t.name),M(5),Ye(" ",t.price," ")}}function s4(n,e){if(n&1&&(I(0,"div",111)(1,"div",112),X(2,"span",113),k(3," Realizamos "),C(),I(4,"ul",76),At(5,o4,8,2,"li",114,oa),C()()),n&2){let t=U(2).$implicit,r=U();M(5),Rt(r.getServicesBy(t.listItems,!0))}}function a4(n,e){if(n&1&&(I(0,"li",120)(1,"span",121),k(2),C(),I(3,"div",16)(4,"span",122),k(5," Em Breve "),C(),I(6,"span",123),k(7),C()()()),n&2){let t=e.$implicit;M(2),ce(t.name),M(5),Ye(" ",t.price," ")}}function c4(n,e){if(n&1&&(I(0,"div",111)(1,"div",118),X(2,"span",119),k(3," Em Breve "),C(),I(4,"ul",76),At(5,a4,8,2,"li",120,oa),C()()),n&2){let t=U(2).$implicit,r=U();M(5),Rt(r.getServicesBy(t.listItems,"soon"))}}function u4(n,e){if(n&1&&(I(0,"li",126)(1,"span",127),k(2),C(),I(3,"div",16)(4,"span",128),k(5," N\xE3o "),C(),I(6,"span",129),k(7," - "),C()()()),n&2){let t=e.$implicit;M(2),ce(t.name)}}function l4(n,e){if(n&1&&(I(0,"div",111)(1,"div",124),X(2,"span",125),k(3," N\xE3o Realizamos "),C(),I(4,"ul",76),At(5,u4,8,1,"li",126,oa),C()()),n&2){let t=U(2).$implicit,r=U();M(5),Rt(r.getServicesBy(t.listItems,!1))}}function d4(n,e){if(n&1&&(I(0,"div",60),fe(1,s4,7,0,"div",111),fe(2,c4,7,0,"div",111),fe(3,l4,7,0,"div",111),C()),n&2){let t=U().$implicit,r=U();M(),pe(r.hasServicesBy(t.listItems,!0)?1:-1),M(),pe(r.hasServicesBy(t.listItems,"soon")?2:-1),M(),pe(r.hasServicesBy(t.listItems,!1)?3:-1)}}function h4(n,e){n&1&&(I(0,"span",135),k(1,"Novo"),C())}function f4(n,e){n&1&&k(0," \u2605 ")}function p4(n,e){n&1&&k(0," \u2606 ")}function g4(n,e){if(n&1&&fe(0,f4,1,0)(1,p4,1,0),n&2){let t=e.$implicit,r=U().$implicit;pe(t<=r.rating?0:1)}}function m4(n,e){if(n&1&&(I(0,"div",134),fe(1,h4,2,0,"span",135),I(2,"div",136)(3,"span",137),k(4),C(),I(5,"div",138),At(6,g4,2,1,null,null,fc),C()(),I(8,"p",139),k(9),C()()),n&2){let t=e.$implicit;je("border-brand-fireOrange",t.isNew),M(),pe(t.isNew?1:-1),M(3),ce(t.name),M(2),Rt(gc(5,mx)),M(3),Ye('"',t.comment,'"')}}function y4(n,e){if(n&1){let t=Lt();I(0,"button",147),Re("click",function(){let i=Te(t).$implicit,o=U(4);return Se(o.setReviewRating(i))}),I(1,"span"),k(2," \u2605 "),C()()}if(n&2){let t=e.$implicit,r=U(4);M(),je("text-brand-fireOrange",t<=r.newReviewRating())("text-gray-600",t>r.newReviewRating())("drop-shadow-[0_0_5px_rgba(255,140,0,0",t<=r.newReviewRating())}}function v4(n,e){if(n&1){let t=Lt();I(0,"div",133)(1,"h4",140),k(2,"Sua Opini\xE3o Importa"),C(),I(3,"div",141),At(4,y4,3,6,"button",142,fc),C(),I(6,"div",143)(7,"input",144),ut("ngModelChange",function(i){Te(t);let o=U(3);return wt(o.newReviewName,i)||(o.newReviewName=i),Se(i)}),C(),I(8,"textarea",145),ut("ngModelChange",function(i){Te(t);let o=U(3);return wt(o.newReviewMessage,i)||(o.newReviewMessage=i),Se(i)}),C(),I(9,"button",146),Re("click",function(){Te(t);let i=U(3);return Se(i.submitReview())}),k(10," Enviar Feedback "),C()()()}if(n&2){let t=U(3);M(4),Rt(gc(2,mx)),M(3),ct("ngModel",t.newReviewName),M(),ct("ngModel",t.newReviewMessage)}}function _4(n,e){if(n&1){let t=Lt();I(0,"div",61),At(1,m4,10,6,"div",130,oa),I(3,"div",131)(4,"button",132),Re("click",function(){Te(t);let i=U(2);return Se(i.toggleReviewForm())}),k(5),C()(),fe(6,v4,11,3,"div",133),C()}if(n&2){let t=U().$implicit,r=U();M(),Rt(t.testimonials),M(4),Ye(" ",r.showReviewForm()?"Cancelar":"Escrever Feedback"," "),M(),pe(r.showReviewForm()?6:-1)}}function E4(n,e){if(n&1&&(I(0,"span",152),k(1),C()),n&2){let t=U(3);M(),ce(t.countAvisosByType("info"))}}function I4(n,e){if(n&1&&(I(0,"span",154),k(1),C()),n&2){let t=U(3);M(),ce(t.countAvisosByType("warning"))}}function w4(n,e){if(n&1&&(I(0,"span",156),k(1),C()),n&2){let t=U(3);M(),ce(t.countAvisosByType("danger"))}}function b4(n,e){if(n&1&&(I(0,"span",158),k(1),C()),n&2){let t=U(3);M(),ce(t.countAvisosByType("success"))}}function C4(n,e){if(n&1&&(I(0,"div",161)(1,"h3",162),k(2),C(),I(3,"p",163),k(4),C(),I(5,"small",164),k(6),C()()),n&2){let t=e.$implicit,r=U(4);ke("ngClass",Pd(5,DB,t.tipo==="info",t.tipo==="warning",t.tipo==="danger",t.tipo==="success")),M(),ke("ngClass",Pd(10,TB,t.tipo==="info",t.tipo==="warning",t.tipo==="danger",t.tipo==="success")),M(),Ye(" ",t.titulo," "),M(2),ce(t.conteudo),M(2),ce(r.formatDate(t.data))}}function D4(n,e){if(n&1&&(I(0,"div",159),At(1,C4,7,15,"div",161,yx),C()),n&2){let t=U(3);M(),Rt(t.getAvisosByType(t.avisoSelectedType()))}}function T4(n,e){n&1&&(I(0,"div",160)(1,"p"),k(2,"Nenhum aviso deste tipo no momento."),C()())}function S4(n,e){if(n&1){let t=Lt();I(0,"div",61)(1,"div",148)(2,"button",149),Re("click",function(){Te(t);let i=U(2);return Se(i.avisoSelectedType.set("info"))}),Pe(),I(3,"svg",150),X(4,"path",151),C(),k(5," Informativo "),fe(6,E4,2,1,"span",152),C(),Zt(),I(7,"button",149),Re("click",function(){Te(t);let i=U(2);return Se(i.avisoSelectedType.set("warning"))}),Pe(),I(8,"svg",150),X(9,"path",153),C(),k(10," Aviso "),fe(11,I4,2,1,"span",154),C(),Zt(),I(12,"button",149),Re("click",function(){Te(t);let i=U(2);return Se(i.avisoSelectedType.set("danger"))}),Pe(),I(13,"svg",150),X(14,"path",155),C(),k(15," Importante "),fe(16,w4,2,1,"span",156),C(),Zt(),I(17,"button",149),Re("click",function(){Te(t);let i=U(2);return Se(i.avisoSelectedType.set("success"))}),Pe(),I(18,"svg",150),X(19,"path",157),C(),k(20," Sucesso "),fe(21,b4,2,1,"span",158),C()(),fe(22,D4,3,0,"div",159)(23,T4,3,0,"div",160),C()}if(n&2){let t=U(2);M(2),je("border-l-4",t.avisoSelectedType()==="info")("border-blue-400",t.avisoSelectedType()==="info")("text-blue-400",t.avisoSelectedType()==="info")("text-gray-400",t.avisoSelectedType()!=="info")("bg-blue-500/10",t.avisoSelectedType()==="info")("bg-white/5",t.avisoSelectedType()!=="info"),M(4),pe(t.countAvisosByType("info")>0?6:-1),M(),je("border-l-4",t.avisoSelectedType()==="warning")("border-yellow-400",t.avisoSelectedType()==="warning")("text-yellow-400",t.avisoSelectedType()==="warning")("text-gray-400",t.avisoSelectedType()!=="warning")("bg-yellow-500/10",t.avisoSelectedType()==="warning")("bg-white/5",t.avisoSelectedType()!=="warning"),M(4),pe(t.countAvisosByType("warning")>0?11:-1),M(),je("border-l-4",t.avisoSelectedType()==="danger")("border-red-400",t.avisoSelectedType()==="danger")("text-red-400",t.avisoSelectedType()==="danger")("text-gray-400",t.avisoSelectedType()!=="danger")("bg-red-500/10",t.avisoSelectedType()==="danger")("bg-white/5",t.avisoSelectedType()!=="danger"),M(4),pe(t.countAvisosByType("danger")>0?16:-1),M(),je("border-l-4",t.avisoSelectedType()==="success")("border-green-400",t.avisoSelectedType()==="success")("text-green-400",t.avisoSelectedType()==="success")("text-gray-400",t.avisoSelectedType()!=="success")("bg-green-500/10",t.avisoSelectedType()==="success")("bg-white/5",t.avisoSelectedType()!=="success"),M(4),pe(t.countAvisosByType("success")>0?21:-1),M(),pe(t.avisoSelectedType()!==null&&t.getAvisosByType(t.avisoSelectedType()).length>0?22:t.avisoSelectedType()!==null?23:-1)}}function A4(n,e){if(n&1){let t=Lt();I(0,"div",42)(1,"div",43)(2,"button",44),Re("click",function(){let i=Te(t).$implicit,o=U();return Se(o.toggleItem(i.id))}),X(3,"div",45),I(4,"div",46)(5,"div",47),fe(6,PB,2,0,":svg:svg",48),fe(7,kB,2,0,":svg:svg",49),fe(8,OB,2,0,":svg:svg",49),fe(9,FB,2,0,":svg:svg",48),fe(10,LB,2,0,":svg:svg",48),fe(11,VB,2,0,":svg:svg",48),fe(12,jB,3,0,":svg:svg",48),fe(13,UB,2,0,":svg:svg",48),C(),I(14,"span",50),k(15),C(),fe(16,BB,2,0,"span",51),fe(17,HB,2,1,"span",52),C(),Pe(),I(18,"svg",53),X(19,"path",54),C()(),Zt(),I(20,"div",55)(21,"div",56)(22,"div",57),fe(23,WB,3,1),fe(24,KB,18,3,"div",58),fe(25,ZB,2,1),fe(26,e4,3,0,"div",59),fe(27,i4,2,1),fe(28,d4,4,3,"div",60),fe(29,_4,7,2,"div",61),fe(30,S4,24,53,"div",61),C()()()()()}if(n&2){let t=e.$implicit,r=U();je("z-30",t.isOpen)("z-0",!t.isOpen)("scale-[1",t.isOpen)("my-2",t.isOpen),M(),je("border-brand-fireOrange",t.isOpen)("shadow-[0_0_25px_rgba(255,69,0,0",t.isOpen)("border-white/10",!t.isOpen)("bg-[#0F0F0F]",t.isOpen)("bg-black",!t.isOpen),M(),je("featured-service",t.featured),M(3),je("text-brand-fireOrange",t.isOpen)("scale-110",t.isOpen)("drop-shadow-[0_0_8px_rgba(255,69,0,0",t.isOpen),M(),pe(t.icon==="scissors"?6:-1),M(),pe(t.icon==="users"?7:-1),M(),pe(t.icon==="image"?8:-1),M(),pe(t.icon==="clock"?9:-1),M(),pe(t.icon==="star"?10:-1),M(),pe(t.icon==="calendar"?11:-1),M(),pe(t.icon==="map"?12:-1),M(),pe(t.icon==="briefcase"?13:-1),M(),je("text-white",t.isOpen)("text-gray-400",!t.isOpen),M(),Ye(" ",t.title," "),M(),pe(t.featured?16:-1),M(),pe(t.id==="avisos"&&r.avisos().length>0?17:-1),M(),je("rotate-180",t.isOpen)("text-brand-fireOrange",t.isOpen),M(2),Kn("grid-template-rows",t.isOpen?"1fr":"0fr"),M(3),pe(t.type==="text"?23:-1),M(),pe(t.type==="hours"?24:-1),M(),pe(t.type==="team"?25:-1),M(),pe(t.type==="projects"?26:-1),M(),pe(t.type==="partners"?27:-1),M(),pe(t.type==="list"?28:-1),M(),pe(t.type==="feedback"?29:-1),M(),pe(t.type==="text"&&t.id==="avisos"?30:-1)}}var Wf=class n{constructor(e){this.ngZone=e;this.firebaseConfig={apiKey:"AIzaSyDE2tWDNCDrY6O20EWrDt-NkvZmCm_MR10",authDomain:"isaacbarbearia-admin.firebaseapp.com",projectId:"isaacbarbearia-admin",storageBucket:"isaacbarbearia-admin.firebasestorage.app",messagingSenderId:"308982033120",appId:"1:308982033120:web:38b82c1a3ca9e933be7e85"};this.app=eu(this.firebaseConfig);this.db=wu(this.app);this.isLoading=ue(!0);this.loadingProgress=ue(0);this.hasLoadingStarted=!1;this.avisos=ue([]);this.avisoSelectedType=ue(null);this.whatsappLink=ue("https://wa.me/5585999999999");this.whatsappNumber=ue("(85) 99999-9999");this.telefoneLink=ue("tel:5585999999999");this.telefoneNumber=ue("(85) 99999-9999");this.agendamentoInfo=ue("O agendamento \xE9 feito preferencialmente via WhatsApp ou telefone.");this.localizacaoEndereco=ue("Rua das Pedras, 123");this.localizacaoBairro=ue("Centro");this.localizacaoCidade=ue("Fortaleza - CE");this.localizacaoReferencia=ue("Pr\xF3ximo \xE0 pra\xE7a principal");this.googleMapsLink=ue("https://share.google/Q4GvyJhu3aPv7HcgA");this.horariosSegSex=ue("09:00 \xE0s 20:00");this.horariosSabado=ue("09:00 \xE0s 18:00");this.horariosDomingo=ue("Fechado");this.locationLink=ue("#");this.embers=ue([]);this.sparks=ue([]);this.showReviewForm=ue(!1);this.newReviewName=ue("");this.newReviewMessage=ue("");this.newReviewRating=ue(5);this.items=ue([{id:"services",title:"Nossos Servi\xE7os & Pre\xE7os",isOpen:!1,featured:!0,type:"list",icon:"scissors",listItems:[]},{id:"team",title:"Profissionais",isOpen:!1,type:"team",icon:"users",teamMembers:[]},{id:"projects",title:"Participa\xE7\xE3o Comunit\xE1ria",isOpen:!1,type:"projects",icon:"image",projectGallery:[]},{id:"partnerships",title:"Parcerias",isOpen:!1,type:"partners",icon:"briefcase",partners:[]},{id:"feedback",title:"Feedback",isOpen:!1,type:"feedback",icon:"star",testimonials:[]},{id:"avisos",title:"Avisos",isOpen:!1,type:"text",icon:"briefcase",content:""},{id:"booking",title:"Agendamento",isOpen:!1,type:"text",icon:"calendar",content:"O agendamento \xE9 feito preferencialmente via WhatsApp ou telefone. Clique no \xEDcone do WhatsApp acima ou ligue para (11) 99999-9999."},{id:"hours",title:"Hor\xE1rios",isOpen:!1,type:"hours",icon:"clock",content:`Segunda a S\xE1bado: 09:00 \xE0s 20:00
Domingo: Fechado`},{id:"location",title:"Localiza\xE7\xE3o",isOpen:!1,type:"text",icon:"map",content:"Estamos na Rua das Pedras, 123 - Centro. Pr\xF3ximo \xE0 pra\xE7a principal."}]);this.currentYear=new Date().getFullYear()}ngOnInit(){this.hasLoadingStarted||(this.hasLoadingStarted=!0,this.startLoading()),this.generateEmbers(),this.generateSparks()}async startLoading(){this.isLoading.set(!0),this.loadingProgress.set(0);let e=0,t=setInterval(()=>{e+=.83,e<=100&&this.loadingProgress.set(e)},100);this.loadDynamicData(),setTimeout(()=>{clearInterval(t),this.loadingProgress.set(100),setTimeout(()=>{this.isLoading.set(!1)},500)},12e3)}async loadDynamicData(){try{let[e,t,r,i,o,s,a,u,l]=await Promise.all([pn(gt(this.db,"profissionais")),pn(gt(this.db,"parceiros")),pn(gt(this.db,"participacoes")),pn(gt(this.db,"avaliacoes")),pn(gt(this.db,"servicos")),qf(Vt(this.db,"config","agendamento")),qf(Vt(this.db,"config","localizacao")),qf(Vt(this.db,"config","horarios")),pn(gt(this.db,"avisos"))]),h=e.docs.map(S=>{let N=S.data();return{name:N.nome||"Profissional",specialty:N.especialidade||"Especialidade",imageUrl:N.imagem||`https://picsum.photos/seed/${encodeURIComponent(N.nome||S.id)}/200/200`}}),p=o.docs.map(S=>{let N=S.data(),J=N.realiza===!0&&N.preco&&N.preco>0?`R$ ${N.preco}`:"-";return{name:N.nome||"Servi\xE7o",price:J,available:N.realiza}}),g=t.docs.map(S=>{let N=S.data();return{name:N.nome||"Parceiro",role:"",imageUrl:N.imagem||`https://picsum.photos/seed/${encodeURIComponent(N.nome||S.id)}/200/200`}}),y=r.docs.map(S=>{let N=S.data();return{title:N.titulo||"Evento",imageUrl:`https://picsum.photos/seed/${encodeURIComponent(N.titulo||S.id)}/300/300`,projectUrl:"#",date:N.data||"Data a definir",location:N.descricao||"Comunidade"}}),R=i.docs.map(S=>{let N=S.data();return{name:N.cliente||"Cliente",comment:N.comentario||"\xD3timo atendimento!",rating:N.estrelas||5}});if(s.exists()){let S=s.data();if(S.whatsapp){let N=S.whatsapp.replace(/\D/g,"");this.whatsappLink.set(`https://wa.me/${N}`),this.whatsappNumber.set(S.whatsapp)}if(S.telefone){let N=S.telefone.replace(/\D/g,"");this.telefoneLink.set(`tel:${N}`),this.telefoneNumber.set(S.telefone)}S.info&&this.agendamentoInfo.set(S.info)}if(a.exists()){let S=a.data();S.endereco&&this.localizacaoEndereco.set(S.endereco),S.bairro&&this.localizacaoBairro.set(S.bairro),S.cidade&&this.localizacaoCidade.set(S.cidade),S.referencia&&this.localizacaoReferencia.set(S.referencia),S.googleMapsLink&&this.googleMapsLink.set(S.googleMapsLink)}if(u.exists()){let S=u.data();S.segSex&&this.horariosSegSex.set(S.segSex),S.sabado&&this.horariosSabado.set(S.sabado),S.domingo&&this.horariosDomingo.set(S.domingo)}h.length||g.length||y.length||R.length||p.length?this.items.update(S=>S.map(N=>N.id==="services"&&p.length?z(P({},N),{listItems:p}):N.id==="team"&&h.length?z(P({},N),{teamMembers:h}):N.id==="partnerships"&&g.length?z(P({},N),{partners:g}):N.id==="projects"&&y.length?z(P({},N),{projectGallery:y}):N.id==="feedback"&&R.length?z(P({},N),{testimonials:R}):N)):this.items.update(S=>S.map(N=>N.id==="services"?z(P({},N),{listItems:[]}):N.id==="team"?z(P({},N),{teamMembers:[]}):N.id==="partnerships"?z(P({},N),{partners:[]}):N.id==="projects"?z(P({},N),{projectGallery:[]}):N.id==="feedback"?z(P({},N),{testimonials:[]}):N));let O=l.docs.map(S=>{let N=S.data();return{id:S.id,titulo:N.titulo||"Aviso",conteudo:N.conteudo||"",tipo:N.tipo||"info",data:N.data||new Date().toISOString()}});O.sort((S,N)=>new Date(N.data).getTime()-new Date(S.data).getTime()),this.avisos.set(O)}catch(e){console.error("Erro ao carregar dados do Firebase:",e)}}formatDate(e){return new Date(e).toLocaleDateString("pt-BR")}getAvisosByType(e){return e?this.avisos().filter(t=>t.tipo===e):[]}countAvisosByType(e){return this.getAvisosByType(e).length}generateEmbers(){let e=[];for(let r=0;r<25;r++)e.push({left:Math.random()*100+"%",animationDuration:Math.random()*5+5+"s",animationDelay:Math.random()*5+"s",opacity:Math.random()*.5+.2,size:Math.random()*3+2+"px"});this.embers.set(e)}generateSparks(){let e=[];for(let r=0;r<20;r++)e.push({left:Math.random()*100+"%",animationDuration:Math.random()*3+3+"s",animationDelay:Math.random()*5+"s",opacity:Math.random()*.7+.3,size:Math.random()*2+1+"px"});this.sparks.set(e)}toggleItem(e){this.items.update(t=>t.map(r=>z(P({},r),{isOpen:r.id===e?!r.isOpen:!1})))}toggleReviewForm(){this.showReviewForm.update(e=>!e)}setReviewRating(e){this.newReviewRating.set(e)}async submitReview(){let e=this.newReviewName().trim(),t=this.newReviewMessage().trim(),r=this.newReviewRating();if(!e||!t){alert("Por favor, preencha nome e coment\xE1rio!");return}try{console.log("Salvando feedback:",{name:e,message:t,rating:r});let i=await Po(gt(this.db,"avaliacoes"),{cliente:e,comentario:t,estrelas:r,data:new Date().toLocaleDateString("pt-BR")});console.log("Feedback salvo com ID:",i.id),this.items.update(o=>o.map(s=>s.id==="feedback"&&s.testimonials?z(P({},s),{testimonials:[{name:e,comment:t,rating:r,isNew:!0},...s.testimonials]}):s)),this.newReviewName.set(""),this.newReviewMessage.set(""),this.newReviewRating.set(5),this.showReviewForm.set(!1),alert("Feedback enviado com sucesso!")}catch(i){console.error("Erro ao salvar feedback:",i),alert("Erro ao salvar feedback. Verifique o console.")}}getServicesBy(e,t){return e.filter(r=>r.available===t)}hasServicesBy(e,t){return e.some(r=>r.available===t)}static{this.\u0275fac=function(t){return new(t||n)(le(Ft))}}static{this.\u0275cmp=Cn({type:n,selectors:[["app-root"]],decls:38,vars:4,consts:[[1,"min-h-screen","bg-black","text-[#e0e0e0]","font-sans","flex","flex-col","items-center","py-12","px-4","relative","overflow-x-hidden"],[1,"fixed","inset-0","z-[9999]","bg-black","flex","flex-col","items-center","justify-center","loading-screen"],[1,"fixed","inset-0","pointer-events-none","z-0","overflow-hidden"],[1,"absolute","bottom-0","left-0","w-full","h-64","bg-gradient-to-t","from-brand-fireOrange/15","to-transparent"],[1,"absolute","top-0","left-0","w-full","h-48","bg-gradient-to-b","from-brand-fireOrange/10","to-transparent"],[1,"ember",3,"left","width","height","animation-duration","animation-delay","opacity"],[1,"spark",3,"left","width","height","animation-duration","animation-delay","opacity"],[1,"relative","z-10","w-full","max-w-md","flex","flex-col","flex-grow","neon-gold-border-container","rounded-2xl"],[1,"flex","flex-col","items-center","mb-8","animate-fade-in"],[1,"relative","w-80","mb-8","mt-4"],["ngSrc","https://i.postimg.cc/283QNmDj/Design-sem-nome-removebg-preview.png","priority","","width","1280","height","1119","alt","Isaac Barbearia Logo",1,"relative","z-10","w-full","h-auto","object-contain","transition-all","duration-300"],[1,"w-full","max-w-xs","flex","items-center","gap-4","-mt-6","mb-8","animate-fade-in"],[1,"h-px","flex-grow","bg-gradient-to-r","from-transparent","to-brand-gold/30"],[1,"text-brand-fireOrange","font-serif","text-sm","uppercase","tracking-[0.2em]","animate-shimmer","font-bold",2,"text-shadow","0 0 10px #ff8c00, 0 0 20px #ff8c00, 0 0 30px #ff6400"],[1,"h-px","flex-grow","bg-gradient-to-l","from-transparent","to-brand-gold/30"],[1,"w-full","p-3","bg-black/30","backdrop-blur-md","rounded-2xl","border","border-white/10","shadow-2xl","shadow-black","mb-12","flex","flex-row","items-center","justify-between"],[1,"flex","items-center","gap-4"],["target","_blank","aria-label","WhatsApp",1,"w-14","h-14","flex","items-center","justify-center","rounded-2xl","bg-[#111]","border","border-white/10","text-brand-gold","shadow-lg","hover:text-green-500","hover:border-green-500","hover:scale-110","btn-neon-green",3,"href"],["viewBox","0 0 24 24","fill","currentColor",1,"w-7","h-7"],["d","M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"],["target","_blank","aria-label","Localiza\xE7\xE3o",1,"w-14","h-14","flex","items-center","justify-center","rounded-2xl","bg-[#111]","border","border-white/10","text-brand-gold","shadow-lg","hover:text-blue-500","hover:border-blue-500","hover:scale-110","btn-neon-blue",3,"href"],["fill-rule","evenodd","d","M11.54 22.351l.07.04.028.016a.76.76 0 00.723 0l.028-.015.071-.041a16.975 16.975 0 001.144-.742 19.58 19.58 0 002.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 00-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 002.682 2.282 16.975 16.975 0 001.145.742zM12 13.5a3 3 0 100-6 3 3 0 000 6z","clip-rule","evenodd"],["href","https://www.instagram.com/isaac._barbearia","target","_blank","rel","noopener noreferrer",1,"btn-fire","flex","items-center","justify-center","gap-2","px-5","py-3","rounded-lg","font-bold","text-sm","uppercase","tracking-wider","transition-all","duration-300","transform","active:scale-95"],["viewBox","0 0 24 24","fill","currentColor",1,"w-5","h-5"],["d","M7.8,2H16.2C19.4,2 22,4.6 22,7.8V16.2A5.8,5.8 0 0,1 16.2,22H7.8C4.6,22 2,19.4 2,16.2V7.8A5.8,5.8 0 0,1 7.8,2M7.6,4A3.6,3.6 0 0,0 4,7.6V16.4C4,18.39 5.61,20 7.6,20H16.4A3.6,3.6 0 0,0 20,16.4V7.6C20,5.61 18.39,4 16.4,4H7.6M17.25,5.5A1.25,1.25 0 0,1 18.5,6.75A1.25,1.25 0 0,1 17.25,8A1.25,1.25 0 0,1 16,6.75A1.25,1.25 0 0,1 17.25,5.5M12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9Z"],[1,"w-full","relative","z-20","flex","flex-col","gap-3"],[1,"w-full","relative","transition-all","duration-500","ease-in-out",3,"z-30","z-0","scale-[1","my-2"],[1,"mt-auto","py-8","text-center","opacity-60"],[1,"text-[9px]","text-gray-500","uppercase","tracking-widest"],[1,"absolute","inset-0","bg-gradient-radial","from-brand-fireOrange/20","via-black","to-black","animate-pulse-slow"],[1,"relative","mb-8"],["src","https://i.postimg.cc/283QNmDj/Design-sem-nome-removebg-preview.png","alt","Isaac Barbearia",1,"relative","z-10","w-80","h-auto","animate-fade-in"],[1,"relative","z-10","text-center","mb-8"],[1,"text-brand-gold/80","text-sm","tracking-wider"],[1,"relative","z-10","w-64","h-2","bg-white/10","rounded-full","overflow-hidden","backdrop-blur-sm"],[1,"h-full","bg-gradient-to-r","from-brand-fireOrange","via-yellow-500","to-brand-fireOrange","animate-shimmer","transition-all","duration-300"],[1,"relative","z-10","mt-4","text-brand-fireOrange","font-bold","text-lg"],[1,"absolute","inset-0","overflow-hidden","pointer-events-none"],[1,"loading-ember",3,"left","animation-delay"],[1,"loading-ember"],[1,"ember"],[1,"spark"],[1,"w-full","relative","transition-all","duration-500","ease-in-out"],[1,"w-full","overflow-hidden","rounded-xl","border","transition-all","duration-300","shadow-xl"],[1,"w-full","relative","flex","items-center","justify-between","p-4","group/btn","outline-none",3,"click"],[1,"absolute","inset-0","bg-gradient-to-r","from-brand-fireOrange/10","to-transparent","opacity-0","group-hover/btn:opacity-100","transition-opacity","duration-300"],[1,"flex","items-center","gap-4","text-left","relative","z-10"],[1,"text-brand-gold","transition-all","duration-300"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["fill","none","stroke","currentColor","stroke-width","1.5","viewBox","0 0 24 24",1,"w-6","h-6"],[1,"font-sans","font-medium","text-sm","tracking-wide","transition-colors","duration-300"],[1,"ml-2","bg-brand-fireOrange/20","text-brand-fireOrange","border","border-brand-fireOrange/50","text-[9px]","font-bold","uppercase","tracking-wider","px-2","py-0.5","rounded"],[1,"ml-2","bg-red-500/20","text-red-400","border","border-red-500/50","text-[9px]","font-bold","uppercase","tracking-wider","px-2","py-0.5","rounded"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-500","transition-transform","duration-300","relative","z-10"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],[1,"grid","transition-all","duration-300","ease-in-out"],[1,"overflow-hidden"],[1,"px-6","pb-6","pt-2","border-t","border-brand-fireOrange/20","bg-black/40"],[1,"text-center","text-gray-300","font-light","text-sm","animate-fade-in","space-y-2"],[1,"space-y-3","animate-fade-in"],[1,"space-y-5","animate-fade-in"],[1,"space-y-4","animate-fade-in"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M14.121 14.121L19 19m-7-7l7-7m-7 7l-2.879 2.879M12 12L9.121 9.121m0 5.758a3 3 0 10-4.243 4.243 3 3 0 004.243-4.243zm0-5.758a3 3 0 10-4.243-4.243 3 3 0 004.243 4.243z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Z"],["stroke-linecap","round","stroke-linejoin","round","d","M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M20.25 7.5l-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"],[1,"text-gray-300","font-light","leading-relaxed","text-sm","animate-fade-in","space-y-3"],[1,"flex","flex-col","gap-2","mt-3"],["target","_blank",1,"flex","items-center","gap-2","text-green-400","hover:text-green-300","transition-colors",3,"href"],[1,"flex","items-center","gap-2","text-blue-400","hover:text-blue-300","transition-colors",3,"href"],["d","M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"],[1,"space-y-1"],[1,"font-semibold","text-brand-fireOrange"],[1,"text-xs","text-gray-400"],["target","_blank",1,"inline-flex","items-center","gap-2","text-blue-400","hover:text-blue-300","transition-colors","mt-3",3,"href"],["d","M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"w-4","h-4"],["d","M5 12h14M12 5l7 7-7 7"],[1,"text-gray-300","font-light","leading-relaxed","text-sm","animate-fade-in"],[1,"flex","justify-between","items-center","px-4"],[1,"text-gray-400"],[1,"font-semibold","text-red-400"],[1,"pt-2","mt-2","border-t","border-white/10","text-xs","text-gray-500"],[1,"text-gray-400","text-sm","italic"],[1,"flex","items-center","gap-4","bg-white/5","p-3","rounded-lg","border","border-white/10"],[1,"w-16","h-16","rounded-full","object-cover","border-2","border-brand-gold",3,"src","alt"],[1,"font-bold","text-white","text-sm"],[1,"text-brand-fireOrange","text-xs","font-medium","uppercase","tracking-wider"],[1,"bg-gradient-to-br","from-white/10","to-white/5","p-5","rounded-lg","border","border-brand-fireOrange/30","hover:border-brand-fireOrange/60","hover:shadow-[0_0_20px_rgba(255,140,0,0.2)]","transition-all","duration-300","group"],[1,"font-bold","text-white","text-lg","mb-3","group-hover:text-brand-fireOrange","transition-colors","uppercase","tracking-wide"],[1,"text-gray-300","text-sm","leading-relaxed","mb-4"],[1,"flex","items-center","gap-2","pt-3","border-t","border-white/10"],[1,"text-brand-gold","text-xs"],[1,"text-brand-gold","text-xs","font-medium"],[1,"animate-fade-in"],[1,"grid","grid-cols-3","gap-4","mb-4"],[1,"bg-gradient-to-br","from-white/5","to-white/[0.02]","border","border-white/10","rounded-xl","p-4","flex","flex-col","items-center","text-center","hover:border-brand-fireOrange","hover:shadow-[0_0_20px_rgba(255,140,0,0.3)]","transition-all","duration-500","group/partner","cursor-default"],[1,"flex","flex-col","items-center","justify-center","text-center","pt-2","border-t","border-dashed","border-white/10"],[1,"text-gray-400","text-[10px]","font-medium","uppercase","tracking-widest","mb-2"],["target","_blank",1,"text-brand-fireOrange","hover:text-white","text-xs","font-bold","uppercase","tracking-widest","flex","items-center","gap-2","transition-colors",3,"href"],["viewBox","0 0 24 24","fill","currentColor",1,"w-4","h-4"],[1,"w-16","h-16","rounded-xl","overflow-hidden","mb-3","border-2","border-brand-gold/30","group-hover/partner:border-brand-fireOrange","group-hover/partner:scale-110","transition-all","duration-500","shadow-xl","bg-white/5"],[1,"w-full","h-full","object-cover","group-hover/partner:scale-105","transition-all","duration-500",3,"src","alt"],[1,"text-brand-fireOrange","font-bold","text-xs","uppercase","tracking-wide","group-hover/partner:text-white","transition-colors"],[1,"text-gray-400","text-[10px]","mt-1","leading-tight"],[1,"text-gray-400","text-sm","italic","mb-4"],[1,"space-y-2"],[1,"text-xs","font-bold","text-green-400","uppercase","tracking-widest","px-3","py-1","border-b","border-green-500/30","flex","items-center","gap-2"],[1,"w-2","h-2","rounded-full","bg-green-400"],[1,"flex","justify-between","items-center","border-b","border-white/5","pb-2","hover:border-brand-fireOrange/30","transition-colors"],[1,"text-gray-300","text-sm","font-medium"],[1,"text-[10px]","font-bold","px-2","py-0.5","rounded","uppercase","tracking-wider","min-w-[3.5rem]","text-center","bg-green-500/20","text-green-400","border","border-green-500/30"],[1,"text-sm","font-serif","font-bold","w-12","text-right","text-brand-fireOrange"],[1,"text-xs","font-bold","text-yellow-400","uppercase","tracking-widest","px-3","py-1","border-b","border-yellow-500/30","flex","items-center","gap-2"],[1,"w-2","h-2","rounded-full","bg-yellow-400"],[1,"flex","justify-between","items-center","border-b","border-white/5","pb-2","hover:border-brand-fireOrange/30","transition-colors","opacity-70"],[1,"text-gray-400","text-sm","font-medium"],[1,"text-[10px]","font-bold","px-2","py-0.5","rounded","uppercase","tracking-wider","min-w-[3.5rem]","text-center","bg-yellow-500/20","text-yellow-400","border","border-yellow-500/30"],[1,"text-sm","font-serif","font-bold","w-12","text-right","text-gray-500"],[1,"text-xs","font-bold","text-red-500","uppercase","tracking-widest","px-3","py-1","border-b","border-red-500/30","flex","items-center","gap-2"],[1,"w-2","h-2","rounded-full","bg-red-500"],[1,"flex","justify-between","items-center","border-b","border-white/5","pb-2","hover:border-brand-fireOrange/30","transition-colors","opacity-50"],[1,"text-gray-500","text-sm","font-medium","line-through"],[1,"text-[10px]","font-bold","px-2","py-0.5","rounded","uppercase","tracking-wider","min-w-[3.5rem]","text-center","bg-red-500/10","text-red-500"],[1,"text-sm","font-serif","font-bold","w-12","text-right","text-gray-600"],[1,"bg-white/5","p-3","rounded","border","border-white/5","hover:border-brand-fireOrange/30","transition-colors","relative",3,"border-brand-fireOrange"],[1,"pt-2","text-center"],[1,"bg-white/10","text-white","hover:bg-brand-fireOrange","hover:text-black","border","border-white/20","px-6","py-2","rounded-full","text-xs","uppercase","tracking-widest","font-bold","transition-all","duration-300",3,"click"],[1,"pt-4","mt-2","border-t","border-white/10","animate-slide-down"],[1,"bg-white/5","p-3","rounded","border","border-white/5","hover:border-brand-fireOrange/30","transition-colors","relative"],[1,"absolute","top-0","right-0","bg-brand-fireOrange","text-black","text-[9px]","px-2","py-0.5","font-bold","uppercase","rounded-bl-md"],[1,"flex","justify-between","mb-1"],[1,"text-brand-gold","text-xs","font-bold"],[1,"flex","text-brand-fireOrange","text-[10px]"],[1,"text-gray-400","text-xs","italic"],[1,"text-brand-gold","text-sm","font-bold","mb-3","uppercase","tracking-wider","text-center"],[1,"flex","justify-center","gap-3","mb-4"],[1,"text-2xl","focus:outline-none","transition-transform","hover:scale-125"],[1,"space-y-3"],["type","text","placeholder","Seu Nome",1,"w-full","bg-white/5","border","border-white/10","rounded-md","text-sm","p-3","text-white","placeholder-gray-500","focus:border-brand-fireOrange","focus:ring-1","focus:ring-brand-fireOrange","outline-none","transition-all",3,"ngModelChange","ngModel"],["placeholder","Escreva sua mensagem aqui...","rows","3",1,"w-full","bg-white/5","border","border-white/10","rounded-md","text-sm","p-3","text-white","placeholder-gray-500","focus:border-brand-fireOrange","focus:ring-1","focus:ring-brand-fireOrange","outline-none","transition-all","resize-none",3,"ngModelChange","ngModel"],[1,"w-full","bg-gradient-to-r","from-brand-fireOrange","to-red-700","text-white","font-bold","py-3","rounded-md","text-sm","uppercase","tracking-widest","hover:shadow-[0_0_20px_rgba(255,69,0,0.4)]","active:scale-95","transition-all",3,"click"],[1,"text-2xl","focus:outline-none","transition-transform","hover:scale-125",3,"click"],[1,"flex","flex-col","gap-2","pb-3"],[1,"px-4","py-3","text-sm","font-bold","uppercase","tracking-wider","transition-colors","text-left","rounded","flex","items-center","gap-3",3,"click"],["fill","none","stroke","currentColor","stroke-width","1.5","viewBox","0 0 24 24",1,"w-6","h-6","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-auto","bg-blue-500/30","px-2","py-0.5","rounded","text-xs"],["stroke-linecap","round","stroke-linejoin","round","d","M12 9v2m0 4v2m0 4v.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-auto","bg-yellow-500/30","px-2","py-0.5","rounded","text-xs"],["stroke-linecap","round","stroke-linejoin","round","d","M12 8v4m0 4v.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-auto","bg-red-500/30","px-2","py-0.5","rounded","text-xs"],["stroke-linecap","round","stroke-linejoin","round","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"ml-auto","bg-green-500/30","px-2","py-0.5","rounded","text-xs"],[1,"space-y-4","mt-4"],[1,"text-center","py-8","text-gray-500","mt-4"],[1,"backdrop-blur-md","bg-white/5","border-l-4","rounded-lg","p-6","hover:bg-white/10","transition-all",3,"ngClass"],[1,"text-lg","font-bold","text-white","mb-3",3,"ngClass"],[1,"text-gray-300","mb-3"],[1,"text-gray-500"]],template:function(t,r){t&1&&(I(0,"div",0),fe(1,RB,14,4,"div",1)(2,xB,0,0),I(3,"div",2),X(4,"div",3)(5,"div",4),At(6,MB,1,12,"div",5,Md),At(8,NB,1,12,"div",6,Md),C(),I(10,"div",7)(11,"div",8)(12,"div",9),X(13,"img",10),C(),I(14,"div",11),X(15,"div",12),I(16,"span",13),k(17,"Desde 2024"),C(),X(18,"div",14),C(),I(19,"div",15)(20,"div",16)(21,"a",17),Pe(),I(22,"svg",18),X(23,"path",19),C()(),Zt(),I(24,"a",20),Pe(),I(25,"svg",18),X(26,"path",21),C()()(),Zt(),I(27,"a",22),Pe(),I(28,"svg",23),X(29,"path",24),C(),Zt(),I(30,"span"),k(31,"Seguir"),C()()(),I(32,"div",25),At(33,A4,31,55,"div",26,yx),C()(),I(35,"footer",27)(36,"p",28),k(37),C()()()()),t&2&&(M(),pe(r.isLoading()?1:2),M(5),Rt(r.embers()),M(2),Rt(r.sparks()),M(13),ke("href",r.whatsappLink(),bn),M(3),ke("href",r.googleMapsLink(),bn),M(9),Rt(r.items()),M(4),Ye("Isaac Barbearia \xA9 ",r.currentYear))},dependencies:[si,Oy,Ss,hi,Ts,go,jD],encapsulation:2})}};function kx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Ox=kx,Fx=new Sr("auth","Firebase",kx());var Xf=new pi("@firebase/auth");function R4(n,...e){Xf.logLevel<=de.WARN&&Xf.warn(`Auth (${yi}): ${n}`,...e)}function Qf(n,...e){Xf.logLevel<=de.ERROR&&Xf.error(`Auth (${yi}): ${n}`,...e)}function ar(n,...e){throw II(n,...e)}function ko(n,...e){return II(n,...e)}function Lx(n,e,t){let r=z(P({},Ox()),{[e]:t});return new Sr("auth","Firebase",r).create(e,{appName:n.name})}function Di(n){return Lx(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function II(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Fx.create(n,...e)}function Y(n,e,...t){if(!n)throw II(e,...t)}function Vr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Qf(e),new Error(e)}function Ti(n,e){n||Vr(e)}function tI(){return typeof self<"u"&&self.location?.href||""}function x4(){return vx()==="http:"||vx()==="https:"}function vx(){return typeof self<"u"&&self.location?.protocol||null}function M4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(x4()||CS()||"connection"in navigator)?navigator.onLine:!0}function N4(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Oo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ti(t>e,"Short delay should be less than long delay!"),this.isMobile=wS()||DS()}get(){return M4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function wI(n,e){Ti(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var ep=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var P4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var k4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],O4=new Oo(3e4,6e4);function Lo(n,e){return n.tenantId&&!e.tenantId?z(P({},e),{tenantId:n.tenantId}):e}async function Si(n,e,t,r,i={}){return Vx(n,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=Jc(P({key:n.config.apiKey},s)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);let l=P({method:e,headers:u},o);return bS()||(l.referrerPolicy="no-referrer"),n.emulatorConfig&&fi(n.emulatorConfig.host)&&(l.credentials="include"),ep.fetch()(await jx(n,n.config.apiHost,t,a),l)})}async function Vx(n,e,t){n._canInitEmulator=!1;let r=P(P({},P4),e);try{let i=new nI(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw Kf(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kf(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Kf(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Kf(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Lx(n,h,l);ar(n,h)}}catch(i){if(i instanceof nn)throw i;ar(n,"network-request-failed",{message:String(i)})}}async function dp(n,e,t,r,i={}){let o=await Si(n,e,t,r,i);return"mfaPendingCredential"in o&&ar(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function jx(n,e,t,r){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?wI(n.config,i):`${n.config.apiScheme}://${i}`;return k4.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function F4(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var nI=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ko(this.auth,"network-request-failed")),O4.get())})}};function Kf(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=ko(n,e,r);return i.customData._tokenResponse=t,i}function _x(n){return n!==void 0&&n.enterprise!==void 0}var rI=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return F4(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function L4(n,e){return Si(n,"GET","/v2/recaptchaConfig",Lo(n,e))}async function V4(n,e){return Si(n,"POST","/v1/accounts:delete",e)}async function tp(n,e){return Si(n,"POST","/v1/accounts:lookup",e)}function Tu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ux(n,e=!1){let t=Je(n),r=await t.getIdToken(e),i=bI(r);Y(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Tu(ZE(i.auth_time)),issuedAtTime:Tu(ZE(i.iat)),expirationTime:Tu(ZE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function ZE(n){return Number(n)*1e3}function bI(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Qf("JWT malformed, contained fewer than 3 sections"),null;try{let i=kh(t);return i?JSON.parse(i):(Qf("Failed to decode base64 JWT payload"),null)}catch(i){return Qf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ex(n){let e=bI(n);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Au(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof nn&&j4(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function j4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var iI=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Ru=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tu(this.lastLoginAt),this.creationTime=Tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function np(n){let e=n.auth,t=await n.getIdToken(),r=await Au(n,tp(e,{idToken:t}));Y(r?.users.length,e,"internal-error");let i=r.users[0];n._notifyReloadListener(i);let o=i.providerUserInfo?.length?Hx(i.providerUserInfo):[],s=U4(n.providerData,o),a=n.isAnonymous,u=!(n.email&&i.passwordHash)&&!s?.length,l=a?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ru(i.createdAt,i.lastLoginAt),isAnonymous:l};Object.assign(n,h)}async function Bx(n){let e=Je(n);await np(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function U4(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Hx(n){return n.map(r=>{var i=r,{providerId:e}=i,t=Up(i,["providerId"]);return{providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}})}async function B4(n,e){let t=await Vx(n,{},async()=>{let r=Jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=await jx(n,i,"/v1/token",`key=${o}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&fi(n.emulatorConfig.host)&&(u.credentials="include"),ep.fetch()(s,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function H4(n,e){return Si(n,"POST","/v2/accounts:revokeToken",Lo(n,e))}var Su=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ex(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Y(e.length!==0,"internal-error");let t=Ex(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:o}=await B4(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Y(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Y(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Vr("not implemented")}};function bi(n,e){Y(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Ci=class n{constructor(o){var s=o,{uid:e,auth:t,stsTokenManager:r}=s,i=Up(s,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ru(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let t=await Au(this,this.stsTokenManager.getToken(this.auth,e));return Y(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Ux(this,e)}reload(){return Bx(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>P({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(z(P({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await np(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rn(this.auth.app))return Promise.reject(Di(this.auth));let e=await this.getIdToken();return await Au(this,V4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return z(P({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>P({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){let r=t.displayName??void 0,i=t.email??void 0,o=t.phoneNumber??void 0,s=t.photoURL??void 0,a=t.tenantId??void 0,u=t._redirectEventId??void 0,l=t.createdAt??void 0,h=t.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:y,providerData:R,stsTokenManager:O}=t;Y(p&&O,e,"internal-error");let S=Su.fromJSON(this.name,O);Y(typeof p=="string",e,"internal-error"),bi(r,e.name),bi(i,e.name),Y(typeof g=="boolean",e,"internal-error"),Y(typeof y=="boolean",e,"internal-error"),bi(o,e.name),bi(s,e.name),bi(a,e.name),bi(u,e.name),bi(l,e.name),bi(h,e.name);let N=new n({uid:p,auth:e,email:i,emailVerified:g,displayName:r,isAnonymous:y,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:S,createdAt:l,lastLoginAt:h});return R&&Array.isArray(R)&&(N.providerData=R.map(J=>P({},J))),u&&(N._redirectEventId=u),N}static async _fromIdTokenResponse(e,t,r=!1){let i=new Su;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await np(o),o}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];Y(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?Hx(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Su;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ru(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var Ix=new Map;function jr(n){Ti(n instanceof Function,"Expected a class definition");let e=Ix.get(n);return e?(Ti(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ix.set(n,e),e)}var $4=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),oI=$4;function Yf(n,e,t){return`firebase:${n}:${e}:${t}`}var rp=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Yf(this.userKey,i.apiKey,o),this.fullPersistenceKey=Yf("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await tp(this.auth,{idToken:e}).catch(()=>{});return t?Ci._fromGetAccountInfoResponse(this.auth,t,e):null}return Ci._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(jr(oI),e,r);let i=(await Promise.all(t.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||jr(oI),s=Yf(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=await l._get(s);if(h){let p;if(typeof h=="string"){let g=await tp(e,{idToken:h}).catch(()=>{});if(!g)break;p=await Ci._fromGetAccountInfoResponse(e,g,h)}else p=Ci._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(t.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new n(o,e,r))}};function wx(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Gx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($x(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Kx(e))return"Blackberry";if(Qx(e))return"Webos";if(zx(e))return"Safari";if((e.includes("chrome/")||qx(e))&&!e.includes("edge/"))return"Chrome";if(Wx(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function $x(n=dt()){return/firefox\//i.test(n)}function zx(n=dt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qx(n=dt()){return/crios\//i.test(n)}function Gx(n=dt()){return/iemobile/i.test(n)}function Wx(n=dt()){return/android/i.test(n)}function Kx(n=dt()){return/blackberry/i.test(n)}function Qx(n=dt()){return/webos/i.test(n)}function CI(n=dt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function z4(n=dt()){return CI(n)&&!!window.navigator?.standalone}function q4(){return TS()&&document.documentMode===10}function Yx(n=dt()){return CI(n)||Wx(n)||Qx(n)||Kx(n)||/windows phone/i.test(n)||Gx(n)}function Jx(n,e=[]){let t;switch(n){case"Browser":t=wx(dt());break;case"Worker":t=`${wx(dt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${yi}/${r}`}var sI=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function G4(n,e={}){return Si(n,"GET","/v2/passwordPolicy",Lo(n,e))}var W4=6,aI=class{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??W4,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var cI=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ip(this),this.idTokenSubscription=new ip(this),this.beforeStateQueue=new sI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=jr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await rp.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await tp(this,{idToken:e}),r=await Ci._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(rn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}let t=await this.assertedPersistence.getCurrentUser(),r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let o=this.redirectUser?._redirectEventId,s=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!o||o===s)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await np(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=N4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rn(this.app))return Promise.reject(Di(this));let t=e?Je(e):null;return t&&Y(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rn(this.app)?Promise.reject(Di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rn(this.app)?Promise.reject(Di(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(jr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await G4(this),t=new aI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Sr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await H4(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&jr(e)||this._popupRedirectResolver;Y(t,this,"argument-error"),this.redirectPersistenceManager=await rp.create(this,[jr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Jx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);let r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&R4(`Error while retrieving App Check token: ${e.error}`),e?.token}};function sa(n){return Je(n)}var ip=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=xS(t=>this.observer=t)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var hp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function K4(n){hp=n}function Zx(n){return hp.loadJS(n)}function Q4(){return hp.recaptchaEnterpriseScript}function Y4(){return hp.gapiScript}function Xx(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var uI=class{constructor(){this.enterprise=new lI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},lI=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var J4="recaptcha-enterprise",eM="NO_RECAPTCHA",dI=class{constructor(e){this.type=J4,this.auth=sa(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{L4(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new rI(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})})}function i(o,s,a){let u=window.grecaptcha;_x(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(eM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uI().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&_x(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Q4();u.length!==0&&(u+=a),Zx(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}};async function Du(n,e,t,r=!1,i=!1){let o=new dI(n),s;if(i)s=eM;else try{s=await o.verify(t)}catch{s=await o.verify(t,!0)}let a=P({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function bx(n,e,t,r,i){if(i==="EMAIL_PASSWORD_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=await Du(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=await Du(n,e,t,t==="getOobCode");return r(n,s)}else return Promise.reject(o)});else if(i==="PHONE_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){let o=await Du(n,e,t);return r(n,o).catch(async s=>{if(n._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(s.code==="auth/missing-recaptcha-token"||s.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let a=await Du(n,e,t,!1,!0);return r(n,a)}return Promise.reject(s)})}else{let o=await Du(n,e,t,!1,!0);return r(n,o)}else return Promise.reject(i+" provider is not supported.")}function tM(n,e){let t=Xc(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Sn(o,e??{}))return i;ar(i,"already-initialized")}return t.initialize({options:e})}function Z4(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(jr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function nM(n,e,t){let r=sa(n);Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=rM(e),{host:s,port:a}=X4(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Y(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Y(Sn(l,r.config.emulator)&&Sn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,fi(s)?(Fh(`${o}//${s}${u}`),Lh("Auth",!0)):i||e3()}function rM(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function X4(n){let e=rM(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:Cx(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:Cx(s)}}}function Cx(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function e3(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var xu=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vr("not implemented")}_getIdTokenResponse(e){return Vr("not implemented")}_linkToIdToken(e,t){return Vr("not implemented")}_getReauthenticationResolver(e){return Vr("not implemented")}};async function t3(n,e){return Si(n,"POST","/v1/accounts:signUp",e)}async function n3(n,e){return dp(n,"POST","/v1/accounts:signInWithPassword",Lo(n,e))}async function r3(n,e){return dp(n,"POST","/v1/accounts:signInWithEmailLink",Lo(n,e))}async function i3(n,e){return dp(n,"POST","/v1/accounts:signInWithEmailLink",Lo(n,e))}var Mu=class n extends xu{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bx(e,t,"signInWithPassword",n3,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return r3(e,{email:this._email,oobCode:this._password});default:ar(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bx(e,r,"signUpPassword",t3,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return i3(e,{idToken:t,email:this._email,oobCode:this._password});default:ar(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function XE(n,e){return dp(n,"POST","/v1/accounts:signInWithIdp",Lo(n,e))}function o3(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function s3(n){let e=As(Rs(n)).link,t=e?As(Rs(e)).deep_link_id:null,r=As(Rs(n)).deep_link_id;return(r?As(Rs(r)).link:null)||r||t||e||n}var op=class n{constructor(e){let t=As(Rs(e)),r=t.apiKey??null,i=t.oobCode??null,o=o3(t.mode??null);Y(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){let t=s3(e);try{return new n(t)}catch{return null}}};var iM=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Mu._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=op.parseLink(r);return Y(i,"argument-error"),Mu._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),sp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var hI=class extends sp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Nu=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){let o=await Ci._fromIdTokenResponse(e,r,i),s=Dx(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);let i=Dx(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function Dx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var fI=class n extends nn{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function oM(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?fI._fromErrorAndOperation(n,o,e,r):o})}async function a3(n,e,t=!1){let r=await Au(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Nu._forOperation(n,"link",r)}async function c3(n,e,t=!1){let{auth:r}=n;if(rn(r.app))return Promise.reject(Di(r));let i="reauthenticate";try{let o=await Au(n,oM(r,i,e,n),t);Y(o.idToken,r,"internal-error");let s=bI(o.idToken);Y(s,r,"internal-error");let{sub:a}=s;return Y(n.uid===a,r,"user-mismatch"),Nu._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&ar(r,"user-mismatch"),o}}async function sM(n,e,t=!1){if(rn(n.app))return Promise.reject(Di(n));let r="signIn",i=await oM(n,r,e),o=await Nu._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function aM(n,e){return sM(sa(n),e)}async function u3(n){let e=sa(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function DI(n,e,t){return rn(n.app)?Promise.reject(Di(n)):aM(Je(n),iM.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&u3(n),r})}function cM(n,e,t,r){return Je(n).onIdTokenChanged(e,t,r)}function uM(n,e,t){return Je(n).beforeAuthStateChanged(e,t)}function TI(n,e,t,r){return Je(n).onAuthStateChanged(e,t,r)}function SI(n){return Je(n).signOut()}var ap="__sak";var cp=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ap,"1"),this.storage.removeItem(ap),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var l3=1e3,d3=10,h3=(()=>{class n extends cp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);q4()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,d3):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},l3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){let r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}return n.type="LOCAL",n})(),lM=h3;var f3=(()=>{class n extends cp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),AI=f3;function p3(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var g3=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(async h=>h(r.origin,s)),l=await p3(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function dM(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var pI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=dM("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function sr(){return window}function m3(n){sr().location.href=n}function hM(){return typeof sr().WorkerGlobalScope<"u"&&typeof sr().importScripts=="function"}async function y3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function v3(){return navigator?.serviceWorker?.controller||null}function _3(){return hM()?self:null}var fM="firebaseLocalStorageDb",E3=1,up="firebaseLocalStorage",pM="fbase_key",Fo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function fp(n,e){return n.transaction([up],e?"readwrite":"readonly").objectStore(up)}function I3(){let n=indexedDB.deleteDatabase(fM);return new Fo(n).toPromise()}function gI(){let n=indexedDB.open(fM,E3);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(up,{keyPath:pM})}catch(i){t(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(up)?e(r):(r.close(),await I3(),e(await gI()))})})}async function Tx(n,e,t){let r=fp(n,!0).put({[pM]:e,value:t});return new Fo(r).toPromise()}async function w3(n,e){let t=fp(n,!1).get(e),r=await new Fo(t).toPromise();return r===void 0?null:r.value}function Sx(n,e){let t=fp(n,!0).delete(e);return new Fo(t).toPromise()}var b3=800,C3=3,D3=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gI(),this.db)}async _withRetries(t){let r=0;for(;;)try{let i=await this._openDb();return await t(i)}catch(i){if(r++>C3)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hM()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=g3._getInstance(_3()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await y3(),!this.activeServiceWorker)return;this.sender=new pI(this.activeServiceWorker);let t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||v3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await gI();return await Tx(t,ap,"1"),await Sx(t,ap),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>Tx(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){let r=await this._withRetries(i=>w3(i,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Sx(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(o=>{let s=fp(o,!1).getAll();return new Fo(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),b3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),gM=D3;var Xne=Xx("rcb"),ere=new Oo(3e4,6e4);function T3(n,e){return e?jr(e):(Y(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Pu=class extends xu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return XE(e,this._buildIdpRequest())}_linkToIdToken(e,t){return XE(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return XE(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function S3(n){return sM(n.auth,new Pu(n),n.bypassAuthState)}function A3(n){let{auth:e,user:t}=n;return Y(t,e,"internal-error"),c3(t,new Pu(n),n.bypassAuthState)}async function R3(n){let{auth:e,user:t}=n;return Y(t,e,"internal-error"),a3(t,new Pu(n),n.bypassAuthState)}var mI=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return S3;case"linkViaPopup":case"linkViaRedirect":return R3;case"reauthViaPopup":case"reauthViaRedirect":return A3;default:ar(this.auth,"internal-error")}}resolve(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var tre=new Oo(2e3,1e4);var x3="pendingRedirect",Jf=new Map,yI=class extends mI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Jf.get(this.auth._key());if(!e){try{let r=await M3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Jf.set(this.auth._key(),e)}return this.bypassAuthState||Jf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function M3(n,e){let t=k3(e),r=P3(n);if(!await r._isAvailable())return!1;let i=await r._get(t)==="true";return await r._remove(t),i}function N3(n,e){Jf.set(n._key(),e)}function P3(n){return jr(n._redirectPersistence)}function k3(n){return Yf(x3,n.config.apiKey,n.name)}async function O3(n,e,t=!1){if(rn(n.app))return Promise.reject(Di(n));let r=sa(n),i=T3(r,e),s=await new yI(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var F3=600*1e3,vI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!L3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!mM(e)){let r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ko(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=F3&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ax(e))}saveEventToCache(e){this.cachedEventUids.add(Ax(e)),this.lastProcessedEventTime=Date.now()}};function Ax(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function mM({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function L3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mM(n);default:return!1}}async function V3(n,e={}){return Si(n,"GET","/v1/projects",e)}var j3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,U3=/^https?/;async function B3(n){if(n.config.emulator)return;let{authorizedDomains:e}=await V3(n);for(let t of e)try{if(H3(t))return}catch{}ar(n,"unauthorized-domain")}function H3(n){let e=tI(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!U3.test(t))return!1;if(j3.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var $3=new Oo(3e4,6e4);function Rx(){let n=sr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function z3(n){return new Promise((e,t)=>{function r(){Rx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Rx(),t(ko(n,"network-request-failed"))},timeout:$3.get()})}if(sr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(sr().gapi?.load)r();else{let i=Xx("iframefcb");return sr()[i]=()=>{gapi.load?r():t(ko(n,"network-request-failed"))},Zx(`${Y4()}?onload=${i}`).catch(o=>t(o))}}).catch(e=>{throw Zf=null,e})}var Zf=null;function q3(n){return Zf=Zf||z3(n),Zf}var G3=new Oo(5e3,15e3),W3="__/auth/iframe",K3="emulator/auth/iframe",Q3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Y3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function J3(n){let e=n.config;Y(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?wI(e,K3):`https://${n.config.authDomain}/${W3}`,r={apiKey:e.apiKey,appName:n.name,v:yi},i=Y3.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Jc(r).slice(1)}`}async function Z3(n){let e=await q3(n),t=sr().gapi;return Y(t,n,"internal-error"),e.open({where:document.body,url:J3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Q3,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=ko(n,"network-request-failed"),a=sr().setTimeout(()=>{o(s)},G3.get());function u(){sr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})}))}var X3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eH=500,tH=600,nH="_blank",rH="http://localhost",lp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function iH(n,e,t,r=eH,i=tH){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=z(P({},X3),{width:r.toString(),height:i.toString(),top:o,left:s}),l=dt().toLowerCase();t&&(a=qx(l)?nH:t),$x(l)&&(e=e||rH,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[y,R])=>`${g}${y}=${R},`,"");if(z4(l)&&a!=="_self")return oH(e||"",a),new lp(null);let p=window.open(e||"",a,h);Y(p,n,"popup-blocked");try{p.focus()}catch{}return new lp(p)}function oH(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var sH="__/auth/handler",aH="emulator/auth/handler",cH=encodeURIComponent("fac");async function xx(n,e,t,r,i,o){Y(n.config.authDomain,n,"auth-domain-config-required"),Y(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:yi,eventId:i};if(e instanceof sp){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",RS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof hI){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=await n._getAppCheckToken(),l=u?`#${cH}=${encodeURIComponent(u)}`:"";return`${uH(n)}?${Jc(a).slice(1)}${l}`}function uH({config:n}){return n.emulator?wI(n,aH):`https://${n.authDomain}/${sH}`}var eI="webStorageSupport",_I=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AI,this._completeRedirectFn=O3,this._overrideRedirectResult=N3}async _openPopup(e,t,r,i){Ti(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");let o=await xx(e,t,r,tI(),i);return iH(e,o,dM())}async _openRedirect(e,t,r,i){await this._originValidation(e);let o=await xx(e,t,r,tI(),i);return m3(o),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Ti(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await Z3(e),r=new vI(e);return t.register("authEvent",i=>(Y(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(eI,{type:eI},i=>{let o=i?.[0]?.[eI];o!==void 0&&t(!!o),ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=B3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Yx()||zx()||CI()}},yM=_I;var Mx="@firebase/auth",Nx="1.12.0";var EI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function lH(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dH(n){mi(new dn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Y(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jx(n)},l=new cI(r,i,o,u);return Z4(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),mi(new dn("auth-internal",e=>{let t=sa(e.getProvider("auth").getImmediate());return(r=>new EI(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),An(Mx,Nx,lH(n)),An(Mx,Nx,"esm2020")}var hH=300,fH=xv("authIdTokenMaxAge")||hH,Px=null,pH=n=>async e=>{let t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>fH)return;let i=t?.token;Px!==i&&(Px=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function RI(n=Bh()){let e=Xc(n,"auth");if(e.isInitialized())return e.getImmediate();let t=tM(n,{popupRedirectResolver:yM,persistence:[gM,lM,AI]}),r=xv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=pH(o.toString());uM(t,s,()=>s(t.currentUser)),cM(t,a=>s(a))}}let i=Av("auth");return i&&nM(t,`http://${i}`),t}function gH(){return document.getElementsByTagName("head")?.[0]??document}K4({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=ko("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",gH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dH("Browser");var mH={firebase:{apiKey:"AIzaSyDE2tWDNCDrY6O20EWrDt-NkvZmCm_MR10",authDomain:"isaacbarbearia-admin.firebaseapp.com",projectId:"isaacbarbearia-admin",storageBucket:"isaacbarbearia-admin.firebasestorage.app",messagingSenderId:"308982033120",appId:"1:308982033120:web:38b82c1a3ca9e933be7e85"}},aa=class n{constructor(){this.app=eu(mH.firebase);this.auth=RI(this.app);this.firestore=wu(this.app)}login(e,t){return DI(this.auth,e,t)}logout(){return SI(this.auth)}getCurrentUser(){return new Promise((e,t)=>{TI(this.auth,r=>{r?e(r):t(null)})})}async addProfissional(e){return Po(gt(this.firestore,"profissionais"),e)}async getProfissionais(){return(await pn(gt(this.firestore,"profissionais"))).docs.map(t=>P({id:t.id},t.data()))}async updateProfissional(e,t){return Gf(Vt(this.firestore,"profissionais",e),t)}async deleteProfissional(e){return Cu(Vt(this.firestore,"profissionais",e))}async addParceiro(e){return Po(gt(this.firestore,"parceiros"),e)}async getParceiros(){return(await pn(gt(this.firestore,"parceiros"))).docs.map(t=>P({id:t.id},t.data()))}async updateParceiro(e,t){return Gf(Vt(this.firestore,"parceiros",e),t)}async deleteParceiro(e){return Cu(Vt(this.firestore,"parceiros",e))}async addParticipacao(e){return Po(gt(this.firestore,"participacoes"),e)}async getParticipacoes(){return(await pn(gt(this.firestore,"participacoes"))).docs.map(t=>P({id:t.id},t.data()))}async updateParticipacao(e,t){return Gf(Vt(this.firestore,"participacoes",e),t)}async deleteParticipacao(e){return Cu(Vt(this.firestore,"participacoes",e))}async addAvaliacao(e){return Po(gt(this.firestore,"avaliacoes"),e)}async getAvaliacoes(){return(await pn(gt(this.firestore,"avaliacoes"))).docs.map(t=>P({id:t.id},t.data()))}async deleteAvaliacao(e){return Cu(Vt(this.firestore,"avaliacoes",e))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}};function yH(n,e){if(n&1&&(I(0,"p",7),k(1),C()),n&2){let t=U();M(),ce(t.erro)}}var pp=class n{constructor(e,t){this.firebaseService=e;this.router=t;this.email="";this.password="";this.erro=""}async login(){try{await this.firebaseService.login(this.email,this.password),this.router.navigate(["/admin"])}catch(e){this.erro="Email ou senha incorretos!",console.error("Erro de login:",e)}}static{this.\u0275fac=function(t){return new(t||n)(le(aa),le(li))}}static{this.\u0275cmp=Cn({type:n,selectors:[["app-login"]],decls:12,vars:3,consts:[[1,"login-container"],[1,"login-box"],[3,"ngSubmit"],["name","email","type","email","placeholder","Email","required","",3,"ngModelChange","ngModel"],["name","password","type","password","placeholder","Senha","required","",3,"ngModelChange","ngModel"],["type","submit"],["class","error",4,"ngIf"],[1,"error"]],template:function(t,r){t&1&&(I(0,"div",0)(1,"div",1)(2,"h1"),k(3,"Admin Login"),C(),I(4,"p"),k(5,"Isaac Barbearia"),C(),I(6,"form",2),Re("ngSubmit",function(){return r.login()}),I(7,"input",3),ut("ngModelChange",function(o){return wt(r.email,o)||(r.email=o),o}),C(),I(8,"input",4),ut("ngModelChange",function(o){return wt(r.password,o)||(r.password=o),o}),C(),I(9,"button",5),k(10,"Entrar"),C()(),Wn(11,yH,2,1,"p",6),C()()),t&2&&(M(7),ct("ngModel",r.email),M(),ct("ngModel",r.password),M(3),ke("ngIf",r.erro))},dependencies:[si,vc,Ss,Nh,hi,Ts,xh,Kc,go,Wc],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);font-family:Arial,sans-serif}.login-box[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:8px;box-shadow:0 10px 25px #0003;width:100%;max-width:400px}h1[_ngcontent-%COMP%]{color:#333;text-align:center;margin:0 0 5px;font-size:28px}p[_ngcontent-%COMP%]{text-align:center;color:#999;margin:0 0 30px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}input[_ngcontent-%COMP%]{padding:12px;border:1px solid #ddd;border-radius:4px;font-size:14px;transition:border-color .3s}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea;box-shadow:0 0 5px #667eea4d}button[_ngcontent-%COMP%]{padding:12px;background:#667eea;color:#fff;border:none;border-radius:4px;font-size:16px;cursor:pointer;transition:background .3s;font-weight:700}button[_ngcontent-%COMP%]:hover{background:#764ba2}.error[_ngcontent-%COMP%]{color:#e74c3c;text-align:center;margin-top:10px;font-size:14px}"]})}};function vH(n,e){if(n&1){let t=Lt();I(0,"tr")(1,"td"),k(2),C(),I(3,"td"),k(4),C(),I(5,"td"),k(6),C(),I(7,"td")(8,"button",12),Re("click",function(){let i=Te(t).$implicit,o=U(2);return Se(o.deletarProfissional(i.id))}),k(9,"Deletar"),C()()()}if(n&2){let t=e.$implicit;M(2),ce(t.nome),M(2),ce(t.especialidade),M(2),ce(t.telefone)}}function _H(n,e){if(n&1){let t=Lt();I(0,"div",5)(1,"h2"),k(2,"Gerenciar Profissionais"),C(),I(3,"form",6),Re("ngSubmit",function(){Te(t);let i=U();return Se(i.adicionarProfissional())}),I(4,"input",7),ut("ngModelChange",function(i){Te(t);let o=U();return wt(o.novoProfissional.nome,i)||(o.novoProfissional.nome=i),Se(i)}),C(),I(5,"input",8),ut("ngModelChange",function(i){Te(t);let o=U();return wt(o.novoProfissional.especialidade,i)||(o.novoProfissional.especialidade=i),Se(i)}),C(),I(6,"input",9),ut("ngModelChange",function(i){Te(t);let o=U();return wt(o.novoProfissional.telefone,i)||(o.novoProfissional.telefone=i),Se(i)}),C(),I(7,"button",10),k(8,"Adicionar Profissional"),C()(),I(9,"table")(10,"thead")(11,"tr")(12,"th"),k(13,"Nome"),C(),I(14,"th"),k(15,"Especialidade"),C(),I(16,"th"),k(17,"Telefone"),C(),I(18,"th"),k(19,"A\xE7\xF5es"),C()()(),I(20,"tbody"),Wn(21,vH,10,3,"tr",11),C()()()}if(n&2){let t=U();M(4),ct("ngModel",t.novoProfissional.nome),M(),ct("ngModel",t.novoProfissional.especialidade),M(),ct("ngModel",t.novoProfissional.telefone),M(15),ke("ngForOf",t.profissionais)}}function EH(n,e){if(n&1){let t=Lt();I(0,"tr")(1,"td"),k(2),C(),I(3,"td"),k(4),C(),I(5,"td"),k(6),C(),I(7,"td")(8,"button",12),Re("click",function(){let i=Te(t).$implicit,o=U(2);return Se(o.deletarParceiro(i.id))}),k(9,"Deletar"),C()()()}if(n&2){let t=e.$implicit;M(2),ce(t.nome),M(2),ce(t.descricao),M(2),Ye("",t.desconto,"%")}}function IH(n,e){if(n&1){let t=Lt();I(0,"div",5)(1,"h2"),k(2,"Gerenciar Parceiros e Conv\xEAnios"),C(),I(3,"form",6),Re("ngSubmit",function(){Te(t);let i=U();return Se(i.adicionarParceiro())}),I(4,"input",13),ut("ngModelChange",function(i){Te(t);let o=U();return wt(o.novoParceiro.nome,i)||(o.novoParceiro.nome=i),Se(i)}),C(),I(5,"input",14),ut("ngModelChange",function(i){Te(t);let o=U();return wt(o.novoParceiro.descricao,i)||(o.novoParceiro.descricao=i),Se(i)}),C(),I(6,"input",15),ut("ngModelChange",function(i){Te(t);let o=U();return wt(o.novoParceiro.desconto,i)||(o.novoParceiro.desconto=i),Se(i)}),C(),I(7,"button",10),k(8,"Adicionar Parceiro"),C()(),I(9,"table")(10,"thead")(11,"tr")(12,"th"),k(13,"Nome"),C(),I(14,"th"),k(15,"Descri\xE7\xE3o"),C(),I(16,"th"),k(17,"Desconto"),C(),I(18,"th"),k(19,"A\xE7\xF5es"),C()()(),I(20,"tbody"),Wn(21,EH,10,3,"tr",11),C()()()}if(n&2){let t=U();M(4),ct("ngModel",t.novoParceiro.nome),M(),ct("ngModel",t.novoParceiro.descricao),M(),ct("ngModel",t.novoParceiro.desconto),M(15),ke("ngForOf",t.parceiros)}}function wH(n,e){if(n&1){let t=Lt();I(0,"div",20)(1,"h3"),k(2),C(),I(3,"p"),k(4),C(),I(5,"p")(6,"strong"),k(7,"Data:"),C(),k(8),C(),I(9,"button",12),Re("click",function(){let i=Te(t).$implicit,o=U(2);return Se(o.deletarParticipacao(i.id))}),k(10,"Deletar"),C()()}if(n&2){let t=e.$implicit;M(2),ce(t.titulo),M(2),ce(t.descricao),M(4),Ye(" ",t.data)}}function bH(n,e){if(n&1){let t=Lt();I(0,"div",5)(1,"h2"),k(2,"Participa\xE7\xE3o Comunit\xE1ria"),C(),I(3,"form",6),Re("ngSubmit",function(){Te(t);let i=U();return Se(i.adicionarParticipacao())}),I(4,"input",16),ut("ngModelChange",function(i){Te(t);let o=U();return wt(o.novaParticipacao.titulo,i)||(o.novaParticipacao.titulo=i),Se(i)}),C(),I(5,"textarea",14),ut("ngModelChange",function(i){Te(t);let o=U();return wt(o.novaParticipacao.descricao,i)||(o.novaParticipacao.descricao=i),Se(i)}),C(),I(6,"input",17),ut("ngModelChange",function(i){Te(t);let o=U();return wt(o.novaParticipacao.data,i)||(o.novaParticipacao.data=i),Se(i)}),C(),I(7,"button",10),k(8,"Adicionar Evento"),C()(),I(9,"div",18),Wn(10,wH,11,3,"div",19),C()()}if(n&2){let t=U();M(4),ct("ngModel",t.novaParticipacao.titulo),M(),ct("ngModel",t.novaParticipacao.descricao),M(),ct("ngModel",t.novaParticipacao.data),M(4),ke("ngForOf",t.participacoes)}}function CH(n,e){if(n&1){let t=Lt();I(0,"div",22)(1,"h3"),k(2),C(),I(3,"p")(4,"strong"),k(5,"Estrelas:"),C(),k(6),C(),I(7,"p"),k(8),C(),I(9,"p")(10,"small"),k(11),C()(),I(12,"button",12),Re("click",function(){let i=Te(t).$implicit,o=U(2);return Se(o.deletarAvaliacao(i.id))}),k(13,"Deletar"),C()()}if(n&2){let t=e.$implicit;M(2),ce(t.cliente),M(4),Ye(" ",t.estrelas,"/5"),M(2),ce(t.comentario),M(3),ce(t.data)}}function DH(n,e){if(n&1&&(I(0,"div",5)(1,"h2"),k(2,"Avalia\xE7\xF5es dos Clientes"),C(),I(3,"div",18),Wn(4,CH,14,4,"div",21),C()()),n&2){let t=U();M(4),ke("ngForOf",t.avaliacoes)}}var gp=class n{constructor(e,t){this.firebaseService=e;this.router=t;this.tabAtual="profissionais";this.profissionais=[];this.parceiros=[];this.participacoes=[];this.avaliacoes=[];this.novoProfissional={nome:"",especialidade:"",telefone:""};this.novoParceiro={nome:"",descricao:"",desconto:""};this.novaParticipacao={titulo:"",descricao:"",data:""}}ngOnInit(){this.carregarDados()}async carregarDados(){try{this.profissionais=await this.firebaseService.getProfissionais(),this.parceiros=await this.firebaseService.getParceiros(),this.participacoes=await this.firebaseService.getParticipacoes(),this.avaliacoes=await this.firebaseService.getAvaliacoes()}catch(e){console.error("Erro ao carregar dados:",e)}}async adicionarProfissional(){try{await this.firebaseService.addProfissional(this.novoProfissional),this.novoProfissional={nome:"",especialidade:"",telefone:""},this.carregarDados()}catch(e){console.error("Erro ao adicionar profissional:",e)}}async deletarProfissional(e){try{await this.firebaseService.deleteProfissional(e),this.carregarDados()}catch(t){console.error("Erro ao deletar profissional:",t)}}async adicionarParceiro(){try{await this.firebaseService.addParceiro(this.novoParceiro),this.novoParceiro={nome:"",descricao:"",desconto:""},this.carregarDados()}catch(e){console.error("Erro ao adicionar parceiro:",e)}}async deletarParceiro(e){try{await this.firebaseService.deleteParceiro(e),this.carregarDados()}catch(t){console.error("Erro ao deletar parceiro:",t)}}async adicionarParticipacao(){try{await this.firebaseService.addParticipacao(this.novaParticipacao),this.novaParticipacao={titulo:"",descricao:"",data:""},this.carregarDados()}catch(e){console.error("Erro ao adicionar participa\xE7\xE3o:",e)}}async deletarParticipacao(e){try{await this.firebaseService.deleteParticipacao(e),this.carregarDados()}catch(t){console.error("Erro ao deletar participa\xE7\xE3o:",t)}}async deletarAvaliacao(e){try{await this.firebaseService.deleteAvaliacao(e),this.carregarDados()}catch(t){console.error("Erro ao deletar feedback:",t)}}async logout(){try{await this.firebaseService.logout(),this.router.navigate(["/"])}catch(e){console.error("Erro ao fazer logout:",e)}}static{this.\u0275fac=function(t){return new(t||n)(le(aa),le(li))}}static{this.\u0275cmp=Cn({type:n,selectors:[["app-admin"]],decls:18,vars:12,consts:[[1,"admin-container"],[1,"tabs"],[3,"click"],[1,"btn-logout",3,"click"],["class","tab-content",4,"ngIf"],[1,"tab-content"],[3,"ngSubmit"],["name","nome","placeholder","Nome","required","",3,"ngModelChange","ngModel"],["name","especialidade","placeholder","Especialidade","required","",3,"ngModelChange","ngModel"],["name","telefone","placeholder","Telefone",3,"ngModelChange","ngModel"],["type","submit"],[4,"ngFor","ngForOf"],[1,"btn-delete",3,"click"],["name","nome","placeholder","Nome do Parceiro","required","",3,"ngModelChange","ngModel"],["name","descricao","placeholder","Descri\xE7\xE3o",3,"ngModelChange","ngModel"],["name","desconto","placeholder","Desconto (%)",3,"ngModelChange","ngModel"],["name","titulo","placeholder","T\xEDtulo do Evento","required","",3,"ngModelChange","ngModel"],["name","data","type","date","required","",3,"ngModelChange","ngModel"],[1,"cards"],["class","card",4,"ngFor","ngForOf"],[1,"card"],["class","card-avaliacao",4,"ngFor","ngForOf"],[1,"card-avaliacao"]],template:function(t,r){t&1&&(I(0,"div",0)(1,"h1"),k(2,"Painel Admin - Isaac Barbearia"),C(),I(3,"div",1)(4,"button",2),Re("click",function(){return r.tabAtual="profissionais"}),k(5," Profissionais "),C(),I(6,"button",2),Re("click",function(){return r.tabAtual="parceiros"}),k(7," Parceiros "),C(),I(8,"button",2),Re("click",function(){return r.tabAtual="participacoes"}),k(9," Participa\xE7\xE3o "),C(),I(10,"button",2),Re("click",function(){return r.tabAtual="avaliacoes"}),k(11," Avalia\xE7\xF5es "),C(),I(12,"button",3),Re("click",function(){return r.logout()}),k(13,"Sair"),C()(),Wn(14,_H,22,4,"div",4)(15,IH,22,4,"div",4)(16,bH,11,4,"div",4)(17,DH,5,1,"div",4),C()),t&2&&(M(4),je("active",r.tabAtual==="profissionais"),M(2),je("active",r.tabAtual==="parceiros"),M(2),je("active",r.tabAtual==="participacoes"),M(2),je("active",r.tabAtual==="avaliacoes"),M(4),ke("ngIf",r.tabAtual==="profissionais"),M(),ke("ngIf",r.tabAtual==="parceiros"),M(),ke("ngIf",r.tabAtual==="participacoes"),M(),ke("ngIf",r.tabAtual==="avaliacoes"))},dependencies:[si,Hd,vc,Ss,Nh,hi,Ts,xh,Kc,go,Wc],styles:[".admin-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;font-family:Arial,sans-serif}h1[_ngcontent-%COMP%]{color:#333;text-align:center;margin-bottom:30px}.tabs[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:30px;border-bottom:2px solid #ddd}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 20px;background:#f0f0f0;border:none;cursor:pointer;font-size:16px;border-radius:4px 4px 0 0;transition:all .3s}.tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#333;color:#fff}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#555;color:#fff}.btn-logout[_ngcontent-%COMP%]{margin-left:auto;background:#e74c3c!important}.btn-logout[_ngcontent-%COMP%]:hover{background:#c0392b!important}.tab-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}h2[_ngcontent-%COMP%]{color:#333;margin-bottom:20px}form[_ngcontent-%COMP%]{background:#f9f9f9;padding:20px;border-radius:8px;margin-bottom:30px;display:flex;flex-direction:column;gap:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:10px;border:1px solid #ddd;border-radius:4px;font-size:14px;font-family:Arial,sans-serif}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}button[type=submit][_ngcontent-%COMP%]{padding:12px 20px;background:#27ae60;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:16px;transition:background .3s}button[type=submit][_ngcontent-%COMP%]:hover{background:#229954}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px;background:#fff;box-shadow:0 2px 4px #0000001a}thead[_ngcontent-%COMP%]{background:#333;color:#fff}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #ddd}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f5f5f5}.btn-delete[_ngcontent-%COMP%]{padding:6px 12px;background:#e74c3c;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background .3s}.btn-delete[_ngcontent-%COMP%]:hover{background:#c0392b}.cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px;margin-top:20px}.card[_ngcontent-%COMP%], .card-avaliacao[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 8px #0000001a;transition:transform .3s,box-shadow .3s}.card[_ngcontent-%COMP%]:hover, .card-avaliacao[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 4px 12px #00000026}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .card-avaliacao[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;color:#333}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .card-avaliacao[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;color:#666}.card-avaliacao[_ngcontent-%COMP%]{border-left:4px solid #f39c12}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-top:10px}"]})}};var TH=[{path:"",component:Wf},{path:"admin/login",component:pp},{path:"admin",component:gp},{path:"**",redirectTo:""}];qy(Ih,{providers:[by(),mv(TH)]}).catch(n=>console.error(n));
