var Kx=Object.defineProperty,Qx=Object.defineProperties;var Yx=Object.getOwnPropertyDescriptors;var nl=Object.getOwnPropertySymbols;var P0=Object.prototype.hasOwnProperty,k0=Object.prototype.propertyIsEnumerable;var N0=(n,e,t)=>e in n?Kx(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,k=(n,e)=>{for(var t in e||={})P0.call(e,t)&&N0(n,t,e[t]);if(nl)for(var t of nl(e))k0.call(e,t)&&N0(n,t,e[t]);return n},$=(n,e)=>Qx(n,Yx(e));var rl=(n,e)=>{var t={};for(var r in n)P0.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&nl)for(var r of nl(n))e.indexOf(r)<0&&k0.call(n,r)&&(t[r]=n[r]);return t};var St=null,il=!1,Jp=1,Jx=null,Ft=Symbol("SIGNAL");function Q(n){let e=St;return St=n,e}function sl(){return St}var xa={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ma(n){if(il)throw new Error("");if(St===null)return;St.consumerOnSignalRead(n);let e=St.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=St.recomputing;if(r&&(t=e!==void 0?e.nextProducer:St.producers,t!==void 0&&t.producer===n)){St.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===St&&(!r||Xx(i,St)))return;let o=qo(St),s={producer:n,consumer:St,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};St.producersTail=s,e!==void 0?e.nextProducer=s:St.producers=s,o&&V0(n,s)}function O0(){Jp++}function Zp(n){if(!(qo(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Jp)){if(!n.producerMustRecompute(n)&&!cl(n)){Yp(n);return}n.producerRecomputeValue(n),Yp(n)}}function Xp(n){if(n.consumers===void 0)return;let e=il;il=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||Zx(r)}}finally{il=e}}function eg(){return St?.consumerAllowSignalWrites!==!1}function Zx(n){n.dirty=!0,Xp(n),n.consumerMarkedDirty?.(n)}function Yp(n){n.dirty=!1,n.lastCleanEpoch=Jp}function Na(n){return n&&F0(n),Q(n)}function F0(n){n.producersTail=void 0,n.recomputing=!0}function al(n,e){Q(e),n&&L0(n)}function L0(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(qo(n))do t=tg(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function cl(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Zp(t),r!==t.version))return!0}return!1}function Pa(n){if(qo(n)){let e=n.producers;for(;e!==void 0;)e=tg(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function V0(n,e){let t=n.consumersTail,r=qo(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)V0(i.producer,i)}function tg(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!qo(e)){let o=e.producers;for(;o!==void 0;)o=tg(o)}return t}function qo(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function ng(n){Jx?.(n)}function Xx(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function rg(n,e){return Object.is(n,e)}function ul(n,e){let t=Object.create(eM);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Zp(t),Ma(t),t.value===ol)throw t.error;return t.value};return r[Ft]=t,ng(t),r}var Kp=Symbol("UNSET"),Qp=Symbol("COMPUTING"),ol=Symbol("ERRORED"),eM=$(k({},xa),{value:Kp,dirty:!0,error:null,equal:rg,kind:"computed",producerMustRecompute(n){return n.value===Kp||n.value===Qp},producerRecomputeValue(n){if(n.value===Qp)throw new Error("");let e=n.value;n.value=Qp;let t=Na(n),r,i=!1;try{r=n.computation(),Q(null),i=e!==Kp&&e!==ol&&r!==ol&&n.equal(e,r)}catch(o){r=ol,n.error=o}finally{al(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function tM(){throw new Error}var j0=tM;function U0(n){j0(n)}function ig(n){j0=n}var nM=null;function og(n,e){let t=Object.create(ll);t.value=n,e!==void 0&&(t.equal=e);let r=()=>B0(t);return r[Ft]=t,ng(t),[r,s=>ka(t,s),s=>H0(t,s)]}function B0(n){return Ma(n),n.value}function ka(n,e){eg()||U0(n),n.equal(n.value,e)||(n.value=e,rM(n))}function H0(n,e){eg()||U0(n),ka(n,e(n.value))}var ll=$(k({},xa),{equal:rg,value:void 0,kind:"signal"});function rM(n){n.version++,O0(),Xp(n),nM?.(n)}function sg(n){let e=Q(null);try{return n()}finally{Q(e)}}function oe(n){return typeof n=="function"}function Go(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var dl=Go(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Oa(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var yt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(oe(r))try{r()}catch(o){e=o instanceof dl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{$0(o)}catch(s){e=e??[],s instanceof dl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new dl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)$0(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Oa(t,e)}remove(e){let{_finalizers:t}=this;t&&Oa(t,e),e instanceof n&&e._removeParent(this)}};yt.EMPTY=(()=>{let n=new yt;return n.closed=!0,n})();var ag=yt.EMPTY;function fl(n){return n instanceof yt||n&&"closed"in n&&oe(n.remove)&&oe(n.add)&&oe(n.unsubscribe)}function $0(n){oe(n)?n():n.unsubscribe()}var yn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Wo={setTimeout(n,e,...t){let{delegate:r}=Wo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Wo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function hl(n){Wo.setTimeout(()=>{let{onUnhandledError:e}=yn;if(e)e(n);else throw n})}function Fa(){}var z0=cg("C",void 0,void 0);function q0(n){return cg("E",void 0,n)}function G0(n){return cg("N",n,void 0)}function cg(n,e,t){return{kind:n,value:e,error:t}}var Pi=null;function Ko(n){if(yn.useDeprecatedSynchronousErrorHandling){let e=!Pi;if(e&&(Pi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Pi;if(Pi=null,t)throw r}}else n()}function W0(n){yn.useDeprecatedSynchronousErrorHandling&&Pi&&(Pi.errorThrown=!0,Pi.error=n)}var ki=class extends yt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,fl(e)&&e.add(this)):this.destination=sM}static create(e,t,r){return new Qo(e,t,r)}next(e){this.isStopped?lg(G0(e),this):this._next(e)}error(e){this.isStopped?lg(q0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?lg(z0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},iM=Function.prototype.bind;function ug(n,e){return iM.call(n,e)}var dg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){pl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){pl(r)}else pl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){pl(t)}}},Qo=class extends ki{constructor(e,t,r){super();let i;if(oe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&yn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ug(e.next,o),error:e.error&&ug(e.error,o),complete:e.complete&&ug(e.complete,o)}):i=e}this.destination=new dg(i)}};function pl(n){yn.useDeprecatedSynchronousErrorHandling?W0(n):hl(n)}function oM(n){throw n}function lg(n,e){let{onStoppedNotification:t}=yn;t&&Wo.setTimeout(()=>t(n,e))}var sM={closed:!0,next:Fa,error:oM,complete:Fa};var Yo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function vn(n){return n}function fg(...n){return hg(n)}function hg(n){return n.length===0?vn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var _e=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=cM(t)?t:new Qo(t,r,i);return Ko(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=K0(r),new r((i,o)=>{let s=new Qo({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Yo](){return this}pipe(...t){return hg(t)(this)}toPromise(t){return t=K0(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function K0(n){var e;return(e=n??yn.Promise)!==null&&e!==void 0?e:Promise}function aM(n){return n&&oe(n.next)&&oe(n.error)&&oe(n.complete)}function cM(n){return n&&n instanceof ki||aM(n)&&fl(n)}function uM(n){return oe(n?.lift)}function Te(n){return e=>{if(uM(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Se(n,e,t,r,i){return new pg(n,e,t,r,i)}var pg=class extends ki{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var Q0=Go(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ct=(()=>{class n extends _e{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new gl(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Q0}next(t){Ko(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Ko(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ko(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?ag:(this.currentObservers=null,o.push(t),new yt(()=>{this.currentObservers=null,Oa(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new _e;return t.source=this,t}}return n.create=(e,t)=>new gl(e,t),n})(),gl=class extends ct{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:ag}};var vt=class extends ct{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var _t=new _e(n=>n.complete());function Y0(n){return n&&oe(n.schedule)}function J0(n){return n[n.length-1]}function ml(n){return oe(J0(n))?n.pop():void 0}function Kr(n){return Y0(J0(n))?n.pop():void 0}function X0(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function Z0(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Oi(n){return this instanceof Oi?(this.v=n,this):new Oi(n)}function ew(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(x){return Promise.resolve(x).then(y,p)}}function a(y,x){r[y]&&(i[y]=function(O){return new Promise(function(A,P){o.push([y,O,A,P])>1||u(y,O)})},x&&(i[y]=x(i[y])))}function u(y,x){try{l(r[y](x))}catch(O){g(o[0][3],O)}}function l(y){y.value instanceof Oi?Promise.resolve(y.value.v).then(f,p):g(o[0][2],y)}function f(y){u("next",y)}function p(y){u("throw",y)}function g(y,x){y(x),o.shift(),o.length&&u(o[0][0],o[0][1])}}function tw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Z0=="function"?Z0(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var yl=n=>n&&typeof n.length=="number"&&typeof n!="function";function vl(n){return oe(n?.then)}function _l(n){return oe(n[Yo])}function El(n){return Symbol.asyncIterator&&oe(n?.[Symbol.asyncIterator])}function Il(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function lM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var wl=lM();function bl(n){return oe(n?.[wl])}function Cl(n){return ew(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Oi(t.read());if(i)return yield Oi(void 0);yield yield Oi(r)}}finally{t.releaseLock()}})}function Dl(n){return oe(n?.getReader)}function We(n){if(n instanceof _e)return n;if(n!=null){if(_l(n))return dM(n);if(yl(n))return fM(n);if(vl(n))return hM(n);if(El(n))return nw(n);if(bl(n))return pM(n);if(Dl(n))return gM(n)}throw Il(n)}function dM(n){return new _e(e=>{let t=n[Yo]();if(oe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fM(n){return new _e(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function hM(n){return new _e(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,hl)})}function pM(n){return new _e(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function nw(n){return new _e(e=>{mM(n,e).catch(t=>e.error(t))})}function gM(n){return nw(Cl(n))}function mM(n,e){var t,r,i,o;return X0(this,void 0,void 0,function*(){try{for(t=tw(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Ut(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Tl(n,e=0){return Te((t,r)=>{t.subscribe(Se(r,i=>Ut(r,n,()=>r.next(i),e),()=>Ut(r,n,()=>r.complete(),e),i=>Ut(r,n,()=>r.error(i),e)))})}function Sl(n,e=0){return Te((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function rw(n,e){return We(n).pipe(Sl(e),Tl(e))}function iw(n,e){return We(n).pipe(Sl(e),Tl(e))}function ow(n,e){return new _e(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function sw(n,e){return new _e(t=>{let r;return Ut(t,e,()=>{r=n[wl](),Ut(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>oe(r?.return)&&r.return()})}function Al(n,e){if(!n)throw new Error("Iterable cannot be null");return new _e(t=>{Ut(t,e,()=>{let r=n[Symbol.asyncIterator]();Ut(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function aw(n,e){return Al(Cl(n),e)}function cw(n,e){if(n!=null){if(_l(n))return rw(n,e);if(yl(n))return ow(n,e);if(vl(n))return iw(n,e);if(El(n))return Al(n,e);if(bl(n))return sw(n,e);if(Dl(n))return aw(n,e)}throw Il(n)}function Ke(n,e){return e?cw(n,e):We(n)}function me(...n){let e=Kr(n);return Ke(n,e)}function gg(n,e){let t=oe(n)?n:()=>n,r=i=>i.error(t());return new _e(e?i=>e.schedule(r,0,i):r)}function Rl(n){return!!n&&(n instanceof _e||oe(n.lift)&&oe(n.subscribe))}var Fi=Go(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Oe(n,e){return Te((t,r)=>{let i=0;t.subscribe(Se(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:yM}=Array;function vM(n,e){return yM(e)?n(...e):n(e)}function xl(n){return Oe(e=>vM(n,e))}var{isArray:_M}=Array,{getPrototypeOf:EM,prototype:IM,keys:wM}=Object;function Ml(n){if(n.length===1){let e=n[0];if(_M(e))return{args:e,keys:null};if(bM(e)){let t=wM(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function bM(n){return n&&typeof n=="object"&&EM(n)===IM}function Nl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function mg(...n){let e=Kr(n),t=ml(n),{args:r,keys:i}=Ml(n);if(r.length===0)return Ke([],e);let o=new _e(CM(r,e,i?s=>Nl(i,s):vn));return t?o.pipe(xl(t)):o}function CM(n,e,t=vn){return r=>{uw(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)uw(e,()=>{let l=Ke(n[u],e),f=!1;l.subscribe(Se(r,p=>{o[u]=p,f||(f=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function uw(n,e,t){n?Ut(t,n,e):e()}function lw(n,e,t,r,i,o,s,a){let u=[],l=0,f=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=O=>l<r?x(O):u.push(O),x=O=>{o&&e.next(O),l++;let A=!1;We(t(O,f++)).subscribe(Se(e,P=>{i?.(P),o?y(P):e.next(P)},()=>{A=!0},void 0,()=>{if(A)try{for(l--;u.length&&l<r;){let P=u.shift();s?Ut(e,s,()=>x(P)):x(P)}g()}catch(P){e.error(P)}}))};return n.subscribe(Se(e,y,()=>{p=!0,g()})),()=>{a?.()}}function Lt(n,e,t=1/0){return oe(e)?Lt((r,i)=>Oe((o,s)=>e(r,o,i,s))(We(n(r,i))),t):(typeof e=="number"&&(t=e),Te((r,i)=>lw(r,i,n,t)))}function dw(n=1/0){return Lt(vn,n)}function fw(){return dw(1)}function Jo(...n){return fw()(Ke(n,Kr(n)))}function La(n){return new _e(e=>{We(n()).subscribe(e)})}function yg(...n){let e=ml(n),{args:t,keys:r}=Ml(n),i=new _e(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let f=0;f<s;f++){let p=!1;We(t[f]).subscribe(Se(o,g=>{p||(p=!0,l--),a[f]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Nl(r,a):a),o.complete())}))}});return e?i.pipe(xl(e)):i}function ur(n,e){return Te((t,r)=>{let i=0;t.subscribe(Se(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Va(n){return Te((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Se(t,void 0,void 0,s=>{o=We(n(s,Va(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Pl(n,e){return oe(e)?Lt(n,e,1):Lt(n,1)}function hw(n){return Te((e,t)=>{let r=!1;e.subscribe(Se(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function lr(n){return n<=0?()=>_t:Te((e,t)=>{let r=0;e.subscribe(Se(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function pw(n=DM){return Te((e,t)=>{let r=!1;e.subscribe(Se(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function DM(){return new Fi}function vg(n){return Te((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function dr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?ur((i,o)=>n(i,o,r)):vn,lr(1),t?hw(e):pw(()=>new Fi))}function kl(n){return n<=0?()=>_t:Te((e,t)=>{let r=[];e.subscribe(Se(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function _g(...n){let e=Kr(n);return Te((t,r)=>{(e?Jo(n,t,e):Jo(n,t)).subscribe(r)})}function fr(n,e){return Te((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Se(r,u=>{i?.unsubscribe();let l=0,f=o++;We(n(u,f)).subscribe(i=Se(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ja(n){return Te((e,t)=>{We(n).subscribe(Se(t,()=>t.complete(),Fa)),!t.closed&&e.subscribe(t)})}function Ln(n,e,t){let r=oe(n)||e||t?{next:n,error:e,complete:t}:n;return r?Te((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Se(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):vn}var Eg;function Ol(){return Eg}function Vn(n){let e=Eg;return Eg=n,e}var gw=Symbol("NotFound");function Zo(n){return n===gw||n?.name==="\u0275NotFound"}var Ul="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",z=class extends Error{code;constructor(e,t){super(Hi(e,t)),this.code=e}};function AM(n){return`NG0${Math.abs(n)}`}function Hi(n,e){return`${AM(n)}${e?": "+e:""}`}function Ae(n){for(let e in n)if(n[e]===Ae)return e;throw Error("")}function Ew(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function pr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(pr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Og(n,e){return n?e?`${n} ${e}`:n:e||""}var RM=Ae({__forward_ref__:Ae});function mr(n){return n.__forward_ref__=mr,n.toString=function(){return pr(this())},n}function Et(n){return Fg(n)?n():n}function Fg(n){return typeof n=="function"&&n.hasOwnProperty(RM)&&n.__forward_ref__===mr}function W(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function yr(n){return{providers:n.providers||[],imports:n.imports||[]}}function qa(n){return xM(n,Bl)}function Lg(n){return qa(n)!==null}function xM(n,e){return n.hasOwnProperty(e)&&n[e]||null}function MM(n){let e=n?.[Bl]??null;return e||null}function wg(n){return n&&n.hasOwnProperty(Ll)?n[Ll]:null}var Bl=Ae({\u0275prov:Ae}),Ll=Ae({\u0275inj:Ae}),q=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=W({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Vg(n){return n&&!!n.\u0275providers}var jg=Ae({\u0275cmp:Ae}),Ug=Ae({\u0275dir:Ae}),Bg=Ae({\u0275pipe:Ae}),Hg=Ae({\u0275mod:Ae}),Ba=Ae({\u0275fac:Ae}),$i=Ae({__NG_ELEMENT_ID__:Ae}),mw=Ae({__NG_ENV_ID__:Ae});function $g(n){return Hl(n,"@NgModule"),n[Hg]||null}function Yr(n){return Hl(n,"@Component"),n[jg]||null}function zg(n){return Hl(n,"@Directive"),n[Ug]||null}function Iw(n){return Hl(n,"@Pipe"),n[Bg]||null}function Hl(n,e){if(n==null)throw new z(-919,!1)}function ts(n){return typeof n=="string"?n:n==null?"":String(n)}var ww=Ae({ngErrorCode:Ae}),NM=Ae({ngErrorMessage:Ae}),PM=Ae({ngTokenPath:Ae});function qg(n,e){return bw("",-200,e)}function $l(n,e){throw new z(-201,!1)}function bw(n,e,t){let r=new z(e,n);return r[ww]=e,r[NM]=n,t&&(r[PM]=t),r}function kM(n){return n[ww]}var bg;function Cw(){return bg}function Wt(n){let e=bg;return bg=n,e}function Gg(n,e,t){let r=qa(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;$l(n,"")}var OM={},Li=OM,FM="__NG_DI_FLAG__",Cg=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Vi(t)||0;try{return this.injector.get(e,r&8?null:Li,r)}catch(i){if(Zo(i))return i;throw i}}};function LM(n,e=0){let t=Ol();if(t===void 0)throw new z(-203,!1);if(t===null)return Gg(n,void 0,e);{let r=VM(e),i=t.retrieve(n,r);if(Zo(i)){if(r.optional)return null;throw i}return i}}function ue(n,e=0){return(Cw()||LM)(Et(n),e)}function j(n,e){return ue(n,Vi(e))}function Vi(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function VM(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Dg(n){let e=[];for(let t=0;t<n.length;t++){let r=Et(n[t]);if(Array.isArray(r)){if(r.length===0)throw new z(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=jM(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(ue(i,o))}else e.push(ue(r))}return e}function jM(n){return n[FM]}function ji(n,e){let t=n.hasOwnProperty(Ba);return t?n[Ba]:null}function zl(n,e){n.forEach(t=>Array.isArray(t)?zl(t,e):e(t))}function Wg(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ga(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Dw(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function Tw(n,e,t){let r=ns(n,e);return r>=0?n[r|1]=t:(r=~r,Dw(n,r,e,t)),r}function ql(n,e){let t=ns(n,e);if(t>=0)return n[t|1]}function ns(n,e){return UM(n,e,1)}function UM(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Jr={},Kt=[],rs=new q(""),Kg=new q("",-1),Qg=new q(""),Ha=class{get(e,t=Li){if(t===Li){let i=bw("",-201);throw i.name="\u0275NotFound",i}return t}};function Wa(n){return{\u0275providers:n}}function Sw(...n){return{\u0275providers:Yg(!0,n),\u0275fromNgModule:!0}}function Yg(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return zl(e,s=>{let a=s;Vl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Aw(i,o),t}function Aw(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Jg(i,o=>{e(o,r)})}}function Vl(n,e,t,r){if(n=Et(n),!n)return!1;let i=null,o=wg(n),s=!o&&Yr(n);if(!o&&!s){let u=n.ngModule;if(o=wg(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Vl(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;zl(o.imports,f=>{Vl(f,e,t,r)&&(l||=[],l.push(f))}),l!==void 0&&Aw(l,e)}if(!a){let l=ji(i)||(()=>new i);e({provide:i,useFactory:l,deps:Kt},i),e({provide:Qg,useValue:i,multi:!0},i),e({provide:rs,useValue:()=>ue(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;Jg(u,f=>{e(f,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Jg(n,e){for(let t of n)Vg(t)&&(t=t.\u0275providers),Array.isArray(t)?Jg(t,e):e(t)}var BM=Ae({provide:String,useValue:Ae});function Rw(n){return n!==null&&typeof n=="object"&&BM in n}function HM(n){return!!(n&&n.useExisting)}function $M(n){return!!(n&&n.useFactory)}function Ui(n){return typeof n=="function"}function xw(n){return!!n.useClass}var Ka=new q(""),Fl={},yw={},Ig;function Qa(){return Ig===void 0&&(Ig=new Ha),Ig}var tt=class{},Bi=class extends tt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Sg(e,s=>this.processProvider(s)),this.records.set(Kg,Xo(void 0,this)),i.has("environment")&&this.records.set(tt,Xo(void 0,this));let o=this.records.get(Ka);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Qg,Kt,{self:!0}))}retrieve(e,t){let r=Vi(t)||0;try{return this.get(e,Li,r)}catch(i){if(Zo(i))return i;throw i}}destroy(){Ua(this),this._destroyed=!0;let e=Q(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Q(e)}}onDestroy(e){return Ua(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ua(this);let t=Vn(this),r=Wt(void 0),i;try{return e()}finally{Vn(t),Wt(r)}}get(e,t=Li,r){if(Ua(this),e.hasOwnProperty(mw))return e[mw](this);let i=Vi(r),o,s=Vn(this),a=Wt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let f=KM(e)&&qa(e);f&&this.injectableDefInScope(f)?l=Xo(Tg(e),Fl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Qa():this.parent;return t=i&8&&t===Li?null:t,u.get(e,t)}catch(u){let l=kM(u);throw l===-200||l===-201?new z(l,null):u}finally{Wt(a),Vn(s)}}resolveInjectorInitializers(){let e=Q(null),t=Vn(this),r=Wt(void 0),i;try{let o=this.get(rs,Kt,{self:!0});for(let s of o)s()}finally{Vn(t),Wt(r),Q(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(pr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Et(e);let t=Ui(e)?e:Et(e&&e.provide),r=qM(e);if(!Ui(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Xo(void 0,Fl,!0),i.factory=()=>Dg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Q(null);try{if(t.value===yw)throw qg(pr(e));return t.value===Fl&&(t.value=yw,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&WM(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Q(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Et(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Tg(n){let e=qa(n),t=e!==null?e.factory:ji(n);if(t!==null)return t;if(n instanceof q)throw new z(204,!1);if(n instanceof Function)return zM(n);throw new z(204,!1)}function zM(n){if(n.length>0)throw new z(204,!1);let t=MM(n);return t!==null?()=>t.factory(n):()=>new n}function qM(n){if(Rw(n))return Xo(void 0,n.useValue);{let e=Zg(n);return Xo(e,Fl)}}function Zg(n,e,t){let r;if(Ui(n)){let i=Et(n);return ji(i)||Tg(i)}else if(Rw(n))r=()=>Et(n.useValue);else if($M(n))r=()=>n.useFactory(...Dg(n.deps||[]));else if(HM(n))r=(i,o)=>ue(Et(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Et(n&&(n.useClass||n.provide));if(GM(n))r=()=>new i(...Dg(n.deps));else return ji(i)||Tg(i)}return r}function Ua(n){if(n.destroyed)throw new z(205,!1)}function Xo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function GM(n){return!!n.deps}function WM(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function KM(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Sg(n,e){for(let t of n)Array.isArray(t)?Sg(t,e):t&&Vg(t)?Sg(t.\u0275providers,e):e(t)}function At(n,e){let t;n instanceof Bi?(Ua(n),t=n):t=new Cg(n);let r,i=Vn(t),o=Wt(void 0);try{return e()}finally{Vn(i),Wt(o)}}function Mw(){return Cw()!==void 0||Ol()!=null}var _n=0,te=1,se=2,ut=3,rn=4,on=5,is=6,os=7,$e=8,vr=9,jn=10,Ve=11,ss=12,Xg=13,zi=14,Yt=15,qi=16,Gi=17,Wi=18,_r=19,em=20,hr=21,Gl=22,Ya=23,Jt=24,Wl=25,Ki=26,It=27,Nw=1,tm=6,Zr=7,Ja=8,Za=9,ze=10;function Un(n){return Array.isArray(n)&&typeof n[Nw]=="object"}function En(n){return Array.isArray(n)&&n[Nw]===!0}function nm(n){return(n.flags&4)!==0}function Xr(n){return n.componentOffset>-1}function Xa(n){return(n.flags&1)===1}function Bn(n){return!!n.template}function as(n){return(n[se]&512)!==0}function Qi(n){return(n[se]&256)===256}var rm="svg",Pw="math";function sn(n){for(;Array.isArray(n);)n=n[_n];return n}function im(n,e){return sn(e[n])}function In(n,e){return sn(e[n.index])}function ec(n,e){return n.data[e]}function an(n,e){let t=e[n];return Un(t)?t:t[_n]}function Kl(n){return(n[se]&128)===128}function kw(n){return En(n[ut])}function Hn(n,e){return e==null?null:n[e]}function om(n){n[Gi]=0}function sm(n){n[se]&1024||(n[se]|=1024,Kl(n)&&nc(n))}function Ow(n,e){for(;n>0;)e=e[zi],n--;return e}function tc(n){return!!(n[se]&9216||n[Jt]?.dirty)}function Ql(n){n[jn].changeDetectionScheduler?.notify(8),n[se]&64&&(n[se]|=1024),tc(n)&&nc(n)}function nc(n){n[jn].changeDetectionScheduler?.notify(0);let e=Qr(n);for(;e!==null&&!(e[se]&8192||(e[se]|=8192,!Kl(e)));)e=Qr(e)}function am(n,e){if(Qi(n))throw new z(911,!1);n[hr]===null&&(n[hr]=[]),n[hr].push(e)}function Fw(n,e){if(n[hr]===null)return;let t=n[hr].indexOf(e);t!==-1&&n[hr].splice(t,1)}function Qr(n){let e=n[ut];return En(e)?e[ut]:e}function Lw(n){return n[os]??=[]}function Vw(n){return n.cleanup??=[]}var le={lFrame:tb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ag=!1;function jw(){return le.lFrame.elementDepthCount}function Uw(){le.lFrame.elementDepthCount++}function Bw(){le.lFrame.elementDepthCount--}function cm(){return le.bindingsEnabled}function Hw(){return le.skipHydrationRootTNode!==null}function $w(n){return le.skipHydrationRootTNode===n}function zw(){le.skipHydrationRootTNode=null}function ye(){return le.lFrame.lView}function Rt(){return le.lFrame.tView}function Ee(n){return le.lFrame.contextLView=n,n[$e]}function Ie(n){return le.lFrame.contextLView=null,n}function Zt(){let n=um();for(;n!==null&&n.type===64;)n=n.parent;return n}function um(){return le.lFrame.currentTNode}function qw(){let n=le.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function cs(n,e){let t=le.lFrame;t.currentTNode=n,t.isParent=e}function lm(){return le.lFrame.isParent}function Gw(){le.lFrame.isParent=!1}function dm(){return Ag}function fm(n){let e=Ag;return Ag=n,e}function Ww(){let n=le.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Kw(){return le.lFrame.bindingIndex}function Qw(n){return le.lFrame.bindingIndex=n}function Yi(){return le.lFrame.bindingIndex++}function hm(n){let e=le.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Yw(){return le.lFrame.inI18n}function Jw(n,e){let t=le.lFrame;t.bindingIndex=t.bindingRootIndex=n,Yl(e)}function Zw(){return le.lFrame.currentDirectiveIndex}function Yl(n){le.lFrame.currentDirectiveIndex=n}function Xw(n){let e=le.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function pm(n){le.lFrame.currentQueryIndex=n}function QM(n){let e=n[te];return e.type===2?e.declTNode:e.type===1?n[on]:null}function gm(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=QM(o),i===null||(o=o[zi],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=le.lFrame=eb();return r.currentTNode=e,r.lView=n,!0}function Jl(n){let e=eb(),t=n[te];le.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function eb(){let n=le.lFrame,e=n===null?null:n.child;return e===null?tb(n):e}function tb(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function nb(){let n=le.lFrame;return le.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var mm=nb;function Zl(){let n=nb();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function rb(n){return(le.lFrame.contextLView=Ow(n,le.lFrame.contextLView))[$e]}function Er(){return le.lFrame.selectedIndex}function ei(n){le.lFrame.selectedIndex=n}function Xl(){let n=le.lFrame;return ec(n.tView,n.selectedIndex)}function Be(){le.lFrame.currentNamespace=rm}function wn(){YM()}function YM(){le.lFrame.currentNamespace=null}function ib(){return le.lFrame.currentNamespace}var ob=!0;function ed(){return ob}function td(n){ob=n}function Rg(n,e=null,t=null,r){let i=ym(n,e,t,r);return i.resolveInjectorInitializers(),i}function ym(n,e=null,t=null,r,i=new Set){let o=[t||Kt,Sw(n)];return r=r||(typeof n=="object"?void 0:pr(n)),new Bi(o,e||Qa(),r||null,i)}var Qt=class n{static THROW_IF_NOT_FOUND=Li;static NULL=new Ha;static create(e,t){if(Array.isArray(e))return Rg({name:""},t,e,"");{let r=e.name??"";return Rg({name:r},e.parent,e.providers,r)}}static \u0275prov=W({token:n,providedIn:"any",factory:()=>ue(Kg)});static __NG_ELEMENT_ID__=-1},nt=new q(""),$n=(()=>{class n{static __NG_ELEMENT_ID__=JM;static __NG_ENV_ID__=t=>t}return n})(),xg=class extends $n{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Qi(this._lView)}onDestroy(e){let t=this._lView;return am(t,e),()=>Fw(t,e)}};function JM(){return new xg(ye())}var sb=!1,ab=new q(""),ti=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new vt(!1);debugTaskTracker=j(ab,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new _e(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),this.debugTaskTracker?.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.debugTaskTracker?.remove(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}return n})(),Mg=class extends ct{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Mw()&&(this.destroyRef=j($n,{optional:!0})??void 0,this.pendingTasks=j(ti,{optional:!0})??void 0)}emit(e){let t=Q(null);try{super.next(e)}finally{Q(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof yt&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Qe=Mg;function jl(...n){}function vm(n){let e,t;function r(){n=jl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function cb(n){return queueMicrotask(()=>n()),()=>{n=jl}}var _m="isAngularZone",$a=_m+"_ID",ZM=0,Vt=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Qe(!1);onMicrotaskEmpty=new Qe(!1);onStable=new Qe(!1);onError=new Qe(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=sb}=e;if(typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,tN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(_m)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new z(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,XM,jl,jl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},XM={};function Em(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function eN(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){vm(()=>{n.callbackScheduled=!1,Ng(n),n.isCheckStableRunning=!0,Em(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Ng(n)}function tN(n){let e=()=>{eN(n)},t=ZM++;n._inner=n._inner.fork({name:"angular",properties:{[_m]:!0,[$a]:t,[$a+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(nN(u))return r.invokeTask(o,s,a,u);try{return vw(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),_w(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return vw(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!rN(u)&&e(),_w(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Ng(n),Em(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Ng(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function vw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function _w(n){n._nesting--,Em(n)}var za=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Qe;onMicrotaskEmpty=new Qe;onStable=new Qe;onError=new Qe;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function nN(n){return ub(n,"__ignore_ng_zone__")}function rN(n){return ub(n,"__scheduler_tick__")}function ub(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var gr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},zn=new q("",{factory:()=>{let n=j(Vt),e=j(tt),t;return r=>{n.runOutsideAngular(()=>{e.destroyed&&!t?setTimeout(()=>{throw r}):(t??=e.get(gr),t.handleError(r))})}}}),lb={provide:rs,useValue:()=>{let n=j(gr,{optional:!0})},multi:!0};function de(n,e){let[t,r,i]=og(n,e?.equal),o=t,s=o[Ft];return o.set=r,o.update=i,o.asReadonly=db.bind(o),o}function db(){let n=this[Ft];if(n.readonlyFn===void 0){let e=()=>this();e[Ft]=n,n.readonlyFn=e}return n.readonlyFn}var es=class{},rc=new q("",{factory:()=>!0});var Im=new q("");var wm=(()=>{class n{static \u0275prov=W({token:n,providedIn:"root",factory:()=>new Pg})}return n})(),Pg=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}},kg=class{[Ft];constructor(e){this[Ft]=e}destroy(){this[Ft].destroy()}};function lt(n){return sg(n)}function fc(n){return{toString:n}.toString()}function fN(n){return typeof n=="function"}function Hb(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var sd=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}},wr=(()=>{let n=()=>$b;return n.ngInherit=!0,n})();function $b(n){return n.type.prototype.ngOnChanges&&(n.setInput=pN),hN}function hN(){let n=qb(this),e=n?.current;if(e){let t=n.previous;if(t===Jr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function pN(n,e,t,r,i){let o=this.declaredInputs[r],s=qb(n)||gN(n,{previous:Jr,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new sd(l&&l.currentValue,t,u===Jr),Hb(n,e,i,t)}var zb="__ngSimpleChanges__";function qb(n){return n[zb]||null}function gN(n,e){return n[zb]=e}var fb=[];var xe=function(n,e=null,t){for(let r=0;r<fb.length;r++){let i=fb[r];i(n,e,t)}},Ce=(function(n){return n[n.TemplateCreateStart=0]="TemplateCreateStart",n[n.TemplateCreateEnd=1]="TemplateCreateEnd",n[n.TemplateUpdateStart=2]="TemplateUpdateStart",n[n.TemplateUpdateEnd=3]="TemplateUpdateEnd",n[n.LifecycleHookStart=4]="LifecycleHookStart",n[n.LifecycleHookEnd=5]="LifecycleHookEnd",n[n.OutputStart=6]="OutputStart",n[n.OutputEnd=7]="OutputEnd",n[n.BootstrapApplicationStart=8]="BootstrapApplicationStart",n[n.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",n[n.BootstrapComponentStart=10]="BootstrapComponentStart",n[n.BootstrapComponentEnd=11]="BootstrapComponentEnd",n[n.ChangeDetectionStart=12]="ChangeDetectionStart",n[n.ChangeDetectionEnd=13]="ChangeDetectionEnd",n[n.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",n[n.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",n[n.AfterRenderHooksStart=16]="AfterRenderHooksStart",n[n.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",n[n.ComponentStart=18]="ComponentStart",n[n.ComponentEnd=19]="ComponentEnd",n[n.DeferBlockStateStart=20]="DeferBlockStateStart",n[n.DeferBlockStateEnd=21]="DeferBlockStateEnd",n[n.DynamicComponentStart=22]="DynamicComponentStart",n[n.DynamicComponentEnd=23]="DynamicComponentEnd",n[n.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",n[n.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",n})(Ce||{});function mN(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=$b(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Gb(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),f!=null&&(n.destroyHooks??=[]).push(t,f)}}function rd(n,e,t){Wb(n,e,3,t)}function id(n,e,t,r){(n[se]&3)===t&&Wb(n,e,t,r)}function bm(n,e){let t=n[se];(t&3)===e&&(t&=16383,t+=1,n[se]=t)}function Wb(n,e,t,r){let i=r!==void 0?n[Gi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Gi]+=65536),(a<o||o==-1)&&(yN(n,t,e,u),n[Gi]=(n[Gi]&4294901760)+u+2),u++}function hb(n,e){xe(Ce.LifecycleHookStart,n,e);let t=Q(null);try{e.call(n)}finally{Q(t),xe(Ce.LifecycleHookEnd,n,e)}}function yN(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[se]>>14<n[Gi]>>16&&(n[se]&3)===e&&(n[se]+=16384,hb(a,o)):hb(a,o)}var ls=-1,Zi=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function vN(n){return(n.flags&8)!==0}function _N(n){return(n.flags&16)!==0}function EN(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];wN(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function IN(n){return n===3||n===4||n===6}function wN(n){return n.charCodeAt(0)===64}function sc(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?pb(n,t,i,null,e[++r]):pb(n,t,i,null,null))}}return n}function pb(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function Kb(n){return n!==ls}function ad(n){return n&32767}function bN(n){return n>>16}function cd(n,e){let t=bN(n),r=e;for(;t>0;)r=r[zi],t--;return r}var km=!0;function gb(n){let e=km;return km=n,e}var CN=256,Qb=CN-1,Yb=5,DN=0,qn={};function TN(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty($i)&&(r=t[$i]),r==null&&(r=t[$i]=DN++);let i=r&Qb,o=1<<i;e.data[n+(i>>Yb)]|=o}function ud(n,e){let t=Jb(n,e);if(t!==-1)return t;let r=e[te];r.firstCreatePass&&(n.injectorIndex=e.length,Cm(r.data,n),Cm(e,null),Cm(r.blueprint,null));let i=ty(n,e),o=n.injectorIndex;if(Kb(i)){let s=ad(i),a=cd(i,e),u=a[te].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Cm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Jb(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function ty(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=nC(i),r===null)return ls;if(t++,i=i[zi],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ls}function Om(n,e,t){TN(n,e,t)}function Zb(n,e,t){if(t&8||n!==void 0)return n;$l(e,"NodeInjector")}function Xb(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[vr],o=Wt(void 0);try{return i?i.get(e,r,t&8):Gg(e,r,t&8)}finally{Wt(o)}}return Zb(r,e,t)}function eC(n,e,t,r=0,i){if(n!==null){if(e[se]&2048&&!(r&2)){let s=MN(n,e,t,r,qn);if(s!==qn)return s}let o=tC(n,e,t,r,qn);if(o!==qn)return o}return Xb(e,t,r,i)}function tC(n,e,t,r,i){let o=RN(t);if(typeof o=="function"){if(!gm(e,n,r))return r&1?Zb(i,t,r):Xb(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))$l(t);else return s}finally{mm()}}else if(typeof o=="number"){let s=null,a=Jb(n,e),u=ls,l=r&1?e[Yt][on]:null;for((a===-1||r&4)&&(u=a===-1?ty(n,e):e[a+8],u===ls||!yb(r,!1)?a=-1:(s=e[te],a=ad(u),e=cd(u,e)));a!==-1;){let f=e[te];if(mb(o,a,f.data)){let p=SN(a,e,t,s,r,l);if(p!==qn)return p}u=e[a+8],u!==ls&&yb(r,e[te].data[a+8]===l)&&mb(o,a,e)?(s=f,a=ad(u),e=cd(u,e)):a=-1}}return i}function SN(n,e,t,r,i,o){let s=e[te],a=s.data[n+8],u=r==null?Xr(a)&&km:r!=s&&(a.type&3)!==0,l=i&1&&o===a,f=AN(a,s,t,u,l);return f!==null?ld(e,s,f,a,i):qn}function AN(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,f=o>>20,p=r?a:a+f,g=i?a+f:l;for(let y=p;y<g;y++){let x=s[y];if(y<u&&t===x||y>=u&&x.type===t)return y}if(i){let y=s[u];if(y&&Bn(y)&&y.type===t)return u}return null}function ld(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Zi){let a=o;if(a.resolving)throw qg("");let u=gb(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],f,p=a.injectImpl?Wt(a.injectImpl):null,g=gm(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&mN(t,s[t],e)}finally{p!==null&&Wt(p),gb(u),a.resolving=!1,mm()}}return o}function RN(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty($i)?n[$i]:void 0;return typeof e=="number"?e>=0?e&Qb:xN:e}function mb(n,e,t){let r=1<<n;return!!(t[e+(n>>Yb)]&r)}function yb(n,e){return!(n&2)&&!(n&1&&e)}var Ji=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return eC(this._tNode,this._lView,e,Vi(r),t)}};function xN(){return new Ji(Zt(),ye())}function ro(n){return fc(()=>{let e=n.prototype.constructor,t=e[Ba]||Fm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Ba]||Fm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Fm(n){return Fg(n)?()=>{let e=Fm(Et(n));return e&&e()}:ji(n)}function MN(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[se]&2048&&!as(s);){let a=tC(o,s,t,r|2,qn);if(a!==qn)return a;let u=o.parent;if(!u){let l=s[em];if(l){let f=l.get(t,qn,r);if(f!==qn)return f}u=nC(s),s=s[zi]}o=u}return i}function nC(n){let e=n[te],t=e.type;return t===2?e.declTNode:t===1?n[on]:null}function NN(){return wd(Zt(),ye())}function wd(n,e){return new ri(In(n,e))}var ri=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=NN}return n})();function rC(n){return(n.flags&128)===128}var ny=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(ny||{}),iC=new Map,PN=0;function kN(){return PN++}function ON(n){iC.set(n[_r],n)}function Lm(n){iC.delete(n[_r])}var vb="__ngContext__";function ds(n,e){Un(e)?(n[vb]=e[_r],ON(e)):n[vb]=e}function oC(n){return aC(n[ss])}function sC(n){return aC(n[rn])}function aC(n){for(;n!==null&&!En(n);)n=n[rn];return n}var FN;function ry(n){FN=n}var bd=new q("",{factory:()=>LN}),LN="ng";var Cd=new q(""),hc=new q("",{providedIn:"platform",factory:()=>"unknown"});var Dd=new q("",{factory:()=>j(nt).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),Td={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},Sd=new q("",{factory:()=>Td});var cC="r";var uC="di";var lC=!1,dC=new q("",{factory:()=>lC});var VN=(n,e,t,r)=>{};function jN(n,e,t,r){VN(n,e,t,r)}function iy(n){return(n.flags&32)===32}var UN=()=>null;function fC(n,e,t=!1){return UN(n,e,t)}function hC(n,e){let t=n.contentQueries;if(t!==null){let r=Q(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];pm(o),a.contentQueries(2,e[s],s)}}}finally{Q(r)}}}function Vm(n,e,t){pm(0);let r=Q(null);try{e(n,t)}finally{Q(r)}}function pC(n,e,t){if(nm(e)){let r=Q(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{Q(r)}}}var Cn=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n[n.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",n})(Cn||{});var dd=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ul})`}};function pc(n){return n instanceof dd?n.changingThisBreaksApplicationSecurity:n}function gC(n,e){let t=mC(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Ul})`)}return t===e}function mC(n){return n instanceof dd&&n.getTypeName()||null}var BN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function yC(n){return n=String(n),n.match(BN)?n:"unsafe:"+n}function HN(n,e){return n.createText(e)}function $N(n,e,t){n.setValue(e,t)}function vC(n,e,t){return n.createElement(e,t)}function fd(n,e,t,r,i){n.insertBefore(e,t,r,i)}function _C(n,e,t){n.appendChild(e,t)}function _b(n,e,t,r,i){r!==null?fd(n,e,t,r,i):_C(n,e,t)}function EC(n,e,t,r){n.removeChild(null,e,t,r)}function zN(n,e,t){n.setAttribute(e,"style",t)}function qN(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function IC(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&EN(n,e,r),i!==null&&qN(n,e,i),o!==null&&zN(n,e,o)}var oy=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(oy||{});function cn(n){let e=GN();return e?e.sanitize(oy.URL,n)||"":gC(n,"URL")?pc(n):yC(ts(n))}function GN(){let n=ye();return n&&n[jn].sanitizer}function wC(n){return n instanceof Function?n():n}function WN(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var bC="ng-template";function KN(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&WN(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(sy(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function sy(n){return n.type===4&&n.value!==bC}function QN(n,e,t){let r=n.type===4&&!t?bC:n.value;return e===r}function YN(n,e,t){let r=4,i=n.attrs,o=i!==null?XN(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!bn(r)&&!bn(u))return!1;if(s&&bn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!QN(n,u,t)||u===""&&e.length===1){if(bn(r))return!1;s=!0}}else if(r&8){if(i===null||!KN(n,i,u,t)){if(bn(r))return!1;s=!0}}else{let l=e[++a],f=JN(u,i,sy(n),t);if(f===-1){if(bn(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(bn(r))return!1;s=!0}}}}return bn(r)||s}function bn(n){return(n&1)===0}function JN(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return eP(e,n)}function ZN(n,e,t=!1){for(let r=0;r<e.length;r++)if(YN(n,e[r],t))return!0;return!1}function XN(n){for(let e=0;e<n.length;e++){let t=n[e];if(IN(t))return e}return n.length}function eP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function Eb(n,e){return n?":not("+e.trim()+")":e}function tP(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!bn(s)&&(e+=Eb(o,i),i=""),r=s,o=o||!bn(r);t++}return i!==""&&(e+=Eb(o,i)),e}function nP(n){return n.map(tP).join(",")}function rP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!bn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var un={};function ay(n,e,t,r,i,o,s,a,u,l,f){let p=It+r,g=p+i,y=iP(p,g),x=typeof l=="function"?l():l;return y[te]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:x,incompleteFirstPass:!1,ssrId:f}}function iP(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:un);return t}function oP(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=ay(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function cy(n,e,t,r,i,o,s,a,u,l,f){let p=e.blueprint.slice();return p[_n]=i,p[se]=r|4|128|8|64|1024,(l!==null||n&&n[se]&2048)&&(p[se]|=2048),om(p),p[ut]=p[zi]=n,p[$e]=t,p[jn]=s||n&&n[jn],p[Ve]=a||n&&n[Ve],p[vr]=u||n&&n[vr]||null,p[on]=o,p[_r]=kN(),p[is]=f,p[em]=l,p[Yt]=e.type==2?n[Yt]:p,p}function sP(n,e,t){let r=In(e,n),i=oP(t),o=n[jn].rendererFactory,s=uy(n,cy(n,i,null,CC(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function CC(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function DC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function uy(n,e){return n[ss]?n[Xg][rn]=e:n[ss]=e,n[Xg]=e,e}function T(n=1){TC(Rt(),ye(),Er()+n,!1)}function TC(n,e,t,r){if(!r)if((e[se]&3)===3){let o=n.preOrderCheckHooks;o!==null&&rd(e,o,t)}else{let o=n.preOrderHooks;o!==null&&id(e,o,0,t)}ei(t)}var Ad=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Ad||{});function jm(n,e,t,r){let i=Q(null);try{let[o,s,a]=n.inputs[t],u=null;(s&Ad.SignalBased)!==0&&(u=e[o][Ft]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):Hb(e,u,o,r)}finally{Q(i)}}var Gn=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Gn||{}),aP;function ly(n,e){return aP(n,e)}var Xi=new Set,dy=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(dy||{}),gc=new q(""),Ib=new Set;function Wn(n){Ib.has(n)||(Ib.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var SC=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}return n})();var AC=new q("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:j(tt)})});function RC(n,e,t){let r=n.get(AC);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function cP(n,e){let t=n.get(AC);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)t.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function uP(n,e){for(let[t,r]of e)RC(n,r.animateFns)}function wb(n,e,t,r){let i=n?.[Ki]?.enter;e!==null&&i&&i.has(t.index)&&uP(r,i)}function us(n,e,t,r,i,o,s,a){if(i!=null){let u,l=!1;En(i)?u=i:Un(i)&&(l=!0,i=i[_n]);let f=sn(i);n===0&&r!==null?(wb(a,r,o,t),s==null?_C(e,r,f):fd(e,r,f,s||null,!0)):n===1&&r!==null?(wb(a,r,o,t),fd(e,r,f,s||null,!0)):n===2?bb(a,o,t,p=>{EC(e,f,l,p)}):n===3&&bb(a,o,t,()=>{e.destroyNode(f)}),u!=null&&wP(e,n,t,u,o,r,s)}}function lP(n,e){xC(n,e),e[_n]=null,e[on]=null}function dP(n,e,t,r,i,o){r[_n]=i,r[on]=e,xd(n,r,t,1,i,o)}function xC(n,e){e[jn].changeDetectionScheduler?.notify(9),xd(n,e,e[Ve],2,null,null)}function fP(n){let e=n[ss];if(!e)return Dm(n[te],n);for(;e;){let t=null;if(Un(e))t=e[ss];else{let r=e[ze];r&&(t=r)}if(!t){for(;e&&!e[rn]&&e!==n;)Un(e)&&Dm(e[te],e),e=e[ut];e===null&&(e=n),Un(e)&&Dm(e[te],e),t=e&&e[rn]}e=t}}function fy(n,e){let t=n[Za],r=t.indexOf(e);t.splice(r,1)}function Rd(n,e){if(Qi(e))return;let t=e[Ve];t.destroyNode&&xd(n,e,t,3,null,null),fP(e)}function Dm(n,e){if(Qi(e))return;let t=Q(null);try{e[se]&=-129,e[se]|=256,e[Jt]&&Pa(e[Jt]),gP(n,e),pP(n,e),e[te].type===1&&e[Ve].destroy();let r=e[qi];if(r!==null&&En(e[ut])){r!==e[ut]&&fy(r,e);let i=e[Wi];i!==null&&i.detachView(n)}Lm(e)}finally{Q(t)}}function bb(n,e,t,r){let i=n?.[Ki];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&Xi.add(n[_r]),RC(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:f}=l();a.push(f)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),hP(n,r)}else n&&Xi.delete(n[_r]),r(!1)},i)}function hP(n,e){let t=n[Ki]?.running;if(t){t.then(()=>{n[Ki].running=void 0,Xi.delete(n[_r]),e(!0)});return}e(!1)}function pP(n,e){let t=n.cleanup,r=e[os];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[os]=null);let i=e[hr];if(i!==null){e[hr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Ya];if(o!==null){e[Ya]=null;for(let s of o)s.destroy()}}function gP(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Zi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];xe(Ce.LifecycleHookStart,a,u);try{u.call(a)}finally{xe(Ce.LifecycleHookEnd,a,u)}}else{xe(Ce.LifecycleHookStart,i,o);try{o.call(i)}finally{xe(Ce.LifecycleHookEnd,i,o)}}}}}function mP(n,e,t){return yP(n,e.parent,t)}function yP(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[_n];if(Xr(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Cn.None||i===Cn.Emulated)return null}return In(r,t)}function vP(n,e,t){return EP(n,e,t)}function _P(n,e,t){return n.type&40?In(n,t):null}var EP=_P,Cb;function hy(n,e,t,r){let i=mP(n,r,e),o=e[Ve],s=r.parent||e[on],a=vP(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)_b(o,i,t[u],a,!1);else _b(o,i,t,a,!1);Cb!==void 0&&Cb(o,r,e,t,i)}function ic(n,e){if(e!==null){let t=e.type;if(t&3)return In(e,n);if(t&4)return Um(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return ic(n,r);{let i=n[e.index];return En(i)?Um(-1,i):sn(i)}}else{if(t&128)return ic(n,e.next);if(t&32)return ly(e,n)()||sn(n[e.index]);{let r=MC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Qr(n[Yt]);return ic(i,r)}else return ic(n,e.next)}}}return null}function MC(n,e){if(e!==null){let r=n[Yt][on],i=e.projection;return r.projection[i]}return null}function Um(n,e){let t=ze+n+1;if(t<e.length){let r=e[t],i=r[te].firstChild;if(i!==null)return ic(r,i)}return e[Zr]}function py(n,e,t,r,i,o,s){for(;t!=null;){let a=r[vr];if(t.type===128){t=t.next;continue}let u=r[t.index],l=t.type;if(s&&e===0&&(u&&ds(sn(u),r),t.flags|=2),!iy(t))if(l&8)py(n,e,t.child,r,i,o,!1),us(e,n,a,i,u,t,o,r);else if(l&32){let f=ly(t,r),p;for(;p=f();)us(e,n,a,i,p,t,o,r);us(e,n,a,i,u,t,o,r)}else l&16?IP(n,e,r,t,i,o):us(e,n,a,i,u,t,o,r);t=s?t.projectionNext:t.next}}function xd(n,e,t,r,i,o){py(t,r,n.firstChild,e,i,o,!1)}function IP(n,e,t,r,i,o){let s=t[Yt],u=s[on].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];us(e,n,t[vr],i,f,r,o,t)}else{let l=u,f=s[ut];rC(r)&&(l.flags|=128),py(n,e,l,f,i,o,!0)}}function wP(n,e,t,r,i,o,s){let a=r[Zr],u=sn(r);a!==u&&us(e,n,t,o,a,i,s);for(let l=ze;l<r.length;l++){let f=r[l];xd(f[te],f,n,e,o,a)}}function bP(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Gn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Gn.Important),n.setStyle(t,r,i,o))}}function NC(n,e,t,r,i){let o=Er(),s=r&2;try{ei(-1),s&&e.length>It&&TC(n,e,It,!1);let a=s?Ce.TemplateUpdateStart:Ce.TemplateCreateStart;xe(a,i,t),t(r,i)}finally{ei(o);let a=s?Ce.TemplateUpdateEnd:Ce.TemplateCreateEnd;xe(a,i,t)}}function gy(n,e,t){xP(n,e,t),(t.flags&64)===64&&MP(n,e,t)}function my(n,e,t=In){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function CP(n,e,t,r){let o=r.get(dC,lC)||t===Cn.ShadowDom||t===Cn.ExperimentalIsolatedShadowDom,s=n.selectRootElement(e,o);return DP(s),s}function DP(n){TP(n)}var TP=()=>null;function SP(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function PC(n,e,t,r,i,o){let s=e[te];if(yy(n,s,e,t,r)){Xr(n)&&RP(e,n.index);return}n.type&3&&(t=SP(t)),AP(n,e,t,r,i,o)}function AP(n,e,t,r,i,o){if(n.type&3){let s=In(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function RP(n,e){let t=an(e,n);t[se]&16||(t[se]|=64)}function xP(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Xr(t)&&sP(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||ud(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=ld(e,n,s,t);if(ds(u,e),o!==null&&OP(e,s-r,u,a,t,o),Bn(a)){let l=an(t.index,e);l[$e]=ld(e,n,s,t)}}}function MP(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=Zw();try{ei(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Yl(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&NP(u,l)}}finally{ei(-1),Yl(s)}}function NP(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function kC(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];ZN(e,o.selectors,!1)&&(r??=[],Bn(o)?r.unshift(o):r.push(o))}return r}function PP(n,e,t,r,i,o){let s=In(n,e);kP(e[Ve],s,o,n.value,t,r,i)}function kP(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?ts(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function OP(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];jm(r,t,u,l)}}function FP(n,e,t,r,i){let o=It+t,s=e[te],a=i(s,e,n,r,t);e[o]=a,cs(n,!0);let u=n.type===2;return u?(IC(e[Ve],a,n),(jw()===0||Xa(n))&&ds(a,e),Uw()):ds(a,e),ed()&&(!u||!iy(n))&&hy(s,e,a,n),n}function LP(n){let e=n;return lm()?Gw():(e=e.parent,cs(e,!1)),e}function VP(n,e){let t=n[vr];if(!t)return;let r;try{r=t.get(zn,null)}catch{r=null}r?.(e)}function yy(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],f=s[u+1],p=e.data[l];jm(p,t[l],f,i),a=!0}if(o)for(let u of o){let l=t[u],f=e.data[u];jm(f,l,r,i),a=!0}return a}function jP(n,e){let t=an(e,n),r=t[te];UP(r,t);let i=t[_n];i!==null&&t[is]===null&&(t[is]=fC(i,t[vr])),xe(Ce.ComponentStart);try{vy(r,t,t[$e])}finally{xe(Ce.ComponentEnd,t[$e])}}function UP(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function vy(n,e,t){Jl(e);try{let r=n.viewQuery;r!==null&&Vm(1,r,t);let i=n.template;i!==null&&NC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Wi]?.finishViewCreation(n),n.staticContentQueries&&hC(n,e),n.staticViewQueries&&Vm(2,n.viewQuery,t);let o=n.components;o!==null&&BP(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[se]&=-5,Zl()}}function BP(n,e){for(let t=0;t<e.length;t++)jP(n,e[t])}function Md(n,e,t,r){let i=Q(null);try{let o=e.tView,a=n[se]&4096?4096:16,u=cy(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[qi]=l;let f=n[Wi];return f!==null&&(u[Wi]=f.createEmbeddedView(o)),vy(o,u,t),u}finally{Q(i)}}function ac(n,e){return!e||e.firstChild===null||rC(n)}function cc(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(sn(o)),En(o)&&OC(o,r);let s=t.type;if(s&8)cc(n,e,t.child,r);else if(s&32){let a=ly(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=MC(e,t);if(Array.isArray(a))r.push(...a);else{let u=Qr(e[Yt]);cc(u[te],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function OC(n,e){for(let t=ze;t<n.length;t++){let r=n[t],i=r[te].firstChild;i!==null&&cc(r[te],r,i,e)}n[Zr]!==n[_n]&&e.push(n[Zr])}function FC(n){if(n[Wl]!==null){for(let e of n[Wl])e.impl.addSequence(e);n[Wl].length=0}}var LC=[];function HP(n){return n[Jt]??$P(n)}function $P(n){let e=LC.pop()??Object.create(qP);return e.lView=n,e}function zP(n){n.lView[Jt]!==n&&(n.lView=null,LC.push(n))}var qP=$(k({},xa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{nc(n.lView)},consumerOnSignalRead(){this.lView[Jt]=this}});function GP(n){let e=n[Jt]??Object.create(WP);return e.lView=n,e}var WP=$(k({},xa),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Qr(n.lView);for(;e&&!VC(e[te]);)e=Qr(e);e&&sm(e)},consumerOnSignalRead(){this.lView[Jt]=this}});function VC(n){return n.type!==2}function jC(n){if(n[Ya]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Ya])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[se]&8192)}}var KP=100;function UC(n,e=0){let r=n[jn].rendererFactory,i=!1;i||r.begin?.();try{QP(n,e)}finally{i||r.end?.()}}function QP(n,e){let t=dm();try{fm(!0),Bm(n,e);let r=0;for(;tc(n);){if(r===KP)throw new z(103,!1);r++,Bm(n,1)}}finally{fm(t)}}function YP(n,e,t,r){if(Qi(e))return;let i=e[se],o=!1,s=!1;Jl(e);let a=!0,u=null,l=null;o||(VC(n)?(l=HP(e),u=Na(l)):sl()===null?(a=!1,l=GP(e),u=Na(l)):e[Jt]&&(Pa(e[Jt]),e[Jt]=null));try{om(e),Qw(n.bindingStartIndex),t!==null&&NC(n,e,t,2,r);let f=(i&3)===3;if(!o)if(f){let y=n.preOrderCheckHooks;y!==null&&rd(e,y,null)}else{let y=n.preOrderHooks;y!==null&&id(e,y,0,null),bm(e,0)}if(s||JP(e),jC(e),BC(e,0),n.contentQueries!==null&&hC(n,e),!o)if(f){let y=n.contentCheckHooks;y!==null&&rd(e,y)}else{let y=n.contentHooks;y!==null&&id(e,y,1),bm(e,1)}XP(n,e);let p=n.components;p!==null&&$C(e,p,0);let g=n.viewQuery;if(g!==null&&Vm(2,g,r),!o)if(f){let y=n.viewCheckHooks;y!==null&&rd(e,y)}else{let y=n.viewHooks;y!==null&&id(e,y,2),bm(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Gl]){for(let y of e[Gl])y();e[Gl]=null}o||(FC(e),e[se]&=-73)}catch(f){throw o||nc(e),f}finally{l!==null&&(al(l,u),a&&zP(l)),Zl()}}function BC(n,e){for(let t=oC(n);t!==null;t=sC(t))for(let r=ze;r<t.length;r++){let i=t[r];HC(i,e)}}function JP(n){for(let e=oC(n);e!==null;e=sC(e)){if(!(e[se]&2))continue;let t=e[Za];for(let r=0;r<t.length;r++){let i=t[r];sm(i)}}}function ZP(n,e,t){xe(Ce.ComponentStart);let r=an(e,n);try{HC(r,t)}finally{xe(Ce.ComponentEnd,r[$e])}}function HC(n,e){Kl(n)&&Bm(n,e)}function Bm(n,e){let r=n[te],i=n[se],o=n[Jt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&cl(o)),s||=!1,o&&(o.dirty=!1),n[se]&=-9217,s)YP(r,n,r.template,n[$e]);else if(i&8192){let a=Q(null);try{jC(n),BC(n,1);let u=r.components;u!==null&&$C(n,u,1),FC(n)}finally{Q(a)}}}function $C(n,e,t){for(let r=0;r<e.length;r++)ZP(n,e[r],t)}function XP(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)ei(~i);else{let o=i,s=t[++r],a=t[++r];Jw(s,o);let u=e[o];xe(Ce.HostBindingsUpdateStart,u);try{a(2,u)}finally{xe(Ce.HostBindingsUpdateEnd,u)}}}}finally{ei(-1)}}function _y(n,e){let t=dm()?64:1088;for(n[jn].changeDetectionScheduler?.notify(e);n;){n[se]|=t;let r=Qr(n);if(as(n)&&!r)return n;n=r}return null}function zC(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function qC(n,e){let t=ze+e;if(t<n.length)return n[t]}function Nd(n,e,t,r=!0){let i=e[te];if(ek(i,e,n,t),r){let s=Um(t,n),a=e[Ve],u=a.parentNode(n[Zr]);u!==null&&dP(i,n[on],a,e,u,s)}let o=e[is];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function GC(n,e){let t=uc(n,e);return t!==void 0&&Rd(t[te],t),t}function uc(n,e){if(n.length<=ze)return;let t=ze+e,r=n[t];if(r){let i=r[qi];i!==null&&i!==n&&fy(i,r),e>0&&(n[t-1][rn]=r[rn]);let o=Ga(n,ze+e);lP(r[te],r);let s=o[Wi];s!==null&&s.detachView(o[te]),r[ut]=null,r[rn]=null,r[se]&=-129}return r}function ek(n,e,t,r){let i=ze+r,o=t.length;r>0&&(t[i-1][rn]=e),r<o-ze?(e[rn]=t[i],Wg(t,ze+r,e)):(t.push(e),e[rn]=null),e[ut]=t;let s=e[qi];s!==null&&t!==s&&WC(s,e);let a=e[Wi];a!==null&&a.insertView(n),Ql(e),e[se]|=128}function WC(n,e){let t=n[Za],r=e[ut];if(Un(r))n[se]|=2;else{let i=r[ut][Yt];e[Yt]!==i&&(n[se]|=2)}t===null?n[Za]=[e]:t.push(e)}var ni=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[te];return cc(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[$e]}set context(e){this._lView[$e]=e}get destroyed(){return Qi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ut];if(En(e)){let t=e[Ja],r=t?t.indexOf(this):-1;r>-1&&(uc(e,r),Ga(t,r))}this._attachedToViewContainer=!1}Rd(this._lView[te],this._lView)}onDestroy(e){am(this._lView,e)}markForCheck(){_y(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[se]&=-129}reattach(){Ql(this._lView),this._lView[se]|=128}detectChanges(){this._lView[se]|=1024,UC(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=as(this._lView),t=this._lView[qi];t!==null&&!e&&fy(t,this._lView),xC(this._lView[te],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e;let t=as(this._lView),r=this._lView[qi];r!==null&&!t&&WC(r,this._lView),Ql(this._lView)}};var mc=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=tk;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=Md(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new ni(o)}}return n})();function tk(){return nk(Zt(),ye())}function nk(n,e){return n.type&4?new mc(e,n,wd(n,e)):null}function Pd(n,e,t,r,i){let o=n.data[e];if(o===null)o=rk(n,e,t,r,i),Yw()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=qw();o.injectorIndex=s===null?-1:s.injectorIndex}return cs(o,!0),o}function rk(n,e,t,r,i){let o=um(),s=lm(),a=s?o:o&&o.parent,u=n.data[e]=ok(n,a,t,e,r,i);return ik(n,u,o,s),u}function ik(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function ok(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Hw()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function sk(n){let e=n[tm]??[],r=n[ut][Ve],i=[];for(let o of e)o.data[uC]!==void 0?i.push(o):ak(o,r);n[tm]=i}function ak(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[cC];for(;t<i;){let o=r.nextSibling;EC(e,r,!1),r=o,t++}}}var ck=()=>null,uk=()=>null;function Hm(n,e){return ck(n,e)}function KC(n,e,t){return uk(n,e,t)}var QC=class{},kd=class{},$m=class{resolveComponentFactory(e){throw new z(917,!1)}},yc=class{static NULL=new $m},eo=class{},io=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>lk()}return n})();function lk(){let n=ye(),e=Zt(),t=an(e.index,n);return(Un(t)?t:n)[Ve]}var YC=(()=>{class n{static \u0275prov=W({token:n,providedIn:"root",factory:()=>null})}return n})();var od={},zm=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,od,r);return i!==od||t===od?i:this.parentInjector.get(e,t,r)}};function Db(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Og(i,a);else if(o==2){let u=a,l=e[++s];r=Og(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function ge(n,e=0){let t=ye();if(t===null)return ue(n,e);let r=Zt();return eC(r,t,Et(n),e)}function JC(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let f of s)if(f.resolveHostDirectives!==null){[a,u,l]=f.resolveHostDirectives(s);break}hk(n,e,t,a,o,u,l)}o!==null&&r!==null&&dk(t,r,o)}function dk(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new z(-301,!1);r.push(e[i],o)}}function fk(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function hk(n,e,t,r,i,o,s){let a=r.length,u=null;for(let g=0;g<a;g++){let y=r[g];u===null&&Bn(y)&&(u=y,fk(n,t,g)),Om(ud(t,e),n,y.type)}_k(t,n.data.length,a),u?.viewProvidersResolver&&u.viewProvidersResolver(u);for(let g=0;g<a;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let l=!1,f=!1,p=DC(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let y=r[g];if(t.mergedAttrs=sc(t.mergedAttrs,y.hostAttrs),gk(n,t,e,p,y),vk(p,y,i),s!==null&&s.has(y)){let[O,A]=s.get(y);t.directiveToIndex.set(y.type,[p,O+t.directiveStart,A+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let x=y.type.prototype;!l&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!f&&(x.ngOnChanges||x.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),f=!0),p++}pk(n,t,o)}function pk(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))Tb(0,e,i,r),Tb(1,e,i,r),Ab(e,r,!1);else{let o=t.get(i);Sb(0,e,o,r),Sb(1,e,o,r),Ab(e,r,!0)}}}function Tb(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),ZC(e,o)}}function Sb(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),ZC(e,s)}}function ZC(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function Ab(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||sy(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let f of l)if(f===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let f=0;f<l.length;f+=2)if(l[f]===e){s??=[],s.push(l[f+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function gk(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=ji(i.type,!0)),s=new Zi(o,Bn(i),ge,null);n.blueprint[r]=s,t[r]=s,mk(n,e,r,DC(n,t,i.hostVars,un),i)}function mk(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;yk(s)!=a&&s.push(a),s.push(t,r,o)}}function yk(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function vk(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Bn(e)&&(t[""]=n)}}function _k(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function XC(n,e,t,r,i,o,s,a){let u=e[te],l=u.consts,f=Hn(l,s),p=Pd(u,n,t,r,f);return o&&JC(u,e,p,Hn(l,a),i),p.mergedAttrs=sc(p.mergedAttrs,p.attrs),p.attrs!==null&&Db(p,p.attrs,!1),p.mergedAttrs!==null&&Db(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function eD(n,e){Gb(n,e),nm(e)&&n.queries.elementEnd(e)}function Ey(n){return nD(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function tD(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function nD(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Ek(n,e,t){return n[e]=t}function Ik(n,e){return n[e]}function Ir(n,e,t){if(t===un)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function wk(n,e,t,r){let i=Ir(n,e,t);return Ir(n,e+1,r)||i}function Tm(n,e,t){return function r(i){let o=Xr(n)?an(n.index,e):e;_y(o,5);let s=e[$e],a=Rb(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=Rb(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function Rb(n,e,t,r){let i=Q(null);try{return xe(Ce.OutputStart,e,t),t(r)!==!1}catch(o){return VP(n,o),!1}finally{xe(Ce.OutputEnd,e,t),Q(i)}}function bk(n,e,t,r,i,o,s,a){let u=Xa(n),l=!1,f=null;if(!r&&u&&(f=Dk(e,t,o,n.index)),f!==null){let p=f.__ngLastListenerFn__||f;p.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,l=!0}else{let p=In(n,t),g=r?r(p):p;jN(t,g,o,a);let y=i.listen(g,o,a);if(!Ck(o)){let x=r?O=>r(sn(O[n.index])):n.index;rD(x,e,t,o,a,y,!1)}}return l}function Ck(n){return n.startsWith("animation")||n.startsWith("transition")}function Dk(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[os],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function rD(n,e,t,r,i,o,s){let a=e.firstCreatePass?Vw(e):null,u=Lw(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function xb(n,e,t,r,i,o){let s=e[t],a=e[te],l=a.data[t].outputs[r],p=s[l].subscribe(o);rD(n.index,a,e,i,o,p,!0)}var qm=Symbol("BINDING");var hd=class extends yc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Yr(e);return new fs(t,this.ngModule)}};function Tk(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Ad.SignalBased)!==0};return i&&(o.transform=i),o})}function Sk(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function Ak(n,e,t){let r=e instanceof tt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new zm(t,r):t}function Rk(n){let e=n.get(eo,null);if(e===null)throw new z(407,!1);let t=n.get(YC,null),r=n.get(es,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function xk(n,e){let t=iD(n);return vC(e,t,t==="svg"?rm:t==="math"?Pw:null)}function iD(n){return(n.selectors[0][0]||"div").toLowerCase()}var fs=class extends kd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Tk(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Sk(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=nP(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){xe(Ce.DynamicComponentStart);let a=Q(null);try{let u=this.componentDef,l=Mk(r,u,s,o),f=Ak(u,i||this.ngModule,e),p=Rk(f),g=p.rendererFactory.createRenderer(null,u),y=r?CP(g,r,u.encapsulation,f):xk(u,g),x=s?.some(Mb)||o?.some(P=>typeof P!="function"&&P.bindings.some(Mb)),O=cy(null,l,null,512|CC(u),null,null,p,g,f,null,fC(y,f,!0));O[It]=y,Jl(O);let A=null;try{let P=XC(It,O,2,"#host",()=>l.directiveRegistry,!0,0);IC(g,y,P),ds(y,O),gy(l,O,P),pC(l,P,O),eD(l,P),t!==void 0&&Pk(P,this.ngContentSelectors,t),A=an(P.index,O),O[$e]=A[$e],vy(l,O,null)}catch(P){throw A!==null&&Lm(A),Lm(O),P}finally{xe(Ce.DynamicComponentEnd),Zl()}return new pd(this.componentType,O,!!x)}finally{Q(a)}}};function Mk(n,e,t,r){let i=n?["ng-version","21.1.2"]:rP(e.selectors[0]),o=null,s=null,a=0;if(t)for(let f of t)a+=f[qm].requiredVars,f.create&&(f.targetIdx=0,(o??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(r)for(let f=0;f<r.length;f++){let p=r[f];if(typeof p!="function")for(let g of p.bindings){a+=g[qm].requiredVars;let y=f+1;g.create&&(g.targetIdx=y,(o??=[]).push(g)),g.update&&(g.targetIdx=y,(s??=[]).push(g))}}let u=[e];if(r)for(let f of r){let p=typeof f=="function"?f:f.type,g=zg(p);u.push(g)}return ay(0,null,Nk(o,s),1,a,u,null,null,null,[i],null)}function Nk(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function Mb(n){let e=n[qm].kind;return e==="input"||e==="twoWay"}var pd=class extends QC{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=ec(t[te],It),this.location=wd(this._tNode,t),this.instance=an(this._tNode.index,t)[$e],this.hostView=this.changeDetectorRef=new ni(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=yy(r,i[te],i,e,t);this.previousInputValues.set(e,t);let s=an(r.index,i);_y(s,1)}get injector(){return new Ji(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Pk(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var oo=(()=>{class n{static __NG_ELEMENT_ID__=kk}return n})();function kk(){let n=Zt();return Fk(n,ye())}var Ok=oo,oD=class extends Ok{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return wd(this._hostTNode,this._hostLView)}get injector(){return new Ji(this._hostTNode,this._hostLView)}get parentInjector(){let e=ty(this._hostTNode,this._hostLView);if(Kb(e)){let t=cd(e,this._hostLView),r=ad(e),i=t[te].data[r+8];return new Ji(i,t)}else return new Ji(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Nb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-ze}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Hm(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,ac(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!fN(e),l;if(u)l=t;else{let A=t||{};l=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef,s=A.directives,a=A.bindings}let f=u?e:new fs(Yr(e)),p=r||this.parentInjector;if(!o&&f.ngModule==null){let P=(u?p:this.parentInjector).get(tt,null);P&&(o=P)}let g=Yr(f.componentType??{}),y=Hm(this._lContainer,g?.id??null),x=y?.firstChild??null,O=f.create(p,i,x,o,s,a);return this.insertImpl(O.hostView,l,ac(this._hostTNode,y)),O}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(kw(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[ut],l=new oD(u,u[on],u[ut]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Nd(s,i,o,r),e.attachToViewContainerRef(),Wg(Sm(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Nb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=uc(this._lContainer,t);r&&(Ga(Sm(this._lContainer),t),Rd(r[te],r))}detach(e){let t=this._adjustIndex(e,-1),r=uc(this._lContainer,t);return r&&Ga(Sm(this._lContainer),t)!=null?new ni(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Nb(n){return n[Ja]}function Sm(n){return n[Ja]||(n[Ja]=[])}function Fk(n,e){let t,r=e[n.index];return En(r)?t=r:(t=zC(r,e,null,n),e[n.index]=t,uy(e,t)),Vk(t,e,n,r),new oD(t,n,e)}function Lk(n,e){let t=n[Ve],r=t.createComment(""),i=In(e,n),o=t.parentNode(i);return fd(t,o,r,t.nextSibling(i),!1),r}var Vk=Bk,jk=()=>!1;function Uk(n,e,t){return jk(n,e,t)}function Bk(n,e,t,r){if(n[Zr])return;let i;t.type&8?i=sn(r):i=Lk(e,t),n[Zr]=i}var to=class{},Od=class{};var gd=class extends to{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new hd(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=$g(e);this._bootstrapComponents=wC(o.bootstrap),this._r3Injector=ym(e,t,[{provide:to,useValue:this},{provide:yc,useValue:this.componentFactoryResolver},...r],pr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},md=class extends Od{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new gd(this.moduleType,e,[])}};var lc=class extends to{injector;componentFactoryResolver=new hd(this);instance=null;constructor(e){super();let t=new Bi([...e.providers,{provide:to,useValue:this},{provide:yc,useValue:this.componentFactoryResolver}],e.parent||Qa(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function vc(n,e,t=null){return new lc({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Hk=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Yg(!1,t.type),i=r.length>0?vc([r],this._injector,""):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=W({token:n,providedIn:"environment",factory:()=>new n(ue(tt))})}return n})();function Dn(n){return fc(()=>{let e=sD(n),t=$(k({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ny.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Hk).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Cn.Emulated,styles:n.styles||Kt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Wn("NgStandalone"),aD(t);let r=n.dependencies;return t.directiveDefs=Pb(r,$k),t.pipeDefs=Pb(r,Iw),t.id=Gk(t),t})}function $k(n){return Yr(n)||zg(n)}function ii(n){return fc(()=>({type:n.type,bootstrap:n.bootstrap||Kt,declarations:n.declarations||Kt,imports:n.imports||Kt,exports:n.exports||Kt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function zk(n,e){if(n==null)return Jr;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Ad.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function qk(n){if(n==null)return Jr;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function rt(n){return fc(()=>{let e=sD(n);return aD(e),e})}function sD(n){let e={};return{type:n.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Jr,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Kt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:zk(n.inputs,e),outputs:qk(n.outputs),debugInfo:null}}function aD(n){n.features?.forEach(e=>e(n))}function Pb(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function Gk(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Wk(n){return Object.getPrototypeOf(n.prototype).constructor}function Kn(n){let e=Wk(n.type),t=!0,r=[n];for(;e;){let i;if(Bn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Am(n.inputs),s.declaredInputs=Am(n.declaredInputs),s.outputs=Am(n.outputs);let a=i.hostBindings;a&&Zk(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&Yk(n,u),l&&Jk(n,l),Kk(n,i),Ew(n.outputs,i.outputs),Bn(i)&&i.data.animation){let f=n.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Kn&&(t=!1)}}e=Object.getPrototypeOf(e)}Qk(r)}function Kk(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function Qk(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=sc(i.hostAttrs,t=sc(t,i.hostAttrs))}}function Am(n){return n===Jr?{}:n===Kt?[]:n}function Yk(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function Jk(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function Zk(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function cD(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=sc(n.mergedAttrs,n.attrs);let f=n.tView=ay(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),f.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),cs(n,!1);let u=eO(t,e,n,r);ed()&&hy(t,e,u,n),ds(u,e);let l=zC(u,e,u,n);e[r+It]=l,uy(e,l),Uk(l,n,e)}function Xk(n,e,t,r,i,o,s,a,u,l,f){let p=t+It,g;return e.firstCreatePass?(g=Pd(e,p,4,s||null,a||null),cm()&&JC(e,n,g,Hn(e.consts,l),kC),Gb(e,g)):g=e.data[p],cD(g,n,e,t,r,i,o,u),Xa(g)&&gy(e,n,g),l!=null&&my(n,g,f),g}function yd(n,e,t,r,i,o,s,a,u,l,f){let p=t+It,g;if(e.firstCreatePass){if(g=Pd(e,p,4,s||null,a||null),l!=null){let y=Hn(e.consts,l);g.localNames=[];for(let x=0;x<y.length;x+=2)g.localNames.push(y[x],-1)}}else g=e.data[p];return cD(g,n,e,t,r,i,o,u),l!=null&&my(n,g,f),g}function Qn(n,e,t,r,i,o,s,a){let u=ye(),l=Rt(),f=Hn(l.consts,o);return Xk(u,l,n,e,t,r,i,f,void 0,s,a),Qn}var eO=tO;function tO(n,e,t,r){return td(!0),e[Ve].createComment("")}var Iy=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function uD(n){return typeof n=="function"&&n[Ft]!==void 0}function wy(n){return uD(n)&&typeof n.set=="function"}var by=new q("");function oi(n){return!!n&&typeof n.then=="function"}function Cy(n){return!!n&&typeof n.subscribe=="function"}var lD=new q("");var Dy=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=j(lD,{optional:!0})??[];injector=j(Qt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=At(this.injector,i);if(oi(o))t.push(o);else if(Cy(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Fd=new q("");function dD(){ig(()=>{let n="";throw new z(600,n)})}function fD(n){return n.isBoundToModule}var nO=10;var so=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=j(zn);afterRenderManager=j(SC);zonelessEnabled=j(rc);rootEffectScheduler=j(wm);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ct;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=j(ti);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Oe(t=>!t))}constructor(){j(gc,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=j(tt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Qt.NULL){return this._injector.get(Vt).run(()=>{xe(Ce.BootstrapComponentStart);let s=t instanceof kd;if(!this._injector.get(Dy).done){let x="";throw new z(405,x)}let u;s?u=t:u=this._injector.get(yc).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=fD(u)?void 0:this._injector.get(to),f=r||u.selector,p=u.create(i,[],f,l),g=p.location.nativeElement,y=p.injector.get(by,null);return y?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),oc(this.components,p),y?.unregisterApplication(g)}),this._loadComponent(p),xe(Ce.BootstrapComponentEnd,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){xe(Ce.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(dy.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw xe(Ce.ChangeDetectionEnd),new z(101,!1);let t=Q(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Q(t),this.afterTick.next(),xe(Ce.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(eo,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<nO;){xe(Ce.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{xe(Ce.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!tc(i))continue;let o=r&&!this.zonelessEnabled?0:1;UC(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>tc(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;oc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Fd,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>oc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new z(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function oc(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Ld(n,e,t,r){let i=ye(),o=Yi();if(Ir(i,o,e)){let s=Rt(),a=Xl();PP(a,i,n,e,t,r)}return Ld}var zq=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Gm=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function Rm(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function rO(n,e,t,r){let i,o,s=0,a=n.length-1,u=void 0;if(Array.isArray(e)){Q(r);let l=e.length-1;for(Q(null);s<=a&&s<=l;){let f=n.at(s),p=e[s],g=Rm(s,f,s,p,t);if(g!==0){g<0&&n.updateValue(s,p),s++;continue}let y=n.at(a),x=e[l],O=Rm(a,y,l,x,t);if(O!==0){O<0&&n.updateValue(a,x),a--,l--;continue}let A=t(s,f),P=t(a,y),ee=t(s,p);if(Object.is(ee,P)){let be=t(l,x);Object.is(be,A)?(n.swap(s,a),n.updateValue(a,x),l--,a--):n.move(a,s),n.updateValue(s,p),s++;continue}if(i??=new vd,o??=Ob(n,s,a,t),Wm(n,i,s,ee))n.updateValue(s,p),s++,a++;else if(o.has(ee))i.set(A,n.detach(s)),a--;else{let be=n.create(s,e[s]);n.attach(s,be),s++,a++}}for(;s<=l;)kb(n,i,t,s,e[s]),s++}else if(e!=null){Q(r);let l=e[Symbol.iterator]();Q(null);let f=l.next();for(;!f.done&&s<=a;){let p=n.at(s),g=f.value,y=Rm(s,p,s,g,t);if(y!==0)y<0&&n.updateValue(s,g),s++,f=l.next();else{i??=new vd,o??=Ob(n,s,a,t);let x=t(s,g);if(Wm(n,i,s,x))n.updateValue(s,g),s++,a++,f=l.next();else if(!o.has(x))n.attach(s,n.create(s,g)),s++,a++,f=l.next();else{let O=t(s,p);i.set(O,n.detach(s)),a--}}}for(;!f.done;)kb(n,i,t,n.length,f.value),f=l.next()}for(;s<=a;)n.destroy(n.detach(a--));i?.forEach(l=>{n.destroy(l)})}function Wm(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function kb(n,e,t,r,i){if(Wm(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function Ob(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var vd=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function Y(n,e,t,r,i,o,s,a){Wn("NgControlFlow");let u=ye(),l=Rt(),f=Hn(l.consts,o);return yd(u,l,n,e,t,r,i,f,256,s,a),Ty}function Ty(n,e,t,r,i,o,s,a){Wn("NgControlFlow");let u=ye(),l=Rt(),f=Hn(l.consts,o);return yd(u,l,n,e,t,r,i,f,512,s,a),Ty}function J(n,e){Wn("NgControlFlow");let t=ye(),r=Yi(),i=t[r]!==un?t[r]:-1,o=i!==-1?_d(t,It+i):void 0,s=0;if(Ir(t,r,n)){let a=Q(null);try{if(o!==void 0&&GC(o,s),n!==-1){let u=It+n,l=_d(t,u),f=Jm(t[te],u),p=KC(l,f,t),g=Md(t,f,e,{dehydratedView:p});Nd(l,g,s,ac(f,p))}}finally{Q(a)}}else if(o!==void 0){let a=qC(o,s);a!==void 0&&(a[$e]=e)}}var Km=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-ze}};function Vd(n){return n}function _c(n,e){return e}var Qm=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function it(n,e,t,r,i,o,s,a,u,l,f,p,g){Wn("NgControlFlow");let y=ye(),x=Rt(),O=u!==void 0,A=ye(),P=a?s.bind(A[Yt][$e]):s,ee=new Qm(O,P);A[It+n]=ee,yd(y,x,n+1,e,t,r,i,Hn(x.consts,o),256),O&&yd(y,x,n+2,u,l,f,p,Hn(x.consts,g),512)}var Ym=class extends Gm{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-ze}at(e){return this.getLView(e)[$e].$implicit}attach(e,t){let r=t[is];this.needsIndexUpdate||=e!==this.length,Nd(this.lContainer,t,e,ac(this.templateTNode,r)),iO(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,oO(this.lContainer,e),sO(this.lContainer,e)}create(e,t){let r=Hm(this.lContainer,this.templateTNode.tView.ssrId);return Md(this.hostLView,this.templateTNode,new Km(this.lContainer,t,e),{dehydratedView:r})}destroy(e){Rd(e[te],e)}updateValue(e,t){this.getLView(e)[$e].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[$e].$index=e}getLView(e){return aO(this.lContainer,e)}};function ot(n){let e=Q(null),t=Er();try{let r=ye(),i=r[te],o=r[t],s=t+1,a=_d(r,s);if(o.liveCollection===void 0){let l=Jm(i,s);o.liveCollection=new Ym(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(rO(u,n,o.trackByFn,e),u.updateIndexes(),o.hasEmptyBlock){let l=Yi(),f=u.length===0;if(Ir(r,l,f)){let p=t+2,g=_d(r,p);if(f){let y=Jm(i,p),x=KC(g,y,r),O=Md(r,y,void 0,{dehydratedView:x});Nd(g,O,0,ac(y,x))}else i.firstUpdatePass&&sk(g),GC(g,0)}}}finally{Q(e)}}function _d(n,e){return n[e]}function iO(n,e){if(n.length<=ze)return;let t=ze+e,r=n[t],i=r?r[Ki]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[vr];cP(o,i),Xi.delete(r[_r]),i.detachedLeaveAnimationFns=void 0}}function oO(n,e){if(n.length<=ze)return;let t=ze+e,r=n[t],i=r?r[Ki]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function sO(n,e){return uc(n,e)}function aO(n,e){return qC(n,e)}function Jm(n,e){return ec(n,e)}function Pe(n,e,t){let r=ye(),i=Yi();if(Ir(r,i,e)){let o=Rt(),s=Xl();PC(s,r,n,e,r[Ve],t)}return Pe}function Fb(n,e,t,r,i){yy(e,n,t,i?"class":"style",r)}function E(n,e,t,r){let i=ye(),o=i[te],s=n+It,a=o.firstCreatePass?XC(s,i,2,e,kC,cm(),t,r):o.data[s];if(FP(a,i,n,e,cO),Xa(a)){let u=i[te];gy(u,i,a),pC(u,a,i)}return r!=null&&my(i,a),E}function I(){let n=Rt(),e=Zt(),t=LP(e);return n.firstCreatePass&&eD(n,t),$w(t)&&zw(),Bw(),t.classesWithoutHost!=null&&vN(t)&&Fb(n,t,ye(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&_N(t)&&Fb(n,t,ye(),t.stylesWithoutHost,!1),I}function ne(n,e,t,r){return E(n,e,t,r),I(),ne}var cO=(n,e,t,r,i)=>(td(!0),vC(e[Ve],r,ib()));function wt(){return ye()}var Ec="en-US";var uO=Ec;function hD(n){typeof n=="string"&&(uO=n.toLowerCase().replace(/_/g,"-"))}function we(n,e,t){let r=ye(),i=Rt(),o=Zt();return pD(i,r,r[Ve],o,n,e,t),we}function pD(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=Tm(r,e,o),bk(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let p=0;p<f.length;p+=2){let g=f[p],y=f[p+1];u??=Tm(r,e,o),xb(r,e,g,y,i,u)}if(l&&l.length)for(let p of l)u??=Tm(r,e,o),xb(r,e,p,i,i,u)}}function V(n=1){return rb(n)}function nd(n,e){return n<<17|e<<2}function no(n){return n>>17&32767}function lO(n){return(n&2)==2}function dO(n,e){return n&131071|e<<17}function Zm(n){return n|2}function hs(n){return(n&131068)>>2}function xm(n,e){return n&-131069|e<<2}function fO(n){return(n&1)===1}function Xm(n){return n|1}function hO(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=no(s),u=hs(s);n[r]=t;let l=!1,f;if(Array.isArray(t)){let p=t;f=p[1],(f===null||ns(p,f)>0)&&(l=!0)}else f=t;if(i)if(u!==0){let g=no(n[a+1]);n[r+1]=nd(g,a),g!==0&&(n[g+1]=xm(n[g+1],r)),n[a+1]=dO(n[a+1],r)}else n[r+1]=nd(a,0),a!==0&&(n[a+1]=xm(n[a+1],r)),a=r;else n[r+1]=nd(u,0),a===0?a=r:n[u+1]=xm(n[u+1],r),u=r;l&&(n[r+1]=Zm(n[r+1])),Lb(n,f,r,!0),Lb(n,f,r,!1),pO(e,f,n,r,o),s=nd(a,u),o?e.classBindings=s:e.styleBindings=s}function pO(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&ns(o,e)>=0&&(t[r+1]=Xm(t[r+1]))}function Lb(n,e,t,r){let i=n[t+1],o=e===null,s=r?no(i):hs(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];gO(u,e)&&(a=!0,n[s+1]=r?Xm(l):Zm(l)),s=r?no(l):hs(l)}a&&(n[t+1]=r?Zm(i):Xm(i))}function gO(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?ns(n,e)>=0:!1}function Yn(n,e,t){return gD(n,e,t,!1),Yn}function je(n,e){return gD(n,e,null,!0),je}function gD(n,e,t,r){let i=ye(),o=Rt(),s=hm(2);if(o.firstUpdatePass&&yO(o,n,s,r),e!==un&&Ir(i,s,e)){let a=o.data[Er()];wO(o,a,i,i[Ve],n,i[s+1]=bO(e,t),r,s)}}function mO(n,e){return e>=n.expandoStartIndex}function yO(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Er()],s=mO(n,t);CO(o,r)&&e===null&&!s&&(e=!1),e=vO(i,o,e,r),hO(i,o,e,t,s,r)}}function vO(n,e,t,r){let i=Xw(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Mm(null,n,e,t,r),t=dc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Mm(i,n,e,t,r),o===null){let u=_O(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Mm(null,n,e,u[1],r),u=dc(u,e.attrs,r),EO(n,e,r,u))}else o=IO(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function _O(n,e,t){let r=t?e.classBindings:e.styleBindings;if(hs(r)!==0)return n[no(r)]}function EO(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[no(i)]=r}function IO(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=dc(r,s,t)}return dc(r,e.attrs,t)}function Mm(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=dc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function dc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Tw(n,s,t?!0:e[++o]))}return n===void 0?null:n}function wO(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],f=fO(l)?Vb(u,e,t,i,hs(l),s):void 0;if(!Ed(f)){Ed(o)||lO(l)&&(o=Vb(u,null,t,i,a,s));let p=im(Er(),t);bP(r,s,p,i,o)}}function Vb(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,g=t[i+1];g===un&&(g=p?Kt:void 0);let y=p?ql(g,r):f===r?g:void 0;if(l&&!Ed(y)&&(y=ql(u,r)),Ed(y)&&(a=y,s))return a;let x=n[i+1];i=s?no(x):hs(x)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=ql(u,r))}return a}function Ed(n){return n!==void 0}function bO(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=pr(pc(n)))),n}function CO(n,e){return(n.flags&(e?8:16))!==0}function N(n,e=""){let t=ye(),r=Rt(),i=n+It,o=r.firstCreatePass?Pd(r,i,1,e,null):r.data[i],s=DO(r,t,o,e);t[i]=s,ed()&&hy(r,t,s,o),cs(o,!1)}var DO=(n,e,t,r)=>(td(!0),HN(e[Ve],r));function TO(n,e,t,r=""){return Ir(n,Yi(),t)?e+ts(t)+r:un}function SO(n,e,t,r,i,o=""){let s=Kw(),a=wk(n,s,t,i);return hm(2),a?e+ts(t)+r+ts(i)+o:un}function Z(n){return ke("",n),Z}function ke(n,e,t){let r=ye(),i=TO(r,n,e,t);return i!==un&&mD(r,Er(),i),ke}function jd(n,e,t,r,i){let o=ye(),s=SO(o,n,e,t,r,i);return s!==un&&mD(o,Er(),s),jd}function mD(n,e,t){let r=im(e,n);$N(n[Ve],r,t)}function bt(n,e,t){wy(e)&&(e=e());let r=ye(),i=Yi();if(Ir(r,i,e)){let o=Rt(),s=Xl();PC(s,r,n,e,r[Ve],t)}return bt}function xt(n,e){let t=wy(n);return t&&n.set(e),t}function Ct(n,e){let t=ye(),r=Rt(),i=Zt();return pD(r,t,t[Ve],i,n,e),Ct}function jb(n,e,t){let r=Rt();r.firstCreatePass&&yD(e,r.data,r.blueprint,Bn(n),t)}function yD(n,e,t,r,i){if(n=Et(n),Array.isArray(n))for(let o=0;o<n.length;o++)yD(n[o],e,t,r,i);else{let o=Rt(),s=ye(),a=Zt(),u=Ui(n)?n:Et(n.provide),l=Zg(n),f=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Ui(n)||!n.multi){let y=new Zi(l,i,ge,null),x=Pm(u,e,i?f:f+g,p);x===-1?(Om(ud(a,s),o,u),Nm(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[x]=y,s[x]=y)}else{let y=Pm(u,e,f+g,p),x=Pm(u,e,f,f+g),O=y>=0&&t[y],A=x>=0&&t[x];if(i&&!A||!i&&!O){Om(ud(a,s),o,u);let P=xO(i?RO:AO,t.length,i,r,l,n);!i&&A&&(t[x].providerFactory=P),Nm(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(P),s.push(P)}else{let P=vD(t[i?x:y],l,!i&&r);Nm(o,n,y>-1?y:x,P)}!i&&r&&A&&t[x].componentProviders++}}}function Nm(n,e,t,r){let i=Ui(e),o=xw(e);if(i||o){let u=(o?Et(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(t);f===-1?l.push(t,[r,u]):l[f+1].push(r,u)}else l.push(t,u)}}}function vD(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Pm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function AO(n,e,t,r,i){return ey(this.multi,[])}function RO(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=ld(r,r[te],this.providerFactory.index,i);s=u.slice(0,a),ey(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],ey(o,s);return s}function ey(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function xO(n,e,t,r,i,o){let s=new Zi(n,t,ge,null);return s.multi=[],s.index=e,s.componentProviders=0,vD(s,i,r&&!t),s}function ps(n,e){return t=>{t.providersResolver=(r,i)=>jb(r,i?i(n):n,!1),e&&(t.viewProvidersResolver=(r,i)=>jb(r,i?i(e):e,!0))}}function Ic(n,e){let t=Ww()+n,r=ye();return r[t]===un?Ek(r,t,e()):Ik(r,t)}var Id=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Sy=(()=>{class n{compileModuleSync(t){return new md(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=$g(t),o=wC(i.declarations).reduce((s,a)=>{let u=Yr(a);return u&&s.push(new fs(u)),s},[]);return new Id(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _D=(()=>{class n{applicationErrorHandler=j(zn);appRef=j(so);taskService=j(ti);ngZone=j(Vt);zonelessEnabled=j(rc);tracing=j(gc,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new yt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get($a):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(j(Im,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let t=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(t);return}this.switchToMicrotaskScheduler(),this.taskService.remove(t)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let t=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})})}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?cb:vm;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get($a+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.applicationErrorHandler(r)}finally{this.taskService.remove(t),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ay(){return Wn("NgZoneless"),Wa([...Ry(),[]])}function Ry(){return[{provide:es,useExisting:_D},{provide:Vt,useClass:za},{provide:rc,useValue:!0}]}function MO(){return typeof $localize<"u"&&$localize.locale||Ec}var Ud=new q("",{factory:()=>j(Ud,{optional:!0,skipSelf:!0})||MO()});function ao(n,e){return ul(n,e?.equal)}var CD=Symbol("InputSignalNode#UNSET"),QO=$(k({},ll),{transformFn:void 0,applyValueToInputSignal(n,e){ka(n,e)}});function DD(n,e){let t=Object.create(QO);t.value=n,t.transformFn=e?.transform;function r(){if(Ma(t),t.value===CD){let i=null;throw new z(-950,i)}return t.value}return r[Ft]=t,r}function ED(n,e){return DD(n,e)}function YO(n){return DD(CD,n)}var TD=(ED.required=YO,ED);var xy=new q(""),JO=new q("");function wc(n){return!n.moduleRef}function ZO(n){let e=wc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Vt);return t.run(()=>{wc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(zn),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),wc(n)){let o=()=>e.destroy(),s=n.platformInjector.get(xy);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(xy);s.add(o),n.moduleRef.onDestroy(()=>{oc(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return eF(r,t,()=>{let o=e.get(ti),s=o.add(),a=e.get(Dy);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(Ud,Ec);if(hD(u||Ec),!e.get(JO,!0))return wc(n)?e.get(so):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(wc(n)){let f=e.get(so);return n.rootComponent!==void 0&&f.bootstrap(n.rootComponent),f}else return XO?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>{o.remove(s)})})})}var XO;function eF(n,e,t){try{let r=t();return oi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Bd=null;function tF(n=[],e){return Qt.create({name:e,providers:[{provide:Ka,useValue:"platform"},{provide:xy,useValue:new Set([()=>Bd=null])},...n]})}function nF(n=[]){if(Bd)return Bd;let e=tF(n);return Bd=e,dD(),rF(e),e}function rF(n){let e=n.get(Cd,null);At(n,()=>{e?.forEach(t=>t())})}var iF=1e4;var hJ=iF-1e3;var co=(()=>{class n{static __NG_ELEMENT_ID__=oF}return n})();function oF(n){return sF(Zt(),ye(),(n&16)===16)}function sF(n,e,t){if(Xr(n)&&!t){let r=an(n.index,e);return new ni(r,r)}else if(n.type&175){let r=e[Yt];return new ni(r,e)}return null}var My=class{constructor(){}supports(e){return Ey(e)}create(e){return new Ny(e)}},aF=(n,e)=>e,Ny=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||aF}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<ID(r,i,o)?t:r,a=ID(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,f=u-i;if(l!=f){for(let g=0;g<l;g++){let y=g<o.length?o[g]:o[g]=0,x=y+g;f<=x&&x<l&&(o[g]=y+1)}let p=s.previousIndex;o[p]=f-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Ey(e))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,tD(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Py(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Hd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Hd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Py=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},ky=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Hd=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new ky,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function ID(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function wD(){return new Fy([new My])}var Fy=(()=>{class n{factories;static \u0275prov=W({token:n,providedIn:"root",factory:wD});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=j(n,{optional:!0,skipSelf:!0});return n.create(t,r||wD())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new z(901,!1)}}return n})();function SD(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;xe(Ce.BootstrapApplicationStart);try{let o=i?.injector??nF(r),s=[Ry(),lb,...t||[]],a=new lc({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return ZO({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{xe(Ce.BootstrapApplicationEnd)}}function br(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Ly(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}var AD=null;function ln(){return AD}function Vy(n){AD??=n}var bc=class{},zd=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>j(RD),providedIn:"platform"})}return n})();var RD=(()=>{class n extends zd{_location;_history;_doc=j(nt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ln().getBaseHref(this._doc)}onPopState(t){let r=ln().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=ln().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function ND(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function xD(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function si(n){return n&&n[0]!=="?"?`?${n}`:n}var qd=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>j(uF),providedIn:"root"})}return n})(),cF=new q(""),uF=(()=>{class n extends qd{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??j(nt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ND(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+si(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+si(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+si(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(ue(zd),ue(cF,8))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gs=(()=>{class n{_subject=new ct;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=fF(xD(MD(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+si(r))}normalize(t){return n.stripTrailingSlash(dF(this._basePath,MD(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+si(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+si(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=si;static joinWithSlash=ND;static stripTrailingSlash=xD;static \u0275fac=function(r){return new(r||n)(ue(qd))};static \u0275prov=W({token:n,factory:()=>lF(),providedIn:"root"})}return n})();function lF(){return new gs(ue(qd))}function dF(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function MD(n){return n.replace(/\/index.html$/,"")}function fF(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Gd=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Kd=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Gd(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),PD(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);PD(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ge(oo),ge(mc),ge(Fy))};static \u0275dir=rt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function PD(n,e){n.context.$implicit=e.item}var Cc=(()=>{class n{_viewContainer;_context=new Wd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){kD(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){kD(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ge(oo),ge(mc))};static \u0275dir=rt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Wd=class{$implicit=null;ngIf=null};function kD(n,e){if(n&&!n.createEmbeddedView)throw new z(2020,!1)}var ai=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ii({type:n});static \u0275inj=yr({})}return n})();function jy(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Dc=class{};var FD="browser";var LD=n=>n.src,hF=new q("",{factory:()=>LD});var OD=/^((\s*\d+w\s*(,|$)){1,})$/;var pF=[1,2],gF=640;var mF=1920,yF=1080;var VD=(()=>{class n{imageLoader=j(hF);config=vF(j(Sd));renderer=j(io);imgElement=j(ri).nativeElement;injector=j(Qt);destroyRef=j($n);lcpObserver;_renderedSrc=null;ngSrc;ngSrcset;sizes;width;height;decoding;loading;priority=!1;loaderParams;disableOptimizedSrcset=!1;fill=!1;placeholder;placeholderConfig;src;srcset;constructor(){}ngOnInit(){Wn("NgOptimizedImage"),this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("decoding",this.getDecoding()),this.setHostAttribute("ng-img","true");let t=this.updateSrcAndSrcset();this.sizes?this.getLoadingBehavior()==="lazy"?this.setHostAttribute("sizes","auto, "+this.sizes):this.setHostAttribute("sizes",this.sizes):this.ngSrcset&&OD.test(this.ngSrcset)&&this.getLoadingBehavior()==="lazy"&&this.setHostAttribute("sizes","auto, 100vw")}ngOnChanges(t){if(t.ngSrc&&!t.ngSrc.isFirstChange()){let r=this._renderedSrc;this.updateSrcAndSrcset(!0)}}callImageLoader(t){let r=t;return this.loaderParams&&(r.loaderParams=this.loaderParams),this.imageLoader(r)}getLoadingBehavior(){return!this.priority&&this.loading!==void 0?this.loading:this.priority?"eager":"lazy"}getFetchPriority(){return this.priority?"high":"auto"}getDecoding(){return this.priority?"sync":this.decoding??"auto"}getRewrittenSrc(){if(!this._renderedSrc){let t={src:this.ngSrc};this._renderedSrc=this.callImageLoader(t)}return this._renderedSrc}getRewrittenSrcset(){let t=OD.test(this.ngSrcset);return this.ngSrcset.split(",").filter(i=>i!=="").map(i=>{i=i.trim();let o=t?parseFloat(i):parseFloat(i)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:o})} ${i}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){let{breakpoints:t}=this.config,r=t;return this.sizes?.trim()==="100vw"&&(r=t.filter(o=>o>=gF)),r.map(o=>`${this.callImageLoader({src:this.ngSrc,width:o})} ${o}w`).join(", ")}updateSrcAndSrcset(t=!1){t&&(this._renderedSrc=null);let r=this.getRewrittenSrc();this.setHostAttribute("src",r);let i;return this.ngSrcset?i=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(i=this.getAutomaticSrcset()),i&&this.setHostAttribute("srcset",i),i}getFixedSrcset(){return pF.map(r=>`${this.callImageLoader({src:this.ngSrc,width:this.width*r})} ${r}x`).join(", ")}shouldGenerateAutomaticSrcset(){let t=!1;return this.sizes||(t=this.width>mF||this.height>yF),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==LD&&!t}generatePlaceholder(t){let{placeholderResolution:r}=this.config;return t===!0?`url(${this.callImageLoader({src:this.ngSrc,width:r,isPlaceholder:!0})})`:typeof t=="string"?`url(${t})`:null}shouldBlurPlaceholder(t){return!t||!t.hasOwnProperty("blur")?!0:!!t.blur}removePlaceholderOnLoad(t){let r=()=>{let s=this.injector.get(co);i(),o(),this.placeholder=!1,s.markForCheck()},i=this.renderer.listen(t,"load",r),o=this.renderer.listen(t,"error",r);this.destroyRef.onDestroy(()=>{i(),o()}),_F(t,r)}setHostAttribute(t,r){this.renderer.setAttribute(this.imgElement,t,r)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=rt({type:n,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function(r,i){r&2&&Yn("position",i.fill?"absolute":null)("width",i.fill?"100%":null)("height",i.fill?"100%":null)("inset",i.fill?"0":null)("background-size",i.placeholder?"cover":null)("background-position",i.placeholder?"50% 50%":null)("background-repeat",i.placeholder?"no-repeat":null)("background-image",i.placeholder?i.generatePlaceholder(i.placeholder):null)("filter",i.placeholder&&i.shouldBlurPlaceholder(i.placeholderConfig)?"blur(15px)":null)},inputs:{ngSrc:[2,"ngSrc","ngSrc",EF],ngSrcset:"ngSrcset",sizes:"sizes",width:[2,"width","width",Ly],height:[2,"height","height",Ly],decoding:"decoding",loading:"loading",priority:[2,"priority","priority",br],loaderParams:"loaderParams",disableOptimizedSrcset:[2,"disableOptimizedSrcset","disableOptimizedSrcset",br],fill:[2,"fill","fill",br],placeholder:[2,"placeholder","placeholder",IF],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},features:[wr]})}return n})();function vF(n){let e={};return n.breakpoints&&(e.breakpoints=n.breakpoints.sort((t,r)=>t-r)),Object.assign({},Td,n,e)}function _F(n,e){n.complete&&n.naturalWidth&&e()}function EF(n){return typeof n=="string"?n:pc(n)}function IF(n){return typeof n=="string"&&n!=="true"&&n!=="false"&&n!==""?n:br(n)}var Tc=class{_doc;constructor(e){this._doc=e}manager},Qd=(()=>{class n extends Tc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(ue(nt))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),Zd=new q(""),$y=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Qd));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Qd);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new z(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(ue(Zd),ue(Vt))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),Uy="ng-app-id";function UD(n){for(let e of n)e.remove()}function BD(n,e){let t=e.createElement("style");return t.textContent=n,t}function wF(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Uy}="${e}"],link[${Uy}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Uy),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Hy(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var zy=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,wF(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,BD);r?.forEach(i=>this.addUsage(i,this.external,Hy))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(UD(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])UD(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,BD(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Hy(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(ue(nt),ue(bd),ue(Dd,8),ue(hc))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),By={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},qy=/%COMP%/g;var $D="%COMP%",bF=`_nghost-${$D}`,CF=`_ngcontent-${$D}`,DF=!0,TF=new q("",{factory:()=>DF});function SF(n){return CF.replace(qy,n)}function AF(n){return bF.replace(qy,n)}function zD(n,e){return e.map(t=>t.replace(qy,n))}var Gy=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(t,r,i,o,s,a,u=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=u,this.tracingService=l,this.defaultRenderer=new Sc(t,s,a,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Jd?i.applyToHost(t):i instanceof Ac&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.tracingService;switch(r.encapsulation){case Cn.Emulated:o=new Jd(u,l,r,this.appId,f,s,a,p);break;case Cn.ShadowDom:return new Yd(u,t,r,s,a,this.nonce,p,l);case Cn.ExperimentalIsolatedShadowDom:return new Yd(u,t,r,s,a,this.nonce,p);default:o=new Ac(u,l,r,f,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(ue($y),ue(zy),ue(bd),ue(TF),ue(nt),ue(Vt),ue(Dd),ue(gc,8))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),Sc=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(By[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(HD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(HD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new z(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=By[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=By[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Gn.DashCase|Gn.Important)?e.style.setProperty(t,r,i&Gn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Gn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=ln().getGlobalEventTarget(this.doc,e),!e))throw new z(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function HD(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Yd=class extends Sc{hostEl;sharedStylesHost;shadowRoot;constructor(e,t,r,i,o,s,a,u){super(e,i,o,a),this.hostEl=t,this.sharedStylesHost=u,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=zD(r.id,l);for(let p of l){let g=document.createElement("style");s&&g.setAttribute("nonce",s),g.textContent=p,this.shadowRoot.appendChild(g)}let f=r.getExternalStyles?.();if(f)for(let p of f){let g=Hy(p,i);s&&g.setAttribute("nonce",s),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Ac=class extends Sc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=u?zD(u,l):l,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Xi.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Jd=class extends Ac{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,t,r,o,s,a,u,l),this.contentAttr=SF(l),this.hostAttr=AF(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Xd=class n extends bc{supportsDOMEvents=!0;static makeCurrent(){Vy(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=RF();return t==null?null:xF(t)}resetBaseElement(){Rc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return jy(document.cookie,e)}},Rc=null;function RF(){return Rc=Rc||document.head.querySelector("base"),Rc?Rc.getAttribute("href"):null}function xF(n){return new URL(n,document.baseURI).pathname}var MF=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})(),qD=["alt","control","meta","shift"],NF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},PF={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},GD=(()=>{class n extends Tc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ln().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),qD.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=NF[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),qD.forEach(s=>{if(s!==i){let a=PF[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(ue(nt))};static \u0275prov=W({token:n,factory:n.\u0275fac})}return n})();async function Wy(n,e,t){let r=k({rootComponent:n},kF(e,t));return SD(r)}function kF(n,e){return{platformRef:e?.platformRef,appProviders:[...jF,...n?.providers??[]],platformProviders:VF}}function OF(){Xd.makeCurrent()}function FF(){return new gr}function LF(){return ry(document),document}var VF=[{provide:hc,useValue:FD},{provide:Cd,useValue:OF,multi:!0},{provide:nt,useFactory:LF}];var jF=[{provide:Ka,useValue:"root"},{provide:gr,useFactory:FF},{provide:Zd,useClass:Qd,multi:!0},{provide:Zd,useClass:GD,multi:!0},Gy,zy,$y,{provide:eo,useExisting:Gy},{provide:Dc,useClass:MF},[]];var WD=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(ue(nt))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var re="primary",Bc=Symbol("RouteTitle"),Zy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function fo(n){return new Zy(n)}function Ky(n,e,t){for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(i[0]===":")t[i.substring(1)]=o;else if(i!==o.path)return!1}return!0}function rT(n,e,t){let r=t.path.split("/"),i=r.indexOf("**");if(i===-1){if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let u={},l=n.slice(0,r.length);return Ky(r,l,u)?{consumed:l,posParams:u}:null}if(i!==r.lastIndexOf("**"))return null;let o=r.slice(0,i),s=r.slice(i+1);if(o.length+s.length>n.length||t.pathMatch==="full"&&e.hasChildren()&&t.path!=="**")return null;let a={};return!Ky(o,n.slice(0,o.length),a)||!Ky(s,n.slice(n.length-s.length),a)?null:{consumed:n,posParams:a}}function sf(n){return new Promise((e,t)=>{n.pipe(dr()).subscribe({next:r=>e(r),error:r=>t(r)})})}function BF(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Jn(n[t],e[t]))return!1;return!0}function Jn(n,e){let t=n?Xy(n):void 0,r=e?Xy(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!iT(n[i],e[i]))return!1;return!0}function Xy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function iT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function HF(n){return n.length>0?n[n.length-1]:null}function go(n){return Rl(n)?n:oi(n)?Ke(Promise.resolve(n)):me(n)}function oT(n){return Rl(n)?sf(n):Promise.resolve(n)}var $F={exact:aT,subset:cT},sT={exact:zF,subset:qF,ignored:()=>!0};function KD(n,e,t){return $F[t.paths](n.root,e.root,t.matrixParams)&&sT[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function zF(n,e){return Jn(n,e)}function aT(n,e,t){if(!uo(n.segments,e.segments)||!nf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!aT(n.children[r],e.children[r],t))return!1;return!0}function qF(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>iT(n[t],e[t]))}function cT(n,e,t){return uT(n,e,e.segments,t)}function uT(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!uo(i,t)||e.hasChildren()||!nf(i,t,r))}else if(n.segments.length===t.length){if(!uo(n.segments,t)||!nf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!cT(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!uo(n.segments,i)||!nf(n.segments,i,r)||!n.children[re]?!1:uT(n.children[re],e,o,r)}}function nf(n,e,t){return e.every((r,i)=>sT[t](n[i].parameters,r.parameters))}var Sn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new De([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=fo(this.queryParams),this._queryParamMap}toString(){return KF.serialize(this)}},De=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rf(this)}},ci=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=fo(this.parameters),this._parameterMap}toString(){return dT(this)}};function GF(n,e){return uo(n,e)&&n.every((t,r)=>Jn(t.parameters,e[r].parameters))}function uo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function WF(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===re&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==re&&(t=t.concat(e(i,r)))}),t}var Hc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>new ui,providedIn:"root"})}return n})(),ui=class{parse(e){let t=new tv(e);return new Sn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${xc(e.root,!0)}`,r=JF(e.queryParams),i=typeof e.fragment=="string"?`#${QF(e.fragment)}`:"";return`${t}${r}${i}`}},KF=new ui;function rf(n){return n.segments.map(e=>dT(e)).join("/")}function xc(n,e){if(!n.hasChildren())return rf(n);if(e){let t=n.children[re]?xc(n.children[re],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==re&&r.push(`${i}:${xc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=WF(n,(r,i)=>i===re?[xc(n.children[re],!1)]:[`${i}:${xc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[re]!=null?`${rf(n)}/${t[0]}`:`${rf(n)}/(${t.join("//")})`}}function lT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ef(n){return lT(n).replace(/%3B/gi,";")}function QF(n){return encodeURI(n)}function ev(n){return lT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function of(n){return decodeURIComponent(n)}function QD(n){return of(n.replace(/\+/g,"%20"))}function dT(n){return`${ev(n.path)}${YF(n.parameters)}`}function YF(n){return Object.entries(n).map(([e,t])=>`;${ev(e)}=${ev(t)}`).join("")}function JF(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${ef(t)}=${ef(i)}`).join("&"):`${ef(t)}=${ef(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var ZF=/^[^\/()?;#]+/;function Qy(n){let e=n.match(ZF);return e?e[0]:""}var XF=/^[^\/()?;=#]+/;function eL(n){let e=n.match(XF);return e?e[0]:""}var tL=/^[^=?&#]+/;function nL(n){let e=n.match(tL);return e?e[0]:""}var rL=/^[^&#]+/;function iL(n){let e=n.match(rL);return e?e[0]:""}var tv=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[re]=new De(e,t)),r}parseSegment(){let e=Qy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(e),new ci(of(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=eL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Qy(this.remaining);i&&(r=i,this.capture(r))}e[of(t)]=of(r)}parseQueryParam(e){let t=nL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=iL(this.remaining);s&&(r=s,this.capture(r))}let i=QD(t),o=QD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Qy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new z(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=re);let s=this.parseChildren();t[o??re]=Object.keys(s).length===1&&s[re]?s[re]:new De([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new z(4011,!1)}};function fT(n){return n.segments.length>0?new De([],{[re]:n}):n}function hT(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=hT(i);if(r===re&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new De(n.segments,e);return oL(t)}function oL(n){if(n.numberOfChildren===1&&n.children[re]){let e=n.children[re];return new De(n.segments.concat(e.segments),e.children)}return n}function _s(n){return n instanceof Sn}function pT(n,e,t=null,r=null,i=new ui){let o=gT(n);return mT(o,e,t,r,i)}function gT(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new De(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=fT(r);return e??i}function mT(n,e,t,r,i){let o=n;for(;o.parent;)o=o.parent;if(e.length===0)return Yy(o,o,o,t,r,i);let s=sL(e);if(s.toRoot())return Yy(o,o,new De([],{}),t,r,i);let a=aL(s,o,n),u=a.processChildren?Nc(a.segmentGroup,a.index,s.commands):vT(a.segmentGroup,a.index,s.commands);return Yy(o,a.segmentGroup,u,t,r,i)}function af(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Oc(n){return typeof n=="object"&&n!=null&&n.outlets}function YD(n,e,t){n||="\u0275";let r=new Sn;return r.queryParams={[n]:e},t.parse(t.serialize(r)).queryParams[n]}function Yy(n,e,t,r,i,o){let s={};for(let[l,f]of Object.entries(r??{}))s[l]=Array.isArray(f)?f.map(p=>YD(l,p,o)):YD(l,f,o);let a;n===e?a=t:a=yT(n,e,t);let u=fT(hT(a));return new Sn(u,s,i)}function yT(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=yT(o,e,t)}),new De(n.segments,r)}var cf=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&af(r[0]))throw new z(4003,!1);let i=r.find(Oc);if(i&&i!==HF(r))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function sL(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new cf(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new cf(t,e,r)}var ys=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function aL(n,e,t){if(n.isAbsolute)return new ys(e,!0,0);if(!t)return new ys(e,!1,NaN);if(t.parent===null)return new ys(t,!0,0);let r=af(n.commands[0])?0:1,i=t.segments.length-1+r;return cL(t,i,n.numberOfDoubleDots)}function cL(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new z(4005,!1);i=r.segments.length}return new ys(r,!1,i-o)}function uL(n){return Oc(n[0])?n[0].outlets:{[re]:n}}function vT(n,e,t){if(n??=new De([],{}),n.segments.length===0&&n.hasChildren())return Nc(n,e,t);let r=lL(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new De(n.segments.slice(0,r.pathIndex),{});return o.children[re]=new De(n.segments.slice(r.pathIndex),n.children),Nc(o,0,i)}else return r.match&&i.length===0?new De(n.segments,{}):r.match&&!n.hasChildren()?nv(n,e,t):r.match?Nc(n,0,i):nv(n,e,t)}function Nc(n,e,t){if(t.length===0)return new De(n.segments,{});{let r=uL(t),i={};if(Object.keys(r).some(o=>o!==re)&&n.children[re]&&n.numberOfChildren===1&&n.children[re].segments.length===0){let o=Nc(n.children[re],e,t);return new De(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=vT(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new De(n.segments,i)}}function lL(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Oc(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!ZD(u,l,s))return o;r+=2}else{if(!ZD(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function nv(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Oc(o)){let u=dL(o.outlets);return new De(r,u)}if(i===0&&af(t[0])){let u=n.segments[e];r.push(new ci(u.path,JD(t[0]))),i++;continue}let s=Oc(o)?o.outlets[re]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&af(a)?(r.push(new ci(s,JD(a))),i+=2):(r.push(new ci(s,{})),i++)}return new De(r,{})}function dL(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=nv(new De([],{}),0,r))}),e}function JD(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function ZD(n,e,t){return n==t.path&&Jn(e,t.parameters)}var Pc="imperative",dt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(dt||{}),en=class{id;url;constructor(e,t){this.id=e,this.url=t}},ho=class extends en{type=dt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Dr=class extends en{urlAfterRedirects;type=dt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Mt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Mt||{}),Fc=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Fc||{}),dn=class extends en{reason;code;type=dt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}};function _T(n){return n instanceof dn&&(n.code===Mt.Redirect||n.code===Mt.SupersededByNewNavigation)}var Tr=class extends en{reason;code;type=dt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},po=class extends en{error;target;type=dt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Es=class extends en{urlAfterRedirects;state;type=dt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uf=class extends en{urlAfterRedirects;state;type=dt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lf=class extends en{urlAfterRedirects;state;shouldActivate;type=dt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},df=class extends en{urlAfterRedirects;state;type=dt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ff=class extends en{urlAfterRedirects;state;type=dt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hf=class{route;type=dt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},pf=class{route;type=dt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},gf=class{snapshot;type=dt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mf=class{snapshot;type=dt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yf=class{snapshot;type=dt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vf=class{snapshot;type=dt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Is=class{},ws=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function fL(n){return!(n instanceof Is)&&!(n instanceof ws)}var _f=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return this.route?.snapshot._environmentInjector??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Ds(this.rootInjector)}},Ds=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new _f(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(ue(tt))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ef=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=rv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=rv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=iv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return iv(e,this._root).map(t=>t.value)}};function rv(n,e){if(n===e.value)return e;for(let t of e.children){let r=rv(n,t);if(r)return r}return null}function iv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=iv(n,t);if(r.length)return r.unshift(e),r}return[]}var Xt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ms(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Lc=class extends Ef{snapshot;constructor(e,t){super(e),this.snapshot=t,fv(this,e)}toString(){return this.snapshot.toString()}};function ET(n,e){let t=hL(n,e),r=new vt([new ci("",{})]),i=new vt({}),o=new vt({}),s=new vt({}),a=new vt(""),u=new li(r,i,s,a,o,re,n,t.root);return u.snapshot=t.root,new Lc(new Xt(u,[]),t)}function hL(n,e){let t={},r={},i={},s=new lo([],t,i,"",r,re,n,null,{},e);return new Vc("",new Xt(s,[]))}var li=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Oe(l=>l[Bc]))??me(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Oe(e=>fo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Oe(e=>fo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function If(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),n.params),data:k(k({},e.data),n.data),resolve:k(k(k(k({},n.data),e.data),i?.data),n._resolvedData)}:r={params:k({},n.params),data:k({},n.data),resolve:k(k({},n.data),n._resolvedData??{})},i&&wT(i)&&(r.resolve[Bc]=i.title),r}var lo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;_environmentInjector;get title(){return this.data?.[Bc]}constructor(e,t,r,i,o,s,a,u,l,f){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l,this._environmentInjector=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=fo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=fo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Vc=class extends Ef{url;constructor(e,t){super(t),this.url=e,fv(this,t)}toString(){return IT(this._root)}};function fv(n,e){e.value._routerState=n,e.children.forEach(t=>fv(n,t))}function IT(n){let e=n.children.length>0?` { ${n.children.map(IT).join(", ")} } `:"";return`${n.value}${e}`}function Jy(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Jn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Jn(e.params,t.params)||n.paramsSubject.next(t.params),BF(e.url,t.url)||n.urlSubject.next(t.url),Jn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ov(n,e){let t=Jn(n.params,e.params)&&GF(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||ov(n.parent,e.parent))}function wT(n){return typeof n.title=="string"||n.title===null}var bT=new q(""),$c=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=re;activateEvents=new Qe;deactivateEvents=new Qe;attachEvents=new Qe;detachEvents=new Qe;routerOutletData=TD();parentContexts=j(Ds);location=j(oo);changeDetector=j(co);inputBinder=j(Df,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new sv(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=rt({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[wr]})}return n})(),sv=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===li?this.route:e===Ds?this.childContexts:e===bT?this.outletData:this.parent.get(e,t)}},Df=new q("");var hv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Dn({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ne(0,"router-outlet")},dependencies:[$c],encapsulation:2})}return n})();function pv(n){let e=n.children&&n.children.map(pv),t=e?$(k({},n),{children:e}):k({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==re&&(t.component=hv),t}function pL(n,e,t){let r=jc(n,e._root,t?t._root:void 0);return new Lc(r,e)}function jc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=gL(n,e,t);return new Xt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>jc(n,a)),s}}let r=mL(e.value),i=e.children.map(o=>jc(n,o));return new Xt(r,i)}}function gL(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return jc(n,r,i);return jc(n,r)})}function mL(n){return new li(new vt(n.url),new vt(n.params),new vt(n.queryParams),new vt(n.fragment),new vt(n.data),n.outlet,n.component,n)}var bs=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},CT="ngNavigationCancelingError";function wf(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=_s(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=DT(!1,Mt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function DT(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[CT]=!0,t.cancellationCode=e,t}function yL(n){return TT(n)&&_s(n.url)}function TT(n){return!!n&&n[CT]}var av=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Jy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ms(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ms(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ms(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ms(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new vf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new mf(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Jy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Jy(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},bf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},vs=class{component;route;constructor(e,t){this.component=e,this.route=t}};function vL(n,e,t){let r=n._root,i=e?e._root:null;return Mc(r,i,t,[r.value])}function _L(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ts(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Lg(n)?n:e.get(n):r}function Mc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ms(e);return n.children.forEach(s=>{EL(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>kc(a,t.getContext(s),i)),i}function EL(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=IL(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new bf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Mc(n,e,a?a.children:null,r,i):Mc(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new vs(a.outlet.component,s))}else s&&kc(e,a,i),i.canActivateChecks.push(new bf(r)),o.component?Mc(n,null,a?a.children:null,r,i):Mc(n,null,t,r,i);return i}function IL(n,e,t){if(typeof t=="function")return At(e._environmentInjector,()=>t(n,e));switch(t){case"pathParamsChange":return!uo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!uo(n.url,e.url)||!Jn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ov(n,e)||!Jn(n.queryParams,e.queryParams);default:return!ov(n,e)}}function kc(n,e,t){let r=ms(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?kc(s,e.children.getContext(o),t):kc(s,null,t):kc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new vs(e.outlet.component,i)):t.canDeactivateChecks.push(new vs(null,i)):t.canDeactivateChecks.push(new vs(null,i))}function zc(n){return typeof n=="function"}function wL(n){return typeof n=="boolean"}function bL(n){return n&&zc(n.canLoad)}function CL(n){return n&&zc(n.canActivate)}function DL(n){return n&&zc(n.canActivateChild)}function TL(n){return n&&zc(n.canDeactivate)}function SL(n){return n&&zc(n.canMatch)}function ST(n){return n instanceof Fi||n?.name==="EmptyError"}var tf=Symbol("INITIAL_VALUE");function Cs(){return fr(n=>mg(n.map(e=>e.pipe(lr(1),_g(tf)))).pipe(Oe(e=>{for(let t of e)if(t!==!0){if(t===tf)return tf;if(t===!1||AL(t))return t}return!0}),ur(e=>e!==tf),lr(1)))}function AL(n){return _s(n)||n instanceof bs}function AT(n){return n.aborted?me(void 0).pipe(lr(1)):new _e(e=>{let t=()=>{e.next(),e.complete()};return n.addEventListener("abort",t),()=>n.removeEventListener("abort",t)})}function RT(n){return ja(AT(n))}function RL(n){return Lt(e=>{let{targetSnapshot:t,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:o}}=e;return o.length===0&&i.length===0?me($(k({},e),{guardsResult:!0})):xL(o,t,r).pipe(Lt(s=>s&&wL(s)?ML(t,i,n):me(s)),Oe(s=>$(k({},e),{guardsResult:s})))})}function xL(n,e,t){return Ke(n).pipe(Lt(r=>FL(r.component,r.route,t,e)),dr(r=>r!==!0,!0))}function ML(n,e,t){return Ke(e).pipe(Pl(r=>Jo(PL(r.route.parent,t),NL(r.route,t),OL(n,r.path),kL(n,r.route))),dr(r=>r!==!0,!0))}function NL(n,e){return n!==null&&e&&e(new yf(n)),me(!0)}function PL(n,e){return n!==null&&e&&e(new gf(n)),me(!0)}function kL(n,e){let t=e.routeConfig?e.routeConfig.canActivate:null;if(!t||t.length===0)return me(!0);let r=t.map(i=>La(()=>{let o=e._environmentInjector,s=Ts(i,o),a=CL(s)?s.canActivate(e,n):At(o,()=>s(e,n));return go(a).pipe(dr())}));return me(r).pipe(Cs())}function OL(n,e){let t=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(o=>_L(o)).filter(o=>o!==null).map(o=>La(()=>{let s=o.guards.map(a=>{let u=o.node._environmentInjector,l=Ts(a,u),f=DL(l)?l.canActivateChild(t,n):At(u,()=>l(t,n));return go(f).pipe(dr())});return me(s).pipe(Cs())}));return me(i).pipe(Cs())}function FL(n,e,t,r){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return me(!0);let o=i.map(s=>{let a=e._environmentInjector,u=Ts(s,a),l=TL(u)?u.canDeactivate(n,e,t,r):At(a,()=>u(n,e,t,r));return go(l).pipe(dr())});return me(o).pipe(Cs())}function LL(n,e,t,r,i){let o=e.canLoad;if(o===void 0||o.length===0)return me(!0);let s=o.map(a=>{let u=Ts(a,n),l=bL(u)?u.canLoad(e,t):At(n,()=>u(e,t)),f=go(l);return i?f.pipe(RT(i)):f});return me(s).pipe(Cs(),xT(r))}function xT(n){return fg(Ln(e=>{if(typeof e!="boolean")throw wf(n,e)}),Oe(e=>e===!0))}function VL(n,e,t,r,i){let o=e.canMatch;if(!o||o.length===0)return me(!0);let s=o.map(a=>{let u=Ts(a,n),l=SL(u)?u.canMatch(e,t):At(n,()=>u(e,t));return go(l).pipe(RT(i))});return me(s).pipe(Cs(),xT(r))}var Cr=class n extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,n.prototype)}},Uc=class n extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,n.prototype)}};function jL(n){throw new z(4e3,!1)}function UL(n){throw DT(!1,Mt.GuardRejected)}var cv=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}async lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[re])throw jL(`${e.redirectTo}`);i=i.children[re]}}async applyRedirectCommands(e,t,r,i,o){let s=await BL(t,i,o);if(s instanceof Sn)throw new Uc(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Uc(a);return a}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Sn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new De(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new z(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function BL(n,e,t){if(typeof n=="string")return Promise.resolve(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:f,title:p,paramMap:g,queryParamMap:y}=e;return sf(go(At(t,()=>r({params:l,data:f,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p,paramMap:g,queryParamMap:y}))))}function HL(n,e){return n.providers&&!n._injector&&(n._injector=vc(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Tn(n){return n.outlet||re}function $L(n,e){let t=n.filter(r=>Tn(r)===e);return t.push(...n.filter(r=>Tn(r)!==e)),t}var uv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zL(n,e,t,r,i,o){let s=MT(n,e,t);return s.matched?(r=HL(e,r),VL(r,e,t,i,o).pipe(Oe(a=>a===!0?s:k({},uv)))):me(s)}function MT(n,e,t){if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?k({},uv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||rT)(t,n,e);if(!i)return k({},uv);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?k(k({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function XD(n,e,t,r){return t.length>0&&WL(n,t,r)?{segmentGroup:new De(e,GL(r,new De(t,n.children))),slicedSegments:[]}:t.length===0&&KL(n,t,r)?{segmentGroup:new De(n.segments,qL(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new De(n.segments,n.children),slicedSegments:t}}function qL(n,e,t,r){let i={};for(let o of t)if(Tf(n,e,o)&&!r[Tn(o)]){let s=new De([],{});i[Tn(o)]=s}return k(k({},r),i)}function GL(n,e){let t={};t[re]=e;for(let r of n)if(r.path===""&&Tn(r)!==re){let i=new De([],{});t[Tn(r)]=i}return t}function WL(n,e,t){return t.some(r=>Tf(n,e,r)&&Tn(r)!==re)}function KL(n,e,t){return t.some(r=>Tf(n,e,r))}function Tf(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function QL(n,e,t){return e.length===0&&!n.children[t]}var lv=class{};async function YL(n,e,t,r,i,o,s="emptyOnly",a){return new dv(n,e,t,r,i,s,o,a).recognize()}var JL=31,dv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a,u){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=u,this.applyRedirects=new cv(this.urlSerializer,this.urlTree)}noMatchError(e){return new z(4002,`'${e.segmentGroup}'`)}async recognize(){let e=XD(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:r}=await this.match(e),i=new Xt(r,t),o=new Vc("",i),s=pT(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}async match(e){let t=new lo([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),re,this.rootComponentType,null,{},this.injector);try{return{children:await this.processSegmentGroup(this.injector,this.config,e,re,t),rootSnapshot:t}}catch(r){if(r instanceof Uc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Cr?this.noMatchError(r):r}}async processSegmentGroup(e,t,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,t,r,o);let s=await this.processSegment(e,t,r,r.segments,i,!0,o);return s instanceof Xt?[s]:[]}async processChildren(e,t,r,i){let o=[];for(let u of Object.keys(r.children))u==="primary"?o.unshift(u):o.push(u);let s=[];for(let u of o){let l=r.children[u],f=$L(t,u),p=await this.processSegmentGroup(e,f,l,u,i);s.push(...p)}let a=NT(s);return ZL(a),a}async processSegment(e,t,r,i,o,s,a){for(let u of t)try{return await this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a)}catch(l){if(l instanceof Cr||ST(l))continue;throw l}if(QL(r,i,o))return new lv;throw new Cr(r)}async processSegmentAgainstRoute(e,t,r,i,o,s,a,u){if(Tn(r)!==s&&(s===re||!Tf(i,o,r)))throw new Cr(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,o,s,u);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u);throw new Cr(i)}async expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:g}=MT(t,i,o);if(!u)throw new Cr(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>JL&&(this.allowRedirects=!1));let y=new lo(o,l,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,eT(i),Tn(i),i.component??i._loadedComponent??null,i,tT(i),e),x=If(y,a,this.paramsInheritanceStrategy);if(y.params=Object.freeze(x.params),y.data=Object.freeze(x.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let O=await this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,y,e),A=await this.applyRedirects.lineralizeSegments(i,O);return this.processSegment(e,r,t,A.concat(g),s,!1,a)}async matchSegmentAgainstRoute(e,t,r,i,o,s){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await sf(zL(t,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(t.children={}),!a?.matched)throw new Cr(t);e=r._injector??e;let{routes:u}=await this.getChildConfig(e,r,i),l=r._loadedInjector??e,{parameters:f,consumedSegments:p,remainingSegments:g}=a,y=new lo(p,f,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,eT(r),Tn(r),r.component??r._loadedComponent??null,r,tT(r),e),x=If(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(x.params),y.data=Object.freeze(x.data);let{segmentGroup:O,slicedSegments:A}=XD(t,p,g,u);if(A.length===0&&O.hasChildren()){let be=await this.processChildren(l,u,O,y);return new Xt(y,be)}if(u.length===0&&A.length===0)return new Xt(y,[]);let P=Tn(r)===o,ee=await this.processSegment(l,u,O,A,P?re:o,!0,y);return new Xt(y,ee instanceof Xt?[ee]:[])}async getChildConfig(e,t,r){if(t.children)return{routes:t.children,injector:e};if(t.loadChildren){if(t._loadedRoutes!==void 0){let o=t._loadedNgModuleFactory;return o&&!t._loadedInjector&&(t._loadedInjector=o.create(e).injector),{routes:t._loadedRoutes,injector:t._loadedInjector}}if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await sf(LL(e,t,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(e,t);return t._loadedRoutes=o.routes,t._loadedInjector=o.injector,t._loadedNgModuleFactory=o.factory,o}throw UL(t)}return{routes:[],injector:e}}};function ZL(n){n.sort((e,t)=>e.value.outlet===re?-1:t.value.outlet===re?1:e.value.outlet.localeCompare(t.value.outlet))}function XL(n){let e=n.value.routeConfig;return e&&e.path===""}function NT(n){let e=[],t=new Set;for(let r of n){if(!XL(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=NT(r.children);e.push(new Xt(r.value,i))}return e.filter(r=>!t.has(r))}function eT(n){return n.data||{}}function tT(n){return n.resolve||{}}function eV(n,e,t,r,i,o,s){return Lt(async a=>{let{state:u,tree:l}=await YL(n,e,t,r,a.extractedUrl,i,o,s);return $(k({},a),{targetSnapshot:u,urlAfterRedirects:l})})}function tV(n){return Lt(e=>{let{targetSnapshot:t,guards:{canActivateChecks:r}}=e;if(!r.length)return me(e);let i=new Set(r.map(a=>a.route)),o=new Set;for(let a of i)if(!o.has(a))for(let u of PT(a))o.add(u);let s=0;return Ke(o).pipe(Pl(a=>i.has(a)?nV(a,t,n):(a.data=If(a,a.parent,n).resolve,me(void 0))),Ln(()=>s++),kl(1),Lt(a=>s===o.size?me(e):_t))})}function PT(n){let e=n.children.map(t=>PT(t)).flat();return[n,...e]}function nV(n,e,t){let r=n.routeConfig,i=n._resolve;return r?.title!==void 0&&!wT(r)&&(i[Bc]=r.title),La(()=>(n.data=If(n,n.parent,t).resolve,rV(i,n,e).pipe(Oe(o=>(n._resolvedData=o,n.data=k(k({},n.data),o),null)))))}function rV(n,e,t){let r=Xy(n);if(r.length===0)return me({});let i={};return Ke(r).pipe(Lt(o=>iV(n[o],e,t).pipe(dr(),Ln(s=>{if(s instanceof bs)throw wf(new ui,s);i[o]=s}))),kl(1),Oe(()=>i),Va(o=>ST(o)?_t:gg(o)))}function iV(n,e,t){let r=e._environmentInjector,i=Ts(n,r),o=i.resolve?i.resolve(e,t):At(r,()=>i(e,t));return go(o)}function nT(n){return fr(e=>{let t=n(e);return t?Ke(t).pipe(Oe(()=>e)):me(e)})}var gv=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===re);return r}getResolvedTitleForRoute(t){return t.data[Bc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>j(kT),providedIn:"root"})}return n})(),kT=(()=>{class n extends gv{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(ue(WD))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qc=new q("",{factory:()=>({})}),Gc=new q(""),OT=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=j(Sy);async loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await oT(At(t,()=>r.loadComponent())),s=await VT(LT(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s,s}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await FT(r,this.compiler,t,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,r._loadedNgModuleFactory=o.factory,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();async function FT(n,e,t,r){let i=await oT(At(t,()=>n.loadChildren())),o=await VT(LT(i)),s;o instanceof Od||Array.isArray(o)?s=o:s=await e.compileModuleAsync(o),r&&r(n);let a,u,l=!1,f;return Array.isArray(s)?(u=s,l=!0):(a=s.create(t).injector,f=s,u=a.get(Gc,[],{optional:!0,self:!0}).flat()),{routes:u.map(pv),injector:a,factory:f}}function oV(n){return n&&typeof n=="object"&&"default"in n}function LT(n){return oV(n)?n.default:n}async function VT(n){return n}var Sf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>j(sV),providedIn:"root"})}return n})(),sV=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jT=new q("");var aV=()=>{},UT=new q(""),BT=(()=>{class n{currentNavigation=de(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=de(null);events=new ct;transitionAbortWithErrorSubject=new ct;configLoader=j(OT);environmentInjector=j(tt);destroyRef=j($n);urlSerializer=j(Hc);rootContexts=j(Ds);location=j(gs);inputBindingEnabled=j(Df,{optional:!0})!==null;titleStrategy=j(gv);options=j(qc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=j(Sf);createViewTransition=j(jT,{optional:!0});navigationErrorHandler=j(UT,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>me(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new hf(i)),r=i=>this.events.next(new pf(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;lt(()=>{this.transitions?.next($(k({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(t){return this.transitions=new vt(null),this.transitions.pipe(ur(r=>r!==null),fr(r=>{let i=!1,o=new AbortController,s=()=>!i&&this.currentTransition?.id===r.id;return me(r).pipe(fr(a=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Mt.SupersededByNewNavigation),_t;this.currentTransition=r;let u=this.lastSuccessfulNavigation();this.currentNavigation.set({id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:u?$(k({},u),{previousNavigation:null}):null,abort:()=>o.abort()});let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=a.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&f!=="reload")return this.events.next(new Tr(a.id,this.urlSerializer.serialize(a.rawUrl),"",Fc.IgnoredSameUrlNavigation)),a.resolve(!1),_t;if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return me(a).pipe(fr(p=>(this.events.next(new ho(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),p.id!==this.navigationId?_t:Promise.resolve(p))),eV(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),Ln(p=>{r.targetSnapshot=p.targetSnapshot,r.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation.update(y=>(y.finalUrl=p.urlAfterRedirects,y));let g=new Es(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:p,extractedUrl:g,source:y,restoredState:x,extras:O}=a,A=new ho(p,this.urlSerializer.serialize(g),y,x);this.events.next(A);let P=ET(this.rootComponentType,this.environmentInjector).snapshot;return this.currentTransition=r=$(k({},a),{targetSnapshot:P,urlAfterRedirects:g,extras:$(k({},O),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(ee=>(ee.finalUrl=g,ee)),me(r)}else return this.events.next(new Tr(a.id,this.urlSerializer.serialize(a.extractedUrl),"",Fc.IgnoredByUrlHandlingStrategy)),a.resolve(!1),_t}),Oe(a=>{let u=new uf(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);return this.events.next(u),this.currentTransition=r=$(k({},a),{guards:vL(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),r}),RL(a=>this.events.next(a)),fr(a=>{if(r.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw wf(this.urlSerializer,a.guardsResult);let u=new lf(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);if(this.events.next(u),!s())return _t;if(!a.guardsResult)return this.cancelNavigationTransition(a,"",Mt.GuardRejected),_t;if(a.guards.canActivateChecks.length===0)return me(a);let l=new df(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);if(this.events.next(l),!s())return _t;let f=!1;return me(a).pipe(tV(this.paramsInheritanceStrategy),Ln({next:()=>{f=!0;let p=new ff(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(p)},complete:()=>{f||this.cancelNavigationTransition(a,"",Mt.NoDataFromResolver)}}))}),nT(a=>{let u=f=>{let p=[];if(f.routeConfig?._loadedComponent)f.component=f.routeConfig?._loadedComponent;else if(f.routeConfig?.loadComponent){let g=f._environmentInjector;p.push(this.configLoader.loadComponent(g,f.routeConfig).then(y=>{f.component=y}))}for(let g of f.children)p.push(...u(g));return p},l=u(a.targetSnapshot.root);return l.length===0?me(a):Ke(Promise.all(l).then(()=>a))}),nT(()=>this.afterPreactivation()),fr(()=>{let{currentSnapshot:a,targetSnapshot:u}=r,l=this.createViewTransition?.(this.environmentInjector,a.root,u.root);return l?Ke(l).pipe(Oe(()=>r)):me(r)}),lr(1),Oe(a=>{let u=pL(t.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);this.currentTransition=r=a=$(k({},a),{targetRouterState:u}),this.currentNavigation.update(l=>(l.targetRouterState=u,l)),this.events.next(new Is),s()&&(new av(t.routeReuseStrategy,r.targetRouterState,r.currentRouterState,l=>this.events.next(l),this.inputBindingEnabled).activate(this.rootContexts),s()&&(i=!0,this.currentNavigation.update(l=>(l.abort=aV,l)),this.lastSuccessfulNavigation.set(lt(this.currentNavigation)),this.events.next(new Dr(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)))}),ja(AT(o.signal).pipe(ur(()=>!i&&!r.targetRouterState),Ln(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",Mt.Aborted)}))),Ln({complete:()=>{i=!0}}),ja(this.transitionAbortWithErrorSubject.pipe(Ln(a=>{throw a}))),vg(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",Mt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Va(a=>{if(i=!0,this.destroyed)return r.resolve(!1),_t;if(TT(a))this.events.next(new dn(r.id,this.urlSerializer.serialize(r.extractedUrl),a.message,a.cancellationCode)),yL(a)?this.events.next(new ws(a.url,a.navigationBehaviorOptions)):r.resolve(!1);else{let u=new po(r.id,this.urlSerializer.serialize(r.extractedUrl),a,r.targetSnapshot??void 0);try{let l=At(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(l instanceof bs){let{message:f,cancellationCode:p}=wf(this.urlSerializer,l);this.events.next(new dn(r.id,this.urlSerializer.serialize(r.extractedUrl),f,p)),this.events.next(new ws(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(u),a}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return _t}))}))}cancelNavigationTransition(t,r,i){let o=new dn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=lt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cV(n){return n!==Pc}var HT=new q("");var $T=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>j(uV),providedIn:"root"})}return n})(),Cf=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}shouldDestroyInjector(e){return!0}},uV=(()=>{class n extends Cf{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ro(n)))(i||n)}})();static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mv=(()=>{class n{urlSerializer=j(Hc);options=j(qc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=j(gs);urlHandlingStrategy=j(Sf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Sn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Sn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=ET(null,j(tt));getRouterState(){return this.routerState}_stateMemento=this.createStateMemento();get stateMemento(){return this._stateMemento}updateStateMemento(){this._stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}restoredState(){return this.location.getState()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:()=>j(lV),providedIn:"root"})}return n})(),lV=(()=>{class n extends mv{currentPageId=0;lastSuccessfulId=-1;get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof ho?this.updateStateMemento():t instanceof Tr?this.commitTransition(r):t instanceof Es?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Is?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof dn&&!_T(t)?this.restoreHistory(r):t instanceof po?this.restoreHistory(r,!0):t instanceof Dr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=k(k({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=k(k({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ro(n)))(i||n)}})();static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yv(n,e){n.events.pipe(ur(t=>t instanceof Dr||t instanceof dn||t instanceof po||t instanceof Tr),Oe(t=>t instanceof Dr||t instanceof Tr?0:(t instanceof dn?t.code===Mt.Redirect||t.code===Mt.SupersededByNewNavigation:!1)?2:1),ur(t=>t!==2),lr(1)).subscribe(()=>{e()})}var zT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},di=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=j(Iy);stateManager=j(mv);options=j(qc,{optional:!0})||{};pendingTasks=j(ti);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=j(BT);urlSerializer=j(Hc);location=j(gs);urlHandlingStrategy=j(Sf);injector=j(tt);_events=new ct;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=j($T);injectorCleanup=j(HT,{optional:!0});onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=j(Gc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!j(Df,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{}}),this.subscribeToNavigationEvents()}eventsSubscription=new yt;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=lt(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof dn&&r.code!==Mt.Redirect&&r.code!==Mt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Dr)this.navigated=!0,this.injectorCleanup?.(this.routeReuseStrategy,this.routerState,this.config);else if(r instanceof ws){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=k({scroll:i.extras.scroll,browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||cV(i.source)},s);this.scheduleNavigation(a,Pc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}fL(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Pc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=k({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(zn)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return lt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(pv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f=k(k({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=gT(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return mT(p,t,f,l??null,this.urlSerializer)}navigateByUrl(t,r={skipLocationChange:!1}){let i=_s(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Pc,null,r)}navigate(t,r={skipLocationChange:!1}){return dV(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Hi(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=k({},zT):r===!1?i=k({},qT):i=r,_s(t))return KD(this.currentUrlTree,t,i);let o=this.parseUrl(t);return KD(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let f=this.pendingTasks.add();return yv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dV(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new z(4008,!1)}var pV=new q("");function vv(n,...e){return Wa([{provide:Gc,multi:!0,useValue:n},[],{provide:li,useFactory:gV},{provide:Fd,multi:!0,useFactory:mV},e.map(t=>t.\u0275providers)])}function gV(){return j(di).routerState.root}function mV(){let n=j(Qt);return e=>{let t=n.get(so);if(e!==t.components[0])return;let r=n.get(di),i=n.get(yV);n.get(vV)===1&&r.initialNavigation(),n.get(_V,null,{optional:!0})?.setUpPreloading(),n.get(pV,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var yV=new q("",{factory:()=>new ct}),vV=new q("",{factory:()=>1});var _V=new q("");var Af=class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=Dn({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&ne(0,"router-outlet")},dependencies:[$c],encapsulation:2})}};var tS=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(ge(io),ge(ri))};static \u0275dir=rt({type:n})}return n})(),IV=(()=>{class n extends tS{static \u0275fac=(()=>{let t;return function(i){return(t||(t=ro(n)))(i||n)}})();static \u0275dir=rt({type:n,features:[Kn]})}return n})(),nS=new q("");var wV={provide:nS,useExisting:mr(()=>hi),multi:!0};function bV(){let n=ln()?ln().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var CV=new q(""),hi=(()=>{class n extends tS{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!bV())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(ge(io),ge(ri),ge(CV,8))};static \u0275dir=rt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&we("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[ps([wV]),Kn]})}return n})();function DV(n){return n==null||TV(n)===0}function TV(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Iv=new q(""),rS=new q("");function SV(n){return DV(n.value)?{required:!0}:null}function WT(n){return null}function iS(n){return n!=null}function oS(n){return oi(n)?Ke(n):n}function sS(n){let e={};return n.forEach(t=>{e=t!=null?k(k({},e),t):e}),Object.keys(e).length===0?null:e}function aS(n,e){return e.map(t=>t(n))}function AV(n){return!n.validate}function cS(n){return n.map(e=>AV(e)?e:t=>e.validate(t))}function RV(n){if(!n)return null;let e=n.filter(iS);return e.length==0?null:function(t){return sS(aS(t,e))}}function wv(n){return n!=null?RV(cS(n)):null}function xV(n){if(!n)return null;let e=n.filter(iS);return e.length==0?null:function(t){let r=aS(t,e).map(oS);return yg(r).pipe(Oe(sS))}}function bv(n){return n!=null?xV(cS(n)):null}function KT(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function MV(n){return n._rawValidators}function NV(n){return n._rawAsyncValidators}function _v(n){return n?Array.isArray(n)?n:[n]:[]}function xf(n,e){return Array.isArray(n)?n.includes(e):n===e}function QT(n,e){let t=_v(e);return _v(n).forEach(i=>{xf(t,i)||t.push(i)}),t}function YT(n,e){return _v(e).filter(t=>!xf(n,t))}var Mf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=wv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=bv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Rs=class extends Mf{name;get formDirective(){return null}get path(){return null}},Zc=class extends Mf{_parent=null;name=null;valueAccessor=null},Nf=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var xs=(()=>{class n extends Nf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ge(Zc,2))};static \u0275dir=rt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&je("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Kn]})}return n})(),Lf=(()=>{class n extends Nf{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ge(Rs,10))};static \u0275dir=rt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&je("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Kn]})}return n})();var Wc="VALID",Rf="INVALID",Ss="PENDING",Kc="DISABLED",fi=class{},Pf=class extends fi{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Yc=class extends fi{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Jc=class extends fi{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},As=class extends fi{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Ev=class extends fi{source;constructor(e){super(),this.source=e}},kf=class extends fi{source;constructor(e){super(),this.source=e}};function uS(n){return(Vf(n)?n.validators:n)||null}function PV(n){return Array.isArray(n)?wv(n):n||null}function lS(n,e){return(Vf(e)?e.asyncValidators:n)||null}function kV(n){return Array.isArray(n)?bv(n):n||null}function Vf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function OV(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new z(1e3,"");if(!r[t])throw new z(1001,"")}function FV(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new z(1002,"")})}var Of=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return lt(this.statusReactive)}set status(e){lt(()=>this.statusReactive.set(e))}_status=ao(()=>this.statusReactive());statusReactive=de(void 0);get valid(){return this.status===Wc}get invalid(){return this.status===Rf}get pending(){return this.status==Ss}get disabled(){return this.status===Kc}get enabled(){return this.status!==Kc}errors;get pristine(){return lt(this.pristineReactive)}set pristine(e){lt(()=>this.pristineReactive.set(e))}_pristine=ao(()=>this.pristineReactive());pristineReactive=de(!0);get dirty(){return!this.pristine}get touched(){return lt(this.touchedReactive)}set touched(e){lt(()=>this.touchedReactive.set(e))}_touched=ao(()=>this.touchedReactive());touchedReactive=de(!1);get untouched(){return!this.touched}_events=new ct;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(QT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(QT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(YT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(YT(e,this._rawAsyncValidators))}hasValidator(e){return xf(this._rawValidators,e)}hasAsyncValidator(e){return xf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched($(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Jc(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Jc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty($(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Yc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Yc(!0,r))}markAsPending(e={}){this.status=Ss;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new As(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending($(k({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Kc,this.errors=null,this._forEachChild(i=>{i.disable($(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Pf(this.value,r)),this._events.next(new As(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors($(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Wc,this._forEachChild(r=>{r.enable($(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors($(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wc||this.status===Ss)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Pf(this.value,t)),this._events.next(new As(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity($(k({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Kc:Wc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ss,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=oS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new As(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Qe,this.statusChanges=new Qe}_calculateStatus(){return this._allControlsDisabled()?Kc:this.errors?Rf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ss)?Ss:this._anyControlsHaveStatus(Rf)?Rf:Wc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Yc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Jc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Vf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=PV(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=kV(this._rawAsyncValidators)}},Ff=class extends Of{constructor(e,t,r){super(uS(t),lS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){FV(this,!0,e),Object.keys(e).forEach(r=>{OV(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,$(k({},t),{onlySelf:!0}))}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new kf(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Cv=new q("",{factory:()=>Dv}),Dv="always";function LV(n,e){return[...e.path,n]}function dS(n,e,t=Dv){fS(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),jV(n,e),BV(n,e),UV(n,e),VV(n,e)}function JT(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function VV(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function fS(n,e){let t=MV(n);e.validator!==null?n.setValidators(KT(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=NV(n);e.asyncValidator!==null?n.setAsyncValidators(KT(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();JT(e._rawValidators,i),JT(e._rawAsyncValidators,i)}function jV(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&hS(n,e)})}function UV(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&hS(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function hS(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function BV(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function HV(n,e){n==null,fS(n,e)}function $V(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function zV(n){return Object.getPrototypeOf(n.constructor)===IV}function qV(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function GV(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===hi?t=o:zV(o)?r=o:i=o}),i||r||t||null}var WV={provide:Rs,useExisting:mr(()=>Xc)},Qc=Promise.resolve(),Xc=(()=>{class n extends Rs{callSetDisabledState;get submitted(){return lt(this.submittedReactive)}_submitted=ao(()=>this.submittedReactive());submittedReactive=de(!1);_directives=new Set;form;ngSubmit=new Qe;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Ff({},wv(t),bv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Qc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),dS(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Qc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Qc.then(()=>{let r=this._findContainer(t.path),i=new Ff({});HV(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Qc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Qc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),qV(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new Ev(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(ge(Iv,10),ge(rS,10),ge(Cv,8))};static \u0275dir=rt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&we("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ps([WV]),Kn]})}return n})();function ZT(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function XT(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var KV=class extends Of{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(uS(t),lS(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(XT(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),t.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new kf(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ZT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ZT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){XT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var QV={provide:Zc,useExisting:mr(()=>mo)},eS=Promise.resolve(),mo=(()=>{class n extends Zc{_changeDetectorRef;callSetDisabledState;control=new KV;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Qe;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=GV(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),$V(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){dS(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){eS.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&br(r);eS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?LV(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(ge(Rs,9),ge(Iv,10),ge(rS,10),ge(nS,10),ge(co,8),ge(Cv,8))};static \u0275dir=rt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ps([QV]),Kn,wr]})}return n})();var jf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=rt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var YV=(()=>{class n{_validator=WT;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):WT,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=rt({type:n,features:[wr]})}return n})();var JV={provide:Iv,useExisting:mr(()=>eu),multi:!0};var eu=(()=>{class n extends YV{required;inputName="required";normalizeInput=br;createValidator=t=>SV;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=ro(n)))(i||n)}})();static \u0275dir=rt({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ld("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ps([JV]),Kn]})}return n})();var ZV=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ii({type:n});static \u0275inj=yr({})}return n})();var Ms=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Cv,useValue:t.callSetDisabledState??Dv}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ii({type:n});static \u0275inj=yr({imports:[ZV]})}return n})();var pS=()=>{};var yS=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},XV=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},vS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,f=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(t[f],t[p],t[g],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(yS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):XV(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Av;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let x=l<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Av=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},e2=function(n){let e=yS(n);return vS.encodeByteArray(e,!0)},nu=function(n){return e2(n).replace(/\./g,"")},Bf=function(n){try{return vS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _S(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var t2=()=>_S().__FIREBASE_DEFAULTS__,n2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},r2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Bf(n[1]);return e&&JSON.parse(e)},Hf=()=>{try{return pS()||t2()||n2()||r2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},xv=n=>Hf()?.emulatorHosts?.[n],ES=n=>{let e=xv(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Mv=()=>Hf()?.config,Nv=n=>Hf()?.[`_${n}`];var Uf=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function pi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $f(n){return(await fetch(n,{credentials:"include"})).ok}function IS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=k({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[nu(JSON.stringify(t)),nu(JSON.stringify(s)),""].join(".")}var tu={};function i2(){let n={prod:[],emulator:[]};for(let e of Object.keys(tu))tu[e]?n.emulator.push(e):n.prod.push(e);return n}function o2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var gS=!1;function zf(n,e){if(typeof window>"u"||typeof document>"u"||!pi(window.location.host)||tu[n]===e||tu[n]||gS)return;tu[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=i2().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{gS=!0,s()},g}function f(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=o2(r),y=t("text"),x=document.getElementById(y)||document.createElement("span"),O=t("learnmore"),A=document.getElementById(O)||document.createElement("a"),P=t("preprendIcon"),ee=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let be=g.element;a(be),f(A,O);let qt=l();u(ee,P),be.append(ee,x,A,qt),document.body.appendChild(be)}o?(x.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function ft(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ft())}function s2(){let n=Hf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CS(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function DS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TS(){let n=ft();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function SS(){return!s2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pv(){try{return typeof indexedDB=="object"}catch{return!1}}function AS(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}var a2="FirebaseError",tn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=a2,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sr.prototype.create)}},Sr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?c2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new tn(i,a,r)}};function c2(n,e){return n.replace(u2,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var u2=/\{\$([^}]+)}/g;function RS(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function An(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(mS(o)&&mS(s)){if(!An(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function mS(n){return n!==null&&typeof n=="object"}function Ns(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ps(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ks(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function xS(n,e){let t=new Rv(n,e);return t.subscribe.bind(t)}var Rv=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");l2(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Sv),i.error===void 0&&(i.error=Sv),i.complete===void 0&&(i.complete=Sv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function l2(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Sv(){}var ite=14400*1e3;function Ye(n){return n&&n._delegate?n._delegate:n}var fn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var yo="[DEFAULT]";var kv=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Uf;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(f2(e))try{this.getOrInitializeService({instanceIdentifier:yo})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=yo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yo){return this.instances.has(e)}getOptions(e=yo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){let r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:d2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yo){return this.component?this.component.multipleInstances?e:yo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function d2(n){return n===yo?void 0:n}function f2(n){return n.instantiationMode==="EAGER"}var qf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new kv(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var h2=[],fe=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(fe||{}),p2={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},g2=fe.INFO,m2={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},y2=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=m2[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},gi=class{constructor(e){this.name=e,this._logLevel=g2,this._logHandler=y2,this._userLogHandler=null,h2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?p2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}};var v2=(n,e)=>e.some(t=>n instanceof t),MS,NS;function _2(){return MS||(MS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function E2(){return NS||(NS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var PS=new WeakMap,Fv=new WeakMap,kS=new WeakMap,Ov=new WeakMap,Vv=new WeakMap;function I2(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Zn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&PS.set(t,n)}).catch(()=>{}),Vv.set(e,n),e}function w2(n){if(Fv.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Fv.set(n,e)}var Lv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Fv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||kS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Zn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function OS(n){Lv=n(Lv)}function b2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Gf(this),e,...t);return kS.set(r,e.sort?e.sort():[e]),Zn(r)}:E2().includes(n)?function(...e){return n.apply(Gf(this),e),Zn(PS.get(this))}:function(...e){return Zn(n.apply(Gf(this),e))}}function C2(n){return typeof n=="function"?b2(n):(n instanceof IDBTransaction&&w2(n),v2(n,_2())?new Proxy(n,Lv):n)}function Zn(n){if(n instanceof IDBRequest)return I2(n);if(Ov.has(n))return Ov.get(n);let e=C2(n);return e!==n&&(Ov.set(n,e),Vv.set(e,n)),e}var Gf=n=>Vv.get(n);function LS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Zn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Zn(s.result),u.oldVersion,u.newVersion,Zn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var D2=["get","getKey","getAll","getAllKeys","count"],T2=["put","add","delete","clear"],jv=new Map;function FS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(jv.get(e))return jv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=T2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||D2.includes(t)))return;let o=async function(s,...a){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[t](...a),i&&u.done]))[0]};return jv.set(e,o),o}OS(n=>$(k({},n),{get:(e,t,r)=>FS(e,t)||n.get(e,t,r),has:(e,t)=>!!FS(e,t)||n.has(e,t)}));var Bv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(S2(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function S2(n){return n.getComponent()?.type==="VERSION"}var Hv="@firebase/app",VS="0.14.7";var Ar=new gi("@firebase/app"),A2="@firebase/app-compat",R2="@firebase/analytics-compat",x2="@firebase/analytics",M2="@firebase/app-check-compat",N2="@firebase/app-check",P2="@firebase/auth",k2="@firebase/auth-compat",O2="@firebase/database",F2="@firebase/data-connect",L2="@firebase/database-compat",V2="@firebase/functions",j2="@firebase/functions-compat",U2="@firebase/installations",B2="@firebase/installations-compat",H2="@firebase/messaging",$2="@firebase/messaging-compat",z2="@firebase/performance",q2="@firebase/performance-compat",G2="@firebase/remote-config",W2="@firebase/remote-config-compat",K2="@firebase/storage",Q2="@firebase/storage-compat",Y2="@firebase/firestore",J2="@firebase/ai",Z2="@firebase/firestore-compat",X2="firebase",ej="12.8.0";var $v="[DEFAULT]",tj={[Hv]:"fire-core",[A2]:"fire-core-compat",[x2]:"fire-analytics",[R2]:"fire-analytics-compat",[N2]:"fire-app-check",[M2]:"fire-app-check-compat",[P2]:"fire-auth",[k2]:"fire-auth-compat",[O2]:"fire-rtdb",[F2]:"fire-data-connect",[L2]:"fire-rtdb-compat",[V2]:"fire-fn",[j2]:"fire-fn-compat",[U2]:"fire-iid",[B2]:"fire-iid-compat",[H2]:"fire-fcm",[$2]:"fire-fcm-compat",[z2]:"fire-perf",[q2]:"fire-perf-compat",[G2]:"fire-rc",[W2]:"fire-rc-compat",[K2]:"fire-gcs",[Q2]:"fire-gcs-compat",[Y2]:"fire-fst",[Z2]:"fire-fst-compat",[J2]:"fire-vertex","fire-js":"fire-js",[X2]:"fire-js-all"};var Wf=new Map,nj=new Map,zv=new Map;function jS(n,e){try{n.container.addComponent(e)}catch(t){Ar.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function yi(n){let e=n.name;if(zv.has(e))return Ar.debug(`There were multiple attempts to register component ${e}.`),!1;zv.set(e,n);for(let t of Wf.values())jS(t,n);for(let t of nj.values())jS(t,n);return!0}function iu(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ht(n){return n==null?!1:n.settings!==void 0}var rj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mi=new Sr("app","Firebase",rj);var qv=class{constructor(e,t,r){this._isDeleted=!1,this._options=k({},e),this._config=k({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mi.create("app-deleted",{appName:this._name})}};var vi=ej;function ou(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=k({name:$v,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw mi.create("bad-app-name",{appName:String(i)});if(t||(t=Mv()),!t)throw mi.create("no-options");let o=Wf.get(i);if(o){if(An(t,o.options)&&An(r,o.config))return o;throw mi.create("duplicate-app",{appName:i})}let s=new qf(i);for(let u of zv.values())s.addComponent(u);let a=new qv(t,r,s);return Wf.set(i,a),a}function Kf(n=$v){let e=Wf.get(n);if(!e&&n===$v&&Mv())return ou();if(!e)throw mi.create("no-app",{appName:n});return e}function Rn(n,e,t){let r=tj[n]??n;t&&(r+=`-${t}`);let i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){let s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ar.warn(s.join(" "));return}yi(new fn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var ij="firebase-heartbeat-database",oj=1,ru="firebase-heartbeat-store",Uv=null;function $S(){return Uv||(Uv=LS(ij,oj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ru)}catch(t){console.warn(t)}}}}).catch(n=>{throw mi.create("idb-open",{originalErrorMessage:n.message})})),Uv}async function sj(n){try{let t=(await $S()).transaction(ru),r=await t.objectStore(ru).get(zS(n));return await t.done,r}catch(e){if(e instanceof tn)Ar.warn(e.message);else{let t=mi.create("idb-get",{originalErrorMessage:e?.message});Ar.warn(t.message)}}}async function US(n,e){try{let r=(await $S()).transaction(ru,"readwrite");await r.objectStore(ru).put(e,zS(n)),await r.done}catch(t){if(t instanceof tn)Ar.warn(t.message);else{let r=mi.create("idb-set",{originalErrorMessage:t?.message});Ar.warn(r.message)}}}function zS(n){return`${n.name}!${n.options.appId}`}var aj=1024,cj=30,Gv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Wv(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{let t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=BS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>cj){let i=lj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ar.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=BS(),{heartbeatsToSend:t,unsentEntries:r}=uj(this._heartbeatsCache.heartbeats),i=nu(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Ar.warn(e),""}}};function BS(){return new Date().toISOString().substring(0,10)}function uj(n,e=aj){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),HS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),HS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Wv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Pv()?AS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await sj(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return US(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return US(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function HS(n){return nu(JSON.stringify({version:2,heartbeats:n})).length}function lj(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function dj(n){yi(new fn("platform-logger",e=>new Bv(e),"PRIVATE")),yi(new fn("heartbeat",e=>new Gv(e),"PRIVATE")),Rn(Hv,VS,n),Rn(Hv,VS,"esm2020"),Rn("fire-js","")}dj("");var fj="firebase",hj="12.8.0";Rn(fj,hj,"app");var qS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},GS={};var Rr,Kv;(function(){var n;function e(C,v){function w(){}w.prototype=v.prototype,C.F=v.prototype,C.prototype=new w,C.prototype.constructor=C,C.D=function(D,b,R){for(var _=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)_[jt-2]=arguments[jt];return v.prototype[b].apply(D,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,v,w){w||(w=0);let D=Array(16);if(typeof v=="string")for(var b=0;b<16;++b)D[b]=v.charCodeAt(w++)|v.charCodeAt(w++)<<8|v.charCodeAt(w++)<<16|v.charCodeAt(w++)<<24;else for(b=0;b<16;++b)D[b]=v[w++]|v[w++]<<8|v[w++]<<16|v[w++]<<24;v=C.g[0],w=C.g[1],b=C.g[2];let R=C.g[3],_;_=v+(R^w&(b^R))+D[0]+3614090360&4294967295,v=w+(_<<7&4294967295|_>>>25),_=R+(b^v&(w^b))+D[1]+3905402710&4294967295,R=v+(_<<12&4294967295|_>>>20),_=b+(w^R&(v^w))+D[2]+606105819&4294967295,b=R+(_<<17&4294967295|_>>>15),_=w+(v^b&(R^v))+D[3]+3250441966&4294967295,w=b+(_<<22&4294967295|_>>>10),_=v+(R^w&(b^R))+D[4]+4118548399&4294967295,v=w+(_<<7&4294967295|_>>>25),_=R+(b^v&(w^b))+D[5]+1200080426&4294967295,R=v+(_<<12&4294967295|_>>>20),_=b+(w^R&(v^w))+D[6]+2821735955&4294967295,b=R+(_<<17&4294967295|_>>>15),_=w+(v^b&(R^v))+D[7]+4249261313&4294967295,w=b+(_<<22&4294967295|_>>>10),_=v+(R^w&(b^R))+D[8]+1770035416&4294967295,v=w+(_<<7&4294967295|_>>>25),_=R+(b^v&(w^b))+D[9]+2336552879&4294967295,R=v+(_<<12&4294967295|_>>>20),_=b+(w^R&(v^w))+D[10]+4294925233&4294967295,b=R+(_<<17&4294967295|_>>>15),_=w+(v^b&(R^v))+D[11]+2304563134&4294967295,w=b+(_<<22&4294967295|_>>>10),_=v+(R^w&(b^R))+D[12]+1804603682&4294967295,v=w+(_<<7&4294967295|_>>>25),_=R+(b^v&(w^b))+D[13]+4254626195&4294967295,R=v+(_<<12&4294967295|_>>>20),_=b+(w^R&(v^w))+D[14]+2792965006&4294967295,b=R+(_<<17&4294967295|_>>>15),_=w+(v^b&(R^v))+D[15]+1236535329&4294967295,w=b+(_<<22&4294967295|_>>>10),_=v+(b^R&(w^b))+D[1]+4129170786&4294967295,v=w+(_<<5&4294967295|_>>>27),_=R+(w^b&(v^w))+D[6]+3225465664&4294967295,R=v+(_<<9&4294967295|_>>>23),_=b+(v^w&(R^v))+D[11]+643717713&4294967295,b=R+(_<<14&4294967295|_>>>18),_=w+(R^v&(b^R))+D[0]+3921069994&4294967295,w=b+(_<<20&4294967295|_>>>12),_=v+(b^R&(w^b))+D[5]+3593408605&4294967295,v=w+(_<<5&4294967295|_>>>27),_=R+(w^b&(v^w))+D[10]+38016083&4294967295,R=v+(_<<9&4294967295|_>>>23),_=b+(v^w&(R^v))+D[15]+3634488961&4294967295,b=R+(_<<14&4294967295|_>>>18),_=w+(R^v&(b^R))+D[4]+3889429448&4294967295,w=b+(_<<20&4294967295|_>>>12),_=v+(b^R&(w^b))+D[9]+568446438&4294967295,v=w+(_<<5&4294967295|_>>>27),_=R+(w^b&(v^w))+D[14]+3275163606&4294967295,R=v+(_<<9&4294967295|_>>>23),_=b+(v^w&(R^v))+D[3]+4107603335&4294967295,b=R+(_<<14&4294967295|_>>>18),_=w+(R^v&(b^R))+D[8]+1163531501&4294967295,w=b+(_<<20&4294967295|_>>>12),_=v+(b^R&(w^b))+D[13]+2850285829&4294967295,v=w+(_<<5&4294967295|_>>>27),_=R+(w^b&(v^w))+D[2]+4243563512&4294967295,R=v+(_<<9&4294967295|_>>>23),_=b+(v^w&(R^v))+D[7]+1735328473&4294967295,b=R+(_<<14&4294967295|_>>>18),_=w+(R^v&(b^R))+D[12]+2368359562&4294967295,w=b+(_<<20&4294967295|_>>>12),_=v+(w^b^R)+D[5]+4294588738&4294967295,v=w+(_<<4&4294967295|_>>>28),_=R+(v^w^b)+D[8]+2272392833&4294967295,R=v+(_<<11&4294967295|_>>>21),_=b+(R^v^w)+D[11]+1839030562&4294967295,b=R+(_<<16&4294967295|_>>>16),_=w+(b^R^v)+D[14]+4259657740&4294967295,w=b+(_<<23&4294967295|_>>>9),_=v+(w^b^R)+D[1]+2763975236&4294967295,v=w+(_<<4&4294967295|_>>>28),_=R+(v^w^b)+D[4]+1272893353&4294967295,R=v+(_<<11&4294967295|_>>>21),_=b+(R^v^w)+D[7]+4139469664&4294967295,b=R+(_<<16&4294967295|_>>>16),_=w+(b^R^v)+D[10]+3200236656&4294967295,w=b+(_<<23&4294967295|_>>>9),_=v+(w^b^R)+D[13]+681279174&4294967295,v=w+(_<<4&4294967295|_>>>28),_=R+(v^w^b)+D[0]+3936430074&4294967295,R=v+(_<<11&4294967295|_>>>21),_=b+(R^v^w)+D[3]+3572445317&4294967295,b=R+(_<<16&4294967295|_>>>16),_=w+(b^R^v)+D[6]+76029189&4294967295,w=b+(_<<23&4294967295|_>>>9),_=v+(w^b^R)+D[9]+3654602809&4294967295,v=w+(_<<4&4294967295|_>>>28),_=R+(v^w^b)+D[12]+3873151461&4294967295,R=v+(_<<11&4294967295|_>>>21),_=b+(R^v^w)+D[15]+530742520&4294967295,b=R+(_<<16&4294967295|_>>>16),_=w+(b^R^v)+D[2]+3299628645&4294967295,w=b+(_<<23&4294967295|_>>>9),_=v+(b^(w|~R))+D[0]+4096336452&4294967295,v=w+(_<<6&4294967295|_>>>26),_=R+(w^(v|~b))+D[7]+1126891415&4294967295,R=v+(_<<10&4294967295|_>>>22),_=b+(v^(R|~w))+D[14]+2878612391&4294967295,b=R+(_<<15&4294967295|_>>>17),_=w+(R^(b|~v))+D[5]+4237533241&4294967295,w=b+(_<<21&4294967295|_>>>11),_=v+(b^(w|~R))+D[12]+1700485571&4294967295,v=w+(_<<6&4294967295|_>>>26),_=R+(w^(v|~b))+D[3]+2399980690&4294967295,R=v+(_<<10&4294967295|_>>>22),_=b+(v^(R|~w))+D[10]+4293915773&4294967295,b=R+(_<<15&4294967295|_>>>17),_=w+(R^(b|~v))+D[1]+2240044497&4294967295,w=b+(_<<21&4294967295|_>>>11),_=v+(b^(w|~R))+D[8]+1873313359&4294967295,v=w+(_<<6&4294967295|_>>>26),_=R+(w^(v|~b))+D[15]+4264355552&4294967295,R=v+(_<<10&4294967295|_>>>22),_=b+(v^(R|~w))+D[6]+2734768916&4294967295,b=R+(_<<15&4294967295|_>>>17),_=w+(R^(b|~v))+D[13]+1309151649&4294967295,w=b+(_<<21&4294967295|_>>>11),_=v+(b^(w|~R))+D[4]+4149444226&4294967295,v=w+(_<<6&4294967295|_>>>26),_=R+(w^(v|~b))+D[11]+3174756917&4294967295,R=v+(_<<10&4294967295|_>>>22),_=b+(v^(R|~w))+D[2]+718787259&4294967295,b=R+(_<<15&4294967295|_>>>17),_=w+(R^(b|~v))+D[9]+3951481745&4294967295,C.g[0]=C.g[0]+v&4294967295,C.g[1]=C.g[1]+(b+(_<<21&4294967295|_>>>11))&4294967295,C.g[2]=C.g[2]+b&4294967295,C.g[3]=C.g[3]+R&4294967295}r.prototype.v=function(C,v){v===void 0&&(v=C.length);let w=v-this.blockSize,D=this.C,b=this.h,R=0;for(;R<v;){if(b==0)for(;R<=w;)i(this,C,R),R+=this.blockSize;if(typeof C=="string"){for(;R<v;)if(D[b++]=C.charCodeAt(R++),b==this.blockSize){i(this,D),b=0;break}}else for(;R<v;)if(D[b++]=C[R++],b==this.blockSize){i(this,D),b=0;break}}this.h=b,this.o+=v},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var v=1;v<C.length-8;++v)C[v]=0;v=this.o*8;for(var w=C.length-8;w<C.length;++w)C[w]=v&255,v/=256;for(this.v(C),C=Array(16),v=0,w=0;w<4;++w)for(let D=0;D<32;D+=8)C[v++]=this.g[w]>>>D&255;return C};function o(C,v){var w=a;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=v(C)}function s(C,v){this.h=v;let w=[],D=!0;for(let b=C.length-1;b>=0;b--){let R=C[b]|0;D&&R==v||(w[b]=R,D=!1)}this.g=w}var a={};function u(C){return-128<=C&&C<128?o(C,function(v){return new s([v|0],v<0?-1:0)}):new s([C|0],C<0?-1:0)}function l(C){if(isNaN(C)||!isFinite(C))return p;if(C<0)return A(l(-C));let v=[],w=1;for(let D=0;C>=w;D++)v[D]=C/w|0,w*=4294967296;return new s(v,0)}function f(C,v){if(C.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(C.charAt(0)=="-")return A(f(C.substring(1),v));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');let w=l(Math.pow(v,8)),D=p;for(let R=0;R<C.length;R+=8){var b=Math.min(8,C.length-R);let _=parseInt(C.substring(R,R+b),v);b<8?(b=l(Math.pow(v,b)),D=D.j(b).add(l(_))):(D=D.j(w),D=D.add(l(_)))}return D}var p=u(0),g=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(O(this))return-A(this).m();let C=0,v=1;for(let w=0;w<this.g.length;w++){let D=this.i(w);C+=(D>=0?D:4294967296+D)*v,v*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(x(this))return"0";if(O(this))return"-"+A(this).toString(C);let v=l(Math.pow(C,6));var w=this;let D="";for(;;){let b=qt(w,v).g;w=P(w,b.j(v));let R=((w.g.length>0?w.g[0]:w.h)>>>0).toString(C);if(w=b,x(w))return R+D;for(;R.length<6;)R="0"+R;D=R+D}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function x(C){if(C.h!=0)return!1;for(let v=0;v<C.g.length;v++)if(C.g[v]!=0)return!1;return!0}function O(C){return C.h==-1}n.l=function(C){return C=P(this,C),O(C)?-1:x(C)?0:1};function A(C){let v=C.g.length,w=[];for(let D=0;D<v;D++)w[D]=~C.g[D];return new s(w,~C.h).add(g)}n.abs=function(){return O(this)?A(this):this},n.add=function(C){let v=Math.max(this.g.length,C.g.length),w=[],D=0;for(let b=0;b<=v;b++){let R=D+(this.i(b)&65535)+(C.i(b)&65535),_=(R>>>16)+(this.i(b)>>>16)+(C.i(b)>>>16);D=_>>>16,R&=65535,_&=65535,w[b]=_<<16|R}return new s(w,w[w.length-1]&-2147483648?-1:0)};function P(C,v){return C.add(A(v))}n.j=function(C){if(x(this)||x(C))return p;if(O(this))return O(C)?A(this).j(A(C)):A(A(this).j(C));if(O(C))return A(this.j(A(C)));if(this.l(y)<0&&C.l(y)<0)return l(this.m()*C.m());let v=this.g.length+C.g.length,w=[];for(var D=0;D<2*v;D++)w[D]=0;for(D=0;D<this.g.length;D++)for(let b=0;b<C.g.length;b++){let R=this.i(D)>>>16,_=this.i(D)&65535,jt=C.i(b)>>>16,Br=C.i(b)&65535;w[2*D+2*b]+=_*Br,ee(w,2*D+2*b),w[2*D+2*b+1]+=R*Br,ee(w,2*D+2*b+1),w[2*D+2*b+1]+=_*jt,ee(w,2*D+2*b+1),w[2*D+2*b+2]+=R*jt,ee(w,2*D+2*b+2)}for(C=0;C<v;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=v;C<2*v;C++)w[C]=0;return new s(w,0)};function ee(C,v){for(;(C[v]&65535)!=C[v];)C[v+1]+=C[v]>>>16,C[v]&=65535,v++}function be(C,v){this.g=C,this.h=v}function qt(C,v){if(x(v))throw Error("division by zero");if(x(C))return new be(p,p);if(O(C))return v=qt(A(C),v),new be(A(v.g),A(v.h));if(O(v))return v=qt(C,A(v)),new be(A(v.g),v.h);if(C.g.length>30){if(O(C)||O(v))throw Error("slowDivide_ only works with positive integers.");for(var w=g,D=v;D.l(C)<=0;)w=mn(w),D=mn(D);var b=mt(w,1),R=mt(D,1);for(D=mt(D,2),w=mt(w,2);!x(D);){var _=R.add(D);_.l(C)<=0&&(b=b.add(w),R=_),D=mt(D,1),w=mt(w,1)}return v=P(C,b.j(v)),new be(b,v)}for(b=p;C.l(v)>=0;){for(w=Math.max(1,Math.floor(C.m()/v.m())),D=Math.ceil(Math.log(w)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),R=l(w),_=R.j(v);O(_)||_.l(C)>0;)w-=D,R=l(w),_=R.j(v);x(R)&&(R=g),b=b.add(R),C=P(C,_)}return new be(b,C)}n.B=function(C){return qt(this,C).h},n.and=function(C){let v=Math.max(this.g.length,C.g.length),w=[];for(let D=0;D<v;D++)w[D]=this.i(D)&C.i(D);return new s(w,this.h&C.h)},n.or=function(C){let v=Math.max(this.g.length,C.g.length),w=[];for(let D=0;D<v;D++)w[D]=this.i(D)|C.i(D);return new s(w,this.h|C.h)},n.xor=function(C){let v=Math.max(this.g.length,C.g.length),w=[];for(let D=0;D<v;D++)w[D]=this.i(D)^C.i(D);return new s(w,this.h^C.h)};function mn(C){let v=C.g.length+1,w=[];for(let D=0;D<v;D++)w[D]=C.i(D)<<1|C.i(D-1)>>>31;return new s(w,C.h)}function mt(C,v){let w=v>>5;v%=32;let D=C.g.length-w,b=[];for(let R=0;R<D;R++)b[R]=v>0?C.i(R+w)>>>v|C.i(R+w+1)<<32-v:C.i(R+w);return new s(b,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Kv=GS.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,Rr=GS.Integer=s}).apply(typeof qS<"u"?qS:typeof self<"u"?self:typeof window<"u"?window:{});var Qf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xr={};var Qv,pj,Os,Yv,su,Yf,Jv,Zv,Xv;(function(){var n,e=Object.defineProperty;function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qf=="object"&&Qf];for(var d=0;d<c.length;++d){var h=c[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var h=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var S=c[m];if(!(S in h))break e;h=h[S]}c=c[c.length-1],m=h[c],d=d(m),d!=m&&d!=null&&e(h,c,{configurable:!0,writable:!0,value:d})}}i("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(c){return c||function(d){var h=[],m;for(m in d)Object.prototype.hasOwnProperty.call(d,m)&&h.push([m,d[m]]);return h}});var o=o||{},s=this||self;function a(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function u(c,d,h){return c.call.apply(c.bind,arguments)}function l(c,d,h){return l=u,l.apply(null,arguments)}function f(c,d){var h=Array.prototype.slice.call(arguments,1);return function(){var m=h.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function p(c,d){function h(){}h.prototype=d.prototype,c.Z=d.prototype,c.prototype=new h,c.prototype.constructor=c,c.Ob=function(m,S,M){for(var U=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)U[ce-2]=arguments[ce];return d.prototype[S].apply(m,U)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function y(c){let d=c.length;if(d>0){let h=Array(d);for(let m=0;m<d;m++)h[m]=c[m];return h}return[]}function x(c,d){for(let m=1;m<arguments.length;m++){let S=arguments[m];var h=typeof S;if(h=h!="object"?h:S?Array.isArray(S)?"array":h:"null",h=="array"||h=="object"&&typeof S.length=="number"){h=c.length||0;let M=S.length||0;c.length=h+M;for(let U=0;U<M;U++)c[h+U]=S[U]}else c.push(S)}}class O{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function A(c){s.setTimeout(()=>{throw c},0)}function P(){var c=C;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class ee{constructor(){this.h=this.g=null}add(d,h){let m=be.get();m.set(d,h),this.h?this.h.next=m:this.g=m,this.h=m}}var be=new O(()=>new qt,c=>c.reset());class qt{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let mn,mt=!1,C=new ee,v=()=>{let c=Promise.resolve(void 0);mn=()=>{c.then(w)}};function w(){for(var c;c=P();){try{c.h.call(c.g)}catch(h){A(h)}var d=be;d.j(c),d.h<100&&(d.h++,c.next=d.g,d.g=c)}mt=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function b(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}b.prototype.h=function(){this.defaultPrevented=!0};var R=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let h=()=>{};s.addEventListener("test",h,d),s.removeEventListener("test",h,d)}catch{}return c})();function _(c){return/^[\s\xa0]*$/.test(c)}function jt(c,d){b.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,d)}p(jt,b),jt.prototype.init=function(c,d){let h=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget,d||(h=="mouseover"?d=c.fromElement:h=="mouseout"&&(d=c.toElement)),this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&jt.Z.h.call(this)},jt.prototype.h=function(){jt.Z.h.call(this);let c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Br="closure_listenable_"+(Math.random()*1e6|0),yx=0;function vx(c,d,h,m,S){this.listener=c,this.proxy=null,this.src=d,this.type=h,this.capture=!!m,this.ha=S,this.key=++yx,this.da=this.fa=!1}function Uu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Bu(c,d,h){for(let m in c)d.call(h,c[m],m,c)}function _x(c,d){for(let h in c)d.call(void 0,c[h],h,c)}function xI(c){let d={};for(let h in c)d[h]=c[h];return d}let MI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function NI(c,d){let h,m;for(let S=1;S<arguments.length;S++){m=arguments[S];for(h in m)c[h]=m[h];for(let M=0;M<MI.length;M++)h=MI[M],Object.prototype.hasOwnProperty.call(m,h)&&(c[h]=m[h])}}function Hu(c){this.src=c,this.g={},this.h=0}Hu.prototype.add=function(c,d,h,m,S){let M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);let U=Dp(c,d,m,S);return U>-1?(d=c[U],h||(d.fa=!1)):(d=new vx(d,this.src,M,!!m,S),d.fa=h,c.push(d)),d};function Cp(c,d){let h=d.type;if(h in c.g){var m=c.g[h],S=Array.prototype.indexOf.call(m,d,void 0),M;(M=S>=0)&&Array.prototype.splice.call(m,S,1),M&&(Uu(d),c.g[h].length==0&&(delete c.g[h],c.h--))}}function Dp(c,d,h,m){for(let S=0;S<c.length;++S){let M=c[S];if(!M.da&&M.listener==d&&M.capture==!!h&&M.ha==m)return S}return-1}var Tp="closure_lm_"+(Math.random()*1e6|0),Sp={};function PI(c,d,h,m,S){if(m&&m.once)return OI(c,d,h,m,S);if(Array.isArray(d)){for(let M=0;M<d.length;M++)PI(c,d[M],h,m,S);return null}return h=Mp(h),c&&c[Br]?c.J(d,h,a(m)?!!m.capture:!!m,S):kI(c,d,h,!1,m,S)}function kI(c,d,h,m,S,M){if(!d)throw Error("Invalid event type");let U=a(S)?!!S.capture:!!S,ce=Rp(c);if(ce||(c[Tp]=ce=new Hu(c)),h=ce.add(d,h,m,U,M),h.proxy)return h;if(m=Ex(),h.proxy=m,m.src=c,m.listener=h,c.addEventListener)R||(S=U),S===void 0&&(S=!1),c.addEventListener(d.toString(),m,S);else if(c.attachEvent)c.attachEvent(LI(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return h}function Ex(){function c(h){return d.call(c.src,c.listener,h)}let d=Ix;return c}function OI(c,d,h,m,S){if(Array.isArray(d)){for(let M=0;M<d.length;M++)OI(c,d[M],h,m,S);return null}return h=Mp(h),c&&c[Br]?c.K(d,h,a(m)?!!m.capture:!!m,S):kI(c,d,h,!0,m,S)}function FI(c,d,h,m,S){if(Array.isArray(d))for(var M=0;M<d.length;M++)FI(c,d[M],h,m,S);else m=a(m)?!!m.capture:!!m,h=Mp(h),c&&c[Br]?(c=c.i,M=String(d).toString(),M in c.g&&(d=c.g[M],h=Dp(d,h,m,S),h>-1&&(Uu(d[h]),Array.prototype.splice.call(d,h,1),d.length==0&&(delete c.g[M],c.h--)))):c&&(c=Rp(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Dp(d,h,m,S)),(h=c>-1?d[c]:null)&&Ap(h))}function Ap(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Br])Cp(d.i,c);else{var h=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(h,m,c.capture):d.detachEvent?d.detachEvent(LI(h),m):d.addListener&&d.removeListener&&d.removeListener(m),(h=Rp(d))?(Cp(h,c),h.h==0&&(h.src=null,d[Tp]=null)):Uu(c)}}}function LI(c){return c in Sp?Sp[c]:Sp[c]="on"+c}function Ix(c,d){if(c.da)c=!0;else{d=new jt(d,this);let h=c.listener,m=c.ha||c.src;c.fa&&Ap(c),c=h.call(m,d)}return c}function Rp(c){return c=c[Tp],c instanceof Hu?c:null}var xp="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mp(c){return typeof c=="function"?c:(c[xp]||(c[xp]=function(d){return c.handleEvent(d)}),c[xp])}function Tt(){D.call(this),this.i=new Hu(this),this.M=this,this.G=null}p(Tt,D),Tt.prototype[Br]=!0,Tt.prototype.removeEventListener=function(c,d,h,m){FI(this,c,d,h,m)};function kt(c,d){var h,m=c.G;if(m)for(h=[];m;m=m.G)h.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new b(d,c);else if(d instanceof b)d.target=d.target||c;else{var S=d;d=new b(m,c),NI(d,S)}S=!0;let M,U;if(h)for(U=h.length-1;U>=0;U--)M=d.g=h[U],S=$u(M,m,!0,d)&&S;if(M=d.g=c,S=$u(M,m,!0,d)&&S,S=$u(M,m,!1,d)&&S,h)for(U=0;U<h.length;U++)M=d.g=h[U],S=$u(M,m,!1,d)&&S}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var c=this.i;for(let d in c.g){let h=c.g[d];for(let m=0;m<h.length;m++)Uu(h[m]);delete c.g[d],c.h--}}this.G=null},Tt.prototype.J=function(c,d,h,m){return this.i.add(String(c),d,!1,h,m)},Tt.prototype.K=function(c,d,h,m){return this.i.add(String(c),d,!0,h,m)};function $u(c,d,h,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();let S=!0;for(let M=0;M<d.length;++M){let U=d[M];if(U&&!U.da&&U.capture==h){let ce=U.listener,et=U.ha||U.src;U.fa&&Cp(c.i,U),S=ce.call(et,m)!==!1&&S}}return S&&!m.defaultPrevented}function wx(c,d){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=l(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:s.setTimeout(c,d||0)}function VI(c){c.g=wx(()=>{c.g=null,c.i&&(c.i=!1,VI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class bx extends D{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:VI(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pa(c){D.call(this),this.h=c,this.g={}}p(pa,D);var jI=[];function UI(c){Bu(c.g,function(d,h){this.g.hasOwnProperty(h)&&Ap(d)},c),c.g={}}pa.prototype.N=function(){pa.Z.N.call(this),UI(this)},pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Np=s.JSON.stringify,Cx=s.JSON.parse,Dx=class{stringify(c){return s.JSON.stringify(c,void 0)}parse(c){return s.JSON.parse(c,void 0)}};function BI(){}function HI(){}var ga={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pp(){b.call(this,"d")}p(Pp,b);function kp(){b.call(this,"c")}p(kp,b);var Ai={},$I=null;function zu(){return $I=$I||new Tt}Ai.Ia="serverreachability";function zI(c){b.call(this,Ai.Ia,c)}p(zI,b);function ma(c){let d=zu();kt(d,new zI(d))}Ai.STAT_EVENT="statevent";function qI(c,d){b.call(this,Ai.STAT_EVENT,c),this.stat=d}p(qI,b);function Ot(c){let d=zu();kt(d,new qI(d,c))}Ai.Ja="timingevent";function GI(c,d){b.call(this,Ai.Ja,c),this.size=d}p(GI,b);function ya(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){c()},d)}function va(){this.g=!0}va.prototype.ua=function(){this.g=!1};function Tx(c,d,h,m,S,M){c.info(function(){if(c.g)if(M){var U="",ce=M.split("&");for(let Me=0;Me<ce.length;Me++){var et=ce[Me].split("=");if(et.length>1){let at=et[0];et=et[1];let Fn=at.split("_");U=Fn.length>=2&&Fn[1]=="type"?U+(at+"="+et+"&"):U+(at+"=redacted&")}}}else U=null;else U=M;return"XMLHTTP REQ ("+m+") [attempt "+S+"]: "+d+`
`+h+`
`+U})}function Sx(c,d,h,m,S,M,U){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+S+"]: "+d+`
`+h+`
`+M+" "+U})}function Ho(c,d,h,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+Rx(c,h)+(m?" "+m:"")})}function Ax(c,d){c.info(function(){return"TIMEOUT: "+d})}va.prototype.info=function(){};function Rx(c,d){if(!c.g)return d;if(!d)return null;try{let M=JSON.parse(d);if(M){for(c=0;c<M.length;c++)if(Array.isArray(M[c])){var h=M[c];if(!(h.length<2)){var m=h[1];if(Array.isArray(m)&&!(m.length<1)){var S=m[0];if(S!="noop"&&S!="stop"&&S!="close")for(let U=1;U<m.length;U++)m[U]=""}}}}return Np(M)}catch{return d}}var qu={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},WI={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},KI;function Op(){}p(Op,BI),Op.prototype.g=function(){return new XMLHttpRequest},KI=new Op;function _a(c){return encodeURIComponent(String(c))}function xx(c){var d=1;c=c.split(":");let h=[];for(;d>0&&c.length;)h.push(c.shift()),d--;return c.length&&h.push(c.join(":")),h}function Hr(c,d,h,m){this.j=c,this.i=d,this.l=h,this.S=m||1,this.V=new pa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new QI}function QI(){this.i=null,this.g="",this.h=!1}var YI={},Fp={};function Lp(c,d,h){c.M=1,c.A=Wu(On(d)),c.u=h,c.R=!0,JI(c,null)}function JI(c,d){c.F=Date.now(),Gu(c),c.B=On(c.A);var h=c.B,m=c.S;Array.isArray(m)||(m=[String(m)]),l0(h.i,"t",m),c.C=0,h=c.j.L,c.h=new QI,c.g=A0(c.j,h?d:null,!c.u),c.P>0&&(c.O=new bx(l(c.Y,c,c.g),c.P)),d=c.V,h=c.g,m=c.ba;var S="readystatechange";Array.isArray(S)||(S&&(jI[0]=S.toString()),S=jI);for(let M=0;M<S.length;M++){let U=PI(h,S[M],m||d.handleEvent,!1,d.h||d);if(!U)break;d.g[U.key]=U}d=c.J?xI(c.J):{},c.u?(c.v||(c.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,d)):(c.v="GET",c.g.ea(c.B,c.v,null,d)),ma(),Tx(c.i,c.v,c.B,c.l,c.S,c.u)}Hr.prototype.ba=function(c){c=c.target;let d=this.O;d&&qr(c)==3?d.j():this.Y(c)},Hr.prototype.Y=function(c){try{if(c==this.g)e:{let ce=qr(this.g),et=this.g.ya(),Me=this.g.ca();if(!(ce<3)&&(ce!=3||this.g&&(this.h.h||this.g.la()||y0(this.g)))){this.K||ce!=4||et==7||(et==8||Me<=0?ma(3):ma(2)),Vp(this);var d=this.g.ca();this.X=d;var h=Mx(this);if(this.o=d==200,Sx(this.i,this.v,this.B,this.l,this.S,ce,d),this.o){if(this.U&&!this.L){t:{if(this.g){var m,S=this.g;if((m=S.g?S.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(m)){var M=m;break t}}M=null}if(c=M)Ho(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,jp(this,c);else{this.o=!1,this.m=3,Ot(12),Ri(this),Ea(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<h.length;)if(at=Nx(this,h),at==Fp){ce==4&&(this.m=4,Ot(14),c=!1),Ho(this.i,this.l,null,"[Incomplete Response]");break}else if(at==YI){this.m=4,Ot(15),Ho(this.i,this.l,h,"[Invalid Chunk]"),c=!1;break}else Ho(this.i,this.l,at,null),jp(this,at);if(ZI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ce!=4||h.length!=0||this.h.h||(this.m=1,Ot(16),c=!1),this.o=this.o&&c,!c)Ho(this.i,this.l,h,"[Invalid Chunked Response]"),Ri(this),Ea(this);else if(h.length>0&&!this.W){this.W=!0;var U=this.j;U.g==this&&U.aa&&!U.P&&(U.j.info("Great, no buffering proxy detected. Bytes received: "+h.length),Gp(U),U.P=!0,Ot(11))}}else Ho(this.i,this.l,h,null),jp(this,h);ce==4&&Ri(this),this.o&&!this.K&&(ce==4?C0(this.j,this):(this.o=!1,Gu(this)))}else Gx(this.g),d==400&&h.indexOf("Unknown SID")>0?(this.m=3,Ot(12)):(this.m=0,Ot(13)),Ri(this),Ea(this)}}}catch{}};function Mx(c){if(!ZI(c))return c.g.la();let d=y0(c.g);if(d==="")return"";let h="",m=d.length,S=qr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Ri(c),Ea(c),"";c.h.i=new s.TextDecoder}for(let M=0;M<m;M++)c.h.h=!0,h+=c.h.i.decode(d[M],{stream:!(S&&M==m-1)});return d.length=0,c.h.g+=h,c.C=0,c.h.g}function ZI(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Nx(c,d){var h=c.C,m=d.indexOf(`
`,h);return m==-1?Fp:(h=Number(d.substring(h,m)),isNaN(h)?YI:(m+=1,m+h>d.length?Fp:(d=d.slice(m,m+h),c.C=m+h,d)))}Hr.prototype.cancel=function(){this.K=!0,Ri(this)};function Gu(c){c.T=Date.now()+c.H,XI(c,c.H)}function XI(c,d){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ya(l(c.aa,c),d)}function Vp(c){c.D&&(s.clearTimeout(c.D),c.D=null)}Hr.prototype.aa=function(){this.D=null;let c=Date.now();c-this.T>=0?(Ax(this.i,this.B),this.M!=2&&(ma(),Ot(17)),Ri(this),this.m=2,Ea(this)):XI(this,this.T-c)};function Ea(c){c.j.I==0||c.K||C0(c.j,c)}function Ri(c){Vp(c);var d=c.O;d&&typeof d.dispose=="function"&&d.dispose(),c.O=null,UI(c.V),c.g&&(d=c.g,c.g=null,d.abort(),d.dispose())}function jp(c,d){try{var h=c.j;if(h.I!=0&&(h.g==c||Up(h.h,c))){if(!c.L&&Up(h.h,c)&&h.I==3){try{var m=h.Ba.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var S=m;if(S[0]==0){e:if(!h.v){if(h.g)if(h.g.F+3e3<c.F)Xu(h),Ju(h);else break e;qp(h),Ot(18)}}else h.xa=S[1],0<h.xa-h.K&&S[2]<37500&&h.F&&h.A==0&&!h.C&&(h.C=ya(l(h.Va,h),6e3));n0(h.h)<=1&&h.ta&&(h.ta=void 0)}else Mi(h,11)}else if((c.L||h.g==c)&&Xu(h),!_(d))for(S=h.Ba.g.parse(d),d=0;d<S.length;d++){let Me=S[d],at=Me[0];if(!(at<=h.K))if(h.K=at,Me=Me[1],h.I==2)if(Me[0]=="c"){h.M=Me[1],h.ba=Me[2];let Fn=Me[3];Fn!=null&&(h.ka=Fn,h.j.info("VER="+h.ka));let Ni=Me[4];Ni!=null&&(h.za=Ni,h.j.info("SVER="+h.za));let Gr=Me[5];Gr!=null&&typeof Gr=="number"&&Gr>0&&(m=1.5*Gr,h.O=m,h.j.info("backChannelRequestTimeoutMs_="+m)),m=h;let Wr=c.g;if(Wr){let tl=Wr.g?Wr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tl){var M=m.h;M.g||tl.indexOf("spdy")==-1&&tl.indexOf("quic")==-1&&tl.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Bp(M,M.h),M.h=null))}if(m.G){let Wp=Wr.g?Wr.g.getResponseHeader("X-HTTP-Session-Id"):null;Wp&&(m.wa=Wp,Ne(m.J,m.G,Wp))}}h.I=3,h.l&&h.l.ra(),h.aa&&(h.T=Date.now()-c.F,h.j.info("Handshake RTT: "+h.T+"ms")),m=h;var U=c;if(m.na=S0(m,m.L?m.ba:null,m.W),U.L){r0(m.h,U);var ce=U,et=m.O;et&&(ce.H=et),ce.D&&(Vp(ce),Gu(ce)),m.g=U}else w0(m);h.i.length>0&&Zu(h)}else Me[0]!="stop"&&Me[0]!="close"||Mi(h,7);else h.I==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Mi(h,7):zp(h):Me[0]!="noop"&&h.l&&h.l.qa(Me),h.A=0)}}ma(4)}catch{}}var Px=class{constructor(c,d){this.g=c,this.map=d}};function e0(c){this.l=c||10,s.PerformanceNavigationTiming?(c=s.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function t0(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function n0(c){return c.h?1:c.g?c.g.size:0}function Up(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Bp(c,d){c.g?c.g.add(d):c.h=d}function r0(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}e0.prototype.cancel=function(){if(this.i=i0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function i0(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let h of c.g.values())d=d.concat(h.G);return d}return y(c.i)}var o0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kx(c,d){if(c){c=c.split("&");for(let h=0;h<c.length;h++){let m=c[h].indexOf("="),S,M=null;m>=0?(S=c[h].substring(0,m),M=c[h].substring(m+1)):S=c[h],d(S,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function $r(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;c instanceof $r?(this.l=c.l,Ia(this,c.j),this.o=c.o,this.g=c.g,wa(this,c.u),this.h=c.h,Hp(this,d0(c.i)),this.m=c.m):c&&(d=String(c).match(o0))?(this.l=!1,Ia(this,d[1]||"",!0),this.o=ba(d[2]||""),this.g=ba(d[3]||"",!0),wa(this,d[4]),this.h=ba(d[5]||"",!0),Hp(this,d[6]||"",!0),this.m=ba(d[7]||"")):(this.l=!1,this.i=new Da(null,this.l))}$r.prototype.toString=function(){let c=[];var d=this.j;d&&c.push(Ca(d,s0,!0),":");var h=this.g;return(h||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Ca(d,s0,!0),"@"),c.push(_a(h).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.u,h!=null&&c.push(":",String(h))),(h=this.h)&&(this.g&&h.charAt(0)!="/"&&c.push("/"),c.push(Ca(h,h.charAt(0)=="/"?Lx:Fx,!0))),(h=this.i.toString())&&c.push("?",h),(h=this.m)&&c.push("#",Ca(h,jx)),c.join("")},$r.prototype.resolve=function(c){let d=On(this),h=!!c.j;h?Ia(d,c.j):h=!!c.o,h?d.o=c.o:h=!!c.g,h?d.g=c.g:h=c.u!=null;var m=c.h;if(h)wa(d,c.u);else if(h=!!c.h){if(m.charAt(0)!="/")if(this.g&&!this.h)m="/"+m;else{var S=d.h.lastIndexOf("/");S!=-1&&(m=d.h.slice(0,S+1)+m)}if(S=m,S==".."||S==".")m="";else if(S.indexOf("./")!=-1||S.indexOf("/.")!=-1){m=S.lastIndexOf("/",0)==0,S=S.split("/");let M=[];for(let U=0;U<S.length;){let ce=S[U++];ce=="."?m&&U==S.length&&M.push(""):ce==".."?((M.length>1||M.length==1&&M[0]!="")&&M.pop(),m&&U==S.length&&M.push("")):(M.push(ce),m=!0)}m=M.join("/")}else m=S}return h?d.h=m:h=c.i.toString()!=="",h?Hp(d,d0(c.i)):h=!!c.m,h&&(d.m=c.m),d};function On(c){return new $r(c)}function Ia(c,d,h){c.j=h?ba(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function wa(c,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);c.u=d}else c.u=null}function Hp(c,d,h){d instanceof Da?(c.i=d,Ux(c.i,c.l)):(h||(d=Ca(d,Vx)),c.i=new Da(d,c.l))}function Ne(c,d,h){c.i.set(d,h)}function Wu(c){return Ne(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ba(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ca(c,d,h){return typeof c=="string"?(c=encodeURI(c).replace(d,Ox),h&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ox(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var s0=/[#\/\?@]/g,Fx=/[#\?:]/g,Lx=/[#\?]/g,Vx=/[#\?@]/g,jx=/#/g;function Da(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function xi(c){c.g||(c.g=new Map,c.h=0,c.i&&kx(c.i,function(d,h){c.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}n=Da.prototype,n.add=function(c,d){xi(this),this.i=null,c=$o(this,c);let h=this.g.get(c);return h||this.g.set(c,h=[]),h.push(d),this.h+=1,this};function a0(c,d){xi(c),d=$o(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function c0(c,d){return xi(c),d=$o(c,d),c.g.has(d)}n.forEach=function(c,d){xi(this),this.g.forEach(function(h,m){h.forEach(function(S){c.call(d,S,m,this)},this)},this)};function u0(c,d){xi(c);let h=[];if(typeof d=="string")c0(c,d)&&(h=h.concat(c.g.get($o(c,d))));else for(c=Array.from(c.g.values()),d=0;d<c.length;d++)h=h.concat(c[d]);return h}n.set=function(c,d){return xi(this),this.i=null,c=$o(this,c),c0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=u0(this,c),c.length>0?String(c[0]):d):d};function l0(c,d,h){a0(c,d),h.length>0&&(c.i=null,c.g.set($o(c,d),y(h)),c.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(let m=0;m<d.length;m++){var h=d[m];let S=_a(h);h=u0(this,h);for(let M=0;M<h.length;M++){let U=S;h[M]!==""&&(U+="="+_a(h[M])),c.push(U)}}return this.i=c.join("&")};function d0(c){let d=new Da;return d.i=c.i,c.g&&(d.g=new Map(c.g),d.h=c.h),d}function $o(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function Ux(c,d){d&&!c.j&&(xi(c),c.i=null,c.g.forEach(function(h,m){let S=m.toLowerCase();m!=S&&(a0(this,m),l0(this,S,h))},c)),c.j=d}function Bx(c,d){let h=new va;if(s.Image){let m=new Image;m.onload=f(zr,h,"TestLoadImage: loaded",!0,d,m),m.onerror=f(zr,h,"TestLoadImage: error",!1,d,m),m.onabort=f(zr,h,"TestLoadImage: abort",!1,d,m),m.ontimeout=f(zr,h,"TestLoadImage: timeout",!1,d,m),s.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function Hx(c,d){let h=new va,m=new AbortController,S=setTimeout(()=>{m.abort(),zr(h,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(M=>{clearTimeout(S),M.ok?zr(h,"TestPingServer: ok",!0,d):zr(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(S),zr(h,"TestPingServer: error",!1,d)})}function zr(c,d,h,m,S){try{S&&(S.onload=null,S.onerror=null,S.onabort=null,S.ontimeout=null),m(h)}catch{}}function $x(){this.g=new Dx}function Ku(c){this.i=c.Sb||null,this.h=c.ab||!1}p(Ku,BI),Ku.prototype.g=function(){return new Qu(this.i,this.h)};function Qu(c,d){Tt.call(this),this.H=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Qu,Tt),n=Qu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=d,this.readyState=1,Sa(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(d.body=c),(this.H||s).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ta(this)),this.readyState=0},n.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Sa(this)),this.g&&(this.readyState=3,Sa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;f0(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function f0(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}n.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ta(this):Sa(this),this.readyState==3&&f0(this)}},n.Oa=function(c){this.g&&(this.response=this.responseText=c,Ta(this))},n.Na=function(c){this.g&&(this.response=c,Ta(this))},n.ga=function(){this.g&&Ta(this)};function Ta(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Sa(c)}n.setRequestHeader=function(c,d){this.A.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,c.push(h[0]+": "+h[1]),h=d.next();return c.join(`\r
`)};function Sa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Qu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function h0(c){let d="";return Bu(c,function(h,m){d+=m,d+=":",d+=h,d+=`\r
`}),d}function $p(c,d,h){e:{for(m in h){var m=!1;break e}m=!0}m||(h=h0(h),typeof c=="string"?h!=null&&_a(h):Ne(c,d,h))}function Ue(c){Tt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Ue,Tt);var zx=/^https?$/i,qx=["POST","PUT"];n=Ue.prototype,n.Fa=function(c){this.H=c},n.ea=function(c,d,h,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():KI.g(),this.g.onreadystatechange=g(l(this.Ca,this));try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(M){p0(this,M);return}if(c=h||"",h=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var S in m)h.set(S,m[S]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let M of m.keys())h.set(M,m.get(M));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(h.keys()).find(M=>M.toLowerCase()=="content-type"),S=s.FormData&&c instanceof s.FormData,!(Array.prototype.indexOf.call(qx,d,void 0)>=0)||m||S||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,U]of h)this.g.setRequestHeader(M,U);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(M){p0(this,M)}};function p0(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.o=5,g0(c),Yu(c)}function g0(c){c.A||(c.A=!0,kt(c,"complete"),kt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,kt(this,"complete"),kt(this,"abort"),Yu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yu(this,!0)),Ue.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?m0(this):this.Xa())},n.Xa=function(){m0(this)};function m0(c){if(c.h&&typeof o<"u"){if(c.v&&qr(c)==4)setTimeout(c.Ca.bind(c),0);else if(kt(c,"readystatechange"),qr(c)==4){c.h=!1;try{let M=c.ca();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var m;if(m=M===0){let U=String(c.D).match(o0)[1]||null;!U&&s.self&&s.self.location&&(U=s.self.location.protocol.slice(0,-1)),m=!zx.test(U?U.toLowerCase():"")}h=m}if(h)kt(c,"complete"),kt(c,"success");else{c.o=6;try{var S=qr(c)>2?c.g.statusText:""}catch{S=""}c.l=S+" ["+c.ca()+"]",g0(c)}}finally{Yu(c)}}}}function Yu(c,d){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);let h=c.g;c.g=null,d||kt(c,"ready");try{h.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function qr(c){return c.g?c.g.readyState:0}n.ca=function(){try{return qr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),Cx(d)}};function y0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Gx(c){let d={};c=(c.g&&qr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(_(c[m]))continue;var h=xx(c[m]);let S=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let M=d[S]||[];d[S]=M,M.push(h)}_x(d,function(m){return m.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Aa(c,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[c]||d}function v0(c){this.za=0,this.i=[],this.j=new va,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Aa("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Aa("baseRetryDelayMs",5e3,c),this.Za=Aa("retryDelaySeedMs",1e4,c),this.Ta=Aa("forwardChannelMaxRetries",2,c),this.va=Aa("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new e0(c&&c.concurrentRequestLimit),this.Ba=new $x,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=v0.prototype,n.ka=8,n.I=1,n.connect=function(c,d,h,m){Ot(0),this.W=c,this.H=d||{},h&&m!==void 0&&(this.H.OSID=h,this.H.OAID=m),this.F=this.X,this.J=S0(this,null,this.W),Zu(this)};function zp(c){if(_0(c),c.I==3){var d=c.V++,h=On(c.J);if(Ne(h,"SID",c.M),Ne(h,"RID",d),Ne(h,"TYPE","terminate"),Ra(c,h),d=new Hr(c,c.j,d),d.M=2,d.A=Wu(On(h)),h=!1,s.navigator&&s.navigator.sendBeacon)try{h=s.navigator.sendBeacon(d.A.toString(),"")}catch{}!h&&s.Image&&(new Image().src=d.A,h=!0),h||(d.g=A0(d.j,null),d.g.ea(d.A)),d.F=Date.now(),Gu(d)}T0(c)}function Ju(c){c.g&&(Gp(c),c.g.cancel(),c.g=null)}function _0(c){Ju(c),c.v&&(s.clearTimeout(c.v),c.v=null),Xu(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&s.clearTimeout(c.m),c.m=null)}function Zu(c){if(!t0(c.h)&&!c.m){c.m=!0;var d=c.Ea;mn||v(),mt||(mn(),mt=!0),C.add(d,c),c.D=0}}function Wx(c,d){return n0(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=d.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ya(l(c.Ea,c,d),D0(c,c.D)),c.D++,!0)}n.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;let S=new Hr(this,this.j,c),M=this.o;if(this.U&&(M?(M=xI(M),NI(M,this.U)):M=this.U),this.u!==null||this.R||(S.J=M,M=null),this.S)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var m=this.i[h];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,d>4096){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=I0(this,S,d),h=On(this.J),Ne(h,"RID",c),Ne(h,"CVER",22),this.G&&Ne(h,"X-HTTP-Session-Id",this.G),Ra(this,h),M&&(this.R?d="headers="+_a(h0(M))+"&"+d:this.u&&$p(h,this.u,M)),Bp(this.h,S),this.Ra&&Ne(h,"TYPE","init"),this.S?(Ne(h,"$req",d),Ne(h,"SID","null"),S.U=!0,Lp(S,h,null)):Lp(S,h,d),this.I=2}}else this.I==3&&(c?E0(this,c):this.i.length==0||t0(this.h)||E0(this))};function E0(c,d){var h;d?h=d.l:h=c.V++;let m=On(c.J);Ne(m,"SID",c.M),Ne(m,"RID",h),Ne(m,"AID",c.K),Ra(c,m),c.u&&c.o&&$p(m,c.u,c.o),h=new Hr(c,c.j,h,c.D+1),c.u===null&&(h.J=c.o),d&&(c.i=d.G.concat(c.i)),d=I0(c,h,1e3),h.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Bp(c.h,h),Lp(h,m,d)}function Ra(c,d){c.H&&Bu(c.H,function(h,m){Ne(d,m,h)}),c.l&&Bu({},function(h,m){Ne(d,m,h)})}function I0(c,d,h){h=Math.min(c.i.length,h);let m=c.l?l(c.l.Ka,c.l,c):null;e:{var S=c.i;let ce=-1;for(;;){let et=["count="+h];ce==-1?h>0?(ce=S[0].g,et.push("ofs="+ce)):ce=0:et.push("ofs="+ce);let Me=!0;for(let at=0;at<h;at++){var M=S[at].g;let Fn=S[at].map;if(M-=ce,M<0)ce=Math.max(0,S[at].g-100),Me=!1;else try{M="req"+M+"_"||"";try{var U=Fn instanceof Map?Fn:Object.entries(Fn);for(let[Ni,Gr]of U){let Wr=Gr;a(Gr)&&(Wr=Np(Gr)),et.push(M+Ni+"="+encodeURIComponent(Wr))}}catch(Ni){throw et.push(M+"type="+encodeURIComponent("_badmap")),Ni}}catch{m&&m(Fn)}}if(Me){U=et.join("&");break e}}U=void 0}return c=c.i.splice(0,h),d.G=c,U}function w0(c){if(!c.g&&!c.v){c.Y=1;var d=c.Da;mn||v(),mt||(mn(),mt=!0),C.add(d,c),c.A=0}}function qp(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ya(l(c.Da,c),D0(c,c.A)),c.A++,!0)}n.Da=function(){if(this.v=null,b0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ya(l(this.Wa,this),c)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ot(10),Ju(this),b0(this))};function Gp(c){c.B!=null&&(s.clearTimeout(c.B),c.B=null)}function b0(c){c.g=new Hr(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var d=On(c.na);Ne(d,"RID","rpc"),Ne(d,"SID",c.M),Ne(d,"AID",c.K),Ne(d,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ne(d,"TO",c.ia),Ne(d,"TYPE","xmlhttp"),Ra(c,d),c.u&&c.o&&$p(d,c.u,c.o),c.O&&(c.g.H=c.O);var h=c.g;c=c.ba,h.M=1,h.A=Wu(On(d)),h.u=null,h.R=!0,JI(h,c)}n.Va=function(){this.C!=null&&(this.C=null,Ju(this),qp(this),Ot(19))};function Xu(c){c.C!=null&&(s.clearTimeout(c.C),c.C=null)}function C0(c,d){var h=null;if(c.g==d){Xu(c),Gp(c),c.g=null;var m=2}else if(Up(c.h,d))h=d.G,r0(c.h,d),m=1;else return;if(c.I!=0){if(d.o)if(m==1){h=d.u?d.u.length:0,d=Date.now()-d.F;var S=c.D;m=zu(),kt(m,new GI(m,h)),Zu(c)}else w0(c);else if(S=d.m,S==3||S==0&&d.X>0||!(m==1&&Wx(c,d)||m==2&&qp(c)))switch(h&&h.length>0&&(d=c.h,d.i=d.i.concat(h)),S){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function D0(c,d){let h=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(h*=2),h*d}function Mi(c,d){if(c.j.info("Error code "+d),d==2){var h=l(c.bb,c),m=c.Ua;let S=!m;m=new $r(m||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Ia(m,"https"),Wu(m),S?Bx(m.toString(),h):Hx(m.toString(),h)}else Ot(2);c.I=0,c.l&&c.l.pa(d),T0(c),_0(c)}n.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function T0(c){if(c.I=0,c.ja=[],c.l){let d=i0(c.h);(d.length!=0||c.i.length!=0)&&(x(c.ja,d),x(c.ja,c.i),c.h.i.length=0,y(c.i),c.i.length=0),c.l.oa()}}function S0(c,d,h){var m=h instanceof $r?On(h):new $r(h);if(m.g!="")d&&(m.g=d+"."+m.g),wa(m,m.u);else{var S=s.location;m=S.protocol,d=d?d+"."+S.hostname:S.hostname,S=+S.port;let M=new $r(null);m&&Ia(M,m),d&&(M.g=d),S&&wa(M,S),h&&(M.h=h),m=M}return h=c.G,d=c.wa,h&&d&&Ne(m,h,d),Ne(m,"VER",c.ka),Ra(c,m),m}function A0(c,d,h){if(d&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Aa&&!c.ma?new Ue(new Ku({ab:h})):new Ue(c.ma),d.Fa(c.L),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function R0(){}n=R0.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function el(){}el.prototype.g=function(c,d){return new Gt(c,d)};function Gt(c,d){Tt.call(this),this.g=new v0(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(c?c["X-WebChannel-Client-Profile"]=d.sa:c={"X-WebChannel-Client-Profile":d.sa}),this.g.U=c,(c=d&&d.Qb)&&!_(c)&&(this.g.u=c),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!_(d)&&(this.g.G=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new zo(this)}p(Gt,Tt),Gt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){zp(this.g)},Gt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var h={};h.__data__=c,c=h}else this.v&&(h={},h.__data__=Np(c),c=h);d.i.push(new Px(d.Ya++,c)),d.I==3&&Zu(d)},Gt.prototype.N=function(){this.g.l=null,delete this.j,zp(this.g),delete this.g,Gt.Z.N.call(this)};function x0(c){Pp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let h in d){c=h;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}p(x0,Pp);function M0(){kp.call(this),this.status=1}p(M0,kp);function zo(c){this.g=c}p(zo,R0),zo.prototype.ra=function(){kt(this.g,"a")},zo.prototype.qa=function(c){kt(this.g,new x0(c))},zo.prototype.pa=function(c){kt(this.g,new M0)},zo.prototype.oa=function(){kt(this.g,"b")},el.prototype.createWebChannel=el.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,Xv=xr.createWebChannelTransport=function(){return new el},Zv=xr.getStatEventTarget=function(){return zu()},Jv=xr.Event=Ai,Yf=xr.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},qu.NO_ERROR=0,qu.TIMEOUT=8,qu.HTTP_ERROR=6,su=xr.ErrorCode=qu,WI.COMPLETE="complete",Yv=xr.EventType=WI,HI.EventType=ga,ga.OPEN="a",ga.CLOSE="b",ga.ERROR="c",ga.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Os=xr.WebChannel=HI,pj=xr.FetchXmlHttpFactory=Ku,Ue.prototype.listenOnce=Ue.prototype.K,Ue.prototype.getLastError=Ue.prototype.Ha,Ue.prototype.getLastErrorCode=Ue.prototype.ya,Ue.prototype.getStatus=Ue.prototype.ca,Ue.prototype.getResponseJson=Ue.prototype.La,Ue.prototype.getResponseText=Ue.prototype.la,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Fa,Qv=xr.XhrIo=Ue}).apply(typeof Qf<"u"?Qf:typeof self<"u"?self:typeof window<"u"?window:{});var ht=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ht.UNAUTHENTICATED=new ht(null),ht.GOOGLE_CREDENTIALS=new ht("google-credentials-uid"),ht.FIRST_PARTY=new ht("first-party-uid"),ht.MOCK_USER=new ht("mock-user");var ra="12.8.0";function NA(n){ra=n}var Eo=new gi("@firebase/firestore");function Fs(){return Eo.logLevel}function B(n,...e){if(Eo.logLevel<=fe.DEBUG){let t=e.map(RE);Eo.debug(`Firestore (${ra}): ${n}`,...t)}}function Pr(n,...e){if(Eo.logLevel<=fe.ERROR){let t=e.map(RE);Eo.error(`Firestore (${ra}): ${n}`,...t)}}function _i(n,...e){if(Eo.logLevel<=fe.WARN){let t=e.map(RE);Eo.warn(`Firestore (${ra}): ${n}`,...t)}}function RE(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function K(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,PA(n,r,t)}function PA(n,e,t){let r=`FIRESTORE (${ra}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Pr(r),new Error(r)}function Re(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||PA(e,i,r)}function ie(n,e){return n}var F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends tn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var xn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var rh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},ih=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ht.UNAUTHENTICATED))}shutdown(){}},o_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},oh=class{constructor(e){this.t=e,this.currentUser=ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Re(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new xn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new xn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new xn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string",31837,{l:r}),new rh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string",2055,{h:e}),new ht(e)}},s_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ht.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);let e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}},a_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new s_(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}},sh=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},ah=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ht(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Re(this.o===void 0,3512);let r=o=>{o.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,B("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new sh(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Re(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new sh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function gj(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Io=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=gj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function pe(n,e){return n<e?-1:n>e?1:0}function c_(n,e){let t=Math.min(n.length,e.length);for(let r=0;r<t;r++){let i=n.charAt(r),o=e.charAt(r);if(i!==o)return e_(i)===e_(o)?pe(i,o):e_(i)?1:-1}return pe(n.length,e.length)}var mj=55296,yj=57343;function e_(n){let e=n.charCodeAt(0);return e>=mj&&e<=yj}function $s(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var WS="__name__",ch=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&K(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&K(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return pe(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):c_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rr.fromString(e.substring(4,e.length-2))}},Le=class n extends ch{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},vj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zt=class n extends ch{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return vj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===WS}static keyField(){return new n([WS])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new H(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new H(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var G=class n{constructor(e){this.path=e}static fromPath(e){return new n(Le.fromString(e))}static fromName(e){return new n(Le.fromString(e).popFirst(5))}static empty(){return new n(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Le.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Le(e.slice()))}};function kA(n,e,t){if(!t)throw new H(F.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function OA(n,e,t,r){if(e===!0&&r===!0)throw new H(F.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function KS(n){if(!G.isDocumentKey(n))throw new H(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function QS(n){if(G.isDocumentKey(n))throw new H(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function FA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Uh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":K(12329,{type:typeof n})}function Pn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new H(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Uh(n);throw new H(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function qe(n,e){let t={typeString:n};return e&&(t.value=e),t}function ia(n,e){if(!FA(n))throw new H(F.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new H(F.INVALID_ARGUMENT,t);return!0}var YS=-62135596800,JS=1e6,Ge=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*JS);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<YS)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/JS}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ia(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-YS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Ge._jsonSchemaVersion="firestore/timestamp/1.0",Ge._jsonSchema={type:qe("string",Ge._jsonSchemaVersion),seconds:qe("number"),nanoseconds:qe("number")};var ae=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Ge(0,0))}static max(){return new n(new Ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var fu=-1,uh=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};uh.UNKNOWN_ID=-1;function _j(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new Ge(t+1,0):new Ge(t,r));return new wo(i,G.empty(),e)}function Ej(n){return new wo(n.readTime,n.key,fu)}var wo=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ae.min(),G.empty(),fu)}static max(){return new n(ae.max(),G.empty(),fu)}};function Ij(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=G.comparator(n.documentKey,e.documentKey),t!==0?t:pe(n.largestBatchId,e.largestBatchId))}var wj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",u_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function oa(n){if(n.code!==F.FAILED_PRECONDITION||n.message!==wj)throw n;B("LocalStore","Unexpectedly lost primary lease")}var L=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&K(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(f=>{s[l]=f,++a,a===o&&r(s)},f=>i(f))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function bj(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function sa(n){return n.name==="IndexedDbTransactionError"}var xE=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>r.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ue&&this.ue(t),t}}n.ce=-1;return n})(),ME=-1;function Bh(n){return n==null}function hu(n){return n===0&&1/n==-1/0}function Cj(n){return typeof n=="number"&&Number.isInteger(n)&&!hu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var LA="";function Dj(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ZS(e)),e=Tj(n.get(t),e);return ZS(e)}function Tj(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case LA:t+="";break;default:t+=o}}return t}function ZS(n){return n+LA+""}var Sj="remoteDocuments",VA="owner";var jA="mutationQueues";var UA="mutations";var BA="documentMutations",Aj="remoteDocumentsV14";var HA="remoteDocumentGlobal";var $A="targets";var zA="targetDocuments";var qA="targetGlobal",GA="collectionParents";var WA="clientMetadata";var KA="bundles";var QA="namedQueries";var Rj="indexConfiguration";var xj="indexState";var Mj="indexEntries";var YA="documentOverlays";var Nj="globals";var Pj=[jA,UA,BA,Sj,$A,VA,qA,zA,WA,HA,GA,KA,QA],Ute=[...Pj,YA],kj=[jA,UA,BA,Aj,$A,VA,qA,zA,WA,HA,GA,KA,QA,YA],Oj=kj,Fj=[...Oj,Rj,xj,Mj];var Bte=[...Fj,Nj];function XS(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function bi(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function JA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var He=class n{constructor(e,t){this.comparator=e,this.root=t||Xn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Us(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Us(this.root,e,this.comparator,!1)}getReverseIterator(){return new Us(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Us(this.root,e,this.comparator,!0)}},Us=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Xn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw K(43730,{key:this.key,value:this.value});if(this.right.isRed())throw K(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw K(27949);return e+(this.isRed()?0:1)}};Xn.EMPTY=null,Xn.RED=!0,Xn.BLACK=!1;Xn.EMPTY=new class{constructor(){this.size=0}get key(){throw K(57766)}get value(){throw K(16141)}get color(){throw K(16727)}get left(){throw K(29726)}get right(){throw K(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Xn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var pt=class n{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lh(this.data.getIterator())}getIteratorFrom(e){return new lh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},lh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var pn=class n{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new n([])}unionWith(e){let t=new pt(zt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $s(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var dh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Dt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new dh("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Dt.EMPTY_BYTE_STRING=new Dt("");var Lj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kr(n){if(Re(!!n,39018),typeof n=="string"){let e=0,t=Lj.exec(n);if(Re(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fe(n.seconds),nanos:Fe(n.nanos)}}function Fe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Or(n){return typeof n=="string"?Dt.fromBase64String(n):Dt.fromUint8Array(n)}var ZA="server_timestamp",XA="__type__",eR="__previous_value__",tR="__local_write_time__";function Hh(n){return(n?.mapValue?.fields||{})[XA]?.stringValue===ZA}function $h(n){let e=n.mapValue.fields[eR];return Hh(e)?$h(e):e}function pu(n){let e=kr(n.mapValue.fields[tR].timestampValue);return new Ge(e.seconds,e.nanos)}var l_=class{constructor(e,t,r,i,o,s,a,u,l,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=f,this.apiKey=p}},fh="(default)",gu=class n{constructor(e,t){this.projectId=e,this.database=t||fh}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===fh}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};function nR(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new H(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(n.options.projectId,e)}var NE="__type__",rR="__max__",Jf={mapValue:{fields:{__type__:{stringValue:rR}}}},PE="__vector__",zs="value";function Ei(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Hh(n)?4:oR(n)?9007199254740991:iR(n)?10:11:K(28295,{value:n})}function or(n,e){if(n===e)return!0;let t=Ei(n);if(t!==Ei(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pu(n).isEqual(pu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=kr(i.timestampValue),a=kr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Or(i.bytesValue).isEqual(Or(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Fe(i.geoPointValue.latitude)===Fe(o.geoPointValue.latitude)&&Fe(i.geoPointValue.longitude)===Fe(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Fe(i.integerValue)===Fe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Fe(i.doubleValue),a=Fe(o.doubleValue);return s===a?hu(s)===hu(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return $s(n.arrayValue.values||[],e.arrayValue.values||[],or);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(XS(s)!==XS(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!or(s[u],a[u])))return!1;return!0})(n,e);default:return K(52216,{left:n})}}function mu(n,e){return(n.values||[]).find(t=>or(t,e))!==void 0}function qs(n,e){if(n===e)return 0;let t=Ei(n),r=Ei(e);if(t!==r)return pe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return pe(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Fe(o.integerValue||o.doubleValue),u=Fe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(n,e);case 3:return eA(n.timestampValue,e.timestampValue);case 4:return eA(pu(n),pu(e));case 5:return c_(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=Or(o),u=Or(s);return a.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let f=pe(a[l],u[l]);if(f!==0)return f}return pe(a.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=pe(Fe(o.latitude),Fe(s.latitude));return a!==0?a:pe(Fe(o.longitude),Fe(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return tA(n.arrayValue,e.arrayValue);case 10:return(function(o,s){let a=o.fields||{},u=s.fields||{},l=a[zs]?.arrayValue,f=u[zs]?.arrayValue,p=pe(l?.values?.length||0,f?.values?.length||0);return p!==0?p:tA(l,f)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Jf.mapValue&&s===Jf.mapValue)return 0;if(o===Jf.mapValue)return 1;if(s===Jf.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let g=c_(u[p],f[p]);if(g!==0)return g;let y=qs(a[u[p]],l[f[p]]);if(y!==0)return y}return pe(u.length,f.length)})(n.mapValue,e.mapValue);default:throw K(23264,{he:t})}}function eA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return pe(n,e);let t=kr(n),r=kr(e),i=pe(t.seconds,r.seconds);return i!==0?i:pe(t.nanos,r.nanos)}function tA(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=qs(t[i],r[i]);if(o)return o}return pe(t.length,r.length)}function Gs(n){return d_(n)}function d_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=kr(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Or(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return G.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=d_(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${d_(t.fields[s])}`;return i+"}"})(n.mapValue):K(61005,{value:n})}function eh(n){switch(Ei(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=$h(n);return e?16+eh(e):16;case 5:return 2*n.stringValue.length;case 6:return Or(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+eh(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return bi(r.fields,(o,s)=>{i+=o.length+eh(s)}),i})(n.mapValue);default:throw K(13486,{value:n})}}function f_(n){return!!n&&"integerValue"in n}function kE(n){return!!n&&"arrayValue"in n}function nA(n){return!!n&&"nullValue"in n}function rA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function th(n){return!!n&&"mapValue"in n}function iR(n){return(n?.mapValue?.fields||{})[NE]?.stringValue===PE}function uu(n){if(n.geoPointValue)return{geoPointValue:k({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:k({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return bi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=uu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uu(n.arrayValue.values[t]);return e}return k({},n)}function oR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===rR}var $te={mapValue:{fields:{[NE]:{stringValue:PE},[zs]:{arrayValue:{}}}}};var $t=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!th(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(t)}setAll(e){let t=zt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=uu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());th(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return or(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];th(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){bi(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(uu(this.value))}};function sR(n){let e=[];return bi(n.fields,(t,r)=>{let i=new zt([t]);if(th(r)){let o=sR(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new pn(e)}var Mn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ae.min(),ae.min(),ae.min(),$t.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ae.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ae.min(),ae.min(),$t.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ae.min(),ae.min(),$t.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var bo=class{constructor(e,t){this.position=e,this.inclusive=t}};function iA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=G.comparator(G.fromName(s.referenceValue),t.key):r=qs(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function oA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!or(n.position[t],e.position[t]))return!1;return!0}var Co=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function Vj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var hh=class{},Xe=class n extends hh{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new p_(e,t,r):t==="array-contains"?new y_(e,r):t==="in"?new v_(e,r):t==="not-in"?new __(e,r):t==="array-contains-any"?new E_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new g_(e,r):new m_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(qs(t,this.value)):t!==null&&Ei(this.value)===Ei(t)&&this.matchesComparison(qs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Nn=class n extends hh{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new n(e,t)}matches(e){return aR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function aR(n){return n.op==="and"}function cR(n){return jj(n)&&aR(n)}function jj(n){for(let e of n.filters)if(e instanceof Nn)return!1;return!0}function h_(n){if(n instanceof Xe)return n.field.canonicalString()+n.op.toString()+Gs(n.value);if(cR(n))return n.filters.map(e=>h_(e)).join(",");{let e=n.filters.map(t=>h_(t)).join(",");return`${n.op}(${e})`}}function uR(n,e){return n instanceof Xe?(function(r,i){return i instanceof Xe&&r.op===i.op&&r.field.isEqual(i.field)&&or(r.value,i.value)})(n,e):n instanceof Nn?(function(r,i){return i instanceof Nn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&uR(s,i.filters[a]),!0):!1})(n,e):void K(19439)}function lR(n){return n instanceof Xe?(function(t){return`${t.field.canonicalString()} ${t.op} ${Gs(t.value)}`})(n):n instanceof Nn?(function(t){return t.op.toString()+" {"+t.getFilters().map(lR).join(" ,")+"}"})(n):"Filter"}var p_=class extends Xe{constructor(e,t,r){super(e,t,r),this.key=G.fromName(r.referenceValue)}matches(e){let t=G.comparator(e.key,this.key);return this.matchesComparison(t)}},g_=class extends Xe{constructor(e,t){super(e,"in",t),this.keys=dR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},m_=class extends Xe{constructor(e,t){super(e,"not-in",t),this.keys=dR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function dR(n,e){return(e.arrayValue?.values||[]).map(t=>G.fromName(t.referenceValue))}var y_=class extends Xe{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return kE(t)&&mu(t.arrayValue,this.value)}},v_=class extends Xe{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&mu(this.value.arrayValue,t)}},__=class extends Xe{constructor(e,t){super(e,"not-in",t)}matches(e){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!mu(this.value.arrayValue,t)}},E_=class extends Xe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!kE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>mu(this.value.arrayValue,r))}};var I_=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}};function sA(n,e=null,t=[],r=[],i=null,o=null,s=null){return new I_(n,e,t,r,i,o,s)}function OE(n){let e=ie(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>h_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),Bh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Gs(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Gs(r)).join(",")),e.Te=t}return e.Te}function FE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Vj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!uR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!oA(n.startAt,e.startAt)&&oA(n.endAt,e.endAt)}function w_(n){return G.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ws=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}};function Uj(n,e,t,r,i,o,s,a){return new Ws(n,e,t,r,i,o,s,a)}function zh(n){return new Ws(n)}function aA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Bj(n){return G.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function fR(n){return n.collectionGroup!==null}function Bs(n){let e=ie(n);if(e.Ie===null){e.Ie=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new pt(zt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Co(o,r))}),t.has(zt.keyField().canonicalString())||e.Ie.push(new Co(zt.keyField(),r))}return e.Ie}function er(n){let e=ie(n);return e.Ee||(e.Ee=Hj(e,Bs(n))),e.Ee}function Hj(n,e){if(n.limitType==="F")return sA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Co(i.field,o)});let t=n.endAt?new bo(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new bo(n.startAt.position,n.startAt.inclusive):null;return sA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function ph(n,e,t){return new Ws(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function qh(n,e){return FE(er(n),er(e))&&n.limitType===e.limitType}function hR(n){return`${OE(er(n))}|lt:${n.limitType}`}function Ls(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>lR(i)).join(", ")}]`),Bh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Gs(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Gs(i)).join(",")),`Target(${r})`})(er(n))}; limitType=${n.limitType})`}function Gh(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):G.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of Bs(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=iA(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,Bs(r),i)||r.endAt&&!(function(s,a,u){let l=iA(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,Bs(r),i))})(n,e)}function $j(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function pR(n){return(e,t)=>{let r=!1;for(let i of Bs(n)){let o=zj(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function zj(n,e,t){let r=n.field.isKeyField()?G.comparator(e.key,t.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?qs(u,l):K(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return K(19790,{direction:n.dir})}}var Fr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bi(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return JA(this.inner)}size(){return this.innerSize}};var qj=new He(G.comparator);function Lr(){return qj}var gR=new He(G.comparator);function cu(...n){let e=gR;for(let t of n)e=e.insert(t.key,t);return e}function mR(n){let e=gR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function vo(){return lu()}function yR(){return lu()}function lu(){return new Fr(n=>n.toString(),(n,e)=>n.isEqual(e))}var Gj=new He(G.comparator),Wj=new pt(G.comparator);function he(...n){let e=Wj;for(let t of n)e=e.add(t);return e}var Kj=new pt(pe);function Qj(){return Kj}function LE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hu(e)?"-0":e}}function vR(n){return{integerValue:""+n}}function Yj(n,e){return Cj(e)?vR(e):LE(n,e)}var Ks=class{constructor(){this._=void 0}};function Jj(n,e,t){return n instanceof Qs?(function(i,o){let s={fields:{[XA]:{stringValue:ZA},[tR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Hh(o)&&(o=$h(o)),o&&(s.fields[eR]=o),{mapValue:s}})(t,e):n instanceof Do?ER(n,e):n instanceof To?IR(n,e):(function(i,o){let s=_R(i,o),a=cA(s)+cA(i.Ae);return f_(s)&&f_(i.Ae)?vR(a):LE(i.serializer,a)})(n,e)}function Zj(n,e,t){return n instanceof Do?ER(n,e):n instanceof To?IR(n,e):t}function _R(n,e){return n instanceof Ys?(function(r){return f_(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Qs=class extends Ks{},Do=class extends Ks{constructor(e){super(),this.elements=e}};function ER(n,e){let t=wR(e);for(let r of n.elements)t.some(i=>or(i,r))||t.push(r);return{arrayValue:{values:t}}}var To=class extends Ks{constructor(e){super(),this.elements=e}};function IR(n,e){let t=wR(e);for(let r of n.elements)t=t.filter(i=>!or(i,r));return{arrayValue:{values:t}}}var Ys=class extends Ks{constructor(e,t){super(),this.serializer=e,this.Ae=t}};function cA(n){return Fe(n.integerValue||n.doubleValue)}function wR(n){return kE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Xj(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Do&&i instanceof Do||r instanceof To&&i instanceof To?$s(r.elements,i.elements,or):r instanceof Ys&&i instanceof Ys?or(r.Ae,i.Ae):r instanceof Qs&&i instanceof Qs})(n.transform,e.transform)}var b_=class{constructor(e,t){this.version=e,this.transformResults=t}},tr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function nh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Js=class{};function bR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Zs(n.key,tr.none()):new So(n.key,n.data,tr.none());{let t=n.data,r=$t.empty(),i=new pt(zt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new sr(n.key,r,new pn(i.toArray()),tr.none())}}function eU(n,e,t){n instanceof So?(function(i,o,s){let a=i.value.clone(),u=lA(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof sr?(function(i,o,s){if(!nh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=lA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(CR(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function du(n,e,t,r){return n instanceof So?(function(o,s,a,u){if(!nh(o.precondition,s))return a;let l=o.value.clone(),f=dA(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof sr?(function(o,s,a,u){if(!nh(o.precondition,s))return a;let l=dA(o.fieldTransforms,u,s),f=s.data;return f.setAll(CR(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,a){return nh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function tU(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=_R(r.transform,i||null);o!=null&&(t===null&&(t=$t.empty()),t.set(r.field,o))}return t||null}function uA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&$s(r,i,(o,s)=>Xj(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var So=class extends Js{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},sr=class extends Js{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function CR(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function lA(n,e,t){let r=new Map;Re(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Zj(s,a,t[i]))}return r}function dA(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,Jj(o,s,e))}return r}var Zs=class extends Js{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},C_=class extends Js{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var D_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&eU(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=du(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=du(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=yR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=bR(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),he())}isEqual(e){return this.batchId===e.batchId&&$s(this.mutations,e.mutations,(t,r)=>uA(t,r))&&$s(this.baseMutations,e.baseMutations,(t,r)=>uA(t,r))}},T_=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Re(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return Gj})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var S_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var A_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Je,ve;function nU(n){switch(n){case F.OK:return K(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return K(15467,{code:n})}}function DR(n){if(n===void 0)return Pr("GRPC error has no .code"),F.UNKNOWN;switch(n){case Je.OK:return F.OK;case Je.CANCELLED:return F.CANCELLED;case Je.UNKNOWN:return F.UNKNOWN;case Je.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Je.INTERNAL:return F.INTERNAL;case Je.UNAVAILABLE:return F.UNAVAILABLE;case Je.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Je.NOT_FOUND:return F.NOT_FOUND;case Je.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Je.ABORTED:return F.ABORTED;case Je.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Je.DATA_LOSS:return F.DATA_LOSS;default:return K(39323,{code:n})}}(ve=Je||(Je={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";var rU=null;function iU(){return new TextEncoder}var oU=new Rr([4294967295,4294967295],0);function fA(n){let e=iU().encode(n),t=new Kv;return t.update(e),new Uint8Array(t.digest())}function hA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Rr([t,r],0),new Rr([i,o],0)]}var R_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new _o(`Invalid padding: ${t}`);if(r<0)throw new _o(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _o(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new _o(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Rr.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(Rr.fromNumber(r)));return i.compare(oU)===1&&(i=new Rr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let t=fA(e),[r,i]=hA(t);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;let t=fA(e),[r,i]=hA(t);for(let o=0;o<this.hashCount;o++){let s=this.ye(r,i,o);this.be(s)}}be(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},_o=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var gh=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ae.min(),i,new He(pe),Lr(),he())}},yu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,he(),he(),he())}};var Hs=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=i}},mh=class{constructor(e,t){this.targetId=e,this.Ce=t}},yh=class{constructor(e,t,r=Dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},vh=class{constructor(){this.ve=0,this.Fe=pA(),this.Me=Dt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=he(),t=he(),r=he();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:K(38017,{changeType:o})}}),new yu(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=pA()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Re(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}},x_=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=Lr(),this.He=Zf(),this.Je=Zf(),this.Ze=new He(pe)}Xe(e){for(let t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{let r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:K(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,i)=>{this.rt(i)&&t(i)})}st(e){let t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){let o=i.target;if(w_(o))if(r===0){let s=new G(o.path);this.et(t,s,Mn.newNoDocument(s,ae.min()))}else Re(r===1,20013,{expectedCount:r});else{let s=this._t(t);if(s!==r){let a=this.ut(e),u=a?this.ct(a,e,s):1;if(u!==0){this.it(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,l)}rU?.lt((function(f,p,g,y,x){let O={localCacheCount:f,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},A=p.unchangedNames;return A&&(O.bloomFilter={applied:x===0,hashCount:A?.hashCount??0,bitmapLength:A?.bits?.bitmap?.length??0,padding:A?.bits?.padding??0,mightContain:P=>y?.mightContain(P)??!1}),O})(s,e.Ce,this.Ge.ht(),a,u))}}}}ut(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Or(r).toUint8Array()}catch(u){if(u instanceof dh)return _i("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new R_(s,i,o)}catch(u){return _i(u instanceof _o?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){let r=this.Ge.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(t,o,null),i++)}),i}Tt(e){let t=new Map;this.ze.forEach((o,s)=>{let a=this.ot(s);if(a){if(o.current&&w_(a.target)){let u=new G(a.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,Mn.newNoDocument(u,e))}o.Be&&(t.set(s,o.ke()),o.Ke())}});let r=he();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.ot(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));let i=new gh(e,t,this.Ze,this.je,r);return this.je=Lr(),this.He=Zf(),this.Je=Zf(),this.Ze=new He(pe),i}Ye(e,t){if(!this.rt(e))return;let r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;let i=this.nt(e);this.Et(e,t)?i.qe(t,1):i.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new vh,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new pt(pe),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new pt(pe),this.He=this.He.insert(e,t)),t}rt(e){let t=this.ot(e)!==null;return t||B("WatchChangeAggregator","Detected inactive target",e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new vh),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}};function Zf(){return new He(G.comparator)}function pA(){return new He(G.comparator)}var sU={asc:"ASCENDING",desc:"DESCENDING"},aU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cU={and:"AND",or:"OR"},M_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function N_(n,e){return n.useProto3Json||Bh(e)?e:{value:e}}function _h(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function uU(n,e){return _h(n,e.toTimestamp())}function nr(n){return Re(!!n,49232),ae.fromTimestamp((function(t){let r=kr(t);return new Ge(r.seconds,r.nanos)})(n))}function VE(n,e){return P_(n,e).canonicalString()}function P_(n,e){let t=(function(i){return new Le(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function SR(n){let e=Le.fromString(n);return Re(NR(e),10190,{key:e.toString()}),e}function k_(n,e){return VE(n.databaseId,e.path)}function t_(n,e){let t=SR(e);if(t.get(1)!==n.databaseId.projectId)throw new H(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new H(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new G(RR(t))}function AR(n,e){return VE(n.databaseId,e)}function lU(n){let e=SR(n);return e.length===4?Le.emptyPath():RR(e)}function O_(n){return new Le(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function RR(n){return Re(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function gA(n,e,t){return{name:k_(n,e),fields:t.value.mapValue.fields}}function dU(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:K(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,f){return l.useProto3Json?(Re(f===void 0||typeof f=="string",58123),Dt.fromBase64String(f||"")):(Re(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Dt.fromUint8Array(f||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let f=l.code===void 0?F.UNKNOWN:DR(l.code);return new H(f,l.message||"")})(s);t=new yh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=t_(n,r.document.name),o=nr(r.document.updateTime),s=r.document.createTime?nr(r.document.createTime):ae.min(),a=new $t({mapValue:{fields:r.document.fields}}),u=Mn.newFoundDocument(i,o,s,a),l=r.targetIds||[],f=r.removedTargetIds||[];t=new Hs(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=t_(n,r.document),o=r.readTime?nr(r.readTime):ae.min(),s=Mn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Hs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=t_(n,r.document),o=r.removedTargetIds||[];t=new Hs([],o,i,null)}else{if(!("filter"in e))return K(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new A_(i,o),a=r.targetId;t=new mh(a,s)}}return t}function fU(n,e){let t;if(e instanceof So)t={update:gA(n,e.key,e.value)};else if(e instanceof Zs)t={delete:k_(n,e.key)};else if(e instanceof sr)t={update:gA(n,e.key,e.data),updateMask:IU(e.fieldMask)};else{if(!(e instanceof C_))return K(16599,{dt:e.type});t={verify:k_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof Qs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Do)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof To)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ys)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw K(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:uU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:K(27497)})(n,e.precondition)),t}function hU(n,e){return n&&n.length>0?(Re(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?nr(i.updateTime):nr(o);return s.isEqual(ae.min())&&(s=nr(o)),new b_(s,i.transformResults||[])})(t,e))):[]}function pU(n,e){return{documents:[AR(n,e.path)]}}function gU(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=AR(n,i);let o=(function(l){if(l.length!==0)return MR(Nn.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(f=>(function(g){return{field:Vs(g.field),direction:vU(g.dir)}})(f))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=N_(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{ft:t,parent:i}}function mU(n){let e=lU(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Re(r===1,65062);let f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];t.where&&(o=(function(p){let g=xR(p);return g instanceof Nn&&cR(g)?g.getFilters():[g]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(g=>(function(x){return new Co(js(x.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(g))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let g;return g=typeof p=="object"?p.value:p,Bh(g)?null:g})(t.limit));let u=null;t.startAt&&(u=(function(p){let g=!!p.before,y=p.values||[];return new bo(y,g)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let g=!p.before,y=p.values||[];return new bo(y,g)})(t.endAt)),Uj(e,i,s,o,a,"F",u,l)}function yU(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function xR(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=js(t.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=js(t.unaryFilter.field);return Xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=js(t.unaryFilter.field);return Xe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=js(t.unaryFilter.field);return Xe.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return K(61313);default:return K(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Xe.create(js(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return K(58110);default:return K(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Nn.create(t.compositeFilter.filters.map(r=>xR(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K(1026)}})(t.compositeFilter.op))})(n):K(30097,{filter:n})}function vU(n){return sU[n]}function _U(n){return aU[n]}function EU(n){return cU[n]}function Vs(n){return{fieldPath:n.canonicalString()}}function js(n){return zt.fromServerFormat(n.fieldPath)}function MR(n){return n instanceof Xe?(function(t){if(t.op==="=="){if(rA(t.value))return{unaryFilter:{field:Vs(t.field),op:"IS_NAN"}};if(nA(t.value))return{unaryFilter:{field:Vs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(rA(t.value))return{unaryFilter:{field:Vs(t.field),op:"IS_NOT_NAN"}};if(nA(t.value))return{unaryFilter:{field:Vs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vs(t.field),op:_U(t.op),value:t.value}}})(n):n instanceof Nn?(function(t){let r=t.getFilters().map(i=>MR(i));return r.length===1?r[0]:{compositeFilter:{op:EU(t.op),filters:r}}})(n):K(54877,{filter:n})}function IU(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function NR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function PR(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}var vu=class n{constructor(e,t,r,i,o=ae.min(),s=ae.min(),a=Dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var F_=class{constructor(e){this.yt=e}};function kR(n){let e=mU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ph(e,e.limit,"L"):e}var Eh=class{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Fe(e.integerValue));else if("doubleValue"in e){let r=Fe(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),hu(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=kr(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Or(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?oR(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):iR(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):K(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){let r=e.fields||{};this.Ft(t,55);for(let i of Object.keys(r))this.Ot(i,t),this.Ct(r[i],t)}kt(e,t){let r=e.fields||{};this.Ft(t,53);let i=zs,o=r[i].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(Fe(o)),this.Ot(i,t),this.Ct(r[i],t)}qt(e,t){let r=e.values||[];this.Ft(t,50);for(let i of r)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),G.fromName(e).path.forEach(r=>{this.Ft(t,60),this.$t(r,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}};Eh.Wt=new Eh;var L_=class{constructor(){this.Sn=new V_}addToCollectionParentIndex(e,t){return this.Sn.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve(wo.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve(wo.min())}updateCollectionGroup(e,t,r){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}},V_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new pt(Le.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pt(Le.comparator)).toArray()}};var zte=new Uint8Array(0);var mA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},OR=41943040,hn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(OR,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);var _u=class n{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new n(0)}static ar(){return new n(-1)}};var yA="LruGarbageCollector",wU=1048576;function vA([n,e],[t,r]){let i=pe(n,t);return i===0?pe(e,r):i}var j_=class{constructor(e){this.Pr=e,this.buffer=new pt(vA),this.Tr=0}Ir(){return++this.Tr}Er(e){let t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();vA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},U_=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){B(yA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){sa(t)?B(yA,"Ignoring IndexedDB error during garbage collection: ",t):await oa(t)}await this.Ar(3e5)})}},B_=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return L.resolve(xE.ce);let r=new j_(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(B("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(mA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(B("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mA):this.gr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,i,o,s,a,u,l,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(B("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Fs()<=fe.DEBUG&&B("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-f}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function bU(n,e){return new B_(n,e)}var H_=class{constructor(){this.changes=new Fr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Mn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?L.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var $_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var z_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&du(r.mutation,i,pn.empty(),Ge.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,t,r=he()){let i=vo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=cu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=vo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,he()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Lr(),s=lu(),a=(function(){return lu()})();return t.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof sr)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),du(f.mutation,l,f.mutation.getFieldMask(),Ge.now())):s.set(l.key,pn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),t.forEach((l,f)=>a.set(l,new $_(f,s.get(l)??null))),a))}recalculateAndSaveOverlays(e,t){let r=lu(),i=new He((s,a)=>s-a),o=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let f=r.get(u)||pn.empty();f=a.applyToLocalView(l,f),r.set(u,f);let p=(i.get(a.batchId)||he()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,f=u.value,p=yR();f.forEach(g=>{if(!o.has(g)){let y=bR(t.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return L.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return Bj(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):fR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):L.resolve(vo()),a=fu,u=o;return s.next(l=>L.forEach(l,(f,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(f)?L.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,he())).next(f=>({batchId:a,changes:mR(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new G(t)).next(r=>{let i=cu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=cu();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,u=>{let l=(function(p,g){return new Ws(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,Mn.newInvalidDocument(f)))});let a=cu();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&du(f.mutation,l,pn.empty(),Ge.now()),Gh(t,l)&&(a=a.insert(u,l))}),a})}};var q_=class{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return L.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:nr(i.createTime)}})(t)),L.resolve()}getNamedQuery(e,t){return L.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(i){return{name:i.name,query:kR(i.bundledQuery),readTime:nr(i.readTime)}})(t)),L.resolve()}};var G_=class{constructor(){this.overlays=new He(G.comparator),this.Lr=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){let r=vo();return L.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.bt(e,t,o)}),L.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Lr.delete(r)),L.resolve()}getOverlaysForCollection(e,t,r){let i=vo(),o=t.length+1,s=new G(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new He((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=vo(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let a=vo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>a.set(l,f)),!(a.size()>=i)););return L.resolve(a)}bt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new S_(t,r));let o=this.Lr.get(t);o===void 0&&(o=he(),this.Lr.set(t,o)),this.Lr.set(t,o.add(r.key))}};var W_=class{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,L.resolve()}};var Eu=class{constructor(){this.kr=new pt(Ze.Kr),this.qr=new pt(Ze.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){let r=new Ze(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Ze(e,t))}Qr(e,t){e.forEach(r=>this.removeReference(r,t))}Gr(e){let t=new G(new Le([])),r=new Ze(t,e),i=new Ze(t,e+1),o=[];return this.qr.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){let t=new G(new Le([])),r=new Ze(t,e),i=new Ze(t,e+1),o=he();return this.qr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Ze(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ze=class{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return G.comparator(e.key,t.key)||pe(e.Hr,t.Hr)}static Ur(e,t){return pe(e.Hr,t.Hr)||G.comparator(e.key,t.key)}};var K_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new pt(Ze.Kr)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new D_(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Jr=this.Jr.add(new Ze(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,t){return L.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?ME:this.Yn-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ze(t,0),i=new Ze(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new pt(pe);return t.forEach(i=>{let o=new Ze(i,0),s=new Ze(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),L.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;G.isDocumentKey(o)||(o=o.child(""));let s=new Ze(new G(o),0),a=new pt(pe);return this.Jr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),L.resolve(this.Yr(a))}Yr(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Re(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return L.forEach(t.mutations,i=>{let o=new Ze(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,t){let r=new Ze(t,0),i=this.Jr.firstAfterOrEqual(r);return L.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Q_=class{constructor(e){this.ti=e,this.docs=(function(){return new He(G.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return L.resolve(r?r.document.mutableCopy():Mn.newInvalidDocument(t))}getEntries(e,t){let r=Lr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Mn.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Lr(),s=t.path,a=new G(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||Ij(Ej(f),r)<=0||(i.has(f.key)||Gh(t,f))&&(o=o.insert(f.key,f.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,t,r,i){K(9500)}ni(e,t){return L.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Y_(this)}getSize(e){return L.resolve(this.size)}},Y_=class extends H_{constructor(e){super(),this.Mr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)}),L.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}};var J_=class{constructor(e){this.persistence=e,this.ri=new Fr(t=>OE(t),FE),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.ii=0,this.si=new Eu,this.targetCount=0,this.oi=_u._r()}forEachTarget(e,t){return this.ri.forEach((r,i)=>t(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),L.resolve()}lr(e){this.ri.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.oi=new _u(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.lr(t),L.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ri.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ri.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){let r=this.ri.get(t)||null;return L.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),L.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),L.resolve()}getMatchingKeysForTargetId(e,t){let r=this.si.jr(t);return L.resolve(r)}containsKey(e,t){return L.resolve(this.si.containsKey(t))}};var Ih=class{constructor(e,t){this._i={},this.overlays={},this.ai=new xE(0),this.ui=!1,this.ui=!0,this.ci=new W_,this.referenceDelegate=e(this),this.li=new J_(this),this.indexManager=new L_,this.remoteDocumentCache=(function(i){return new Q_(i)})(r=>this.referenceDelegate.hi(r)),this.serializer=new F_(t),this.Pi=new q_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new G_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new K_(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){B("MemoryPersistence","Starting transaction:",e);let i=new Z_(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(o=>this.referenceDelegate.Ii(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return L.or(Object.values(this._i).map(r=>()=>r.containsKey(e,t)))}},Z_=class extends u_{constructor(e){super(),this.currentSequenceNumber=e}},X_=class n{constructor(e){this.persistence=e,this.Ri=new Eu,this.Ai=null}static Vi(e){return new n(e)}get di(){if(this.Ai)return this.Ai;throw K(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),L.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),L.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach(i=>this.di.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ti(){this.Ai=new Set}Ii(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.di,r=>{let i=G.fromPath(r);return this.mi(e,i).next(o=>{o||t.removeEntry(i,ae.min())})}).next(()=>(this.Ai=null,t.apply(e)))}updateLimboDocument(e,t){return this.mi(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}hi(e){return 0}mi(e,t){return L.or([()=>L.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},wh=class n{constructor(e,t){this.persistence=e,this.fi=new Fr(r=>Dj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=bU(this,t)}static Vi(e,t){return new n(e,t)}Ti(){}Ii(e){return L.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){let t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}pr(e){let t=0;return this.mr(e,r=>{t++}).next(()=>t)}mr(e,t){return L.forEach(this.fi,(r,i)=>this.wr(e,r,i).next(o=>o?L.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ni(e,s=>this.wr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ae.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),L.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),L.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),L.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=eh(e.data.value)),t}wr(e,t,r){return L.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.fi.get(t);return L.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var eE=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=i}static Es(e,t){let r=he(),i=he();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var tE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var nE=class{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return SS()?8:bj(ft())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.gs(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ps(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new tE;return this.ys(e,t,s).next(a=>{if(o.result=a,this.As)return this.ws(e,t,s,a.size)})}).next(()=>o.result)}ws(e,t,r,i){return r.documentReadCount<this.Vs?(Fs()<=fe.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",Ls(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),L.resolve()):(Fs()<=fe.DEBUG&&B("QueryEngine","Query:",Ls(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Fs()<=fe.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",Ls(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,er(t))):L.resolve())}gs(e,t){if(aA(t))return L.resolve(null);let r=er(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=ph(t,null,"F"),r=er(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=he(...o);return this.fs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ss(t,l,s,u.readTime)?this.gs(e,ph(t,null,"F")):this.Ds(e,l,t,u)}))})))}ps(e,t,r,i){return aA(t)||i.isEqual(ae.min())?L.resolve(null):this.fs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ss(t,s,r,i)?L.resolve(null):(Fs()<=fe.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ls(t)),this.Ds(e,s,t,_j(i,fu)).next(a=>a))})}bs(e,t){let r=new pt(pR(e));return t.forEach((i,o)=>{Gh(e,o)&&(r=r.add(o))}),r}Ss(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ys(e,t,r){return Fs()<=fe.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",Ls(t)),this.fs.getDocumentsMatchingQuery(e,t,wo.min(),r)}Ds(e,t,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var jE="LocalStore",CU=3e8,rE=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.vs=new He(pe),this.Fs=new Fr(o=>OE(o),FE),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new z_(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.vs))}};function DU(n,e,t,r){return new rE(n,e,t,r)}async function FR(n,e){let t=ie(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Os(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=he();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){a.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Ns:l,removedBatchIds:s,addedBatchIds:a}))})})}function TU(n,e){let t=ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,f){let p=l.batch,g=p.keys(),y=L.resolve();return g.forEach(x=>{y=y.next(()=>f.getEntry(u,x)).next(O=>{let A=l.docVersions.get(x);Re(A!==null,48541),O.version.compareTo(A)<0&&(p.applyToRemoteDocument(O,l),O.isValidDocument()&&(O.setReadTime(l.commitVersion),f.addEntry(O)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=he();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function LR(n){let e=ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.li.getLastRemoteSnapshotVersion(t))}function SU(n,e){let t=ie(n),r=e.snapshotVersion,i=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.xs.newChangeBuffer({trackRemovals:!0});i=t.vs;let a=[];e.targetChanges.forEach((f,p)=>{let g=i.get(p);if(!g)return;a.push(t.li.removeMatchingKeys(o,f.removedDocuments,p).next(()=>t.li.addMatchingKeys(o,f.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Dt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(p,y),(function(O,A,P){return O.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=CU?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(g,y,f)&&a.push(t.li.updateTargetData(o,y))});let u=Lr(),l=he();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,f))}),a.push(AU(o,s,e.documentUpdates).next(f=>{u=f.Bs,l=f.Ls})),!r.isEqual(ae.min())){let f=t.li.getLastRemoteSnapshotVersion(o).next(p=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(f)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.vs=i,o))}function AU(n,e,t){let r=he(),i=he();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Lr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ae.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):B(jE,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Bs:s,Ls:i}})}function RU(n,e){let t=ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ME),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xU(n,e){let t=ie(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.li.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):t.li.allocateTargetId(r).next(s=>(i=new vu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r})}async function iE(n,e,t){let r=ie(n),i=r.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!sa(s))throw s;B(jE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function _A(n,e,t){let r=ie(n),i=ae.min(),o=he();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,f){let p=ie(u),g=p.Fs.get(f);return g!==void 0?L.resolve(p.vs.get(g)):p.li.getTargetData(l,f)})(r,s,er(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:ae.min(),t?o:he())).next(a=>(MU(r,$j(e),a),{documents:a,ks:o})))}function MU(n,e,t){let r=n.Ms.get(e)||ae.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ms.set(e,r)}var bh=class{constructor(){this.activeTargetIds=Qj()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var oE=class{constructor(){this.vo=new bh,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new bh,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var sE=class{Mo(e){}shutdown(){}};var EA="ConnectivityMonitor",Ch=class{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){B(EA,"Network connectivity changed: AVAILABLE");for(let e of this.Lo)e(0)}Bo(){B(EA,"Network connectivity changed: UNAVAILABLE");for(let e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Xf=null;function aE(){return Xf===null?Xf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xf++,"0x"+Xf.toString(16)}var n_="RestConnection",NU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"},cE=class{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===fh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=aE(),a=this.Qo(e,t.toUriEncodedString());B(n_,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,i,o);let{host:l}=new URL(a),f=pi(l);return this.zo(e,a,u,r,f).then(p=>(B(n_,`Received RPC '${e}' ${s}: `,p),p),p=>{throw _i(n_,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ra})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Qo(e,t){let r=NU[e],i=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}};var uE=class{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}};var Nt="WebChannelConnection",au=(n,e,t)=>{n.listen(e,r=>{try{t(r)}catch(i){setTimeout(()=>{throw i},0)}})},Dh=class n extends cE{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!n.c_){let e=Zv();au(e,Jv.STAT_EVENT,t=>{t.stat===Yf.PROXY?B(Nt,"STAT_EVENT: detected buffering proxy"):t.stat===Yf.NOPROXY&&B(Nt,"STAT_EVENT: detected no buffering proxy")}),n.c_=!0}}zo(e,t,r,i,o){let s=aE();return new Promise((a,u)=>{let l=new Qv;l.setWithCredentials(!0),l.listenOnce(Yv.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case su.NO_ERROR:let p=l.getResponseJson();B(Nt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case su.TIMEOUT:B(Nt,`RPC '${e}' ${s} timed out`),u(new H(F.DEADLINE_EXCEEDED,"Request time out"));break;case su.HTTP_ERROR:let g=l.getStatus();if(B(Nt,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let x=y?.error;if(x&&x.status&&x.message){let O=(function(P){let ee=P.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(ee)>=0?ee:F.UNKNOWN})(x.status);u(new H(O,x.message))}else u(new H(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new H(F.UNAVAILABLE,"Connection failed."));break;default:K(9055,{l_:e,streamId:s,h_:l.getLastErrorCode(),P_:l.getLastError()})}}finally{B(Nt,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);B(Nt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",f,r,15)})}T_(e,t,r){let i=aE(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(a.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,t,r),a.encodeInitMessageHeaders=!0;let l=o.join("");B(Nt,`Creating RPC '${e}' stream ${i}: ${l}`,a);let f=s.createWebChannel(l,a);this.I_(f);let p=!1,g=!1,y=new uE({Ho:x=>{g?B(Nt,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(p||(B(Nt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),B(Nt,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},Jo:()=>f.close()});return au(f,Os.EventType.OPEN,()=>{g||(B(Nt,`RPC '${e}' stream ${i} transport opened.`),y.i_())}),au(f,Os.EventType.CLOSE,()=>{g||(g=!0,B(Nt,`RPC '${e}' stream ${i} transport closed`),y.o_(),this.E_(f))}),au(f,Os.EventType.ERROR,x=>{g||(g=!0,_i(Nt,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),y.o_(new H(F.UNAVAILABLE,"The operation could not be completed")))}),au(f,Os.EventType.MESSAGE,x=>{if(!g){let O=x.data[0];Re(!!O,16349);let A=O,P=A?.error||A[0]?.error;if(P){B(Nt,`RPC '${e}' stream ${i} received error:`,P);let ee=P.status,be=(function(mt){let C=Je[mt];if(C!==void 0)return DR(C)})(ee),qt=P.message;be===void 0&&(be=F.INTERNAL,qt="Unknown error status: "+ee+" with message "+P.message),g=!0,y.o_(new H(be,qt)),f.close()}else B(Nt,`RPC '${e}' stream ${i} received:`,O),y.__(O)}}),n.u_(),setTimeout(()=>{y.s_()},0),y}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(t=>t===e)}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Xv()}};function PU(n){return new Dh(n)}function r_(){return typeof document<"u"?document:null}function Cu(n){return new M_(n,!0)}Dh.c_=!1;var Th=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=i,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();let t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}};var IA="PersistentStream",Sh=class{constructor(e,t,r,i,o,s,a,u){this.Ci=e,this.b_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Th(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===F.RESOURCE_EXHAUSTED?(Pr(t.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;let e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===t&&this.G_(r,i)},r=>{e(()=>{let i=new H(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,t){let r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return B(IA,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget(()=>this.D_===e?t():(B(IA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},lE=class extends Sh{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=dU(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ae.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?nr(s.readTime):ae.min()})(e);return this.listener.J_(t,r)}Z_(e){let t={};t.database=O_(this.serializer),t.addTarget=(function(o,s){let a,u=s.target;if(a=w_(u)?{documents:pU(o,u)}:{query:gU(o,u).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=TR(o,s.resumeToken);let l=N_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ae.min())>0){a.readTime=_h(o,s.snapshotVersion.toTimestamp());let l=N_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=yU(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){let t={};t.database=O_(this.serializer),t.removeTarget=e,this.K_(t)}},dE=class extends Sh{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Re(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Re(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let t=hU(e.writeResults,e.commitTime),r=nr(e.commitTime);return this.listener.na(r,t)}ra(){let e={};e.database=O_(this.serializer),this.K_(e)}ea(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>fU(this.serializer,r))};this.K_(t)}};var fE=class{},hE=class extends fE{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,P_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(F.UNKNOWN,o.toString())})}jo(e,t,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.jo(e,P_(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(F.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}};function kU(n,e,t,r){return new hE(n,e,t,r)}var pE=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pr(t),this.aa=!1):B("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}};var Ao="RemoteStore",gE=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo(s=>{r.enqueueAndForget(async()=>{Mo(this)&&(B(Ao,"Restarting streams for network reachability change."),await(async function(u){let l=ie(u);l.Ea.add(4),await Du(l),l.Va.set("Unknown"),l.Ea.delete(4),await Wh(l)})(this))})}),this.Va=new pE(r,i)}};async function Wh(n){if(Mo(n))for(let e of n.Ra)await e(!0)}async function Du(n){for(let e of n.Ra)await e(!1)}function VR(n,e){let t=ie(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),$E(t)?HE(t):aa(t).O_()&&BE(t,e))}function UE(n,e){let t=ie(n),r=aa(t);t.Ia.delete(e),r.O_()&&jR(t,e),t.Ia.size===0&&(r.O_()?r.L_():Mo(t)&&t.Va.set("Unknown"))}function BE(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}aa(n).Z_(e)}function jR(n,e){n.da.$e(e),aa(n).X_(e)}function HE(n){n.da=new x_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),aa(n).start(),n.Va.ua()}function $E(n){return Mo(n)&&!aa(n).x_()&&n.Ia.size>0}function Mo(n){return ie(n).Ea.size===0}function UR(n){n.da=void 0}async function OU(n){n.Va.set("Online")}async function FU(n){n.Ia.forEach((e,t)=>{BE(n,e)})}async function LU(n,e){UR(n),$E(n)?(n.Va.ha(e),HE(n)):n.Va.set("Unknown")}async function VU(n,e,t){if(n.Va.set("Online"),e instanceof yh&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.da.removeTarget(a))})(n,e)}catch(r){B(Ao,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ah(n,r)}else if(e instanceof Hs?n.da.Xe(e):e instanceof mh?n.da.st(e):n.da.tt(e),!t.isEqual(ae.min()))try{let r=await LR(n.localStore);t.compareTo(r)>=0&&await(function(o,s){let a=o.da.Tt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.Ia.get(l);f&&o.Ia.set(l,f.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let f=o.Ia.get(u);if(!f)return;o.Ia.set(u,f.withResumeToken(Dt.EMPTY_BYTE_STRING,f.snapshotVersion)),jR(o,u);let p=new vu(f.target,u,l,f.sequenceNumber);BE(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t)}catch(r){B(Ao,"Failed to raise snapshot:",r),await Ah(n,r)}}async function Ah(n,e,t){if(!sa(e))throw e;n.Ea.add(1),await Du(n),n.Va.set("Offline"),t||(t=()=>LR(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{B(Ao,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Wh(n)})}function BR(n,e){return e().catch(t=>Ah(n,t,e))}async function Kh(n){let e=ie(n),t=Ii(e),r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ME;for(;jU(e);)try{let i=await RU(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,UU(e,i)}catch(i){await Ah(e,i)}HR(e)&&$R(e)}function jU(n){return Mo(n)&&n.Ta.length<10}function UU(n,e){n.Ta.push(e);let t=Ii(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function HR(n){return Mo(n)&&!Ii(n).x_()&&n.Ta.length>0}function $R(n){Ii(n).start()}async function BU(n){Ii(n).ra()}async function HU(n){let e=Ii(n);for(let t of n.Ta)e.ea(t.mutations)}async function $U(n,e,t){let r=n.Ta.shift(),i=T_.from(r,e,t);await BR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Kh(n)}async function zU(n,e){e&&Ii(n).Y_&&await(async function(r,i){if((function(s){return nU(s)&&s!==F.ABORTED})(i.code)){let o=r.Ta.shift();Ii(r).B_(),await BR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Kh(r)}})(n,e),HR(n)&&$R(n)}async function wA(n,e){let t=ie(n);t.asyncQueue.verifyOperationInProgress(),B(Ao,"RemoteStore received new credentials");let r=Mo(t);t.Ea.add(3),await Du(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Wh(t)}async function qU(n,e){let t=ie(n);e?(t.Ea.delete(2),await Wh(t)):e||(t.Ea.add(2),await Du(t),t.Va.set("Unknown"))}function aa(n){return n.ma||(n.ma=(function(t,r,i){let o=ie(t);return o.sa(),new lE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:OU.bind(null,n),Yo:FU.bind(null,n),t_:LU.bind(null,n),J_:VU.bind(null,n)}),n.Ra.push(async e=>{e?(n.ma.B_(),$E(n)?HE(n):n.Va.set("Unknown")):(await n.ma.stop(),UR(n))})),n.ma}function Ii(n){return n.fa||(n.fa=(function(t,r,i){let o=ie(t);return o.sa(),new dE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:BU.bind(null,n),t_:zU.bind(null,n),ta:HU.bind(null,n),na:$U.bind(null,n)}),n.Ra.push(async e=>{e?(n.fa.B_(),await Kh(n)):(await n.fa.stop(),n.Ta.length>0&&(B(Ao,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}var mE=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new xn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function zE(n,e){if(Pr("AsyncQueue",`${e}: ${n}`),sa(n))return new H(F.UNAVAILABLE,`${e}: ${n}`);throw n}var Iu=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||G.comparator(t.key,r.key):(t,r)=>G.comparator(t.key,r.key),this.keyedMap=cu(),this.sortedSet=new He(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Rh=class{constructor(){this.ga=new He(G.comparator)}track(e){let t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):K(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}},Ro=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Iu.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var yE=class{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}},vE=class{constructor(){this.queries=bA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=ie(t),o=i.queries;i.queries=bA(),o.forEach((s,a)=>{for(let u of a.ba)u.onError(r)})})(this,new H(F.ABORTED,"Firestore shutting down"))}};function bA(){return new Fr(n=>hR(n),qh)}async function zR(n,e){let t=ie(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.Da()&&(r=2):(o=new yE,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(i,!0);break;case 1:o.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){let a=zE(s,`Initialization of query '${Ls(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&qE(t)}async function qR(n,e){let t=ie(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.ba.indexOf(e);s>=0&&(o.ba.splice(s,1),o.ba.length===0?i=e.Da()?0:1:!o.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function GU(n,e){let t=ie(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.ba)a.Fa(i)&&(r=!0);s.wa=i}}r&&qE(t)}function WU(n,e,t){let r=ie(n),i=r.queries.get(e);if(i)for(let o of i.ba)o.onError(t);r.queries.delete(e)}function qE(n){n.Ca.forEach(e=>{e.next()})}var _E,CA;(CA=_E||(_E={})).Ma="default",CA.Cache="cache";var xh=class{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ro(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;let r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==_E.Cache}};var Mh=class{constructor(e){this.key=e}},Nh=class{constructor(e){this.key=e}},EE=class{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=he(),this.mutatedKeys=he(),this.eu=pR(e),this.tu=new Iu(this.eu)}get nu(){return this.Za}ru(e,t){let r=t?t.iu:new Rh,i=t?t.tu:this.tu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let g=i.get(f),y=Gh(this.query,p)?p:null,x=!!g&&this.mutatedKeys.has(g.key),O=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),A=!1;g&&y?g.data.isEqual(y.data)?x!==O&&(r.track({type:3,doc:y}),A=!0):this.su(g,y)||(r.track({type:2,doc:y}),A=!0,(u&&this.eu(y,u)>0||l&&this.eu(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),A=!0):g&&!y&&(r.track({type:1,doc:g}),A=!0,(u||l)&&(a=!0)),A&&(y?(s=s.add(y),o=O?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{tu:s,iu:r,Ss:a,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let s=e.iu.ya();s.sort((f,p)=>(function(y,x){let O=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K(20277,{Vt:A})}};return O(y)-O(x)})(f.type,p.type)||this.eu(f.doc,p.doc)),this.ou(r),i=i??!1;let a=t&&!i?this._u():[],u=this.Ya.size===0&&this.current&&!i?1:0,l=u!==this.Xa;return this.Xa=u,s.length!==0||l?{snapshot:new Ro(this.query,e.tu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Rh,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Za=this.Za.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Za=this.Za.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Ya;this.Ya=he(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});let t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new Nh(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new Mh(r))}),t}cu(e){this.Za=e.ks,this.Ya=he();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}},GE="SyncEngine",IE=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},wE=class{constructor(e){this.key=e,this.hu=!1}},bE=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Fr(a=>hR(a),qh),this.Iu=new Map,this.Eu=new Set,this.Ru=new He(G.comparator),this.Au=new Map,this.Vu=new Eu,this.du={},this.mu=new Map,this.fu=_u.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}};async function KU(n,e,t=!0){let r=JR(n),i,o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await GR(r,e,t,!0),i}async function QU(n,e){let t=JR(n);await GR(t,e,!0,!1)}async function GR(n,e,t,r){let i=await xU(n.localStore,er(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=await YU(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&VR(n.remoteStore,i),a}async function YU(n,e,t,r,i){n.pu=(p,g,y)=>(async function(O,A,P,ee){let be=A.view.ru(P);be.Ss&&(be=await _A(O.localStore,A.query,!1).then(({documents:C})=>A.view.ru(C,be)));let qt=ee&&ee.targetChanges.get(A.targetId),mn=ee&&ee.targetMismatches.get(A.targetId)!=null,mt=A.view.applyChanges(be,O.isPrimaryClient,qt,mn);return TA(O,A.targetId,mt.au),mt.snapshot})(n,p,g,y);let o=await _A(n.localStore,e,!0),s=new EE(e,o.ks),a=s.ru(o.documents),u=yu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);TA(n,t,l.au);let f=new IE(e,t,s);return n.Tu.set(e,f),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),l.snapshot}async function JU(n,e,t){let r=ie(n),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!qh(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await iE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&UE(r.remoteStore,i.targetId),CE(r,i.targetId)}).catch(oa)):(CE(r,i.targetId),await iE(r.localStore,i.targetId,!0))}async function ZU(n,e){let t=ie(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),UE(t.remoteStore,r.targetId))}async function XU(n,e,t){let r=sB(n);try{let i=await(function(s,a){let u=ie(s),l=Ge.now(),f=a.reduce((y,x)=>y.add(x.key),he()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let x=Lr(),O=he();return u.xs.getEntries(y,f).next(A=>{x=A,x.forEach((P,ee)=>{ee.isValidDocument()||(O=O.add(P))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,x)).next(A=>{p=A;let P=[];for(let ee of a){let be=tU(ee,p.get(ee.key).overlayedDocument);be!=null&&P.push(new sr(ee.key,be,sR(be.value.mapValue),tr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,P,a)}).next(A=>{g=A;let P=A.applyToLocalDocumentSet(p,O);return u.documentOverlayCache.saveOverlays(y,A.batchId,P)})}).then(()=>({batchId:g.batchId,changes:mR(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.du[s.currentUser.toKey()];l||(l=new He(pe)),l=l.insert(a,u),s.du[s.currentUser.toKey()]=l})(r,i.batchId,t),await Tu(r,i.changes),await Kh(r.remoteStore)}catch(i){let o=zE(i,"Failed to persist write");t.reject(o)}}async function WR(n,e){let t=ie(n);try{let r=await SU(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Au.get(o);s&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Re(s.hu,14607):i.removedDocuments.size>0&&(Re(s.hu,42227),s.hu=!1))}),await Tu(t,r,e)}catch(r){await oa(r)}}function DA(n,e,t){let r=ie(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Tu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=ie(s);u.onlineState=a;let l=!1;u.queries.forEach((f,p)=>{for(let g of p.ba)g.va(a)&&(l=!0)}),l&&qE(u)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function eB(n,e,t){let r=ie(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Au.get(e),o=i&&i.key;if(o){let s=new He(G.comparator);s=s.insert(o,Mn.newNoDocument(o,ae.min()));let a=he().add(o),u=new gh(ae.min(),new Map,new He(pe),s,a);await WR(r,u),r.Ru=r.Ru.remove(o),r.Au.delete(e),WE(r)}else await iE(r.localStore,e,!1).then(()=>CE(r,e,t)).catch(oa)}async function tB(n,e){let t=ie(n),r=e.batch.batchId;try{let i=await TU(t.localStore,e);QR(t,r,null),KR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Tu(t,i)}catch(i){await oa(i)}}async function nB(n,e,t){let r=ie(n);try{let i=await(function(s,a){let u=ie(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Re(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})})(r.localStore,e);QR(r,e,t),KR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Tu(r,i)}catch(i){await oa(i)}}function KR(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function QR(n,e,t){let r=ie(n),i=r.du[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function CE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach(r=>{n.Vu.containsKey(r)||YR(n,r)})}function YR(n,e){n.Eu.delete(e.path.canonicalString());let t=n.Ru.get(e);t!==null&&(UE(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),WE(n))}function TA(n,e,t){for(let r of t)r instanceof Mh?(n.Vu.addReference(r.key,e),rB(n,r)):r instanceof Nh?(B(GE,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||YR(n,r.key)):K(19791,{wu:r})}function rB(n,e){let t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(B(GE,"New document in limbo: "+t),n.Eu.add(r),WE(n))}function WE(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){let e=n.Eu.values().next().value;n.Eu.delete(e);let t=new G(Le.fromString(e)),r=n.fu.next();n.Au.set(r,new wE(t)),n.Ru=n.Ru.insert(t,r),VR(n.remoteStore,new vu(er(zh(t.path)),r,"TargetPurposeLimboResolution",xE.ce))}}async function Tu(n,e,t){let r=ie(n),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{s.push(r.pu(u,e,t).then(l=>{if((l||t)&&r.isPrimaryClient){let f=l?!l.fromCache:t?.targetChanges.get(u.targetId)?.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(l){i.push(l);let f=eE.Es(u.targetId,l);o.push(f)}}))}),await Promise.all(s),r.Pu.J_(i),await(async function(u,l){let f=ie(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(l,g=>L.forEach(g.Ts,y=>f.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>L.forEach(g.Is,y=>f.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!sa(p))throw p;B(jE,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=f.vs.get(g),x=y.snapshotVersion,O=y.withLastLimboFreeSnapshotVersion(x);f.vs=f.vs.insert(g,O)}}})(r.localStore,o))}async function iB(n,e){let t=ie(n);if(!t.currentUser.isEqual(e)){B(GE,"User change. New user:",e.toKey());let r=await FR(t.localStore,e);t.currentUser=e,(function(o,s){o.mu.forEach(a=>{a.forEach(u=>{u.reject(new H(F.CANCELLED,s))})}),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Tu(t,r.Ns)}}function oB(n,e){let t=ie(n),r=t.Au.get(e);if(r&&r.hu)return he().add(r.key);{let i=he(),o=t.Iu.get(e);if(!o)return i;for(let s of o){let a=t.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function JR(n){let e=ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=WR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eB.bind(null,e),e.Pu.J_=GU.bind(null,e.eventManager),e.Pu.yu=WU.bind(null,e.eventManager),e}function sB(n){let e=ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nB.bind(null,e),e}var KE=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Cu(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return DU(this.persistence,new nE,t.initialUser,this.serializer)}Cu(t){return new Ih(X_.Vi,this.serializer)}Du(t){return new oE}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),Ph=class extends KE{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Re(this.persistence.referenceDelegate instanceof wh,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new U_(r,e.asyncQueue,t)}Cu(e){let t=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new Ih(r=>wh.Vi(r,t),this.serializer)}};var ZR=(()=>{class n{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>DA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=iB.bind(null,this.syncEngine),await qU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new vE})()}createDatastore(t){let r=Cu(t.databaseInfo.databaseId),i=PU(t.databaseInfo);return kU(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,u){return new gE(i,o,s,a,u)})(this.localStore,this.datastore,t.asyncQueue,r=>DA(this.syncEngine,r,0),(function(){return Ch.v()?new Ch:new sE})())}createSyncEngine(t,r){return(function(o,s,a,u,l,f,p){let g=new bE(o,s,a,u,l,f);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){let i=ie(r);B(Ao,"RemoteStore shutting down."),i.Ea.add(5),await Du(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}return n.provider={build:()=>new n},n})();var kh=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Pr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var wi="FirestoreClient",DE=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=i,this.user=ht.UNAUTHENTICATED,this.clientId=Io.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{B(wi,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(B(wi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new xn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=zE(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function i_(n,e){n.asyncQueue.verifyOperationInProgress(),B(wi,"Initializing OfflineComponentProvider");let t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await FR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function SA(n,e){n.asyncQueue.verifyOperationInProgress();let t=await aB(n);B(wi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>wA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>wA(e.remoteStore,i)),n._onlineComponents=e}async function aB(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){B(wi,"Using user provided OfflineComponentProvider");try{await i_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;_i("Error using user provided cache. Falling back to memory cache: "+t),await i_(n,new KE)}}else B(wi,"Using default OfflineComponentProvider"),await i_(n,new Ph(void 0));return n._offlineComponents}async function XR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(B(wi,"Using user provided OnlineComponentProvider"),await SA(n,n._uninitializedComponentsProvider._online)):(B(wi,"Using default OnlineComponentProvider"),await SA(n,new ZR))),n._onlineComponents}function cB(n){return XR(n).then(e=>e.syncEngine)}async function e1(n){let e=await XR(n),t=e.eventManager;return t.onListen=KU.bind(null,e.syncEngine),t.onUnlisten=JU.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=QU.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ZU.bind(null,e.syncEngine),t}function t1(n,e,t={}){let r=new xn;return n.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,u,l){let f=new kh({next:g=>{f.Nu(),s.enqueueAndForget(()=>qR(o,p));let y=g.docs.has(a);!y&&g.fromCache?l.reject(new H(F.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&u&&u.source==="server"?l.reject(new H(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new xh(zh(a.path),f,{includeMetadataChanges:!0,Ka:!0});return zR(o,p)})(await e1(n),n.asyncQueue,e,t,r)),r.promise}function n1(n,e,t={}){let r=new xn;return n.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,u,l){let f=new kh({next:g=>{f.Nu(),s.enqueueAndForget(()=>qR(o,p)),g.fromCache&&u.source==="server"?l.reject(new H(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new xh(a,f,{includeMetadataChanges:!0,Ka:!0});return zR(o,p)})(await e1(n),n.asyncQueue,e,t,r)),r.promise}function r1(n,e){let t=new xn;return n.asyncQueue.enqueueAndForget(async()=>XU(await cB(n),e,t)),t.promise}function i1(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var uB="ComponentProvider",AA=new Map;function lB(n,e,t,r,i){return new l_(n,e,t,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i1(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}var o1="firestore.googleapis.com",RA=!0,Oh=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new H(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=o1,this.ssl=RA}else this.host=e.host,this.ssl=e.ssl??RA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=OR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wU)throw new H(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Xs=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Oh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Oh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ih;switch(r.type){case"firstParty":return new a_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=AA.get(t);r&&(B(uB,"Removing Datastore"),AA.delete(t),r.terminate())})(this),Promise.resolve()}};function s1(n,e,t,r={}){n=Pn(n,Xs);let i=pi(e),o=n._getSettings(),s=$(k({},o),{emulatorOptions:n._getEmulatorOptions()}),a=`${e}:${t}`;i&&($f(`https://${a}`),zf("Firestore",!0)),o.host!==o1&&o.host!==a&&_i("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=$(k({},o),{host:a,ssl:i,emulatorOptions:r});if(!An(u,s)&&(n._setSettings(u),r.mockUserToken)){let l,f;if(typeof r.mockUserToken=="string")l=r.mockUserToken,f=ht.MOCK_USER;else{l=IS(r.mockUserToken,n._app?.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new H(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ht(p)}n._authCredentials=new o_(new rh(l,f))}}var ea=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},gt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(ia(t,n._jsonSchema))return new n(e,r||null,new G(Le.fromString(t.referencePath)))}};gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:qe("string",gt._jsonSchemaVersion),referencePath:qe("string")};var Mr=class n extends ea{constructor(e,t,r){super(e,t,zh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new G(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function st(n,e,...t){if(n=Ye(n),kA("collection","path",e),n instanceof Xs){let r=Le.fromString(e,...t);return QS(r),new Mr(n,null,r)}{if(!(n instanceof gt||n instanceof Mr))throw new H(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Le.fromString(e,...t));return QS(r),new Mr(n.firestore,null,r)}}function Pt(n,e,...t){if(n=Ye(n),arguments.length===1&&(e=Io.newId()),kA("doc","path",e),n instanceof Xs){let r=Le.fromString(e,...t);return KS(r),new gt(n,null,new G(r))}{if(!(n instanceof gt||n instanceof Mr))throw new H(F.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Le.fromString(e,...t));return KS(r),new gt(n.firestore,n instanceof Mr?n.converter:null,new G(r))}}var xA="AsyncQueue",Fh=class{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Th(this,"async_queue_retry"),this._c=()=>{let r=r_();r&&B(xA,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;let t=r_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=r_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let t=new xn;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!sa(e))throw e;B(xA,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){let t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Pr("INTERNAL UNHANDLED ERROR: ",MA(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let i=mE.createAndSchedule(this,e,t,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&K(47125,{Pc:MA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}};function MA(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var ar=class extends Xs{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Fh,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Fh(e),this._firestoreClient=void 0,await e}}};function Su(n,e){let t=typeof n=="object"?n:Kf(),r=typeof n=="string"?n:e||fh,i=iu(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=ES("firestore");o&&s1(i,...o)}return i}function Au(n){if(n._terminated)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||dB(n),n._firestoreClient}function dB(n){let e=n._freezeSettings(),t=lB(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new DE(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(i){let o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(n._componentsProvider))}var rr=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Dt.fromBase64String(e))}catch(t){throw new H(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ia(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};rr._jsonSchemaVersion="firestore/bytes/1.0",rr._jsonSchema={type:qe("string",rr._jsonSchemaVersion),bytes:qe("string")};var xo=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new H(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var ta=class{constructor(e){this._methodName=e}};var Nr=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new H(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new H(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(ia(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Nr._jsonSchemaVersion="firestore/geoPoint/1.0",Nr._jsonSchema={type:qe("string",Nr._jsonSchemaVersion),latitude:qe("number"),longitude:qe("number")};var ir=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ia(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new H(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};ir._jsonSchemaVersion="firestore/vectorValue/1.0",ir._jsonSchema={type:qe("string",ir._jsonSchemaVersion),vectorValues:qe("object")};var fB=/^__.*__$/,TE=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new sr(e,this.data,this.fieldMask,t,this.fieldTransforms):new So(e,this.data,t,this.fieldTransforms)}},Lh=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new sr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function a1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K(40011,{dataSource:n})}}var SE=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new n(k(k({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){let t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){let t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return jh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(a1(this.dataSource)&&fB.test(e))throw this.createError('Document fields cannot begin and end with "__"')}},AE=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Cu(e)}createContext(e,t,r,i=!1){return new SE({dataSource:e,methodName:t,targetDoc:r,path:zt.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function QE(n){let e=n._freezeSettings(),t=Cu(n._databaseId);return new AE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function c1(n,e,t,r,i,o={}){let s=n.createContext(o.merge||o.mergeFields?2:0,e,t,i);YE("Data must be an object, but it was:",s,r);let a=d1(r,s),u,l;if(o.merge)u=new pn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let p of o.mergeFields){let g=na(e,p,t);if(!s.contains(g))throw new H(F.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);h1(f,g)||f.push(g)}u=new pn(f),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new TE(new $t(a),u,l)}var Vh=class n extends ta{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function u1(n,e,t,r){let i=n.createContext(1,e,t);YE("Data must be an object, but it was:",i,r);let o=[],s=$t.empty();bi(r,(u,l)=>{let f=JE(e,u,t);l=Ye(l);let p=i.childContextForFieldPath(f);if(l instanceof Vh)o.push(f);else{let g=Qh(l,p);g!=null&&(o.push(f),s.set(f,g))}});let a=new pn(o);return new Lh(s,a,i.fieldTransforms)}function l1(n,e,t,r,i,o){let s=n.createContext(1,e,t),a=[na(e,r,t)],u=[i];if(o.length%2!=0)throw new H(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(na(e,o[g])),u.push(o[g+1]);let l=[],f=$t.empty();for(let g=a.length-1;g>=0;--g)if(!h1(l,a[g])){let y=a[g],x=u[g];x=Ye(x);let O=s.childContextForFieldPath(y);if(x instanceof Vh)l.push(y);else{let A=Qh(x,O);A!=null&&(l.push(y),f.set(y,A))}}let p=new pn(l);return new Lh(f,p,s.fieldTransforms)}function Qh(n,e){if(f1(n=Ye(n)))return YE("Unsupported field value:",e,n),d1(n,e);if(n instanceof ta)return(function(r,i){if(!a1(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=Qh(a,i.childContextForArray(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=Ye(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Yj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ge.fromDate(r);return{timestampValue:_h(i.serializer,o)}}if(r instanceof Ge){let o=new Ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_h(i.serializer,o)}}if(r instanceof Nr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof rr)return{bytesValue:TR(i.serializer,r._byteString)};if(r instanceof gt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:VE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ir)return(function(s,a){let u=s instanceof ir?s.toArray():s;return{mapValue:{fields:{[NE]:{stringValue:PE},[zs]:{arrayValue:{values:u.map(f=>{if(typeof f!="number")throw a.createError("VectorValues must only contain numeric values.");return LE(a.serializer,f)})}}}}}})(r,i);if(PR(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Uh(r)}`)})(n,e)}function d1(n,e){let t={};return JA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bi(n,(r,i)=>{let o=Qh(i,e.childContextForField(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function f1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ge||n instanceof Nr||n instanceof rr||n instanceof gt||n instanceof ta||n instanceof ir||PR(n))}function YE(n,e,t){if(!f1(t)||!FA(t)){let r=Uh(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function na(n,e,t){if((e=Ye(e))instanceof xo)return e._internalPath;if(typeof e=="string")return JE(n,e);throw jh("Field path arguments must be of type string or ",n,!1,void 0,t)}var hB=new RegExp("[~\\*/\\[\\]]");function JE(n,e,t){if(e.search(hB)>=0)throw jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new xo(...e.split("."))._internalPath}catch{throw jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function jh(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new H(F.INVALID_ARGUMENT,a+n+u)}function h1(n,e){return n.some(t=>t.isEqual(e))}var wu=class{convertValue(e,t="none"){switch(Ei(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Or(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw K(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return bi(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){let t=e.fields?.[zs].arrayValue?.values?.map(r=>Fe(r.doubleValue));return new ir(t)}convertGeoPoint(e){return new Nr(Fe(e.latitude),Fe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=$h(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){let t=kr(e);return new Ge(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Le.fromString(e);Re(NR(r),9688,{name:e});let i=new gu(r.get(1),r.get(3)),o=new G(r.popFirst(5));return i.isEqual(t)||Pr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var bu=class extends wu{constructor(e){super(),this.firestore=e}convertBytes(e){return new rr(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,t)}};var p1="@firebase/firestore",g1="4.10.0";var Yh=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new ZE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){let t=this._document.data.field(na("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},ZE=class extends Yh{data(){return super.data()}};function yB(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new H(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function vB(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var No=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Po=class n extends Yh{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ca(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(na("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new H(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Po._jsonSchemaVersion="firestore/documentSnapshot/1.0",Po._jsonSchema={type:qe("string",Po._jsonSchemaVersion),bundleSource:qe("string","DocumentSnapshot"),bundleName:qe("string"),bundle:qe("string")};var ca=class extends Po{data(e={}){return super.data(e)}},ua=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new No(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ca(this._firestore,this._userDataWriter,r.key,r,new No(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new H(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new ca(i._firestore,i._userDataWriter,a.doc.key,a.doc,new No(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new ca(i._firestore,i._userDataWriter,a.doc.key,a.doc,new No(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),f=s.indexOf(a.doc.key)),{type:_B(a.type),doc:u,oldIndex:l,newIndex:f}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new H(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Io.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function _B(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K(61501,{type:n})}}ua._jsonSchemaVersion="firestore/querySnapshot/1.0",ua._jsonSchema={type:qe("string",ua._jsonSchemaVersion),bundleSource:qe("string","QuerySnapshot"),bundleName:qe("string"),bundle:qe("string")};function Jh(n){n=Pn(n,gt);let e=Pn(n.firestore,ar),t=Au(e);return t1(t,n._key).then(r=>EB(e,n,r))}function nn(n){n=Pn(n,ea);let e=Pn(n.firestore,ar),t=Au(e),r=new bu(e);return yB(n._query),n1(t,n._query).then(i=>new ua(e,r,n,i))}function Zh(n,e,t,...r){n=Pn(n,gt);let i=Pn(n.firestore,ar),o=QE(i),s;return s=typeof(e=Ye(e))=="string"||e instanceof xo?l1(o,"updateDoc",n._key,e,t,r):u1(o,"updateDoc",n._key,e),XE(i,[s.toMutation(n._key,tr.exists(!0))])}function ko(n){return XE(Pn(n.firestore,ar),[new Zs(n._key,tr.none())])}function Oo(n,e){let t=Pn(n.firestore,ar),r=Pt(n),i=vB(n.converter,e),o=QE(n.firestore);return XE(t,[c1(o,"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,tr.exists(!1))]).then(()=>r)}function XE(n,e){let t=Au(n);return r1(t,e)}function EB(n,e,t){let r=t.docs.get(e._key),i=new bu(n);return new Po(n,i,e._key,r,new No(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){NA(vi),yi(new fn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new ar(new oh(r.getProvider("auth-internal")),new ah(s,r.getProvider("app-check-internal")),nR(s,i),s);return o=k({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Rn(p1,g1,e),Rn(p1,g1,"esm2020")})();function N1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var P1=N1,k1=new Sr("auth","Firebase",N1());var ip=new gi("@firebase/auth");function IB(n,...e){ip.logLevel<=fe.WARN&&ip.warn(`Auth (${vi}): ${n}`,...e)}function ep(n,...e){ip.logLevel<=fe.ERROR&&ip.error(`Auth (${vi}): ${n}`,...e)}function gn(n,...e){throw II(n,...e)}function kn(n,...e){return II(n,...e)}function EI(n,e,t){let r=$(k({},P1()),{[e]:t});return new Sr("auth","Firebase",r).create(e,{appName:n.name})}function Ti(n){return EI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wB(n,e,t){let r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&gn(n,"argument-error"),EI(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function II(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return k1.create(n,...e)}function X(n,e,...t){if(!n)throw II(e,...t)}function Vr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw ep(e),new Error(e)}function Ur(n,e){n||Vr(e)}function nI(){return typeof self<"u"&&self.location?.href||""}function bB(){return m1()==="http:"||m1()==="https:"}function m1(){return typeof self<"u"&&self.location?.protocol||null}function CB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bB()||CS()||"connection"in navigator)?navigator.onLine:!0}function DB(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Fo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ur(t>e,"Short delay should be less than long delay!"),this.isMobile=wS()||DS()}get(){return CB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function wI(n,e){Ur(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var op=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var TB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var SB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AB=new Fo(3e4,6e4);function Vo(n,e){return n.tenantId&&!e.tenantId?$(k({},e),{tenantId:n.tenantId}):e}async function Si(n,e,t,r,i={}){return O1(n,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=Ns(k({key:n.config.apiKey},s)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);let l=k({method:e,headers:u},o);return bS()||(l.referrerPolicy="no-referrer"),n.emulatorConfig&&pi(n.emulatorConfig.host)&&(l.credentials="include"),op.fetch()(await F1(n,n.config.apiHost,t,a),l)})}async function O1(n,e,t){n._canInitEmulator=!1;let r=k(k({},TB),e);try{let i=new rI(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw Xh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xh(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Xh(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Xh(n,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw EI(n,f,l);gn(n,f)}}catch(i){if(i instanceof tn)throw i;gn(n,"network-request-failed",{message:String(i)})}}async function vp(n,e,t,r,i={}){let o=await Si(n,e,t,r,i);return"mfaPendingCredential"in o&&gn(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function F1(n,e,t,r){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?wI(n.config,i):`${n.config.apiScheme}://${i}`;return SB.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function RB(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var rI=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(kn(this.auth,"network-request-failed")),AB.get())})}};function Xh(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=kn(n,e,r);return i.customData._tokenResponse=t,i}function y1(n){return n!==void 0&&n.enterprise!==void 0}var iI=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return RB(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function xB(n,e){return Si(n,"GET","/v2/recaptchaConfig",Vo(n,e))}async function MB(n,e){return Si(n,"POST","/v1/accounts:delete",e)}async function sp(n,e){return Si(n,"POST","/v1/accounts:lookup",e)}function xu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function L1(n,e=!1){let t=Ye(n),r=await t.getIdToken(e),i=bI(r);X(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:xu(eI(i.auth_time)),issuedAtTime:xu(eI(i.iat)),expirationTime:xu(eI(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function eI(n){return Number(n)*1e3}function bI(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return ep("JWT malformed, contained fewer than 3 sections"),null;try{let i=Bf(t);return i?JSON.parse(i):(ep("Failed to decode base64 JWT payload"),null)}catch(i){return ep("Caught error parsing JWT payload as JSON",i?.toString()),null}}function v1(n){let e=bI(n);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Nu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof tn&&NB(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function NB({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var oI=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Pu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xu(this.lastLoginAt),this.creationTime=xu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function ap(n){let e=n.auth,t=await n.getIdToken(),r=await Nu(n,sp(e,{idToken:t}));X(r?.users.length,e,"internal-error");let i=r.users[0];n._notifyReloadListener(i);let o=i.providerUserInfo?.length?j1(i.providerUserInfo):[],s=PB(n.providerData,o),a=n.isAnonymous,u=!(n.email&&i.passwordHash)&&!s?.length,l=a?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Pu(i.createdAt,i.lastLoginAt),isAnonymous:l};Object.assign(n,f)}async function V1(n){let e=Ye(n);await ap(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PB(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function j1(n){return n.map(r=>{var i=r,{providerId:e}=i,t=rl(i,["providerId"]);return{providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}})}async function kB(n,e){let t=await O1(n,{},async()=>{let r=Ns({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=await F1(n,i,"/v1/token",`key=${o}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&pi(n.emulatorConfig.host)&&(u.credentials="include"),op.fetch()(s,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function OB(n,e){return Si(n,"POST","/v2/accounts:revokeToken",Vo(n,e))}var Mu=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):v1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){X(e.length!==0,"internal-error");let t=v1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:o}=await kB(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(X(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(X(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(X(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Vr("not implemented")}};function Ci(n,e){X(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Di=class n{constructor(o){var s=o,{uid:e,auth:t,stsTokenManager:r}=s,i=rl(s,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Pu(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let t=await Nu(this,this.stsTokenManager.getToken(this.auth,e));return X(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return L1(this,e)}reload(){return V1(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>k({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n($(k({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ap(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ht(this.auth.app))return Promise.reject(Ti(this.auth));let e=await this.getIdToken();return await Nu(this,MB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return $(k({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>k({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){let r=t.displayName??void 0,i=t.email??void 0,o=t.phoneNumber??void 0,s=t.photoURL??void 0,a=t.tenantId??void 0,u=t._redirectEventId??void 0,l=t.createdAt??void 0,f=t.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:y,providerData:x,stsTokenManager:O}=t;X(p&&O,e,"internal-error");let A=Mu.fromJSON(this.name,O);X(typeof p=="string",e,"internal-error"),Ci(r,e.name),Ci(i,e.name),X(typeof g=="boolean",e,"internal-error"),X(typeof y=="boolean",e,"internal-error"),Ci(o,e.name),Ci(s,e.name),Ci(a,e.name),Ci(u,e.name),Ci(l,e.name),Ci(f,e.name);let P=new n({uid:p,auth:e,email:i,emailVerified:g,displayName:r,isAnonymous:y,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:A,createdAt:l,lastLoginAt:f});return x&&Array.isArray(x)&&(P.providerData=x.map(ee=>k({},ee))),u&&(P._redirectEventId=u),P}static async _fromIdTokenResponse(e,t,r=!1){let i=new Mu;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ap(o),o}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];X(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?j1(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Mu;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Pu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var _1=new Map;function jr(n){Ur(n instanceof Function,"Expected a class definition");let e=_1.get(n);return e?(Ur(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,_1.set(n,e),e)}var FB=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),sI=FB;function tp(n,e,t){return`firebase:${n}:${e}:${t}`}var cp=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=tp(this.userKey,i.apiKey,o),this.fullPersistenceKey=tp("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await sp(this.auth,{idToken:e}).catch(()=>{});return t?Di._fromGetAccountInfoResponse(this.auth,t,e):null}return Di._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(jr(sI),e,r);let i=(await Promise.all(t.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||jr(sI),s=tp(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let f=await l._get(s);if(f){let p;if(typeof f=="string"){let g=await sp(e,{idToken:f}).catch(()=>{});if(!g)break;p=await Di._fromGetAccountInfoResponse(e,g,f)}else p=Di._fromJSON(e,f);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(t.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new n(o,e,r))}};function E1(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(U1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(q1(e))return"Blackberry";if(G1(e))return"Webos";if(B1(e))return"Safari";if((e.includes("chrome/")||H1(e))&&!e.includes("edge/"))return"Chrome";if(z1(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function U1(n=ft()){return/firefox\//i.test(n)}function B1(n=ft()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function H1(n=ft()){return/crios\//i.test(n)}function $1(n=ft()){return/iemobile/i.test(n)}function z1(n=ft()){return/android/i.test(n)}function q1(n=ft()){return/blackberry/i.test(n)}function G1(n=ft()){return/webos/i.test(n)}function CI(n=ft()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function LB(n=ft()){return CI(n)&&!!window.navigator?.standalone}function VB(){return TS()&&document.documentMode===10}function W1(n=ft()){return CI(n)||z1(n)||G1(n)||q1(n)||/windows phone/i.test(n)||$1(n)}function K1(n,e=[]){let t;switch(n){case"Browser":t=E1(ft());break;case"Worker":t=`${E1(ft())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${vi}/${r}`}var aI=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function jB(n,e={}){return Si(n,"GET","/v2/passwordPolicy",Vo(n,e))}var UB=6,cI=class{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??UB,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var uI=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new up(this),this.idTokenSubscription=new up(this),this.beforeStateQueue=new aI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=k1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=jr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await cp.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await sp(this,{idToken:e}),r=await Di._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ht(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}let t=await this.assertedPersistence.getCurrentUser(),r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let o=this.redirectUser?._redirectEventId,s=r?._redirectEventId,a=await this.tryRedirectSignIn(e);(!o||o===s)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ap(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ht(this.app))return Promise.reject(Ti(this));let t=e?Ye(e):null;return t&&X(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ht(this.app)?Promise.reject(Ti(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ht(this.app)?Promise.reject(Ti(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(jr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await jB(this),t=new cI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Sr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await OB(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&jr(e)||this._popupRedirectResolver;X(t,this,"argument-error"),this.redirectPersistenceManager=await cp.create(this,[jr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=K1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);let r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ht(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&IB(`Error while retrieving App Check token: ${e.error}`),e?.token}};function jo(n){return Ye(n)}var up=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=xS(t=>this.observer=t)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var _p={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BB(n){_p=n}function Q1(n){return _p.loadJS(n)}function HB(){return _p.recaptchaEnterpriseScript}function $B(){return _p.gapiScript}function Y1(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var lI=class{constructor(){this.enterprise=new dI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},dI=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var zB="recaptcha-enterprise",J1="NO_RECAPTCHA",fI=class{constructor(e){this.type=zB,this.auth=jo(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{xB(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new iI(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})})}function i(o,s,a){let u=window.grecaptcha;y1(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(J1)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lI().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&y1(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=HB();u.length!==0&&(u+=a),Q1(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}};async function Ru(n,e,t,r=!1,i=!1){let o=new fI(n),s;if(i)s=J1;else try{s=await o.verify(t)}catch{s=await o.verify(t,!0)}let a=k({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function I1(n,e,t,r,i){if(i==="EMAIL_PASSWORD_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=await Ru(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=await Ru(n,e,t,t==="getOobCode");return r(n,s)}else return Promise.reject(o)});else if(i==="PHONE_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){let o=await Ru(n,e,t);return r(n,o).catch(async s=>{if(n._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(s.code==="auth/missing-recaptcha-token"||s.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let a=await Ru(n,e,t,!1,!0);return r(n,a)}return Promise.reject(s)})}else{let o=await Ru(n,e,t,!1,!0);return r(n,o)}else return Promise.reject(i+" provider is not supported.")}function Z1(n,e){let t=iu(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(An(o,e??{}))return i;gn(i,"already-initialized")}return t.initialize({options:e})}function qB(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(jr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function X1(n,e,t){let r=jo(n);X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=ex(e),{host:s,port:a}=GB(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},f=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){X(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),X(An(l,r.config.emulator)&&An(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,pi(s)?($f(`${o}//${s}${u}`),zf("Auth",!0)):i||WB()}function ex(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function GB(n){let e=ex(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:w1(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:w1(s)}}}function w1(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function WB(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var da=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vr("not implemented")}_getIdTokenResponse(e){return Vr("not implemented")}_linkToIdToken(e,t){return Vr("not implemented")}_getReauthenticationResolver(e){return Vr("not implemented")}};async function KB(n,e){return Si(n,"POST","/v1/accounts:signUp",e)}async function QB(n,e){return vp(n,"POST","/v1/accounts:signInWithPassword",Vo(n,e))}async function YB(n,e){return vp(n,"POST","/v1/accounts:signInWithEmailLink",Vo(n,e))}async function JB(n,e){return vp(n,"POST","/v1/accounts:signInWithEmailLink",Vo(n,e))}var ku=class n extends da{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return I1(e,t,"signInWithPassword",QB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return YB(e,{email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return I1(e,r,"signUpPassword",KB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return JB(e,{idToken:t,email:this._email,oobCode:this._password});default:gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function la(n,e){return vp(n,"POST","/v1/accounts:signInWithIdp",Vo(n,e))}var ZB="http://localhost",lp=class n extends da{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):gn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let a=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=a,o=rl(a,["providerId","signInMethod"]);if(!r||!i)return null;let s=new n(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return la(e,t)}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,la(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,la(e,t)}buildRequest(){let e={requestUri:ZB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ns(t)}return e}};function XB(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function e3(n){let e=Ps(ks(n)).link,t=e?Ps(ks(e)).deep_link_id:null,r=Ps(ks(n)).deep_link_id;return(r?Ps(ks(r)).link:null)||r||t||e||n}var dp=class n{constructor(e){let t=Ps(ks(e)),r=t.apiKey??null,i=t.oobCode??null,o=XB(t.mode??null);X(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){let t=e3(e);try{return new n(t)}catch{return null}}};var tx=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return ku._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=dp.parseLink(r);return X(i,"argument-error"),ku._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Ou=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var fp=class extends Ou{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var DI=(()=>{class n extends fp{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return lp._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();var Fu=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){let o=await Di._fromIdTokenResponse(e,r,i),s=b1(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);let i=b1(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function b1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var hI=class n extends tn{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function nx(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?hI._fromErrorAndOperation(n,o,e,r):o})}async function t3(n,e,t=!1){let r=await Nu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Fu._forOperation(n,"link",r)}async function n3(n,e,t=!1){let{auth:r}=n;if(Ht(r.app))return Promise.reject(Ti(r));let i="reauthenticate";try{let o=await Nu(n,nx(r,i,e,n),t);X(o.idToken,r,"internal-error");let s=bI(o.idToken);X(s,r,"internal-error");let{sub:a}=s;return X(n.uid===a,r,"user-mismatch"),Fu._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&gn(r,"user-mismatch"),o}}async function rx(n,e,t=!1){if(Ht(n.app))return Promise.reject(Ti(n));let r="signIn",i=await nx(n,r,e),o=await Fu._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function ix(n,e){return rx(jo(n),e)}async function r3(n){let e=jo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function TI(n,e,t){return Ht(n.app)?Promise.reject(Ti(n)):ix(Ye(n),tx.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&r3(n),r})}function ox(n,e,t,r){return Ye(n).onIdTokenChanged(e,t,r)}function sx(n,e,t){return Ye(n).beforeAuthStateChanged(e,t)}function Uo(n,e,t,r){return Ye(n).onAuthStateChanged(e,t,r)}function Vu(n){return Ye(n).signOut()}var hp="__sak";var pp=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hp,"1"),this.storage.removeItem(hp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var i3=1e3,o3=10,s3=(()=>{class n extends pp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=W1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);VB()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,o3):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},i3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){let r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}return n.type="LOCAL",n})(),ax=s3;var a3=(()=>{class n extends pp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),SI=a3;function c3(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var u3=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(async f=>f(r.origin,s)),l=await c3(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function AI(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var pI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=AI("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(f),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function cr(){return window}function l3(n){cr().location.href=n}function cx(){return typeof cr().WorkerGlobalScope<"u"&&typeof cr().importScripts=="function"}async function d3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function f3(){return navigator?.serviceWorker?.controller||null}function h3(){return cx()?self:null}var ux="firebaseLocalStorageDb",p3=1,gp="firebaseLocalStorage",lx="fbase_key",Lo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Ep(n,e){return n.transaction([gp],e?"readwrite":"readonly").objectStore(gp)}function g3(){let n=indexedDB.deleteDatabase(ux);return new Lo(n).toPromise()}function gI(){let n=indexedDB.open(ux,p3);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(gp,{keyPath:lx})}catch(i){t(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(gp)?e(r):(r.close(),await g3(),e(await gI()))})})}async function C1(n,e,t){let r=Ep(n,!0).put({[lx]:e,value:t});return new Lo(r).toPromise()}async function m3(n,e){let t=Ep(n,!1).get(e),r=await new Lo(t).toPromise();return r===void 0?null:r.value}function D1(n,e){let t=Ep(n,!0).delete(e);return new Lo(t).toPromise()}var y3=800,v3=3,_3=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gI(),this.db)}async _withRetries(t){let r=0;for(;;)try{let i=await this._openDb();return await t(i)}catch(i){if(r++>v3)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=u3._getInstance(h3()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await d3(),!this.activeServiceWorker)return;this.sender=new pI(this.activeServiceWorker);let t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||f3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await gI();return await C1(t,hp,"1"),await D1(t,hp),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>C1(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){let r=await this._withRetries(i=>m3(i,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>D1(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(o=>{let s=Ep(o,!1).getAll();return new Lo(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),y3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),dx=_3;var sre=Y1("rcb"),are=new Fo(3e4,6e4);function fx(n,e){return e?jr(e):(X(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Lu=class extends da{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return la(e,this._buildIdpRequest())}_linkToIdToken(e,t){return la(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return la(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function E3(n){return rx(n.auth,new Lu(n),n.bypassAuthState)}function I3(n){let{auth:e,user:t}=n;return X(t,e,"internal-error"),n3(t,new Lu(n),n.bypassAuthState)}async function w3(n){let{auth:e,user:t}=n;return X(t,e,"internal-error"),t3(t,new Lu(n),n.bypassAuthState)}var mp=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return E3;case"linkViaPopup":case"linkViaRedirect":return w3;case"reauthViaPopup":case"reauthViaRedirect":return I3;default:gn(this.auth,"internal-error")}}resolve(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var b3=new Fo(2e3,1e4);async function RI(n,e,t){if(Ht(n.app))return Promise.reject(kn(n,"operation-not-supported-in-this-environment"));let r=jo(n);wB(n,e,Ou);let i=fx(r,t);return new C3(r,"signInViaPopup",e,i).executeNotNull()}var C3=(()=>{class n extends mp{constructor(t,r,i,o,s){super(t,r,o,s),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}async executeNotNull(){let t=await this.execute();return X(t,this.auth,"internal-error"),t}async onExecution(){Ur(this.filter.length===1,"Popup operations only handle one event");let t=AI();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,b3.get())};t()}}n.currentPopupAction=null;return n})(),D3="pendingRedirect",np=new Map,mI=class extends mp{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=np.get(this.auth._key());if(!e){try{let r=await T3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}np.set(this.auth._key(),e)}return this.bypassAuthState||np.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function T3(n,e){let t=R3(e),r=A3(n);if(!await r._isAvailable())return!1;let i=await r._get(t)==="true";return await r._remove(t),i}function S3(n,e){np.set(n._key(),e)}function A3(n){return jr(n._redirectPersistence)}function R3(n){return tp(D3,n.config.apiKey,n.name)}async function x3(n,e,t=!1){if(Ht(n.app))return Promise.reject(Ti(n));let r=jo(n),i=fx(r,e),s=await new mI(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var M3=600*1e3,yI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!N3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!hx(e)){let r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(kn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=M3&&this.cachedEventUids.clear(),this.cachedEventUids.has(T1(e))}saveEventToCache(e){this.cachedEventUids.add(T1(e)),this.lastProcessedEventTime=Date.now()}};function T1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function hx({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function N3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hx(n);default:return!1}}async function P3(n,e={}){return Si(n,"GET","/v1/projects",e)}var k3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,O3=/^https?/;async function F3(n){if(n.config.emulator)return;let{authorizedDomains:e}=await P3(n);for(let t of e)try{if(L3(t))return}catch{}gn(n,"unauthorized-domain")}function L3(n){let e=nI(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!O3.test(t))return!1;if(k3.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var V3=new Fo(3e4,6e4);function S1(){let n=cr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function j3(n){return new Promise((e,t)=>{function r(){S1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{S1(),t(kn(n,"network-request-failed"))},timeout:V3.get()})}if(cr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(cr().gapi?.load)r();else{let i=Y1("iframefcb");return cr()[i]=()=>{gapi.load?r():t(kn(n,"network-request-failed"))},Q1(`${$B()}?onload=${i}`).catch(o=>t(o))}}).catch(e=>{throw rp=null,e})}var rp=null;function U3(n){return rp=rp||j3(n),rp}var B3=new Fo(5e3,15e3),H3="__/auth/iframe",$3="emulator/auth/iframe",z3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},q3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function G3(n){let e=n.config;X(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?wI(e,$3):`https://${n.config.authDomain}/${H3}`,r={apiKey:e.apiKey,appName:n.name,v:vi},i=q3.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Ns(r).slice(1)}`}async function W3(n){let e=await U3(n),t=cr().gapi;return X(t,n,"internal-error"),e.open({where:document.body,url:G3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:z3,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=kn(n,"network-request-failed"),a=cr().setTimeout(()=>{o(s)},B3.get());function u(){cr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})}))}var K3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Q3=500,Y3=600,J3="_blank",Z3="http://localhost",yp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function X3(n,e,t,r=Q3,i=Y3){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=$(k({},K3),{width:r.toString(),height:i.toString(),top:o,left:s}),l=ft().toLowerCase();t&&(a=H1(l)?J3:t),U1(l)&&(e=e||Z3,u.scrollbars="yes");let f=Object.entries(u).reduce((g,[y,x])=>`${g}${y}=${x},`,"");if(LB(l)&&a!=="_self")return e4(e||"",a),new yp(null);let p=window.open(e||"",a,f);X(p,n,"popup-blocked");try{p.focus()}catch{}return new yp(p)}function e4(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var t4="__/auth/handler",n4="emulator/auth/handler",r4=encodeURIComponent("fac");async function A1(n,e,t,r,i,o){X(n.config.authDomain,n,"auth-domain-config-required"),X(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:vi,eventId:i};if(e instanceof Ou){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",RS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(o||{}))s[f]=p}if(e instanceof fp){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let f of Object.keys(a))a[f]===void 0&&delete a[f];let u=await n._getAppCheckToken(),l=u?`#${r4}=${encodeURIComponent(u)}`:"";return`${i4(n)}?${Ns(a).slice(1)}${l}`}function i4({config:n}){return n.emulator?wI(n,n4):`https://${n.authDomain}/${t4}`}var tI="webStorageSupport",vI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SI,this._completeRedirectFn=x3,this._overrideRedirectResult=S3}async _openPopup(e,t,r,i){Ur(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");let o=await A1(e,t,r,nI(),i);return X3(e,o,AI())}async _openRedirect(e,t,r,i){await this._originValidation(e);let o=await A1(e,t,r,nI(),i);return l3(o),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Ur(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await W3(e),r=new yI(e);return t.register("authEvent",i=>(X(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(tI,{type:tI},i=>{let o=i?.[0]?.[tI];o!==void 0&&t(!!o),gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=F3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return W1()||B1()||CI()}},px=vI;var R1="@firebase/auth",x1="1.12.0";var _I=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function o4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function s4(n){yi(new fn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;X(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:K1(n)},l=new uI(r,i,o,u);return qB(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),yi(new fn("auth-internal",e=>{let t=jo(e.getProvider("auth").getImmediate());return(r=>new _I(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rn(R1,x1,o4(n)),Rn(R1,x1,"esm2020")}var a4=300,c4=Nv("authIdTokenMaxAge")||a4,M1=null,u4=n=>async e=>{let t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>c4)return;let i=t?.token;M1!==i&&(M1=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Bo(n=Kf()){let e=iu(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Z1(n,{popupRedirectResolver:px,persistence:[dx,ax,SI]}),r=Nv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=u4(o.toString());sx(t,s,()=>s(t.currentUser)),ox(t,a=>s(a))}}let i=xv("auth");return i&&X1(t,`http://${i}`),t}function l4(){return document.getElementsByTagName("head")?.[0]??document}BB({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=kn("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",l4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});s4("Browser");var d4=()=>[1,2,3,4,5,6,7,8],gx=()=>[1,2,3,4,5],ju=(n,e)=>e.id,fa=(n,e)=>e.name,f4=(n,e)=>e.title;function h4(n,e){if(n&1&&ne(0,"div",42),n&2){let t=e.$implicit;Yn("left",t*12,"%")("animation-delay",t*.3,"s")}}function p4(n,e){if(n&1&&(E(0,"div",1),ne(1,"div",30),E(2,"div",31),ne(3,"img",32),I(),E(4,"div",33)(5,"p",34),N(6,"Preparando a experi\xEAncia..."),I(),E(7,"p",35),N(8,"Aguarde carregando"),ne(9,"span",36),I()(),E(10,"div",37),ne(11,"div",38),I(),E(12,"p",39),N(13),I(),E(14,"div",40),it(15,h4,1,4,"div",41,_c),I()()),n&2){let t=V();T(11),Yn("width",t.loadingProgress(),"%"),T(2),ke("",t.loadingProgress().toFixed(0),"%"),T(2),ot(Ic(3,d4))}}function g4(n,e){}function m4(n,e){if(n&1&&ne(0,"div",43),n&2){let t=e.$implicit;Yn("left",t.left)("width",t.size)("height",t.size)("animation-duration",t.animationDuration)("animation-delay",t.animationDelay)("opacity",t.opacity)}}function y4(n,e){if(n&1&&ne(0,"div",44),n&2){let t=e.$implicit;Yn("left",t.left)("width",t.size)("height",t.size)("animation-duration",t.animationDuration)("animation-delay",t.animationDelay)("opacity",t.opacity)}}function v4(n,e){n&1&&(Be(),E(0,"svg",51),ne(1,"path",66),I())}function _4(n,e){n&1&&(Be(),E(0,"svg",52),ne(1,"path",67),I())}function E4(n,e){n&1&&(Be(),E(0,"svg",52),ne(1,"path",68),I())}function I4(n,e){n&1&&(Be(),E(0,"svg",51),ne(1,"path",69),I())}function w4(n,e){n&1&&(Be(),E(0,"svg",51),ne(1,"path",70),I())}function b4(n,e){n&1&&(Be(),E(0,"svg",51),ne(1,"path",71),I())}function C4(n,e){n&1&&(Be(),E(0,"svg",51),ne(1,"path",72)(2,"path",73),I())}function D4(n,e){n&1&&(Be(),E(0,"svg",51),ne(1,"path",74),I())}function T4(n,e){n&1&&(E(0,"span",54),N(1," Essencial "),I())}function S4(n,e){if(n&1&&(E(0,"span",75),N(1),I()),n&2){let t=V(3);T(),ke(" ",t.countAvisosByType("info")," ")}}function A4(n,e){if(n&1&&(E(0,"span",76),N(1),I()),n&2){let t=V(3);T(),ke(" ",t.countAvisosByType("warning")," ")}}function R4(n,e){if(n&1&&(E(0,"span",77),N(1),I()),n&2){let t=V(3);T(),ke(" ",t.countAvisosByType("danger")," ")}}function x4(n,e){if(n&1&&(E(0,"span",78),N(1),I()),n&2){let t=V(3);T(),ke(" ",t.countAvisosByType("success")," ")}}function M4(n,e){if(n&1&&(Y(0,S4,2,1,"span",75),Y(1,A4,2,1,"span",76),Y(2,R4,2,1,"span",77),Y(3,x4,2,1,"span",78)),n&2){let t=V(2);J(t.countAvisosByType("info")>0?0:-1),T(),J(t.countAvisosByType("warning")>0?1:-1),T(),J(t.countAvisosByType("danger")>0?2:-1),T(),J(t.countAvisosByType("success")>0?3:-1)}}function N4(n,e){if(n&1&&(E(0,"span",55),N(1),I()),n&2){let t=V(2);T(),ke(" ",t.getFeedbackCount()," ")}}function P4(n,e){if(n&1&&(E(0,"span",56),N(1),I()),n&2){let t=V(2);T(),ke(" Novo: ",t.getNewestFeedbackName()," ")}}function k4(n,e){if(n&1&&(E(0,"div",79)(1,"p"),N(2),I(),E(3,"div",80)(4,"a",81),Be(),E(5,"svg",23),ne(6,"path",19),I(),wn(),E(7,"span"),N(8),I()(),E(9,"a",82),Be(),E(10,"svg",23),ne(11,"path",83),I(),wn(),E(12,"span"),N(13),I()()()()),n&2){let t=V(3);T(2),Z(t.agendamentoInfo()),T(2),Pe("href",t.whatsappLink(),cn),T(4),ke("WhatsApp: ",t.whatsappNumber()),T(),Pe("href",t.telefoneLink(),cn),T(4),ke("Telefone: ",t.telefoneNumber())}}function O4(n,e){if(n&1&&(E(0,"div",79)(1,"div",84)(2,"p",85),N(3),I(),E(4,"p"),N(5),I(),E(6,"p",86),N(7),I()(),E(8,"a",87),Be(),E(9,"svg",23),ne(10,"path",88),I(),wn(),E(11,"span"),N(12,"Abrir no Google Maps"),I(),Be(),E(13,"svg",89),ne(14,"path",90),I()()()),n&2){let t=V(3);T(3),ke("\u{1F4CD} ",t.localizacaoEndereco()),T(2),jd("",t.localizacaoBairro()," - ",t.localizacaoCidade()),T(2),Z(t.localizacaoReferencia()),T(),Pe("href",t.googleMapsLink(),cn)}}function F4(n,e){if(n&1&&(E(0,"p",91),N(1),I()),n&2){let t=V(3).$implicit;T(),Z(t.content)}}function L4(n,e){if(n&1&&Y(0,F4,2,1,"p",91),n&2){let t=V(2).$implicit;J(t.content?0:-1)}}function V4(n,e){if(n&1&&Y(0,k4,14,5,"div",79)(1,O4,15,5,"div",79)(2,L4,1,1),n&2){let t=V().$implicit;J(t.id==="booking"?0:t.id==="location"?1:2)}}function j4(n,e){if(n&1&&(E(0,"div",62)(1,"div",92)(2,"span",93),N(3,"Segunda a Sexta:"),I(),E(4,"span",85),N(5),I()(),E(6,"div",92)(7,"span",93),N(8,"S\xE1bado:"),I(),E(9,"span",85),N(10),I()(),E(11,"div",92)(12,"span",93),N(13,"Domingo:"),I(),E(14,"span",94),N(15),I()(),E(16,"div",95),N(17," \u26A0\uFE0F Pausa de 12:00 \xE0s 15:00 de segunda a sexta "),I()()),n&2){let t=V(2);T(5),Z(t.horariosSegSex()),T(5),Z(t.horariosSabado()),T(5),Z(t.horariosDomingo())}}function U4(n,e){if(n&1&&(E(0,"div",97),ne(1,"img",98),E(2,"div")(3,"h4",99),N(4),I(),E(5,"p",100),N(6),I()()()),n&2){let t=e.$implicit;T(),Pe("src",t.imageUrl,cn)("alt",t.name),T(3),Z(t.name),T(2),Z(t.specialty)}}function B4(n,e){if(n&1&&(E(0,"div",65),it(1,U4,7,4,"div",97,fa),I()),n&2){let t=V(2).$implicit;T(),ot(t.teamMembers)}}function H4(n,e){n&1&&(E(0,"p",96),N(1,"Nenhum profissional cadastrado no momento."),I())}function $4(n,e){if(n&1&&Y(0,B4,3,0,"div",65)(1,H4,2,0,"p",96),n&2){let t=V().$implicit;J(t.teamMembers&&t.teamMembers.length>0?0:1)}}function z4(n,e){if(n&1&&(E(0,"div",101)(1,"h4",102),N(2),I(),E(3,"p",103),N(4),I(),E(5,"div",104)(6,"span",105),N(7,"\u{1F4C5}"),I(),E(8,"span",106),N(9),I()()()),n&2){let t=e.$implicit;T(2),Z(t.title),T(2),Z(t.location||t.description||"Participa\xE7\xE3o comunit\xE1ria"),T(5),Z(t.date)}}function q4(n,e){if(n&1&&(E(0,"div",63),it(1,z4,10,3,"div",101,f4),I()),n&2){let t=V().$implicit;T(),ot(t.projectGallery)}}function G4(n,e){if(n&1&&(E(0,"div",109)(1,"div",114),ne(2,"img",115),I(),E(3,"h4",116),N(4),I(),E(5,"p",117),N(6),I()()),n&2){let t=e.$implicit;T(2),Pe("src",t.imageUrl,cn)("alt",t.name),T(2),Z(t.name),T(2),Z(t.role)}}function W4(n,e){if(n&1&&(E(0,"div",107)(1,"div",108),it(2,G4,7,4,"div",109,fa),I(),E(4,"div",110)(5,"p",111),N(6,"Quer ser um parceiro?"),I(),E(7,"a",112),Be(),E(8,"svg",113),ne(9,"path",19),I(),N(10," Entre em contato via WhatsApp "),I()()()),n&2){let t=V(2).$implicit,r=V();T(2),ot(t.partners),T(5),Pe("href",r.whatsappLink(),cn)}}function K4(n,e){if(n&1&&(E(0,"div")(1,"p",118),N(2,"Nenhuma parceria cadastrada no momento."),I(),E(3,"div",110)(4,"p",111),N(5,"Quer ser um parceiro?"),I(),E(6,"a",112),Be(),E(7,"svg",113),ne(8,"path",19),I(),N(9," Entre em contato via WhatsApp "),I()()()),n&2){let t=V(3);T(6),Pe("href",t.whatsappLink(),cn)}}function Q4(n,e){if(n&1&&Y(0,W4,11,1,"div",107)(1,K4,10,1,"div"),n&2){let t=V().$implicit;J(t.partners&&t.partners.length>0?0:1)}}function Y4(n,e){if(n&1&&(E(0,"li",122)(1,"span",123),N(2),I(),E(3,"div",16)(4,"span",124),N(5," Sim "),I(),E(6,"span",125),N(7),I()()()),n&2){let t=e.$implicit;T(2),Z(t.name),T(5),ke(" ",t.price," ")}}function J4(n,e){if(n&1&&(E(0,"div",119)(1,"div",120),ne(2,"span",121),N(3," Realizamos "),I(),E(4,"ul",84),it(5,Y4,8,2,"li",122,fa),I()()),n&2){let t=V(2).$implicit,r=V();T(5),ot(r.getServicesBy(t.listItems,!0))}}function Z4(n,e){if(n&1&&(E(0,"li",128)(1,"span",129),N(2),I(),E(3,"div",16)(4,"span",130),N(5," Em Breve "),I(),E(6,"span",131),N(7),I()()()),n&2){let t=e.$implicit;T(2),Z(t.name),T(5),ke(" ",t.price," ")}}function X4(n,e){if(n&1&&(E(0,"div",119)(1,"div",126),ne(2,"span",127),N(3," Em Breve "),I(),E(4,"ul",84),it(5,Z4,8,2,"li",128,fa),I()()),n&2){let t=V(2).$implicit,r=V();T(5),ot(r.getServicesBy(t.listItems,"soon"))}}function e5(n,e){if(n&1&&(E(0,"li",134)(1,"span",135),N(2),I(),E(3,"div",16)(4,"span",136),N(5," N\xE3o "),I(),E(6,"span",137),N(7," - "),I()()()),n&2){let t=e.$implicit;T(2),Z(t.name)}}function t5(n,e){if(n&1&&(E(0,"div",119)(1,"div",132),ne(2,"span",133),N(3," N\xE3o Realizamos "),I(),E(4,"ul",84),it(5,e5,8,1,"li",134,fa),I()()),n&2){let t=V(2).$implicit,r=V();T(5),ot(r.getServicesBy(t.listItems,!1))}}function n5(n,e){if(n&1&&(E(0,"div",64),Y(1,J4,7,0,"div",119),Y(2,X4,7,0,"div",119),Y(3,t5,7,0,"div",119),I()),n&2){let t=V().$implicit,r=V();T(),J(r.hasServicesBy(t.listItems,!0)?1:-1),T(),J(r.hasServicesBy(t.listItems,"soon")?2:-1),T(),J(r.hasServicesBy(t.listItems,!1)?3:-1)}}function r5(n,e){n&1&&(E(0,"span",144),N(1,"Novo"),I())}function i5(n,e){if(n&1&&ne(0,"img",147),n&2){let t=V().$implicit;Pe("src",t.photoUrl,cn)("alt",t.name)}}function o5(n,e){n&1&&N(0," \u2605 ")}function s5(n,e){n&1&&N(0," \u2606 ")}function a5(n,e){if(n&1&&Y(0,o5,1,0)(1,s5,1,0),n&2){let t=e.$implicit,r=V().$implicit;J(t<=r.rating?0:1)}}function c5(n,e){if(n&1&&(E(0,"div",143),Y(1,r5,2,0,"span",144),E(2,"div",145)(3,"div",146),Y(4,i5,1,2,"img",147),E(5,"span",148),N(6),I()(),E(7,"div",149),it(8,a5,2,1,null,null,_c),I()(),E(10,"p",150),N(11),I()()),n&2){let t=e.$implicit;je("border-brand-fireOrange",t.isNew),T(),J(t.isNew?1:-1),T(3),J(t.photoUrl?4:-1),T(2),Z(t.name),T(2),ot(Ic(6,gx)),T(3),ke('"',t.comment,'"')}}function u5(n,e){n&1&&(E(0,"span"),N(1,"Carregando..."),I())}function l5(n,e){n&1&&(Be(),E(0,"svg",152),ne(1,"path",153)(2,"path",154)(3,"path",155)(4,"path",156),I(),wn(),E(5,"span"),N(6,"Login com Google"),I())}function d5(n,e){if(n&1){let t=wt();E(0,"button",151),we("click",function(){Ee(t);let i=V(3);return Ie(i.signInWithGoogle())}),Y(1,u5,2,0,"span")(2,l5,7,0),I()}if(n&2){let t=V(3);Pe("disabled",t.isAuthLoading()),T(),J(t.isAuthLoading()?1:2)}}function f5(n,e){if(n&1){let t=wt();E(0,"button",161),we("click",function(){Ee(t);let i=V(4);return Ie(i.editReview(i.getUserFeedback()))}),N(1," Editar "),I(),E(2,"button",162),we("click",function(){Ee(t);let i=V(4);return Ie(i.deleteReview(i.getUserFeedback()))}),N(3," Apagar "),I()}}function h5(n,e){if(n&1){let t=wt();E(0,"div",141)(1,"div",157)(2,"span",86),N(3),I(),E(4,"button",158),we("click",function(){Ee(t);let i=V(3);return Ie(i.signOutUser())}),N(5," Sair "),I()(),E(6,"div",159)(7,"button",160),we("click",function(){Ee(t);let i=V(3);return Ie(i.toggleReviewForm())}),N(8),I(),Y(9,f5,4,0),I()()}if(n&2){let t,r=V(3);T(3),ke("Ol\xE1, ",(t=r.currentUser())==null?null:t.displayName),T(5),ke(" ",r.showReviewForm()?"Cancelar":"Feedback"," "),T(),J(r.getUserFeedback()?9:-1)}}function p5(n,e){if(n&1){let t=wt();E(0,"button",169),we("click",function(){let i=Ee(t).$implicit,o=V(4);return Ie(o.setReviewRating(i))}),E(1,"span"),N(2," \u2605 "),I()()}if(n&2){let t=e.$implicit,r=V(4);T(),je("text-brand-fireOrange",t<=r.newReviewRating())("text-gray-600",t>r.newReviewRating())("drop-shadow-[0_0_5px_rgba(255,140,0,0",t<=r.newReviewRating())}}function g5(n,e){if(n&1){let t=wt();E(0,"div",142)(1,"h4",163),N(2,"Sua Opini\xE3o Importa"),I(),E(3,"div",164),it(4,p5,3,6,"button",165,_c),I(),E(6,"div",166)(7,"textarea",167),Ct("ngModelChange",function(i){Ee(t);let o=V(3);return xt(o.newReviewMessage,i)||(o.newReviewMessage=i),Ie(i)}),I(),E(8,"button",168),we("click",function(){Ee(t);let i=V(3);return Ie(i.submitReview())}),N(9," Enviar Feedback "),I()()()}if(n&2){let t=V(3);T(4),ot(Ic(1,gx)),T(3),bt("ngModel",t.newReviewMessage)}}function m5(n,e){if(n&1&&(E(0,"div",65),it(1,c5,12,7,"div",138,fa),E(3,"div",139),Y(4,d5,3,2,"button",140)(5,h5,10,3,"div",141),I(),Y(6,g5,10,2,"div",142),I()),n&2){let t=V().$implicit,r=V();T(),ot(t.testimonials),T(3),J(r.currentUser()?5:4),T(2),J(r.showReviewForm()?6:-1)}}function y5(n,e){if(n&1&&(E(0,"span",173),N(1),I()),n&2){let t=V(3);T(),Z(t.countAvisosByType("info"))}}function v5(n,e){if(n&1&&(E(0,"div",185)(1,"h4",186),N(2),I(),E(3,"p",187),N(4),I(),E(5,"small",188),N(6),I()()),n&2){let t=e.$implicit,r=V(4);T(2),Z(t.titulo),T(2),Z(t.conteudo),T(2),Z(r.formatDate(t.data))}}function _5(n,e){if(n&1&&(E(0,"div",174),it(1,v5,7,3,"div",185,ju),I()),n&2){let t=V(3);T(),ot(t.getAvisosByType("info"))}}function E5(n,e){if(n&1&&(E(0,"span",177),N(1),I()),n&2){let t=V(3);T(),Z(t.countAvisosByType("warning"))}}function I5(n,e){if(n&1&&(E(0,"div",189)(1,"h4",190),N(2),I(),E(3,"p",187),N(4),I(),E(5,"small",188),N(6),I()()),n&2){let t=e.$implicit,r=V(4);T(2),Z(t.titulo),T(2),Z(t.conteudo),T(2),Z(r.formatDate(t.data))}}function w5(n,e){if(n&1&&(E(0,"div",178),it(1,I5,7,3,"div",189,ju),I()),n&2){let t=V(3);T(),ot(t.getAvisosByType("warning"))}}function b5(n,e){if(n&1&&(E(0,"span",180),N(1),I()),n&2){let t=V(3);T(),Z(t.countAvisosByType("danger"))}}function C5(n,e){if(n&1&&(E(0,"div",191)(1,"h4",192),N(2),I(),E(3,"p",187),N(4),I(),E(5,"small",188),N(6),I()()),n&2){let t=e.$implicit,r=V(4);T(2),Z(t.titulo),T(2),Z(t.conteudo),T(2),Z(r.formatDate(t.data))}}function D5(n,e){if(n&1&&(E(0,"div",181),it(1,C5,7,3,"div",191,ju),I()),n&2){let t=V(3);T(),ot(t.getAvisosByType("danger"))}}function T5(n,e){if(n&1&&(E(0,"span",183),N(1),I()),n&2){let t=V(3);T(),Z(t.countAvisosByType("success"))}}function S5(n,e){if(n&1&&(E(0,"div",193)(1,"h4",194),N(2),I(),E(3,"p",187),N(4),I(),E(5,"small",188),N(6),I()()),n&2){let t=e.$implicit,r=V(4);T(2),Z(t.titulo),T(2),Z(t.conteudo),T(2),Z(r.formatDate(t.data))}}function A5(n,e){if(n&1&&(E(0,"div",184),it(1,S5,7,3,"div",193,ju),I()),n&2){let t=V(3);T(),ot(t.getAvisosByType("success"))}}function R5(n,e){if(n&1){let t=wt();E(0,"div",65)(1,"div",170)(2,"div")(3,"button",171),we("click",function(){Ee(t);let i=V(2);return Ie(i.toggleAvisoType("info"))}),E(4,"span",172),N(5,"\u25CF"),I(),N(6," Informativo "),Y(7,y5,2,1,"span",173),I(),Y(8,_5,3,0,"div",174),I(),E(9,"div",175)(10,"button",171),we("click",function(){Ee(t);let i=V(2);return Ie(i.toggleAvisoType("warning"))}),E(11,"span",176),N(12,"\u25CF"),I(),N(13," Aviso "),Y(14,E5,2,1,"span",177),I(),Y(15,w5,3,0,"div",178),I(),E(16,"div",175)(17,"button",171),we("click",function(){Ee(t);let i=V(2);return Ie(i.toggleAvisoType("danger"))}),E(18,"span",179),N(19,"\u25CF"),I(),N(20," Importante "),Y(21,b5,2,1,"span",180),I(),Y(22,D5,3,0,"div",181),I(),E(23,"div",175)(24,"button",171),we("click",function(){Ee(t);let i=V(2);return Ie(i.toggleAvisoType("success"))}),E(25,"span",182),N(26,"\u25CF"),I(),N(27," Sucesso "),Y(28,T5,2,1,"span",183),I(),Y(29,A5,3,0,"div",184),I()()()}if(n&2){let t=V(2);T(3),je("border-l-4",t.avisoSelectedType()==="info")("border-blue-400",t.avisoSelectedType()==="info")("text-blue-400",t.avisoSelectedType()==="info")("text-gray-400",t.avisoSelectedType()!=="info")("bg-gradient-to-r",t.avisoSelectedType()!=="info")("from-blue-500/5",t.avisoSelectedType()!=="info")("to-blue-500/0",t.avisoSelectedType()!=="info")("bg-blue-500/15",t.avisoSelectedType()==="info")("shadow-blue-500/20",t.avisoSelectedType()!=="info")("shadow-lg",t.avisoSelectedType()!=="info")("shadow-blue-500/40",t.avisoSelectedType()==="info")("shadow-xl",t.avisoSelectedType()==="info"),T(4),J(t.countAvisosByType("info")>0?7:-1),T(),J(t.avisoSelectedType()==="info"&&t.getAvisosByType("info").length>0?8:-1),T(2),je("border-l-4",t.avisoSelectedType()==="warning")("border-yellow-400",t.avisoSelectedType()==="warning")("text-yellow-400",t.avisoSelectedType()==="warning")("text-gray-400",t.avisoSelectedType()!=="warning")("bg-gradient-to-r",t.avisoSelectedType()!=="warning")("from-yellow-500/5",t.avisoSelectedType()!=="warning")("to-yellow-500/0",t.avisoSelectedType()!=="warning")("bg-yellow-500/15",t.avisoSelectedType()==="warning")("shadow-yellow-500/20",t.avisoSelectedType()!=="warning")("shadow-lg",t.avisoSelectedType()!=="warning")("shadow-yellow-500/40",t.avisoSelectedType()==="warning")("shadow-xl",t.avisoSelectedType()==="warning"),T(4),J(t.countAvisosByType("warning")>0?14:-1),T(),J(t.avisoSelectedType()==="warning"&&t.getAvisosByType("warning").length>0?15:-1),T(2),je("border-l-4",t.avisoSelectedType()==="danger")("border-red-400",t.avisoSelectedType()==="danger")("text-red-400",t.avisoSelectedType()==="danger")("text-gray-400",t.avisoSelectedType()!=="danger")("bg-gradient-to-r",t.avisoSelectedType()!=="danger")("from-red-500/5",t.avisoSelectedType()!=="danger")("to-red-500/0",t.avisoSelectedType()!=="danger")("bg-red-500/15",t.avisoSelectedType()==="danger")("shadow-red-500/20",t.avisoSelectedType()!=="danger")("shadow-lg",t.avisoSelectedType()!=="danger")("shadow-red-500/40",t.avisoSelectedType()==="danger")("shadow-xl",t.avisoSelectedType()==="danger"),T(4),J(t.countAvisosByType("danger")>0?21:-1),T(),J(t.avisoSelectedType()==="danger"&&t.getAvisosByType("danger").length>0?22:-1),T(2),je("border-l-4",t.avisoSelectedType()==="success")("border-green-400",t.avisoSelectedType()==="success")("text-green-400",t.avisoSelectedType()==="success")("text-gray-400",t.avisoSelectedType()!=="success")("bg-gradient-to-r",t.avisoSelectedType()!=="success")("from-green-500/5",t.avisoSelectedType()!=="success")("to-green-500/0",t.avisoSelectedType()!=="success")("bg-green-500/15",t.avisoSelectedType()==="success")("shadow-green-500/20",t.avisoSelectedType()!=="success")("shadow-lg",t.avisoSelectedType()!=="success")("shadow-green-500/40",t.avisoSelectedType()==="success")("shadow-xl",t.avisoSelectedType()==="success"),T(4),J(t.countAvisosByType("success")>0?28:-1),T(),J(t.avisoSelectedType()==="success"&&t.getAvisosByType("success").length>0?29:-1)}}function x5(n,e){if(n&1){let t=wt();E(0,"div",45)(1,"div",46)(2,"button",47),we("click",function(){let i=Ee(t).$implicit,o=V();return Ie(o.toggleItem(i.id))}),ne(3,"div",48),E(4,"div",49)(5,"div",50),Y(6,v4,2,0,":svg:svg",51),Y(7,_4,2,0,":svg:svg",52),Y(8,E4,2,0,":svg:svg",52),Y(9,I4,2,0,":svg:svg",51),Y(10,w4,2,0,":svg:svg",51),Y(11,b4,2,0,":svg:svg",51),Y(12,C4,3,0,":svg:svg",51),Y(13,D4,2,0,":svg:svg",51),I(),E(14,"span",53),N(15),I(),Y(16,T4,2,0,"span",54),Y(17,M4,4,4),Y(18,N4,2,1,"span",55),Y(19,P4,2,1,"span",56),I(),Be(),E(20,"svg",57),ne(21,"path",58),I()(),wn(),E(22,"div",59)(23,"div",60)(24,"div",61),Y(25,V4,3,1),Y(26,j4,18,3,"div",62),Y(27,$4,2,1),Y(28,q4,3,0,"div",63),Y(29,Q4,2,1),Y(30,n5,4,3,"div",64),Y(31,m5,7,2,"div",65),Y(32,R5,30,104,"div",65),I()()()()()}if(n&2){let t=e.$implicit,r=V();je("z-30",t.isOpen)("z-0",!t.isOpen)("scale-[1",t.isOpen)("my-2",t.isOpen),T(),je("border-brand-fireOrange",t.isOpen)("shadow-[0_0_25px_rgba(255,69,0,0",t.isOpen)("border-white/10",!t.isOpen)("bg-[#0F0F0F]",t.isOpen)("bg-black",!t.isOpen),T(),je("featured-service",t.featured),T(3),je("text-brand-fireOrange",t.isOpen)("scale-110",t.isOpen)("drop-shadow-[0_0_8px_rgba(255,69,0,0",t.isOpen),T(),J(t.icon==="scissors"?6:-1),T(),J(t.icon==="users"?7:-1),T(),J(t.icon==="image"?8:-1),T(),J(t.icon==="clock"?9:-1),T(),J(t.icon==="star"?10:-1),T(),J(t.icon==="calendar"?11:-1),T(),J(t.icon==="map"?12:-1),T(),J(t.icon==="briefcase"?13:-1),T(),je("text-white",t.isOpen)("text-gray-400",!t.isOpen),T(),ke(" ",t.title," "),T(),J(t.featured?16:-1),T(),J(t.id==="avisos"&&r.avisos().length>0?17:-1),T(),J(t.id==="feedback"&&r.getFeedbackCount()>0?18:-1),T(),J(t.id==="feedback"&&r.getNewestFeedbackName()?19:-1),T(),je("rotate-180",t.isOpen)("text-brand-fireOrange",t.isOpen),T(2),Yn("grid-template-rows",t.isOpen?"1fr":"0fr"),T(3),J(t.type==="text"?25:-1),T(),J(t.type==="hours"?26:-1),T(),J(t.type==="team"?27:-1),T(),J(t.type==="projects"?28:-1),T(),J(t.type==="partners"?29:-1),T(),J(t.type==="list"?30:-1),T(),J(t.type==="feedback"?31:-1),T(),J(t.type==="text"&&t.id==="avisos"?32:-1)}}var Ip=class n{constructor(e){this.ngZone=e;this.firebaseConfig={apiKey:"AIzaSyDE2tWDNCDrY6O20EWrDt-NkvZmCm_MR10",authDomain:"isaacbarbearia-admin.firebaseapp.com",projectId:"isaacbarbearia-admin",storageBucket:"isaacbarbearia-admin.firebasestorage.app",messagingSenderId:"308982033120",appId:"1:308982033120:web:38b82c1a3ca9e933be7e85"};this.app=ou(this.firebaseConfig);this.db=Su(this.app);this.auth=Bo(this.app);this.currentUser=de(null);this.isAuthLoading=de(!1);this.isLoading=de(!0);this.loadingProgress=de(0);this.hasLoadingStarted=!1;this.avisos=de([]);this.avisoSelectedType=de(null);this.whatsappLink=de("https://wa.me/5585999999999");this.whatsappNumber=de("(85) 99999-9999");this.telefoneLink=de("tel:5585999999999");this.telefoneNumber=de("(85) 99999-9999");this.agendamentoInfo=de("O agendamento \xE9 feito preferencialmente via WhatsApp ou telefone.");this.localizacaoEndereco=de("Rua das Pedras, 123");this.localizacaoBairro=de("Centro");this.localizacaoCidade=de("Fortaleza - CE");this.localizacaoReferencia=de("Pr\xF3ximo \xE0 pra\xE7a principal");this.googleMapsLink=de("https://share.google/Q4GvyJhu3aPv7HcgA");this.horariosSegSex=de("09:00 \xE0s 20:00");this.horariosSabado=de("09:00 \xE0s 18:00");this.horariosDomingo=de("Fechado");this.locationLink=de("#");this.embers=de([]);this.sparks=de([]);this.showReviewForm=de(!1);this.newReviewMessage=de("");this.newReviewRating=de(5);this.items=de([{id:"services",title:"Nossos Servi\xE7os & Pre\xE7os",isOpen:!1,featured:!0,type:"list",icon:"scissors",listItems:[]},{id:"team",title:"Profissionais",isOpen:!1,type:"team",icon:"users",teamMembers:[]},{id:"projects",title:"Participa\xE7\xE3o Comunit\xE1ria",isOpen:!1,type:"projects",icon:"image",projectGallery:[]},{id:"partnerships",title:"Parcerias",isOpen:!1,type:"partners",icon:"briefcase",partners:[]},{id:"feedback",title:"Feedback",isOpen:!1,type:"feedback",icon:"star",testimonials:[]},{id:"avisos",title:"Avisos",isOpen:!1,type:"text",icon:"briefcase",content:""},{id:"booking",title:"Agendamento",isOpen:!1,type:"text",icon:"calendar",content:"O agendamento \xE9 feito preferencialmente via WhatsApp ou telefone. Clique no \xEDcone do WhatsApp acima ou ligue para (11) 99999-9999."},{id:"hours",title:"Hor\xE1rios",isOpen:!1,type:"hours",icon:"clock",content:`Segunda a S\xE1bado: 09:00 \xE0s 20:00
Domingo: Fechado`},{id:"location",title:"Localiza\xE7\xE3o",isOpen:!1,type:"text",icon:"map",content:"Estamos na Rua das Pedras, 123 - Centro. Pr\xF3ximo \xE0 pra\xE7a principal."}]);this.currentYear=2024}ngOnInit(){this.hasLoadingStarted||(this.hasLoadingStarted=!0,this.startLoading()),this.generateEmbers(),this.generateSparks(),Uo(this.auth,e=>{this.ngZone.run(()=>{this.currentUser.set(e)})})}async startLoading(){this.isLoading.set(!0),this.loadingProgress.set(0);let e=0,t=setInterval(()=>{e+=.83,e<=100&&this.loadingProgress.set(e)},100);this.loadDynamicData(),setTimeout(()=>{clearInterval(t),this.loadingProgress.set(100),setTimeout(()=>{this.isLoading.set(!1)},500)},12e3)}async loadDynamicData(){try{let[e,t,r,i,o,s,a,u,l]=await Promise.all([nn(st(this.db,"profissionais")),nn(st(this.db,"parceiros")),nn(st(this.db,"participacoes")),nn(st(this.db,"avaliacoes")),nn(st(this.db,"servicos")),Jh(Pt(this.db,"config","agendamento")),Jh(Pt(this.db,"config","localizacao")),Jh(Pt(this.db,"config","horarios")),nn(st(this.db,"avisos"))]),f=e.docs.map(A=>{let P=A.data();return{name:P.nome||"Profissional",specialty:P.especialidade||"Especialidade",imageUrl:P.imagem||`https://picsum.photos/seed/${encodeURIComponent(P.nome||A.id)}/200/200`}}),p=o.docs.map(A=>{let P=A.data(),ee=P.realiza===!0&&P.preco&&P.preco>0?`R$ ${P.preco}`:"-";return{name:P.nome||"Servi\xE7o",price:ee,available:P.realiza}}),g=t.docs.map(A=>{let P=A.data();return{name:P.nome||"Parceiro",role:"",imageUrl:P.imagem||`https://picsum.photos/seed/${encodeURIComponent(P.nome||A.id)}/200/200`}}),y=r.docs.map(A=>{let P=A.data();return{title:P.titulo||"Evento",imageUrl:`https://picsum.photos/seed/${encodeURIComponent(P.titulo||A.id)}/300/300`,projectUrl:"#",date:P.data||"Data a definir",location:P.descricao||"Comunidade"}}),x=i.docs.map(A=>{let P=A.data();return{id:A.id,name:P.cliente||"Cliente",comment:P.comentario||"\xD3timo atendimento!",rating:P.estrelas||5,email:P.email||"",photoUrl:P.photoURL||P.photoUrl||P.foto||P.avatar||P.image||""}});if(s.exists()){let A=s.data();if(A.whatsapp){let P=A.whatsapp.replace(/\D/g,"");this.whatsappLink.set(`https://wa.me/${P}`),this.whatsappNumber.set(A.whatsapp)}if(A.telefone){let P=A.telefone.replace(/\D/g,"");this.telefoneLink.set(`tel:${P}`),this.telefoneNumber.set(A.telefone)}A.info&&this.agendamentoInfo.set(A.info)}if(a.exists()){let A=a.data();A.endereco&&this.localizacaoEndereco.set(A.endereco),A.bairro&&this.localizacaoBairro.set(A.bairro),A.cidade&&this.localizacaoCidade.set(A.cidade),A.referencia&&this.localizacaoReferencia.set(A.referencia),A.googleMapsLink&&this.googleMapsLink.set(A.googleMapsLink)}if(u.exists()){let A=u.data();A.segSex&&this.horariosSegSex.set(A.segSex),A.sabado&&this.horariosSabado.set(A.sabado),A.domingo&&this.horariosDomingo.set(A.domingo)}f.length||g.length||y.length||x.length||p.length?this.items.update(A=>A.map(P=>P.id==="services"&&p.length?$(k({},P),{listItems:p}):P.id==="team"&&f.length?$(k({},P),{teamMembers:f}):P.id==="partnerships"&&g.length?$(k({},P),{partners:g}):P.id==="projects"&&y.length?$(k({},P),{projectGallery:y}):P.id==="feedback"&&x.length?$(k({},P),{testimonials:x}):P)):this.items.update(A=>A.map(P=>P.id==="services"?$(k({},P),{listItems:[]}):P.id==="team"?$(k({},P),{teamMembers:[]}):P.id==="partnerships"?$(k({},P),{partners:[]}):P.id==="projects"?$(k({},P),{projectGallery:[]}):P.id==="feedback"?$(k({},P),{testimonials:[]}):P));let O=l.docs.map(A=>{let P=A.data();return{id:A.id,titulo:P.titulo||"Aviso",conteudo:P.conteudo||"",tipo:P.tipo||"info",data:P.data||new Date().toISOString()}});O.sort((A,P)=>new Date(P.data).getTime()-new Date(A.data).getTime()),this.avisos.set(O)}catch(e){console.error("Erro ao carregar dados do Firebase:",e)}}formatDate(e){return new Date(e).toLocaleDateString("pt-BR")}getAvisosByType(e){return e?this.avisos().filter(t=>t.tipo===e):[]}countAvisosByType(e){return this.getAvisosByType(e).length}generateEmbers(){let e=[];for(let r=0;r<25;r++)e.push({left:Math.random()*100+"%",animationDuration:Math.random()*5+5+"s",animationDelay:Math.random()*5+"s",opacity:Math.random()*.5+.2,size:Math.random()*3+2+"px"});this.embers.set(e)}generateSparks(){let e=[];for(let r=0;r<20;r++)e.push({left:Math.random()*100+"%",animationDuration:Math.random()*3+3+"s",animationDelay:Math.random()*5+"s",opacity:Math.random()*.7+.3,size:Math.random()*2+1+"px"});this.sparks.set(e)}toggleItem(e){this.items.update(t=>t.map(r=>$(k({},r),{isOpen:r.id===e?!r.isOpen:!1}))),e==="avisos"&&this.avisoSelectedType.set(null)}toggleAvisoType(e){this.avisoSelectedType()===e?this.avisoSelectedType.set(null):this.avisoSelectedType.set(e)}toggleReviewForm(){this.showReviewForm.update(e=>!e)}setReviewRating(e){this.newReviewRating.set(e)}async submitReview(){if(!this.currentUser()){alert("Por favor, fa\xE7a login com o Google para deixar seu feedback!");return}let e=this.currentUser()?.email,t=this.currentUser()?.displayName||"Usu\xE1rio",r=this.currentUser()?.photoURL||"",i=this.newReviewMessage().trim(),o=this.newReviewRating();if(!i){alert("Por favor, escreva seu coment\xE1rio!");return}try{if((await nn(st(this.db,"avaliacoes"))).docs.some(l=>l.data().email===e)){alert("Voc\xEA j\xE1 deixou um feedback! Obrigado pela sua opini\xE3o."),this.showReviewForm.set(!1);return}console.log("Salvando feedback:",{name:t,message:i,rating:o});let u=await Oo(st(this.db,"avaliacoes"),{cliente:t,email:e,comentario:i,estrelas:o,data:new Date().toLocaleDateString("pt-BR"),photoURL:r});console.log("Feedback salvo com ID:",u.id),this.items.update(l=>l.map(f=>f.id==="feedback"&&f.testimonials?$(k({},f),{testimonials:[{id:u.id,name:t,email:e,comment:i,rating:o,photoUrl:r,isNew:!0},...f.testimonials]}):f)),this.newReviewMessage.set(""),this.newReviewRating.set(5),this.showReviewForm.set(!1),alert("Feedback enviado com sucesso!")}catch(s){console.error("Erro ao salvar feedback:",s),alert("Erro ao salvar feedback. Verifique o console.")}}async signInWithGoogle(){this.isAuthLoading.set(!0);try{let e=new DI;await RI(this.auth,e),alert("Login realizado com sucesso!")}catch(e){console.error("Erro no login:",e),alert("Erro ao fazer login. Tente novamente.")}finally{this.isAuthLoading.set(!1)}}async signOutUser(){try{await Vu(this.auth),this.showReviewForm.set(!1),alert("Logout realizado com sucesso!")}catch(e){console.error("Erro no logout:",e)}}async deleteReview(e){if(confirm("Tem certeza que deseja apagar seu feedback?"))try{await ko(Pt(this.db,"avaliacoes",e.id)),this.items.update(t=>t.map(r=>r.id==="feedback"&&r.testimonials?$(k({},r),{testimonials:r.testimonials.filter(i=>i.id!==e.id)}):r)),alert("Feedback apagado com sucesso!")}catch(t){console.error("Erro ao apagar feedback:",t),alert("Erro ao apagar feedback. Tente novamente.")}}getFeedbackCount(){return this.items().find(t=>t.id==="feedback")?.testimonials?.length||0}getNewestFeedbackName(){return this.items().find(r=>r.id==="feedback")?.testimonials?.find(r=>r.isNew)?.name||""}editReview(e){this.newReviewMessage.set(e.comment),this.newReviewRating.set(e.rating),this.showReviewForm.set(!0),this.deleteReview(e)}getUserFeedback(){if(!this.currentUser()?.email)return null;let e=this.items().find(t=>t.id==="feedback");return e?.testimonials&&e.testimonials.find(t=>t.email===this.currentUser()?.email)||null}getServicesBy(e,t){return e.filter(r=>r.available===t)}hasServicesBy(e,t){return e.some(r=>r.available===t)}static{this.\u0275fac=function(t){return new(t||n)(ge(Vt))}}static{this.\u0275cmp=Dn({type:n,selectors:[["app-root"]],decls:40,vars:4,consts:[[1,"min-h-screen","bg-black","text-[#e0e0e0]","font-sans","flex","flex-col","items-center","py-12","px-4","relative","overflow-x-hidden"],[1,"fixed","inset-0","z-[9999]","bg-black","flex","flex-col","items-center","justify-center","loading-screen"],[1,"fixed","inset-0","pointer-events-none","z-0","overflow-hidden"],[1,"absolute","bottom-0","left-0","w-full","h-64","bg-gradient-to-t","from-brand-fireOrange/15","to-transparent"],[1,"absolute","top-0","left-0","w-full","h-48","bg-gradient-to-b","from-brand-fireOrange/10","to-transparent"],[1,"ember",3,"left","width","height","animation-duration","animation-delay","opacity"],[1,"spark",3,"left","width","height","animation-duration","animation-delay","opacity"],[1,"relative","z-10","w-full","max-w-md","flex","flex-col","flex-grow","neon-gold-border-container","rounded-2xl"],[1,"flex","flex-col","items-center","mb-8","animate-fade-in"],[1,"relative","w-80","mb-8","mt-4","animate-pulse-soft"],["ngSrc","https://i.postimg.cc/283QNmDj/Design-sem-nome-removebg-preview.png","priority","","width","1280","height","1119","alt","Isaac Barbearia Logo",1,"relative","z-10","w-full","h-auto","object-contain","transition-all","duration-300"],[1,"w-full","max-w-xs","flex","items-center","gap-4","-mt-6","mb-8","animate-fade-in"],[1,"h-px","flex-grow","bg-gradient-to-r","from-transparent","to-brand-gold/30"],[1,"text-brand-fireOrange","font-serif","text-sm","uppercase","tracking-[0.2em]","animate-shimmer","font-bold",2,"text-shadow","0 0 10px #ff8c00, 0 0 20px #ff8c00, 0 0 30px #ff6400"],[1,"h-px","flex-grow","bg-gradient-to-l","from-transparent","to-brand-gold/30"],[1,"w-full","p-3","bg-black/30","backdrop-blur-md","rounded-2xl","border","border-white/10","shadow-2xl","shadow-black","mb-12","flex","flex-row","items-center","justify-between"],[1,"flex","items-center","gap-4"],["target","_blank","aria-label","WhatsApp",1,"w-14","h-14","flex","items-center","justify-center","rounded-2xl","bg-[#111]","border","border-white/10","text-brand-gold","shadow-lg","hover:text-green-500","hover:border-green-500","hover:scale-110","btn-neon-green",3,"href"],["viewBox","0 0 24 24","fill","currentColor",1,"w-7","h-7"],["d","M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"],["target","_blank","aria-label","Localiza\xE7\xE3o",1,"w-14","h-14","flex","items-center","justify-center","rounded-2xl","bg-[#111]","border","border-white/10","text-brand-gold","shadow-lg","hover:text-blue-500","hover:border-blue-500","hover:scale-110","btn-neon-blue",3,"href"],["fill-rule","evenodd","d","M11.54 22.351l.07.04.028.016a.76.76 0 00.723 0l.028-.015.071-.041a16.975 16.975 0 001.144-.742 19.58 19.58 0 002.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 00-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 002.682 2.282 16.975 16.975 0 001.145.742zM12 13.5a3 3 0 100-6 3 3 0 000 6z","clip-rule","evenodd"],["href","https://www.instagram.com/isaac._barbearia","target","_blank","rel","noopener noreferrer",1,"btn-fire","flex","items-center","justify-center","gap-2","px-5","py-3","rounded-lg","font-bold","text-sm","uppercase","tracking-wider","transition-all","duration-300","transform","active:scale-95"],["viewBox","0 0 24 24","fill","currentColor",1,"w-5","h-5"],["d","M7.8,2H16.2C19.4,2 22,4.6 22,7.8V16.2A5.8,5.8 0 0,1 16.2,22H7.8C4.6,22 2,19.4 2,16.2V7.8A5.8,5.8 0 0,1 7.8,2M7.6,4A3.6,3.6 0 0,0 4,7.6V16.4C4,18.39 5.61,20 7.6,20H16.4A3.6,3.6 0 0,0 20,16.4V7.6C20,5.61 18.39,4 16.4,4H7.6M17.25,5.5A1.25,1.25 0 0,1 18.5,6.75A1.25,1.25 0 0,1 17.25,8A1.25,1.25 0 0,1 16,6.75A1.25,1.25 0 0,1 17.25,5.5M12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9Z"],[1,"w-full","relative","z-20","flex","flex-col","gap-3"],[1,"w-full","relative","transition-all","duration-500","ease-in-out",3,"z-30","z-0","scale-[1","my-2"],[1,"mt-auto","py-8","text-center","opacity-60"],[1,"text-[9px]","text-gray-500","uppercase","tracking-widest"],[1,"text-[8px]","text-gray-600","mt-1"],[1,"absolute","inset-0","bg-gradient-radial","from-brand-fireOrange/20","via-black","to-black","animate-pulse-slow"],[1,"relative","mb-8","animate-pulse-soft"],["src","https://i.postimg.cc/283QNmDj/Design-sem-nome-removebg-preview.png","alt","Isaac Barbearia",1,"relative","z-10","w-80","h-auto"],[1,"relative","z-10","text-center","mb-8"],[1,"text-brand-gold/80","text-sm","tracking-wider"],[1,"text-brand-fireOrange","text-xs","mt-2","tracking-wide"],[1,"loading-dots"],[1,"relative","z-10","w-64","h-2","bg-white/10","rounded-full","overflow-hidden","backdrop-blur-sm"],[1,"h-full","bg-gradient-to-r","from-brand-fireOrange","via-yellow-500","to-brand-fireOrange","animate-shimmer","transition-all","duration-300"],[1,"relative","z-10","mt-4","text-brand-fireOrange","font-bold","text-lg"],[1,"absolute","inset-0","overflow-hidden","pointer-events-none"],[1,"loading-ember",3,"left","animation-delay"],[1,"loading-ember"],[1,"ember"],[1,"spark"],[1,"w-full","relative","transition-all","duration-500","ease-in-out"],[1,"w-full","overflow-hidden","rounded-xl","border","transition-all","duration-300","shadow-xl"],[1,"w-full","relative","flex","items-center","justify-between","p-4","group/btn","outline-none",3,"click"],[1,"absolute","inset-0","bg-gradient-to-r","from-brand-fireOrange/10","to-transparent","opacity-0","group-hover/btn:opacity-100","transition-opacity","duration-300"],[1,"flex","items-center","gap-4","text-left","relative","z-10"],[1,"text-brand-gold","transition-all","duration-300"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["fill","none","stroke","currentColor","stroke-width","1.5","viewBox","0 0 24 24",1,"w-6","h-6"],[1,"font-sans","font-medium","text-sm","tracking-wide","transition-colors","duration-300"],[1,"ml-2","bg-brand-fireOrange/20","text-brand-fireOrange","border","border-brand-fireOrange/50","text-[9px]","font-bold","uppercase","tracking-wider","px-2","py-0.5","rounded"],[1,"ml-2","bg-brand-fireOrange/20","text-brand-fireOrange","border","border-brand-fireOrange/50","text-[9px]","font-bold","uppercase","tracking-wider","px-2","py-0.5","rounded","animate-pulse"],[1,"ml-2","bg-green-500/20","text-green-400","border","border-green-500/50","text-[9px]","font-bold","uppercase","tracking-wider","px-2","py-0.5","rounded"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-500","transition-transform","duration-300","relative","z-10"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],[1,"grid","transition-all","duration-300","ease-in-out"],[1,"overflow-hidden"],[1,"px-6","pb-6","pt-2","border-t","border-brand-fireOrange/20","bg-black/40"],[1,"text-center","text-gray-300","font-light","text-sm","animate-fade-in","space-y-2"],[1,"space-y-3","animate-fade-in"],[1,"space-y-5","animate-fade-in"],[1,"space-y-4","animate-fade-in"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M14.121 14.121L19 19m-7-7l7-7m-7 7l-2.879 2.879M12 12L9.121 9.121m0 5.758a3 3 0 10-4.243 4.243 3 3 0 004.243-4.243zm0-5.758a3 3 0 10-4.243-4.243 3 3 0 004.243 4.243z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Z"],["stroke-linecap","round","stroke-linejoin","round","d","M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M20.25 7.5l-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"],[1,"ml-1","bg-blue-500/30","text-blue-300","border","border-blue-500/40","text-[9px]","font-bold","px-2","py-0.5","rounded"],[1,"ml-1","bg-yellow-500/30","text-yellow-300","border","border-yellow-500/40","text-[9px]","font-bold","px-2","py-0.5","rounded"],[1,"ml-1","bg-red-500/30","text-red-300","border","border-red-500/40","text-[9px]","font-bold","px-2","py-0.5","rounded"],[1,"ml-1","bg-green-500/30","text-green-300","border","border-green-500/40","text-[9px]","font-bold","px-2","py-0.5","rounded"],[1,"text-gray-300","font-light","leading-relaxed","text-sm","animate-fade-in","space-y-3"],[1,"flex","flex-col","gap-2","mt-3"],["target","_blank",1,"flex","items-center","gap-2","text-green-400","hover:text-green-300","transition-colors",3,"href"],[1,"flex","items-center","gap-2","text-blue-400","hover:text-blue-300","transition-colors",3,"href"],["d","M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"],[1,"space-y-1"],[1,"font-semibold","text-brand-fireOrange"],[1,"text-xs","text-gray-400"],["target","_blank",1,"inline-flex","items-center","gap-2","text-blue-400","hover:text-blue-300","transition-colors","mt-3",3,"href"],["d","M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"w-4","h-4"],["d","M5 12h14M12 5l7 7-7 7"],[1,"text-gray-300","font-light","leading-relaxed","text-sm","animate-fade-in"],[1,"flex","justify-between","items-center","px-4"],[1,"text-gray-400"],[1,"font-semibold","text-red-400"],[1,"pt-2","mt-2","border-t","border-white/10","text-xs","text-gray-500"],[1,"text-gray-400","text-sm","italic"],[1,"flex","items-center","gap-4","bg-white/5","p-3","rounded-lg","border","border-white/10"],[1,"w-16","h-16","rounded-full","object-cover","border-2","border-brand-gold",3,"src","alt"],[1,"font-bold","text-white","text-sm"],[1,"text-brand-fireOrange","text-xs","font-medium","uppercase","tracking-wider"],[1,"bg-gradient-to-br","from-white/10","to-white/5","p-5","rounded-lg","border","border-brand-fireOrange/30","hover:border-brand-fireOrange/60","hover:shadow-[0_0_20px_rgba(255,140,0,0.2)]","transition-all","duration-300","group"],[1,"font-bold","text-white","text-lg","mb-3","group-hover:text-brand-fireOrange","transition-colors","uppercase","tracking-wide"],[1,"text-gray-300","text-sm","leading-relaxed","mb-4"],[1,"flex","items-center","gap-2","pt-3","border-t","border-white/10"],[1,"text-brand-gold","text-xs"],[1,"text-brand-gold","text-xs","font-medium"],[1,"animate-fade-in"],[1,"grid","grid-cols-3","gap-4","mb-4"],[1,"bg-gradient-to-br","from-white/5","to-white/[0.02]","border","border-white/10","rounded-xl","p-4","flex","flex-col","items-center","text-center","hover:border-brand-fireOrange","hover:shadow-[0_0_20px_rgba(255,140,0,0.3)]","transition-all","duration-500","group/partner","cursor-default"],[1,"flex","flex-col","items-center","justify-center","text-center","pt-2","border-t","border-dashed","border-white/10"],[1,"text-gray-400","text-[10px]","font-medium","uppercase","tracking-widest","mb-2"],["target","_blank",1,"text-brand-fireOrange","hover:text-white","text-xs","font-bold","uppercase","tracking-widest","flex","items-center","gap-2","transition-colors",3,"href"],["viewBox","0 0 24 24","fill","currentColor",1,"w-4","h-4"],[1,"w-16","h-16","rounded-xl","overflow-hidden","mb-3","border-2","border-brand-gold/30","group-hover/partner:border-brand-fireOrange","group-hover/partner:scale-110","transition-all","duration-500","shadow-xl","bg-white/5"],[1,"w-full","h-full","object-cover","group-hover/partner:scale-105","transition-all","duration-500",3,"src","alt"],[1,"text-brand-fireOrange","font-bold","text-xs","uppercase","tracking-wide","group-hover/partner:text-white","transition-colors"],[1,"text-gray-400","text-[10px]","mt-1","leading-tight"],[1,"text-gray-400","text-sm","italic","mb-4"],[1,"space-y-2"],[1,"text-xs","font-bold","text-green-400","uppercase","tracking-widest","px-3","py-1","border-b","border-green-500/30","flex","items-center","gap-2"],[1,"w-2","h-2","rounded-full","bg-green-400"],[1,"flex","justify-between","items-center","border-b","border-white/5","pb-2","hover:border-brand-fireOrange/30","transition-colors"],[1,"text-gray-300","text-sm","font-medium"],[1,"text-[10px]","font-bold","px-2","py-0.5","rounded","uppercase","tracking-wider","min-w-[3.5rem]","text-center","bg-green-500/20","text-green-400","border","border-green-500/30"],[1,"text-sm","font-serif","font-bold","w-12","text-right","text-brand-fireOrange"],[1,"text-xs","font-bold","text-yellow-400","uppercase","tracking-widest","px-3","py-1","border-b","border-yellow-500/30","flex","items-center","gap-2"],[1,"w-2","h-2","rounded-full","bg-yellow-400"],[1,"flex","justify-between","items-center","border-b","border-white/5","pb-2","hover:border-brand-fireOrange/30","transition-colors","opacity-70"],[1,"text-gray-400","text-sm","font-medium"],[1,"text-[10px]","font-bold","px-2","py-0.5","rounded","uppercase","tracking-wider","min-w-[3.5rem]","text-center","bg-yellow-500/20","text-yellow-400","border","border-yellow-500/30"],[1,"text-sm","font-serif","font-bold","w-12","text-right","text-gray-500"],[1,"text-xs","font-bold","text-red-500","uppercase","tracking-widest","px-3","py-1","border-b","border-red-500/30","flex","items-center","gap-2"],[1,"w-2","h-2","rounded-full","bg-red-500"],[1,"flex","justify-between","items-center","border-b","border-white/5","pb-2","hover:border-brand-fireOrange/30","transition-colors","opacity-50"],[1,"text-gray-500","text-sm","font-medium","line-through"],[1,"text-[10px]","font-bold","px-2","py-0.5","rounded","uppercase","tracking-wider","min-w-[3.5rem]","text-center","bg-red-500/10","text-red-500"],[1,"text-sm","font-serif","font-bold","w-12","text-right","text-gray-600"],[1,"bg-white/5","p-3","rounded","border","border-white/5","hover:border-brand-fireOrange/30","transition-colors","relative",3,"border-brand-fireOrange"],[1,"pt-2","text-center","space-y-3"],[1,"bg-white","text-black","hover:bg-gray-200","border","border-white/20","px-6","py-2","rounded-full","text-xs","uppercase","tracking-widest","font-bold","transition-all","duration-300","flex","items-center","justify-center","gap-2","mx-auto",3,"disabled"],[1,"flex","flex-col","items-center","gap-2"],[1,"pt-4","mt-2","border-t","border-white/10","animate-slide-down"],[1,"bg-white/5","p-3","rounded","border","border-white/5","hover:border-brand-fireOrange/30","transition-colors","relative"],[1,"absolute","top-0","right-0","bg-brand-fireOrange","text-black","text-[9px]","px-2","py-0.5","font-bold","uppercase","rounded-bl-md"],[1,"flex","justify-between","mb-1"],[1,"flex","items-center","gap-2"],[1,"w-7","h-7","rounded-full","object-cover","border","border-white/10",3,"src","alt"],[1,"text-brand-gold","text-xs","font-bold"],[1,"flex","text-brand-fireOrange","text-[10px]"],[1,"text-gray-400","text-xs","italic"],[1,"bg-white","text-black","hover:bg-gray-200","border","border-white/20","px-6","py-2","rounded-full","text-xs","uppercase","tracking-widest","font-bold","transition-all","duration-300","flex","items-center","justify-center","gap-2","mx-auto",3,"click","disabled"],["viewBox","0 0 24 24",1,"w-4","h-4"],["fill","currentColor","d","M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"],["fill","currentColor","d","M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"],["fill","currentColor","d","M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"],["fill","currentColor","d","M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"],[1,"flex","items-center","justify-center","gap-3"],[1,"bg-red-500/20","text-red-400","hover:bg-red-500/30","border","border-red-500/30","px-4","py-1","rounded-full","text-xs","uppercase","tracking-wider","font-bold","transition-all","duration-300",3,"click"],[1,"flex","gap-2","w-full"],[1,"flex-1","bg-white/10","text-white","hover:bg-brand-fireOrange","hover:text-black","border","border-white/20","px-4","py-2","rounded-full","text-xs","uppercase","tracking-wider","font-bold","transition-all","duration-300",3,"click"],[1,"bg-blue-500/20","text-blue-400","hover:bg-blue-500/30","border","border-blue-500/30","px-3","py-2","rounded-full","text-xs","uppercase","tracking-wider","font-bold","transition-all","duration-300",3,"click"],[1,"bg-red-500/20","text-red-400","hover:bg-red-500/30","border","border-red-500/30","px-3","py-2","rounded-full","text-xs","uppercase","tracking-wider","font-bold","transition-all","duration-300",3,"click"],[1,"text-brand-gold","text-sm","font-bold","mb-3","uppercase","tracking-wider","text-center"],[1,"flex","justify-center","gap-3","mb-4"],[1,"text-2xl","focus:outline-none","transition-transform","hover:scale-125"],[1,"space-y-3"],["placeholder","Escreva sua mensagem aqui...","rows","4",1,"w-full","bg-white/5","border","border-white/10","rounded-md","text-sm","p-3","text-white","placeholder-gray-500","focus:border-brand-fireOrange","focus:ring-1","focus:ring-brand-fireOrange","outline-none","transition-all","resize-none",3,"ngModelChange","ngModel"],[1,"w-full","bg-gradient-to-r","from-brand-fireOrange","to-red-700","text-white","font-bold","py-3","rounded-md","text-sm","uppercase","tracking-widest","hover:shadow-[0_0_20px_rgba(255,69,0,0.4)]","active:scale-95","transition-all",3,"click"],[1,"text-2xl","focus:outline-none","transition-transform","hover:scale-125",3,"click"],[1,"flex","flex-col","gap-0"],[1,"w-full","px-4","py-3","text-sm","font-bold","uppercase","tracking-wider","transition-all","duration-300","text-left","rounded-t","flex","items-center","gap-3",3,"click"],[1,"text-2xl","text-blue-400"],[1,"ml-auto","bg-blue-500/30","px-2","py-0.5","rounded","text-xs","font-semibold"],[1,"space-y-3","bg-blue-500/5","p-4","rounded-b"],[1,"mt-2"],[1,"text-2xl","text-yellow-400"],[1,"ml-auto","bg-yellow-500/40","px-2","py-0.5","rounded","text-xs","font-semibold"],[1,"space-y-3","bg-yellow-500/5","p-4","rounded-b"],[1,"text-2xl","text-red-400"],[1,"ml-auto","bg-red-500/40","px-2","py-0.5","rounded","text-xs","font-semibold"],[1,"space-y-3","bg-red-500/5","p-4","rounded-b"],[1,"text-2xl","text-green-400"],[1,"ml-auto","bg-green-500/40","px-2","py-0.5","rounded","text-xs","font-semibold"],[1,"space-y-3","bg-green-500/5","p-4","rounded-b"],[1,"bg-blue-500/10","rounded","p-3","border-l-2","border-blue-400"],[1,"text-blue-300","font-semibold","mb-1"],[1,"text-gray-300","text-sm","mb-2"],[1,"text-gray-500"],[1,"bg-yellow-500/10","rounded","p-3","border-l-2","border-yellow-400"],[1,"text-yellow-300","font-semibold","mb-1"],[1,"bg-red-500/10","rounded","p-3","border-l-2","border-red-400"],[1,"text-red-300","font-semibold","mb-1"],[1,"bg-green-500/10","rounded","p-3","border-l-2","border-green-400"],[1,"text-green-300","font-semibold","mb-1"]],template:function(t,r){t&1&&(E(0,"div",0),Y(1,p4,17,4,"div",1)(2,g4,0,0),E(3,"div",2),ne(4,"div",3)(5,"div",4),it(6,m4,1,12,"div",5,Vd),it(8,y4,1,12,"div",6,Vd),I(),E(10,"div",7)(11,"div",8)(12,"div",9),ne(13,"img",10),I(),E(14,"div",11),ne(15,"div",12),E(16,"span",13),N(17,"Desde 2024"),I(),ne(18,"div",14),I(),E(19,"div",15)(20,"div",16)(21,"a",17),Be(),E(22,"svg",18),ne(23,"path",19),I()(),wn(),E(24,"a",20),Be(),E(25,"svg",18),ne(26,"path",21),I()()(),wn(),E(27,"a",22),Be(),E(28,"svg",23),ne(29,"path",24),I(),wn(),E(30,"span"),N(31,"Seguir"),I()()(),E(32,"div",25),it(33,x5,33,57,"div",26,ju),I()(),E(35,"footer",27)(36,"p",28),N(37),I(),E(38,"p",29),N(39,"vers\xE3o 0.2"),I()()()()),t&2&&(T(),J(r.isLoading()?1:2),T(5),ot(r.embers()),T(2),ot(r.sparks()),T(13),Pe("href",r.whatsappLink(),cn),T(3),Pe("href",r.googleMapsLink(),cn),T(9),ot(r.items()),T(4),ke("Isaac Barbearia \xA9 ",r.currentYear))},dependencies:[ai,Ms,hi,xs,mo,VD],styles:['@keyframes _ngcontent-%COMP%_pulse-soft{0%,to{opacity:1;transform:scale(1)}50%{opacity:.85;transform:scale(1.02)}}.animate-pulse-soft[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse-soft 3s ease-in-out infinite}.loading-dots[_ngcontent-%COMP%]:after{content:"";animation:_ngcontent-%COMP%_loading-dots 1.5s infinite}@keyframes _ngcontent-%COMP%_loading-dots{0%{content:""}25%{content:"."}50%{content:".."}75%{content:"..."}to{content:""}}']})}};var M5={firebase:{apiKey:"AIzaSyDE2tWDNCDrY6O20EWrDt-NkvZmCm_MR10",authDomain:"isaacbarbearia-admin.firebaseapp.com",projectId:"isaacbarbearia-admin",storageBucket:"isaacbarbearia-admin.firebasestorage.app",messagingSenderId:"308982033120",appId:"1:308982033120:web:38b82c1a3ca9e933be7e85"}},ha=class n{constructor(){this.app=ou(M5.firebase);this.auth=Bo(this.app);this.firestore=Su(this.app)}login(e,t){return TI(this.auth,e,t)}logout(){return Vu(this.auth)}getCurrentUser(){return new Promise((e,t)=>{Uo(this.auth,r=>{r?e(r):t(null)})})}async addProfissional(e){return Oo(st(this.firestore,"profissionais"),e)}async getProfissionais(){return(await nn(st(this.firestore,"profissionais"))).docs.map(t=>k({id:t.id},t.data()))}async updateProfissional(e,t){return Zh(Pt(this.firestore,"profissionais",e),t)}async deleteProfissional(e){return ko(Pt(this.firestore,"profissionais",e))}async addParceiro(e){return Oo(st(this.firestore,"parceiros"),e)}async getParceiros(){return(await nn(st(this.firestore,"parceiros"))).docs.map(t=>k({id:t.id},t.data()))}async updateParceiro(e,t){return Zh(Pt(this.firestore,"parceiros",e),t)}async deleteParceiro(e){return ko(Pt(this.firestore,"parceiros",e))}async addParticipacao(e){return Oo(st(this.firestore,"participacoes"),e)}async getParticipacoes(){return(await nn(st(this.firestore,"participacoes"))).docs.map(t=>k({id:t.id},t.data()))}async updateParticipacao(e,t){return Zh(Pt(this.firestore,"participacoes",e),t)}async deleteParticipacao(e){return ko(Pt(this.firestore,"participacoes",e))}async addAvaliacao(e){return Oo(st(this.firestore,"avaliacoes"),e)}async getAvaliacoes(){return(await nn(st(this.firestore,"avaliacoes"))).docs.map(t=>k({id:t.id},t.data()))}async deleteAvaliacao(e){return ko(Pt(this.firestore,"avaliacoes",e))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}};function N5(n,e){if(n&1&&(E(0,"p",7),N(1),I()),n&2){let t=V();T(),Z(t.erro)}}var wp=class n{constructor(e,t){this.firebaseService=e;this.router=t;this.email="";this.password="";this.erro=""}async login(){if(this.email!=="admin@isaacbarbearia.com"){this.erro="Apenas o admin pode fazer login!";return}try{await this.firebaseService.login(this.email,this.password),window.location.href="/admin.html"}catch(t){this.erro="Email ou senha incorretos!",console.error("Erro de login:",t)}}static{this.\u0275fac=function(t){return new(t||n)(ge(ha),ge(di))}}static{this.\u0275cmp=Dn({type:n,selectors:[["app-login"]],decls:12,vars:3,consts:[[1,"login-container"],[1,"login-box"],[3,"ngSubmit"],["name","email","type","email","placeholder","Email","required","",3,"ngModelChange","ngModel"],["name","password","type","password","placeholder","Senha","required","",3,"ngModelChange","ngModel"],["type","submit"],["class","error",4,"ngIf"],[1,"error"]],template:function(t,r){t&1&&(E(0,"div",0)(1,"div",1)(2,"h1"),N(3,"Admin Login"),I(),E(4,"p"),N(5,"Isaac Barbearia"),I(),E(6,"form",2),we("ngSubmit",function(){return r.login()}),E(7,"input",3),Ct("ngModelChange",function(o){return xt(r.email,o)||(r.email=o),o}),I(),E(8,"input",4),Ct("ngModelChange",function(o){return xt(r.password,o)||(r.password=o),o}),I(),E(9,"button",5),N(10,"Entrar"),I()(),Qn(11,N5,2,1,"p",6),I()()),t&2&&(T(7),bt("ngModel",r.email),T(),bt("ngModel",r.password),T(3),Pe("ngIf",r.erro))},dependencies:[ai,Cc,Ms,jf,hi,xs,Lf,eu,mo,Xc],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:#000;font-family:Arial,sans-serif}.login-box[_ngcontent-%COMP%]{background:#1a1a1a;padding:40px;border-radius:8px;box-shadow:0 10px 25px #fc03;border:1px solid #333;width:100%;max-width:400px}h1[_ngcontent-%COMP%]{color:#fc0;text-align:center;margin:0 0 5px;font-size:28px;text-shadow:0 0 10px rgba(255,204,0,.5)}p[_ngcontent-%COMP%]{text-align:center;color:#999;margin:0 0 30px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}input[_ngcontent-%COMP%]{padding:12px;border:1px solid #333;border-radius:4px;font-size:14px;transition:border-color .3s;background:#0a0a0a;color:#fff}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#fc0;box-shadow:0 0 5px #ffcc004d}button[_ngcontent-%COMP%]{padding:12px;background:#fc0;color:#000;border:none;border-radius:4px;font-size:16px;cursor:pointer;transition:background .3s,transform .2s;font-weight:700}button[_ngcontent-%COMP%]:hover{background:gold;transform:scale(1.02)}.error[_ngcontent-%COMP%]{color:#ff6b6b;text-align:center;margin-top:10px;font-size:14px}"]})}};function P5(n,e){if(n&1){let t=wt();E(0,"tr")(1,"td"),N(2),I(),E(3,"td"),N(4),I(),E(5,"td"),N(6),I(),E(7,"td")(8,"button",12),we("click",function(){let i=Ee(t).$implicit,o=V(2);return Ie(o.deletarProfissional(i.id))}),N(9,"Deletar"),I()()()}if(n&2){let t=e.$implicit;T(2),Z(t.nome),T(2),Z(t.especialidade),T(2),Z(t.telefone)}}function k5(n,e){if(n&1){let t=wt();E(0,"div",5)(1,"h2"),N(2,"Gerenciar Profissionais"),I(),E(3,"form",6),we("ngSubmit",function(){Ee(t);let i=V();return Ie(i.adicionarProfissional())}),E(4,"input",7),Ct("ngModelChange",function(i){Ee(t);let o=V();return xt(o.novoProfissional.nome,i)||(o.novoProfissional.nome=i),Ie(i)}),I(),E(5,"input",8),Ct("ngModelChange",function(i){Ee(t);let o=V();return xt(o.novoProfissional.especialidade,i)||(o.novoProfissional.especialidade=i),Ie(i)}),I(),E(6,"input",9),Ct("ngModelChange",function(i){Ee(t);let o=V();return xt(o.novoProfissional.telefone,i)||(o.novoProfissional.telefone=i),Ie(i)}),I(),E(7,"button",10),N(8,"Adicionar Profissional"),I()(),E(9,"table")(10,"thead")(11,"tr")(12,"th"),N(13,"Nome"),I(),E(14,"th"),N(15,"Especialidade"),I(),E(16,"th"),N(17,"Telefone"),I(),E(18,"th"),N(19,"A\xE7\xF5es"),I()()(),E(20,"tbody"),Qn(21,P5,10,3,"tr",11),I()()()}if(n&2){let t=V();T(4),bt("ngModel",t.novoProfissional.nome),T(),bt("ngModel",t.novoProfissional.especialidade),T(),bt("ngModel",t.novoProfissional.telefone),T(15),Pe("ngForOf",t.profissionais)}}function O5(n,e){if(n&1){let t=wt();E(0,"tr")(1,"td"),N(2),I(),E(3,"td"),N(4),I(),E(5,"td"),N(6),I(),E(7,"td")(8,"button",12),we("click",function(){let i=Ee(t).$implicit,o=V(2);return Ie(o.deletarParceiro(i.id))}),N(9,"Deletar"),I()()()}if(n&2){let t=e.$implicit;T(2),Z(t.nome),T(2),Z(t.descricao),T(2),ke("",t.desconto,"%")}}function F5(n,e){if(n&1){let t=wt();E(0,"div",5)(1,"h2"),N(2,"Gerenciar Parceiros e Conv\xEAnios"),I(),E(3,"form",6),we("ngSubmit",function(){Ee(t);let i=V();return Ie(i.adicionarParceiro())}),E(4,"input",13),Ct("ngModelChange",function(i){Ee(t);let o=V();return xt(o.novoParceiro.nome,i)||(o.novoParceiro.nome=i),Ie(i)}),I(),E(5,"input",14),Ct("ngModelChange",function(i){Ee(t);let o=V();return xt(o.novoParceiro.descricao,i)||(o.novoParceiro.descricao=i),Ie(i)}),I(),E(6,"input",15),Ct("ngModelChange",function(i){Ee(t);let o=V();return xt(o.novoParceiro.desconto,i)||(o.novoParceiro.desconto=i),Ie(i)}),I(),E(7,"button",10),N(8,"Adicionar Parceiro"),I()(),E(9,"table")(10,"thead")(11,"tr")(12,"th"),N(13,"Nome"),I(),E(14,"th"),N(15,"Descri\xE7\xE3o"),I(),E(16,"th"),N(17,"Desconto"),I(),E(18,"th"),N(19,"A\xE7\xF5es"),I()()(),E(20,"tbody"),Qn(21,O5,10,3,"tr",11),I()()()}if(n&2){let t=V();T(4),bt("ngModel",t.novoParceiro.nome),T(),bt("ngModel",t.novoParceiro.descricao),T(),bt("ngModel",t.novoParceiro.desconto),T(15),Pe("ngForOf",t.parceiros)}}function L5(n,e){if(n&1){let t=wt();E(0,"div",20)(1,"h3"),N(2),I(),E(3,"p"),N(4),I(),E(5,"p")(6,"strong"),N(7,"Data:"),I(),N(8),I(),E(9,"button",12),we("click",function(){let i=Ee(t).$implicit,o=V(2);return Ie(o.deletarParticipacao(i.id))}),N(10,"Deletar"),I()()}if(n&2){let t=e.$implicit;T(2),Z(t.titulo),T(2),Z(t.descricao),T(4),ke(" ",t.data)}}function V5(n,e){if(n&1){let t=wt();E(0,"div",5)(1,"h2"),N(2,"Participa\xE7\xE3o Comunit\xE1ria"),I(),E(3,"form",6),we("ngSubmit",function(){Ee(t);let i=V();return Ie(i.adicionarParticipacao())}),E(4,"input",16),Ct("ngModelChange",function(i){Ee(t);let o=V();return xt(o.novaParticipacao.titulo,i)||(o.novaParticipacao.titulo=i),Ie(i)}),I(),E(5,"textarea",14),Ct("ngModelChange",function(i){Ee(t);let o=V();return xt(o.novaParticipacao.descricao,i)||(o.novaParticipacao.descricao=i),Ie(i)}),I(),E(6,"input",17),Ct("ngModelChange",function(i){Ee(t);let o=V();return xt(o.novaParticipacao.data,i)||(o.novaParticipacao.data=i),Ie(i)}),I(),E(7,"button",10),N(8,"Adicionar Evento"),I()(),E(9,"div",18),Qn(10,L5,11,3,"div",19),I()()}if(n&2){let t=V();T(4),bt("ngModel",t.novaParticipacao.titulo),T(),bt("ngModel",t.novaParticipacao.descricao),T(),bt("ngModel",t.novaParticipacao.data),T(4),Pe("ngForOf",t.participacoes)}}function j5(n,e){if(n&1){let t=wt();E(0,"div",22)(1,"h3"),N(2),I(),E(3,"p")(4,"strong"),N(5,"Estrelas:"),I(),N(6),I(),E(7,"p"),N(8),I(),E(9,"p")(10,"small"),N(11),I()(),E(12,"button",12),we("click",function(){let i=Ee(t).$implicit,o=V(2);return Ie(o.deletarAvaliacao(i.id))}),N(13,"Deletar"),I()()}if(n&2){let t=e.$implicit;T(2),Z(t.cliente),T(4),ke(" ",t.estrelas,"/5"),T(2),Z(t.comentario),T(3),Z(t.data)}}function U5(n,e){if(n&1&&(E(0,"div",5)(1,"h2"),N(2,"Avalia\xE7\xF5es dos Clientes"),I(),E(3,"div",18),Qn(4,j5,14,4,"div",21),I()()),n&2){let t=V();T(4),Pe("ngForOf",t.avaliacoes)}}var bp=class n{constructor(e,t){this.firebaseService=e;this.router=t;this.tabAtual="profissionais";this.usuarioLogado=null;this.profissionais=[];this.parceiros=[];this.participacoes=[];this.avaliacoes=[];this.novoProfissional={nome:"",especialidade:"",telefone:""};this.novoParceiro={nome:"",descricao:"",desconto:""};this.novaParticipacao={titulo:"",descricao:"",data:""}}ngOnInit(){let e=Bo();Uo(e,t=>{t?(this.usuarioLogado=t,this.carregarDados()):this.router.navigate(["/admin/login"])})}async carregarDados(){try{this.profissionais=await this.firebaseService.getProfissionais(),this.parceiros=await this.firebaseService.getParceiros(),this.participacoes=await this.firebaseService.getParticipacoes(),this.avaliacoes=await this.firebaseService.getAvaliacoes()}catch(e){console.error("Erro ao carregar dados:",e)}}async adicionarProfissional(){try{await this.firebaseService.addProfissional(this.novoProfissional),this.novoProfissional={nome:"",especialidade:"",telefone:""},this.carregarDados()}catch(e){console.error("Erro ao adicionar profissional:",e)}}async deletarProfissional(e){try{await this.firebaseService.deleteProfissional(e),this.carregarDados()}catch(t){console.error("Erro ao deletar profissional:",t)}}async adicionarParceiro(){try{await this.firebaseService.addParceiro(this.novoParceiro),this.novoParceiro={nome:"",descricao:"",desconto:""},this.carregarDados()}catch(e){console.error("Erro ao adicionar parceiro:",e)}}async deletarParceiro(e){try{await this.firebaseService.deleteParceiro(e),this.carregarDados()}catch(t){console.error("Erro ao deletar parceiro:",t)}}async adicionarParticipacao(){try{await this.firebaseService.addParticipacao(this.novaParticipacao),this.novaParticipacao={titulo:"",descricao:"",data:""},this.carregarDados()}catch(e){console.error("Erro ao adicionar participa\xE7\xE3o:",e)}}async deletarParticipacao(e){try{await this.firebaseService.deleteParticipacao(e),this.carregarDados()}catch(t){console.error("Erro ao deletar participa\xE7\xE3o:",t)}}async deletarAvaliacao(e){try{await this.firebaseService.deleteAvaliacao(e),this.carregarDados()}catch(t){console.error("Erro ao deletar feedback:",t)}}async logout(){try{await this.firebaseService.logout(),window.location.href="/"}catch(e){console.error("Erro ao fazer logout:",e)}}static{this.\u0275fac=function(t){return new(t||n)(ge(ha),ge(di))}}static{this.\u0275cmp=Dn({type:n,selectors:[["app-admin"]],decls:18,vars:12,consts:[[1,"admin-container"],[1,"tabs"],[3,"click"],[1,"btn-logout",3,"click"],["class","tab-content",4,"ngIf"],[1,"tab-content"],[3,"ngSubmit"],["name","nome","placeholder","Nome","required","",3,"ngModelChange","ngModel"],["name","especialidade","placeholder","Especialidade","required","",3,"ngModelChange","ngModel"],["name","telefone","placeholder","Telefone",3,"ngModelChange","ngModel"],["type","submit"],[4,"ngFor","ngForOf"],[1,"btn-delete",3,"click"],["name","nome","placeholder","Nome do Parceiro","required","",3,"ngModelChange","ngModel"],["name","descricao","placeholder","Descri\xE7\xE3o",3,"ngModelChange","ngModel"],["name","desconto","placeholder","Desconto (%)",3,"ngModelChange","ngModel"],["name","titulo","placeholder","T\xEDtulo do Evento","required","",3,"ngModelChange","ngModel"],["name","data","type","date","required","",3,"ngModelChange","ngModel"],[1,"cards"],["class","card",4,"ngFor","ngForOf"],[1,"card"],["class","card-avaliacao",4,"ngFor","ngForOf"],[1,"card-avaliacao"]],template:function(t,r){t&1&&(E(0,"div",0)(1,"h1"),N(2,"Painel Admin - Isaac Barbearia"),I(),E(3,"div",1)(4,"button",2),we("click",function(){return r.tabAtual="profissionais"}),N(5," Profissionais "),I(),E(6,"button",2),we("click",function(){return r.tabAtual="parceiros"}),N(7," Parceiros "),I(),E(8,"button",2),we("click",function(){return r.tabAtual="participacoes"}),N(9," Participa\xE7\xE3o "),I(),E(10,"button",2),we("click",function(){return r.tabAtual="avaliacoes"}),N(11," Avalia\xE7\xF5es "),I(),E(12,"button",3),we("click",function(){return r.logout()}),N(13,"Sair"),I()(),Qn(14,k5,22,4,"div",4)(15,F5,22,4,"div",4)(16,V5,11,4,"div",4)(17,U5,5,1,"div",4),I()),t&2&&(T(4),je("active",r.tabAtual==="profissionais"),T(2),je("active",r.tabAtual==="parceiros"),T(2),je("active",r.tabAtual==="participacoes"),T(2),je("active",r.tabAtual==="avaliacoes"),T(4),Pe("ngIf",r.tabAtual==="profissionais"),T(),Pe("ngIf",r.tabAtual==="parceiros"),T(),Pe("ngIf",r.tabAtual==="participacoes"),T(),Pe("ngIf",r.tabAtual==="avaliacoes"))},dependencies:[ai,Kd,Cc,Ms,jf,hi,xs,Lf,eu,mo,Xc],styles:[".admin-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;font-family:Arial,sans-serif}h1[_ngcontent-%COMP%]{color:#333;text-align:center;margin-bottom:30px}.tabs[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:30px;border-bottom:2px solid #ddd}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 20px;background:#f0f0f0;border:none;cursor:pointer;font-size:16px;border-radius:4px 4px 0 0;transition:all .3s}.tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#333;color:#fff}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#555;color:#fff}.btn-logout[_ngcontent-%COMP%]{margin-left:auto;background:#e74c3c!important}.btn-logout[_ngcontent-%COMP%]:hover{background:#c0392b!important}.tab-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}h2[_ngcontent-%COMP%]{color:#333;margin-bottom:20px}form[_ngcontent-%COMP%]{background:#f9f9f9;padding:20px;border-radius:8px;margin-bottom:30px;display:flex;flex-direction:column;gap:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:10px;border:1px solid #ddd;border-radius:4px;font-size:14px;font-family:Arial,sans-serif}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}button[type=submit][_ngcontent-%COMP%]{padding:12px 20px;background:#27ae60;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:16px;transition:background .3s}button[type=submit][_ngcontent-%COMP%]:hover{background:#229954}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:20px;background:#fff;box-shadow:0 2px 4px #0000001a}thead[_ngcontent-%COMP%]{background:#333;color:#fff}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #ddd}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f5f5f5}.btn-delete[_ngcontent-%COMP%]{padding:6px 12px;background:#e74c3c;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background .3s}.btn-delete[_ngcontent-%COMP%]:hover{background:#c0392b}.cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px;margin-top:20px}.card[_ngcontent-%COMP%], .card-avaliacao[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 8px #0000001a;transition:transform .3s,box-shadow .3s}.card[_ngcontent-%COMP%]:hover, .card-avaliacao[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 4px 12px #00000026}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .card-avaliacao[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;color:#333}.card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .card-avaliacao[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;color:#666}.card-avaliacao[_ngcontent-%COMP%]{border-left:4px solid #f39c12}.card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-top:10px}"]})}};var B5=[{path:"",component:Ip},{path:"admin/login",component:wp},{path:"admin",component:bp},{path:"**",redirectTo:""}];Wy(Af,{providers:[Ay(),vv(B5)]}).catch(n=>console.error(n));
